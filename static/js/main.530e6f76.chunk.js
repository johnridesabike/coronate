(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={tournament:"tournament_tournament__3rjgf",header:"tournament_header__3XvP5",contentFrame:"tournament_contentFrame__3ct63",table:"tournament_table__1H60d",topHeader:"tournament_topHeader__t_tB_",row:"tournament_row__2LSFL",compact:"tournament_compact__2uTHd",playerName:"tournament_playerName__2dXZ_",rank:"tournament_rank__2_u9C"}},131:function(e){e.exports={byeValue:1,avoidPairs:[]}},132:function(e){e.exports={byeValue:1,avoidPairs:[["BarbaraGordon_cL6SpI2","JamesGordon_1ts9xICT3"],["Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH"],["HelenaWayne_fE6O0DJcE","BruceWayne_lv_ZsUHTU9"]]}},133:function(e){e.exports={BruceWayne_lv_ZsUHTU9:{id:"BruceWayne_lv_ZsUHTU9",type:"person",firstName:"Bruce",lastName:"Wayne",rating:1998,matchCount:9},DickGrayson_1C2rCokHH:{id:"DickGrayson_1C2rCokHH",type:"person",firstName:"Dick",lastName:"Grayson",rating:1909,matchCount:9},AlfredPennyworth_y4dW:{id:"AlfredPennyworth_y4dW",type:"person",firstName:"Alfred",lastName:"Pennyworth",rating:1999,matchCount:9},BarbaraGordon_cL6SpI2:{id:"BarbaraGordon_cL6SpI2",type:"person",firstName:"Barbara",lastName:"Gordon",rating:1345,matchCount:7},KateKane_klFW6gDfUOTX:{id:"KateKane_klFW6gDfUOTX",type:"person",firstName:"Kate",lastName:"Kane",rating:1539,matchCount:9},"SelinaKyle_rJBH-45Xoy":{id:"SelinaKyle_rJBH-45Xoy",type:"person",firstName:"Selina",lastName:"Kyle",rating:1495,matchCount:9},"JasonTodd_fc9CeOa-Luw":{id:"JasonTodd_fc9CeOa-Luw",type:"person",firstName:"Jason",lastName:"Todd",rating:1101,matchCount:7},JamesGordon_1ts9xICT3:{id:"JamesGordon_1ts9xICT3",type:"person",firstName:"James",lastName:"Gordon",rating:1167,matchCount:7},HelenaWayne_fE6O0DJcE:{id:"HelenaWayne_fE6O0DJcE",type:"person",firstName:"Helena",lastName:"Wayne",rating:1087,matchCount:7},Joker_v0z2416fpAZ9o2c:{id:"Joker_v0z2416fpAZ9o2c",type:"person",firstName:"Joker",lastName:"",rating:1538,matchCount:1},"HarleyQuinn_-10-02VPH":{id:"HarleyQuinn_-10-02VPH",type:"person",firstName:"Harley",lastName:"Quinn",rating:1648,matchCount:1},VictorFries_cWaQoW014:{id:"VictorFries_cWaQoW014",type:"person",firstName:"Victor",lastName:"Fries",rating:862,matchCount:1},OswaldCobblepot_lfCro:{id:"OswaldCobblepot_lfCro",type:"person",firstName:"Oswald",lastName:"Cobblepot",rating:1812,matchCount:1},RasAlGhul_k9n8k852bHr:{id:"RasAlGhul_k9n8k852bHr",type:"person",firstName:"Ra's",lastName:"al Ghul",rating:1404,matchCount:1},PamelaIsley_vH5vD8uPB:{id:"PamelaIsley_vH5vD8uPB",type:"person",firstName:"Pamela",lastName:"Isley",rating:965,matchCount:1},EdwardNigma_j80JfWOZq:{id:"EdwardNigma_j80JfWOZq",type:"person",firstName:"Edward",lastName:"Nigma",rating:948,matchCount:1},JonathanCrane_R4Q8tVW:{id:"JonathanCrane_R4Q8tVW",type:"person",firstName:"Jonathan",lastName:"Crane",rating:899,matchCount:1},HarveyDent_0eYIiP_Ij5:{id:"HarveyDent_0eYIiP_Ij5",type:"person",firstName:"Harvey",lastName:"Dent",rating:1649,matchCount:1},HugoStrange_az43f9mtS:{id:"HugoStrange_az43f9mtS",type:"person",firstName:"Hugo",lastName:"Strange",rating:800,matchCount:0}}},134:function(e){e.exports={CaouTNel9k70jUJ0h6SYM:{date:"2019-05-22T12:14:47.670Z",id:"CaouTNel9k70jUJ0h6SYM",name:"Wayne Manor Open",tieBreaks:[0,1,2,3],byeQueue:[],playerIds:["BruceWayne_lv_ZsUHTU9","DickGrayson_1C2rCokHH","AlfredPennyworth_y4dW","BarbaraGordon_cL6SpI2","KateKane_klFW6gDfUOTX","SelinaKyle_rJBH-45Xoy","JasonTodd_fc9CeOa-Luw","JamesGordon_1ts9xICT3","HelenaWayne_fE6O0DJcE"],roundList:[[{id:"FUASEeyES6ez_ROoT6qmU",playerIds:["JasonTodd_fc9CeOa-Luw","DickGrayson_1C2rCokHH"],result:[0,1],origRating:[1238,2108],newRating:[1236,2109]},{id:"gqPyD66QMPF-pup41xsB2",playerIds:["JamesGordon_1ts9xICT3","AlfredPennyworth_y4dW"],result:[0,1],origRating:[1049,2260],newRating:[1049,2260]},{id:"KpS1lQSzsQWQ3VVWJyA2P",playerIds:["KateKane_klFW6gDfUOTX","BarbaraGordon_cL6SpI2"],result:[.5,.5],origRating:[1527,1755],newRating:[1553,1722]},{id:"OgFuy-wq8mz378EWat46u",playerIds:["SelinaKyle_rJBH-45Xoy","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[1284,1881],newRating:[1278,1887]},{id:"f8Ps3GUmd0ZRsBBY8rZOp",playerIds:["HelenaWayne_fE6O0DJcE","________DUMMY________"],result:[1,0],origRating:[831,0],newRating:[831,0]}],[{id:"6seKrw7ehbhL766g6L2PF",playerIds:["DickGrayson_1C2rCokHH","KateKane_klFW6gDfUOTX"],result:[1,0],origRating:[2109,1685],newRating:[2122,1672]},{id:"TCSjz48ZXqjamtYUFNg0B",playerIds:["BruceWayne_lv_ZsUHTU9","HelenaWayne_fE6O0DJcE"],result:[1,0],origRating:[1887,831],newRating:[1887,830]},{id:"zF64DEsN8sHydpDDsg37E",playerIds:["AlfredPennyworth_y4dW","SelinaKyle_rJBH-45Xoy"],result:[0,1],origRating:[2260,1278],newRating:[2101,1437]},{id:"qVGt1EJq9y0MmvFtumM0A",playerIds:["BarbaraGordon_cL6SpI2","JasonTodd_fc9CeOa-Luw"],result:[1,0],origRating:[1545,1236],newRating:[1574,1207]},{id:"UhfHaRWr_-BtVo22xAuJu",playerIds:["JamesGordon_1ts9xICT3","________DUMMY________"],result:[1,0],origRating:[1049,0],newRating:[1049,0]}],[{id:"odrOOnZJUe0YAwkfUDqUb",playerIds:["AlfredPennyworth_y4dW","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[2101,1887],newRating:[1998,1990]},{id:"qzCMqUwNIDAcFSAuA5yCm",playerIds:["HelenaWayne_fE6O0DJcE","DickGrayson_1C2rCokHH"],result:[1,0],origRating:[830,2122],newRating:[990,2008]},{id:"6QgVqdtcJPjfVp3UZ8S9g",playerIds:["SelinaKyle_rJBH-45Xoy","BarbaraGordon_cL6SpI2"],result:[1,0],origRating:[1437,1574],newRating:[1529,1464]},{id:"as45gODKMLC5-3_UsTyx5",playerIds:["KateKane_klFW6gDfUOTX","JamesGordon_1ts9xICT3"],result:[0,1],origRating:[1672,1049],newRating:[1542,1244]},{id:"Pc0CWecSfeGNfvBPjyEIj",playerIds:["JasonTodd_fc9CeOa-Luw","________DUMMY________"],result:[1,0],origRating:[1207,0],newRating:[1207,0]}],[{id:"xj0y_Iqkb-g3MDGgmYx2-",playerIds:["BruceWayne_lv_ZsUHTU9","KateKane_klFW6gDfUOTX"],result:[1,0],origRating:[1990,1542],newRating:[1998,1534]},{id:"HWYWtsyaqUkHRExM6kQrt",playerIds:["DickGrayson_1C2rCokHH","JamesGordon_1ts9xICT3"],result:[1,0],origRating:[2008,1244],newRating:[2009,1243]},{id:"uAzHZVMC71liQZ-6fWWeD",playerIds:["HelenaWayne_fE6O0DJcE","SelinaKyle_rJBH-45Xoy"],result:[0,1],origRating:[990,1529],newRating:[983,1534]},{id:"_tCBn9YNIyto-vXpxm7WI",playerIds:["JasonTodd_fc9CeOa-Luw","AlfredPennyworth_y4dW"],result:[0,1],origRating:[1207,1998],newRating:[1205,1999]},{id:"L7yatE2oVKlV7LOY6-d7Y",playerIds:["BarbaraGordon_cL6SpI2","________DUMMY________"],result:[1,0],origRating:[1464,0],newRating:[1464,0]}]]},tvAdS4YbSOznrBgrg0ITA:{date:"2019-05-29T12:15:20.593Z",id:"tvAdS4YbSOznrBgrg0ITA",name:"The Battle for Gotham City",tieBreaks:[0,1,2,3],byeQueue:[],playerIds:["BruceWayne_lv_ZsUHTU9","DickGrayson_1C2rCokHH","AlfredPennyworth_y4dW","BarbaraGordon_cL6SpI2","KateKane_klFW6gDfUOTX","SelinaKyle_rJBH-45Xoy","JasonTodd_fc9CeOa-Luw","JamesGordon_1ts9xICT3","HelenaWayne_fE6O0DJcE","Joker_v0z2416fpAZ9o2c","HarleyQuinn_-10-02VPH","VictorFries_cWaQoW014","OswaldCobblepot_lfCro","RasAlGhul_k9n8k852bHr","PamelaIsley_vH5vD8uPB","EdwardNigma_j80JfWOZq","JonathanCrane_R4Q8tVW","HarveyDent_0eYIiP_Ij5"],roundList:[[{id:"5f8GYcR8V44NYvTN1cZle",playerIds:["EdwardNigma_j80JfWOZq","BruceWayne_lv_ZsUHTU9"],result:[0,1],origRating:[950,1998],newRating:[948,1998]},{id:"GPTct4sL368SryTLFUu8E",playerIds:["JonathanCrane_R4Q8tVW","AlfredPennyworth_y4dW"],result:[0,1],origRating:[900,1999],newRating:[899,1999]},{id:"AxtoztZ6O19nyrLfZ4YaU",playerIds:["HarveyDent_0eYIiP_Ij5","DickGrayson_1C2rCokHH"],result:[1,0],origRating:[850,2009],newRating:[1649,1909]},{id:"bUM_tWQsAtPe1gqRzlXd1",playerIds:["RasAlGhul_k9n8k852bHr","SelinaKyle_rJBH-45Xoy"],result:[.5,.5],origRating:[1050,1534],newRating:[1404,1495]},{id:"bAOVlP-M5xaPk1qofNReb",playerIds:["OswaldCobblepot_lfCro","BarbaraGordon_cL6SpI2"],result:[1,0],origRating:[1100,1464],newRating:[1812,1345]},{id:"4omlgiGSaE1BmrHdABSym",playerIds:["PamelaIsley_vH5vD8uPB","KateKane_klFW6gDfUOTX"],result:[0,1],origRating:[1e3,1534],newRating:[965,1539]},{id:"ysdEVYS2AyuKyOAwLLpTF",playerIds:["HarleyQuinn_-10-02VPH","JamesGordon_1ts9xICT3"],result:[1,0],origRating:[1200,1242],newRating:[1648,1167]},{id:"YoJ9WGokAYrmJjfxCCf87",playerIds:["VictorFries_cWaQoW014","Joker_v0z2416fpAZ9o2c"],result:[0,1],origRating:[1150,1250],newRating:[862,1538]},{id:"Az7SBl3cs7rbwKPBI0IsU",playerIds:["HelenaWayne_fE6O0DJcE","JasonTodd_fc9CeOa-Luw"],result:[1,0],origRating:[983,1205],newRating:[1087,1101]}],[]]}}},138:function(e,t,a){e.exports={options:"options_options__2hUUH"}},139:function(e){e.exports={byeValue:1,avoidPairs:[["TVs_Frank____________","TVs_Son_of_TVs_Frank_"],["Pearl_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Dr_Clayton_Forrester_"],["Kinga_Forrester______","Pearl_Forrester______"]]}},140:function(e){e.exports={Cambot_______________:{id:"Cambot_______________",matchCount:25,rating:1500,type:"person",firstName:"Cambot",lastName:""},Crow_T_Robot_________:{id:"Crow_T_Robot_________",matchCount:5,rating:1700,type:"person",firstName:"Crow T",lastName:"Robot"},Dr_Clayton_Forrester_:{id:"Dr_Clayton_Forrester_",matchCount:40,rating:2100,type:"person",firstName:"Clayton",lastName:"Forrester"},Grandy_McMaster______:{id:"Grandy_McMaster______",matchCount:100,rating:2600,type:"person",firstName:"Grandy",lastName:"McMaster"},Gypsy________________:{id:"Gypsy________________",matchCount:15,rating:1600,type:"person",firstName:"Gypsy",lastName:""},Joel_Robinson________:{id:"Joel_Robinson________",matchCount:70,rating:2400,type:"person",firstName:"Joel",lastName:"Robinson"},Jonah_Heston_________:{id:"Jonah_Heston_________",matchCount:50,rating:2200,type:"person",firstName:"Jonah",lastName:"Heston"},Kinga_Forrester______:{id:"Kinga_Forrester______",matchCount:20,rating:1900,type:"person",firstName:"Kinga",lastName:"Forrester"},Larry_Erhardt________:{id:"Larry_Erhardt________",matchCount:45,rating:1300,type:"person",firstName:"Larry",lastName:"Erhardt"},Mike_Nelson__________:{id:"Mike_Nelson__________",matchCount:60,rating:2300,type:"person",firstName:"Mike",lastName:"Nelson"},Newbie_McNewberson___:{id:"Newbie_McNewberson___",matchCount:0,rating:800,type:"person",firstName:"Newbie",lastName:"McNewberson"},Observer_Brain_Guy___:{id:"Observer_Brain_Guy___",matchCount:55,rating:1200,type:"person",firstName:"Brain",lastName:"Guy"},Pearl_Forrester______:{id:"Pearl_Forrester______",matchCount:30,rating:2e3,type:"person",firstName:"Pearl",lastName:"Forrester"},Professor_Bobo_______:{id:"Professor_Bobo_______",matchCount:75,rating:1e3,type:"person",firstName:"Bobo",lastName:"Professor"},TVs_Frank____________:{id:"TVs_Frank____________",matchCount:35,rating:1400,type:"person",firstName:"Frank",lastName:"TV's"},TVs_Son_of_TVs_Frank_:{id:"TVs_Son_of_TVs_Frank_",matchCount:65,rating:1100,type:"person",firstName:"Max",lastName:"TV's"},Tom_Servo____________:{id:"Tom_Servo____________",matchCount:10,rating:1800,type:"person",firstName:"Tom",lastName:"Servo"}}},141:function(e){e.exports={Bye_Round_Tourney____:{byeQueue:[],date:"2019-06-12T23:49:47.103Z",id:"Bye_Round_Tourney____",playerIds:["Joel_Robinson________","Crow_T_Robot_________","Tom_Servo____________","Gypsy________________","Cambot_______________","Newbie_McNewberson___","Grandy_McMaster______"],roundList:[[]],tieBreaks:[0,1,2,3],name:"Bye Round Tourney"},Simple_Pairing_______:{byeQueue:[],date:"2019-06-14T11:40:34.407Z",id:"Simple_Pairing_______",playerIds:["Newbie_McNewberson___","Grandy_McMaster______","Joel_Robinson________","Dr_Clayton_Forrester_","TVs_Frank____________","Crow_T_Robot_________","Tom_Servo____________","Gypsy________________"],roundList:[[{id:"KdLva8hWqYHdaU9KnFTe2",result:[0,1],newRating:[1699,2600],origRating:[1700,2600],playerIds:["Crow_T_Robot_________","Grandy_McMaster______"]},{id:"WDPFsNF1yADs4qofFwCY0",result:[1,0],newRating:[1650,2389],origRating:[1600,2400],playerIds:["Gypsy________________","Joel_Robinson________"]},{id:"R5sXfTOJw5vrJ4IytAjSi",result:[0,1],newRating:[1400,2100],origRating:[1400,2100],playerIds:["TVs_Frank____________","Dr_Clayton_Forrester_"]},{id:"2YOsn_JJFnaUMhRBAc9KY",result:[1,0],newRating:[1597,1728],origRating:[800,1800],playerIds:["Newbie_McNewberson___","Tom_Servo____________"]}],[]],tieBreaks:[0,1,2,3],name:"Simple Pairing"},Pairing_With_Draws___:{byeQueue:[],date:"2019-06-14T14:18:06.686Z",id:"Pairing_With_Draws___",playerIds:["Newbie_McNewberson___","Grandy_McMaster______","Joel_Robinson________","Dr_Clayton_Forrester_","TVs_Frank____________","Crow_T_Robot_________","Tom_Servo____________","Gypsy________________"],roundList:[[{id:"ryWXwvFGwBKQqGBbMYeps",result:[0,1],newRating:[1699,2600],origRating:[1700,2600],playerIds:["Crow_T_Robot_________","Grandy_McMaster______"]},{id:"2KKVbi0AfNxfJAJobTgP5",result:[1,0],newRating:[1650,2389],origRating:[1600,2400],playerIds:["Gypsy________________","Joel_Robinson________"]},{id:"zdlBHBAqgV2qabn2oBa2a",result:[0,1],newRating:[1400,2100],origRating:[1400,2100],playerIds:["TVs_Frank____________","Dr_Clayton_Forrester_"]},{id:"8fGxU3tLpd8GibuSQr9-Y",result:[.5,.5],newRating:[1197,1764],origRating:[800,1800],playerIds:["Newbie_McNewberson___","Tom_Servo____________"]}],[]],tieBreaks:[0,1,2,3],name:"Pairing with draws"}}},150:function(e,t,a){e.exports=a(201)},152:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);a(151),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),l=a(2),c=a(19),o=a.n(c);o.a.register("format","fraction",{format:function(e,t,a){var n=Math.floor(e),r=e-n,l=function(){switch(r){case.25:return"\xbc";case.5:return"\xbd";case.75:return"\xbe";default:return""}}();return(0===n&&r?"":String(n))+l},regexps:{format:/(1\/2)/,unformat:/(1\/2)/},unformat:function(e){return Number(e)}});var i=a(5),s=a.n(i),u=!!window.require&&window.require("electron");function m(e){return u?e():null}function _(e){m(function(){if(e.target.className.includes&&e.target.className.includes("double-click-control")){var t=(0,u.remote.systemPreferences.getUserDefault)("AppleActionOnDoubleClick","string"),a=u.remote.getCurrentWindow();"Minimize"===t?a.minimize():"Maximize"===t&&function(e){e.isMaximized()?e.unmaximize():e.maximize()}(a)}})}function d(e){var t=e.children;return u&&navigator.appVersion.includes("Windows")?t:null}d.propTypes={children:s.a.node.isRequired};var b=a(6),p=0,E=1,f="________DUMMY________",y=a(41),h=a.n(y),g=a(1),N=a.n(g),O=N.a.refinement(N.a.String,function(e){return/^[A-Za-z0-9_-]{21}$/.test(e)},"NanoId"),v=N.a.refinement(N.a.Number,function(e){return e===E||e===p},"Color"),j=N.a.tuple([O,O],"AvoidPair"),w=N.a.interface({firstName:N.a.String,id:O,lastName:N.a.String,matchCount:N.a.Number,rating:N.a.Number,type:N.a.String},"Player"),C=N.a.interface({id:O,newRating:N.a.tuple([N.a.Number,N.a.Number]),origRating:N.a.tuple([N.a.Number,N.a.Number]),playerIds:N.a.tuple([O,O]),result:N.a.tuple([N.a.Number,N.a.Number])},"Match"),I=N.a.list(N.a.list(C),"RoundList"),T=N.a.interface({byeQueue:N.a.list(N.a.String),date:Date,id:O,name:N.a.String,playerIds:N.a.list(N.a.String),roundList:I,tieBreaks:N.a.list(N.a.Number)},"Tournament"),S=N.a.interface({avoidPairs:N.a.list(j),byeValue:N.a.refinement(N.a.Number,function(e){return 1===e||.5===e})},"Options"),R=N.a.dict(O,T,"TournamentsDB"),k=N.a.dict(O,w,"PlayersDB"),D=Object.freeze({AvoidPair:j,Color:v,Id:O,Match:C,OptionsDb:S,Player:w,PlayersDb:k,RoundList:I,Tournament:T,TourneysDb:R});function A(e){return D.Match(Object.assign({id:h()(),result:[0,0]},e))}function P(e){return D.Player(Object.assign({id:h()(),matchCount:0,rating:0,type:"person"},e))}var L=a(59),x=function(e){return D.Id(e)===f},B=function(e){return D.Id(e.id)===f},M=P({firstName:"Bye",id:f,lastName:"Player",type:"dummy"}),H=function(e){return P({firstName:"Anonymous",id:e,lastName:"Player",type:"missing"})};function U(e,t){if(t===f)return M;var a=N.a.dict(D.Id,D.Player)(e)[t];return a||H(t)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null===t?e:e.slice(0,t+1)).reduce(function(e,t){return e.concat(t)},[])}function F(e,t,a){var n=(D.RoundList(e)[N.a.Number(a)]||[]).reduce(function(e,t){return e.concat(t.playerIds)},[]);return N.a.list(D.Player)(Object.values(t)).reduce(function(e,t){return n.includes(t.id)?e:Object(L.a)(t.id,t,e)},{})}var V=a(231),J=a(99),G=a(211),Y=a(210),K=a(212),q=a(227),z=a(97),Q=a(203),Z=a(208),X=a(63),$=a(64),ee=a(209),te=a(228),ae=a(204),ne=a(205),re=a(206),le=a(98),ce=a(207),oe=N.a.refinement(N.a.Number,function(e){return 1===e||-1===e},"ColorScore"),ie=N.a.interface({colorScores:N.a.list(oe),colors:N.a.list(D.Color),id:D.Id,isDummy:N.a.Boolean,opponentResults:N.a.dict(D.Id,N.a.Number),ratings:N.a.list(N.a.Number),results:N.a.list(N.a.Number),resultsNoByes:N.a.list(N.a.Number)},"ScoreData"),se=N.a.interface({avoidIds:N.a.list(D.Id),colorScores:N.a.list(oe),colors:N.a.list(D.Color),halfPos:N.a.Number,id:D.Id,isUpperHalf:N.a.Boolean,opponents:N.a.list(D.Id),rating:N.a.Number,score:N.a.Number},"PairingData"),ue=N.a.func([N.a.dict(N.a.String,ie),D.Id],N.a.Number,"ScoreCalulator"),me=N.a.interface({id:D.Id,score:N.a.Number,tieBreaks:N.a.list(N.a.Number)},"Standing"),_e=Object.freeze({BLACKVALUE:1,PairingData:se,ScoreCalculator:ue,ScoreData:ie,Standing:me,WHITEVALUE:-1});function de(e,t){return Object.keys(e[t].opponentResults).filter(function(t){return!e[t].isDummy}).map(function(t){return be(e,t)})}function be(e,t){return Object(Q.a)(e[t].results)}function pe(e,t){var a=e[t].resultsNoByes.reduce(function(e,t){return e.concat([Object(ce.a)(e)+t])},[0]);return Object(Q.a)(a)}var Ee=_e.ScoreCalculator,fe={0:{func:Ee.of(function(e,t){var a=de(e,t);return Object(V.a)(Object(ae.a)(ne.a),re.a,le.a,Q.a)(a)}),id:0,name:"Median"},1:{func:Ee.of(function(e,t){return Object(Q.a)(de(e,t))}),id:1,name:"Solkoff"},2:{func:Ee.of(pe),id:2,name:"Cumulative score"},3:{func:Ee.of(function(e,t){var a=Object.keys(e[t].opponentResults).filter(function(t){return!e[t].isDummy}).map(function(t){return pe(e,t)});return Object(Q.a)(a)}),id:3,name:"Cumulative of opposition"},4:{func:Ee.of(function(e,t){return Object(Q.a)(e[t].colorScores)}),id:4,name:"Most black"}};Object.freeze(fe);var ye=function(e){return N.a.list(N.a.Number)(e).map(function(e){return fe[e].name})},he=function(e){return _e.ScoreData({colorScores:[],colors:[],halfPos:0,id:e,isDummy:!1,opponentResults:{},ratings:[],results:[],resultsNoByes:[]})};function ge(e,t){var a=e.map(function(e){return fe[e]}),n=Object.keys(t).map(function(e){return _e.Standing({id:e,score:be(t,e),tieBreaks:a.map(function(a){return(0,a.func)(t,e)})})}),r=Object.keys(a).reduce(function(e,t){return e.concat([Object(Z.a)(Object(X.a)(["tieBreaks",t]))])},[Object(Z.a)(Object($.a)("score"))]);return Object(ee.a)(r,n)}function Ne(e){return N.a.list(_e.Standing)(e).reduce(function(e,t,a,n){var r,l,c=n[a-1];return 0===a||(l=c,!((r=t).score===l.score&&!r.tieBreaks.reduce(function(e,t,a){return e.concat(t!==l.tieBreaks[a])},[]).includes(!0)))?Object(Y.a)([t],e):Object(J.a)(Object(te.a)(e.length-1),Object(Y.a)(t),e)},[])}function Oe(e,t){var a=t.playerIds,n=t.result,r=t.newRating,c=t.origRating,o=[p,E].map(function(t){var l=a[t],o=a[t===p?E:p],i=e[l]||{id:l,ratings:[c[t]]};return Object(V.a)(Object(J.a)(Object(G.a)("results"),Object(Y.a)(n[t])),Object(J.a)(Object(G.a)("resultsNoByes"),x(o)?Object(K.a)([]):Object(Y.a)(n[t])),Object(J.a)(Object(G.a)("colors"),Object(Y.a)(t)),Object(J.a)(Object(G.a)("colorScores"),Object(Y.a)(function(e){return D.Color(e)===E?_e.BLACKVALUE:_e.WHITEVALUE}(t))),Object(J.a)(Object(q.a)(["opponentResults",o]),Object(V.a)(Object(K.a)(0),Object(z.a)(n[t]))),Object(J.a)(Object(G.a)("ratings"),Object(Y.a)(r[t])),Object(L.a)("isDummy",x(l)))(i)}),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(V.a)(Object(L.a)(s.id,s),Object(L.a)(u.id,u))(e)}function ve(e){var t=e.reduce(Oe,{});return N.a.dict(D.Id,_e.ScoreData)(t)}function je(e,t){return Object(V.a)(Object(J.a)(Object(G.a)(t[0]),Object(Y.a)(t[1])),Object(J.a)(Object(G.a)(t[1]),Object(Y.a)(t[0])))(N.a.dict(D.Id,N.a.list(D.Id))(e))}function we(e,t,a){var n=t.reduce(je,{}),r=Object.values(e).reduce(function(e,t){var r=a[t.id]?a[t.id]:he(t.id),l={avoidIds:n[t.id]||[],colorScores:r.colorScores,colors:r.colors,halfPos:0,id:t.id,isUpperHalf:!1,opponents:Object.keys(r.opponentResults),rating:t.rating,score:Object(Q.a)(r.results)};return Object(L.a)(t.id,l,e)},{});return N.a.dict(D.Id,_e.PairingData)(r)}var Ce=a(229),Ie=a(144),Te=a(71),Se=a(213),Re=a(214),ke=a(215),De=a(216),Ae=a(60),Pe=a(100),Le=a.n(Pe),xe=function(e){return function(t){return t?e:0}},Be=function(e){return function(t){return e/t}},Me=xe(32),He=Be(16),Ue=Be(8),We=function(){return 0},Fe=function(e){return e?Ue:We},Ve=xe(4),Je=Object(Q.a)([Fe(!0)(1),Ve(!0),He(1),Me(!0)]);function Ge(e,t){if(e.id===t.id)return 0;var a=e.opponents.includes(t.id),n=e.avoidIds.includes(t.id),r=Object(ce.a)(e.colors),l=Object(ce.a)(t.colors),c=Math.abs(e.score-t.score)+1,o=Math.abs(e.halfPos-t.halfPos)+1,i=e.isUpperHalf!==t.isUpperHalf&&e.score===t.score;return Object(Q.a)([Ve(void 0===r||r!==l),He(c),Fe(i)(o),Me(!a&&!n)])}var Ye=function(e){return Object(Ce.a)(e.length/2,e)};function Ke(e,t,a,n){_e.PairingData(t);var r=Object(V.a)(Object(Ie.a)(function(e){return e.score===t.score}),Object(ae.a)(Object(Z.a)(Object($.a)("rating"))),Object(Te.a)(function(e){return e.id}),Ye)(n),c=Object(l.a)(r,2),o=c[0],i=c[1],s=o.includes(t.id),u=s?o.indexOf(t.id):i.indexOf(t.id);return Object(L.a)(t.id,Object(Se.a)(t,{halfPos:u,isUpperHalf:s}),e)}function qe(e){return Object.values(e).reduce(Ke,{})}var ze=Object(ee.a)([Object(Z.a)(Object($.a)("score")),Object(Z.a)(Object($.a)("rating"))]);function Qe(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(Q.a)(a.colorScores)<Object(Q.a)(n.colorScores)?[n.id,a.id]:[a.id,n.id]}var Ze=Object(ee.a)([function(e,t){return Object(Q.a)(Object(ke.a)("score",t))-Object(Q.a)(Object(ke.a)("score",e))},function(e,t){return Object(Q.a)(Object(ke.a)("rating",t))-Object(Q.a)(Object(ke.a)("rating",e))}]);var Xe=a(81),$e=a.n(Xe);function et(e){return 800/(N.a.Number(e)||1)}var tt=Object.freeze({calcNewRatings:function(e,t,a){N.a.tuple([N.a.Number,N.a.Number])(e),N.a.tuple([N.a.Number,N.a.Number])(t),N.a.tuple([N.a.Number,N.a.Number])(a);var n=new $e.a(et(t[p])),r=new $e.a(et(t[E])),l=[n.getExpected(e[p],e[E]),r.getExpected(e[E],e[p])];return[n.updateRating(l[p],a[p],e[p]),r.updateRating(l[E],a[E],e[E])].map(function(e){return e<100?100:e})},getKFactor:et}),at=a(101),nt=a.n(at),rt=a(102),lt=a.n(rt),ct=a(103),ot=a.n(ct),it=a(104),st=a.n(it),ut=a(105),mt=a.n(ut),_t=a(106),dt=a.n(_t),bt=a(107),pt=a.n(bt),Et=a(108),ft=a.n(Et),yt=a(109),ht=a.n(yt),gt=a(110),Nt=a.n(gt),Ot=a(111),vt=a.n(Ot),jt=a(112),wt=a.n(jt),Ct=a(113),It=a.n(Ct),Tt=a(114),St=a.n(Tt),Rt=a(115),kt=a.n(Rt),Dt=a(116),At=a.n(Dt),Pt=a(117),Lt=a.n(Pt),xt=a(118),Bt=a.n(xt),Mt=a(119),Ht=a.n(Mt),Ut=a(120),Wt=a.n(Ut),Ft=function(e){return r.a.createElement("svg",Object.assign({height:"1em",width:"1em",viewBox:"0 0 512 512"},e),r.a.createElement("defs",null,r.a.createElement("g",{id:"prefix__d"},r.a.createElement("path",{d:"M397 278l66 244-33 187q-1 0-3 4-5 7-28.5 18.5T344 771q-44 37-68.5 60T231 881q-61 84-68 203-10 115 93 229 104 114 281 107 66-4 155-32 29-12 59.5-23.5T812 1341q16-8 28-16-5 21-5 42 0 78 55.5 133t133.5 56q78 0 133-55.5t55-132.5q0-16-4-42 14 9 27 15 46 20 121 47 86 29 155 33 177 8 280-107 101-114 94-229-8-119-69-203-20-27-45-50.5t-67-59.5q-33-28-56-39.5t-27-18.5q-1-2-2-3t-1-2l-32-188 66-247q-50-45-224-74t-402-29q-232 0-408 30.5T397 278zm663 1411l-1-130h-71v131h-83q-34 0-34 33v1q0 33 34 33h83v85q0 35 36 35 35 0 35-35v-85h86q33 0 33-33v-1q0-33-33-33l-85-1z",transform:"scale(.15 -.15)"}),r.a.createElement("path",{d:"M1502 513l16 101q-184 51-490 51-308 0-496-52l15-101q189 49 481 49 291 0 474-48zm42-198l-30 118q-195 45-490 45-292 0-488-45l-32-119q190 58 521 58 159 0 295-16t224-41zm-411 550q0 29 6.5 82.5t20.5 83.5q37 81 106 150 20 20 86 54 65 32 139 32 56 0 111.5-19.5t83.5-59.5q25-34 25-110 0-60-49-112-32-33-69-66.5t-71-78.5q-58 20-161.5 31T1133 865zm-73-78q172-3 282-17t198-33q55 54 122 103t94 84q48 65 48 162 0 89-43 149-77 113-235 113-92 0-192-40-91-36-132-78-85-82-124-216-15-46-16.5-117t-1.5-110zm-72 1q0 40-2 110.5T971 1016q-41 134-124 216-43 42-132 78-102 40-193 40-158 0-234-113-43-60-43-150 0-98 48-161 25-36 96-89t120-98q87 19 196.5 33T988 788zm36 251q7 28 12 39 10 39 23 66 6 17 17.5 39.5t24.5 51.5q8 17 17 41.5t18 48.5q8 20 8 43 0 49-35 83.5t-85 34.5q-119 0-119-119 0-23 8-43 22-65 34-90 13-29 24-51.5t19-39.5q13-33 22-66 2-6 12-38zM912 865q-125-2-228.5-13T523 821q-30 37-69.5 74.5T384 966q-50 51-50 112 0 75 25 110 27 40 83 59.5t113 19.5q72 0 138-32 65-34 86-54 68-69 106-150 13-30 19.5-83.5T912 865zm112 345q-2 10-5 17-6 20-10 29-3 7-8 17.5t-10 22.5q-3 7-7.5 18.5T976 1336q-3 9-3 19 0 53 51 53 53 0 53-52 0-13-4-19-14-38-15-41-15-30-19-39-7-16-9-29-3-6-4-10.5t-2-7.5z",fill:"#f9f9fa",transform:"scale(.15 -.15)"})),r.a.createElement("clipPath",{id:"prefix__b"},r.a.createElement("circle",{r:240,cy:272,cx:256})),r.a.createElement("clipPath",{id:"prefix__a"},r.a.createElement("path",{transform:"rotate(18)",d:"M240 16h200v512H240z"}),r.a.createElement("path",{transform:"rotate(18)",d:"M292 78h200v512H292z"}),r.a.createElement("path",{transform:"rotate(18)",d:"M361-37h128V91H361z"})),r.a.createElement("path",{id:"prefix__c",clipPath:"url(#prefix__a)",d:"M0 0h512v512H0z"})),r.a.createElement("rect",{width:"100%",height:"100%",fill:"#363959",clipPath:"url(#prefix__b)"}),r.a.createElement("g",{fill:"#0d7758"},r.a.createElement("g",{clipPath:"url(#prefix__b)"},r.a.createElement("use",{href:"#prefix__c",xlinkHref:"#prefix__c",x:1.5,y:38})),r.a.createElement("path",{d:"M355.886 119.84l121.735 39.554-39.554 121.736-121.736-39.555z"})),r.a.createElement("use",{href:"#prefix__d",xlinkHref:"#prefix__d",x:198,y:306,fill:"#14b184"}),r.a.createElement("g",{fill:"#c00043",clipPath:"url(#prefix__b)"},r.a.createElement("use",{href:"#prefix__c",xlinkHref:"#prefix__c",x:-192.5,y:100})),r.a.createElement("use",{href:"#prefix__d",xlinkHref:"#prefix__d",x:4,y:368,fill:"#ff0059"}),r.a.createElement("g",{fill:"#07a2ff",clipPath:"url(#prefix__b)"},r.a.createElement("use",{href:"#prefix__c",xlinkHref:"#prefix__c",x:-96,y:228})),r.a.createElement("use",{href:"#prefix__d",xlinkHref:"#prefix__d",x:100,y:496,fill:"#47baff"}))},Vt=a(121),Jt=a.n(Vt),Gt=a(122),Yt=a.n(Gt),Kt=a(123),qt=a.n(Kt),zt=a(124),Qt=a.n(zt),Zt=a(125),Xt=a.n(Zt),$t=a(126),ea=a.n($t),ta=a(127),aa=a.n(ta),na=a(128),ra=a.n(na),la=a(129),ca=a.n(la),oa=a(130),ia=a.n(oa),sa=function(e){return function(t){return r.a.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:e.svg},"aria-label":e.title,role:"img",style:{fill:"#"+e.hex}},t))}},ua={Activity:nt.a,Alert:lt.a,ArrowDown:ot.a,ArrowLeft:st.a,ArrowUp:mt.a,Award:dt.a,Check:pt.a,CheckCircle:ft.a,ChevronDown:ht.a,ChevronLeft:Nt.a,ChevronRight:vt.a,ChevronUp:wt.a,Circle:It.a,Download:St.a,Edit:kt.a,Help:At.a,Info:Lt.a,Javascript:sa(Bt.a),Layers:Ht.a,List:Wt.a,Logo:Ft,Plus:Jt.a,React:sa(Yt.a),Repeat:qt.a,Settings:Qt.a,Sidebar:Xt.a,Trash:ea.a,UserMinus:aa.a,UserPlus:ra.a,Users:ca.a,X:ia.a},ma=a(12),_a=a.n(ma),da=a(13),ba=a.n(da),pa=a(32),Ea=a(225),fa=a(219),ya=(a(195),a(85)),ha=a(217);function ga(e,t){var a,n=h()();switch(t.type){case"ADD_ITEM":return console.warn("Use a more specific action instead, please."),Object(L.a)(n,t.item,e);case"ADD_TOURNEY":return N.a.interface({name:N.a.String})(t),Object(L.a)(n,(a={id:n,name:t.name},D.Tournament(Object.assign({byeQueue:[],date:new Date,id:h()(),playerIds:[],roundList:[],tieBreaks:[0,1,2,3]},a))),e);case"ADD_PLAYER":return N.a.interface({firstName:N.a.String,lastName:N.a.String,rating:N.a.Number})(t),Object(L.a)(n,P({firstName:t.firstName,id:n,lastName:t.lastName,rating:t.rating}),e);case"DEL_ITEM":return N.a.interface({id:N.a.String})(t),Object(Re.a)(t.id,e);case"SET_PLAYER":return N.a.interface({firstName:N.a.String,id:D.Id,lastName:N.a.String,matchCount:N.a.Number,rating:N.a.Number})(t),Object(J.a)(Object(G.a)(t.id),Object(ha.a)({firstName:t.firstName,lastName:t.lastName,matchCount:t.matchCount,rating:t.rating}),e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type")}}function Na(e,t){switch(t.type){case"ADD_AVOID_PAIR":return N.a.interface({pair:D.AvoidPair})(t),Object(J.a)(Object(G.a)("avoidPairs"),Object(Y.a)(t.pair),e);case"DEL_AVOID_PAIR":return N.a.interface({pair:D.AvoidPair})(t),Object(J.a)(Object(G.a)("avoidPairs"),Object(Ie.a)(function(e){return!(e.includes(t.pair[0])&&e.includes(t.pair[1]))}),e);case"DEL_AVOID_SINGLE":return N.a.interface({id:D.Id})(t),Object(J.a)(Object(G.a)("avoidPairs"),Object(Ie.a)(function(e){return!e.includes(t.id)}),e);case"SET_OPTION":return N.a.interface({option:N.a.String,value:N.a.union([N.a.Number,N.a.list(D.AvoidPair)])})(t),Object(L.a)(t.option,t.value,e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type.")}}var Oa=a(218);function va(e,t){var a=h()();switch(t.type){case"ADD_PLAYER":return N.a.interface({firstName:N.a.String,lastName:N.a.String,rating:N.a.Number})(t),Object(L.a)(a,P({firstName:t.firstName,id:a,lastName:t.lastName,rating:t.rating}),e);case"SET_PLAYER":return N.a.interface({firstName:N.a.String,id:D.Id,lastName:N.a.String,matchCount:N.a.Number,rating:N.a.Number})(t),Object(J.a)(Object(G.a)(t.id),Object(ha.a)({firstName:t.firstName,lastName:t.lastName,matchCount:t.matchCount,rating:t.rating}),e);case"DEL_PLAYER":return N.a.interface({id:D.Id})(t),Object(Re.a)(Object(q.a)(t.id),e);case"SET_PLAYER_MATCHCOUNT":return N.a.interface({id:D.Id,matchCount:N.a.Number})(t),Object(Oa.a)(Object(q.a)([t.id,"matchCount"]),t.matchCount,e);case"SET_PLAYER_RATING":return N.a.interface({id:D.Id,rating:N.a.Number})(t),Object(Oa.a)(Object(q.a)([t.id,"rating"]),t.rating,e);case"LOAD_STATE":return t.state;default:throw new Error("Unexpected action type")}}var ja=a(220),wa=a(221),Ca=a(143),Ia=a(222),Ta=a(230),Sa=a(223),Ra=a(224);function ka(e,t){return t.playerIds[p]===f?Object(L.a)("result",[0,e],t):t.playerIds[E]===f?Object(L.a)("result",[e,0],t):t}function Da(e){var t=e.pairData,a=e.byeValue,n=e.players,r=function(e,t,a){if(Object.keys(a).length%2===0)return[a,null];var n=Object(V.a)(Object.values,Object(Ie.a)(function(e){return!e.opponents.includes(t)}),ze)(a),r=n.map(function(e){return e.id}),l=N.a.list(N.a.String)(e).filter(function(e){return r.includes(e)})[0],c=l?a[l]:Object(ce.a)(n),o=c?c.id:Object(V.a)(Object.values,ze,ce.a)(a),i=a[o];return[Object(Re.a)(o,a),i]}(e.tourney.byeQueue,f,t),c=Object(l.a)(r,2),o=c[0],i=c[1],s=function(e){var t=Object.keys(e),a=Object(De.a)(Ae.a);return Object(V.a)(Object.values,a(function(e,a,n,r){var l=r.slice(n+1).map(function(e){return[t.indexOf(a.id),t.indexOf(e.id),Ge(a,e)]});return e.concat(l)},[]),Le.a,a(function(a,n,r){if(-1===n)return a;var l=e[t[n]],c=e[t[r]],o=a.map(function(e){return e[0]});return o.includes(l)||o.includes(c)?a:a.concat([[l,c]])},[]),Ze,Object(Te.a)(Qe))(e)}(o),u=i?s.concat([[i.id,f]]):s,m=Object(fa.a)(U)(n);return u.map(function(e){return A({newRating:[m(e[p]).rating,m(e[E]).rating],origRating:[m(e[p]).rating,m(e[E]).rating],playerIds:[e[p],e[E]]})}).map(Object(fa.a)(ka)(a))}function Aa(e,t){switch(t.type){case"ADD_ROUND":return Object(J.a)(Object(G.a)("roundList"),Object(Y.a)([]),e);case"DEL_LAST_ROUND":return Object(J.a)(Object(G.a)("roundList"),Object(ja.a)(-1,1),e);case"ADD_TIEBREAK":return N.a.interface({id:N.a.Number})(t),Object(J.a)(Object(G.a)("tieBreaks"),Object(Y.a)(t.id),e);case"DEL_TIEBREAK":return N.a.interface({id:N.a.Number})(t),Object(J.a)(Object(G.a)("tieBreaks"),Object(Ie.a)(function(e){return e!==t.id}),e);case"MOVE_TIEBREAK":return N.a.interface({newIndex:N.a.Number,oldIndex:N.a.Number})(t),Object(J.a)(Object(G.a)("tieBreaks"),Object(wa.a)(t.oldIndex,t.newIndex),e);case"SET_TOURNEY_PLAYERS":return N.a.interface({playerIds:N.a.list(D.Id)})(t),Object(L.a)("playerIds",t.playerIds,e);case"SET_BYE_QUEUE":return N.a.interface({byeQueue:N.a.list(D.Id)})(t),Object(L.a)("byeQueue",t.byeQueue,e);case"SET_NAME":return N.a.interface({name:N.a.String})(t),Object(L.a)("name",t.name,e);case"AUTO_PAIR":return N.a.interface({byeValue:N.a.Number,pairData:N.a.dict(D.Id,_e.PairingData),players:N.a.dict(D.Id,D.Player),roundId:N.a.Number})(t),Object(J.a)(Object(q.a)(["roundList",t.roundId]),Object(Ca.a)(Ia.a,Da({byeValue:t.byeValue,pairData:t.pairData,players:t.players,tourney:e})),e);case"MANUAL_PAIR":return N.a.interface({byeValue:N.a.Number,pair:N.a.tuple([D.Player,D.Player]),roundId:N.a.Number})(t),Object(J.a)(Object(q.a)(["roundList",t.roundId]),Object(Y.a)((a=t.pair,n=t.byeValue,N.a.tuple([D.Player,D.Player])(a),ka(n,A({newRating:[a[p].rating,a[E].rating],origRating:[a[p].rating,a[E].rating],playerIds:[a[p].id,a[E].id]})))),e);case"SET_DATE":return N.a.interface({date:Date})(t),Object(L.a)("date",t.date,e);case"SET_MATCH_RESULT":return N.a.interface({matchId:N.a.String,newRating:N.a.tuple([N.a.Number,N.a.Number]),result:N.a.tuple([N.a.Number,N.a.Number]),roundId:N.a.Number})(t),Object(V.a)(Object(Oa.a)(Object(q.a)(["roundList",t.roundId,Object(Ta.a)(Object(Sa.a)("id",t.matchId),e.roundList[t.roundId]),"result"]),t.result),Object(Oa.a)(Object(q.a)(["roundList",t.roundId,Object(Ta.a)(Object(Sa.a)("id",t.matchId),e.roundList[t.roundId]),"newRating"]),t.newRating))(e);case"DEL_MATCH":return N.a.interface({matchId:D.Id,roundId:N.a.Number})(t),Object(J.a)(Object(q.a)(["roundList",t.roundId]),Object(Ie.a)(function(e){return e.id!==t.matchId}),e);case"SWAP_COLORS":return N.a.interface({matchId:D.Id,roundId:N.a.Number})(t),Object(J.a)(Object(q.a)(["roundList",t.roundId,Object(Ta.a)(Object(Sa.a)("id",t.matchId),e.roundList[t.roundId])]),function(e){return Object(Se.a)(e,{newRating:Object(Ra.a)(e.newRating),origRating:Object(Ra.a)(e.origRating),playerIds:Object(Ra.a)(e.playerIds),result:Object(Ra.a)(e.result)})},e);case"MOVE_MATCH":return N.a.interface({newIndex:N.a.Number,oldIndex:N.a.Number,roundId:N.a.Number})(t),Object(J.a)(Object(q.a)(["roundList",t.roundId]),Object(wa.a)(t.oldIndex,t.newIndex),e);case"UPDATE_BYE_SCORES":return N.a.interface({value:N.a.Number})(t),Object(L.a)("roundList",Object(Te.a)(Object(Te.a)(Object(fa.a)(ka)(t.value)),e.roundList),e);case"SET_STATE":return console.log("setting state:",t.state),t.state;default:throw new Error("Unexpected action type "+t.type)}var a,n}var Pa=a(131),La=a(33),xa=a.n(La),Ba=a(132),Ma=a(133),Ha=a(134),Ua={options:Ba,players:N.a.dict(D.Id,D.Player)(Ma),tournaments:xa()(Ha,N.a.dict(D.Id,D.Tournament))},Wa=a(37),Fa=a.n(Wa),Va=a(135),Ja=a(136);function Ga(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(n.useState)(e),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)(t),u=Object(l.a)(s,2),m=u[0],_=u[1],d=Object(n.useState)(a),b=Object(l.a)(d,2),p=b[0],E=b[1];return Object(n.useEffect)(function(){var t=p?Z.a:ne.a;i(Object(ae.a)(t(Object($.a)(m)),e))},[e,m,p]),{isDescending:p,key:m,setIsDescending:E,setKey:_,setTable:i,table:o,toggleDirection:function(){E(!p)}}}function Ya(e){Object(n.useEffect)(function(){var t=document.title;return document.title="Chessahoochee: "+e,function(){document.title=t}},[e])}function Ka(e){Object(n.useEffect)(function(){return N.a.Boolean(e)?document.body.style.cursor="auto":document.body.style.cursor="wait",function(){document.body.style.cursor="auto"}},[e])}Object(Ja.extendPrototype)(Fa.a),Object(Va.extendPrototype)(Fa.a);var qa=Fa.a.createInstance({name:"Chessahoochee",storeName:"Options"}),za=Fa.a.createInstance({name:"Chessahoochee",storeName:"Players"}),Qa=Fa.a.createInstance({name:"Chessahoochee",storeName:"Tournaments"});function Za(){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(pa.a)(ba.a.mark(function e(){return ba.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.body.style.cursor="wait",e.next=3,qa.setItems(Ua.options);case 3:return e.next=5,za.setItems(Ua.players);case 5:return e.next=7,Qa.setItems(Ua.tournaments);case 7:window.alert("Demo data loaded!"),document.body.style.cursor="auto";case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $a(e,t){var a=Object(n.useReducer)(ga,{}),r=Object(l.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],m=s[1];return Ka(u),Object(n.useEffect)(function(){var a=!1;return Object(pa.a)(ba.a.mark(function n(){var r,l;return ba.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getItems();case 2:r=n.sent,console.log("loaded items from",e.config().storeName),l=Object(Ie.a)(t.is,r),a||(o({state:l,type:"LOAD_STATE"}),m(!0));case 6:case"end":return n.stop()}},n)}))(),function(){a=!0}},[e,t]),Object(n.useEffect)(function(){u&&Object(pa.a)(ba.a.mark(function t(){var a,n;return ba.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setItems(c);case 2:return console.log("saved items to",e.config().storeName),t.next=5,e.keys();case 5:if(a=t.sent,!((n=Object(ya.a)(a,Object.keys(c))).length>0)){t.next=11;break}return t.next=10,e.removeItems(n);case 10:console.log("Deleted "+n.length+" items.");case 11:case"end":return t.stop()}},t)}))()},[e,c,u]),[c,o]}function en(){return $a(za,D.Player)}function tn(){return $a(Qa,D.Tournament)}function an(){var e=Object(n.useReducer)(Na,Pa),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)(function(){var e=!1;return qa.iterate(function(t,a){e||r({option:a,type:"SET_OPTION",value:t})}).then(function(){e||s(!0)}),function(){e=!0}},[]),Object(n.useEffect)(function(){i&&qa.setItems(a)},[a,i]),[a,r]}var nn=Object(n.createContext)(null);function rn(){return Object(n.useContext)(nn)}function ln(e){var t=e.children,a=e.tourneyId,c=Object(n.useReducer)(Aa,{}),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(n.useReducer)(va,{}),m=Object(l.a)(u,2),_=m[0],d=m[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),E=p[0],f=p[1],y=Object(n.useState)(!1),h=Object(l.a)(y,2),g=h[0],O=h[1],v=Object(n.useState)(!1),j=Object(l.a)(v,2),w=j[0],C=j[1];Ka(g&&E),Object(n.useEffect)(function(){var e=!1;return Object(pa.a)(ba.a.mark(function t(){var n;return ba.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qa.getItem(a);case 2:n=t.sent,console.log("loaded:",a),n?e||(s({state:n||{},type:"SET_STATE"}),f(!0)):C(!0);case 5:case"end":return t.stop()}},t)}))(),function(){e=!0}},[a]),Object(n.useEffect)(function(){if(i.roundList&&i.playerIds){var e=function(e){var t=N.a.list(D.Match)(e).reduce(function(e,t){return e.concat(t.playerIds)},[]);return Array.from(new Set(t))}(W(i.roundList)).concat(i.playerIds);if(0===e.length)return 0!==Object.keys(_).length&&d({state:{},type:"LOAD_STATE"}),void O(!0);var t=!1;return Object(pa.a)(ba.a.mark(function a(){var n,r;return ba.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,za.getItems(e);case 2:n=a.sent,r=Object(Ea.a)(Object.keys(n),Object.keys(_)),console.log("unchanged players:",r),0===r.length||t||(console.log("hydrated player data"),d({state:n,type:"LOAD_STATE"})),t||O(!0);case 7:case"end":return a.stop()}},a)}))(),function(){t=!0}}},[i.roundList,_,i.playerIds]),Object(n.useEffect)(function(){E&&0!==Object.keys(i).length&&a===i.id&&Qa.setItem(a,i).catch(function(e){console.log("error saving tourney:",a,e)})},[a,i,E]),Object(n.useEffect)(function(){g&&Object(pa.a)(ba.a.mark(function e(){var t;return ba.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za.setItems(_);case 2:t=e.sent,console.log("saved player changes to DB:",t);case 4:case"end":return e.stop()}},e)}))()},[_,g]);var I=Object(fa.a)(U)(_),T=Object(Ie.a)(function(e){return i.playerIds.includes(e.id)},_);return w?r.a.createElement("div",null,"Error: tournament not found."):E&&g?r.a.createElement(nn.Provider,{value:{activePlayers:T,getPlayer:I,players:_,playersDispatch:d,tourney:i,tourneyDispatch:s}},t):r.a.createElement("div",null,"Loading...")}function cn(e){var t=rn(),a=t.tourney,n=t.getPlayer,l=a.tieBreaks,c=ve(W(a.roundList)),i=ge(l,c);return r.a.createElement("table",{className:_a.a.table},r.a.createElement("caption",null,"Crosstable"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),Object.keys(i).map(function(e){return r.a.createElement("th",{key:e},Number(e)+1)}),r.a.createElement("th",null,"Score"),r.a.createElement("th",{colSpan:2},"Rating"))),r.a.createElement("tbody",null,i.map(function(e,t){return r.a.createElement("tr",{key:t,className:_a.a.row},r.a.createElement("th",{className:_a.a.rank,scope:"col"},t+1),r.a.createElement("th",{className:_a.a.playerName,scope:"row"},n(e.id).firstName,"\xa0",n(e.id).lastName),i.map(function(t,a){return r.a.createElement("td",{key:a,className:"table__number"},function(e,t){if(e===t)return r.a.createElement(ua.X,{className:"disabled"});var a=c[e].opponentResults[t];return void 0===a?null:o()(a).format("1/2")}(e.id,t.id))}),r.a.createElement("td",{className:"table__number"},o()(e.score).format("1/2")),function(e){var t=c[e].ratings[0],a=Object(ce.a)(c[e].ratings),n=o()(a-t).format("+0");return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"table__number"},a),r.a.createElement("td",{className:"table__number body-10"},"(",n,")"))}(e.id))})))}var on=a(145),sn=a(38),un=a.n(sn),mn=a(226),_n=a(82),dn=a.n(_n);function bn(e){var t=e.children,a=e.style;return r.a.createElement("div",{className:dn.a.panel,style:Object(on.a)({},a)},t)}function pn(e){return r.a.createElement("div",Object.assign({},e,{className:un()(dn.a.panels,e.className)}),e.children)}function En(e){var t=new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"short",year:"numeric"}),a=Object(mn.a)(["date"],e);return r.a.createElement("time",Object.assign({dateTime:e.date.toISOString()},a),t.format(e.date))}function fn(e){var t=e.success?[r.a.createElement(ua.Check,null),"notification__success"]:e.warning?[r.a.createElement(ua.Alert,null),"notification__warning"]:e.error?[r.a.createElement(ua.X,null),"notification__error"]:[r.a.createElement(ua.Info,null),"notification__generic"],a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(mn.a)(["warning","error","success","tooltip"],e);return r.a.createElement("div",Object.assign({},o,{className:"notification "+c+" "+e.className}),r.a.createElement("div",{"aria-label":e.tooltip,className:"notification__icon",title:e.tooltip},n),r.a.createElement("div",{className:"notification__text"},e.children))}var yn=function(){return r.a.createElement("button",{className:"button-ghost placeholder","aria-hidden":!0,disabled:!0})};function hn(e){var t=e.label,a=e.sortKey,n=e.data;return r.a.createElement("span",{className:"buttons-on-hover"},r.a.createElement(yn,null),r.a.createElement("button",{className:"button-micro dont-hide button-text-ghost title-20",onClick:function(){n.key===a?n.toggleDirection():n.setKey(a)}},t),r.a.createElement("button",{className:un()("button-ghost",{"dont-hide":n.key===a}),onClick:function(){n.setKey(a),n.toggleDirection()}},n.isDescending?r.a.createElement(ua.ChevronUp,null):r.a.createElement(ua.ChevronDown,null)))}function gn(e,t){return t.filter(function(t){return t.id===e})[0]}var Nn=a(30);function On(e){var t=e.dispatch,a={firstName:"",lastName:"",rating:1200},c=Object(n.useState)(a),o=Object(l.a)(c,2),i=o[0],s=o[1],u=function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.value;s(function(e){return Object(L.a)(a,n,e)})};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=i.firstName,r=i.lastName,l=i.rating;s(a),t({firstName:n,lastName:r,rating:Number(l),type:"ADD_PLAYER"})}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Register a new player"),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{name:"firstName",type:"text",value:i.firstName,required:!0,onChange:u})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{name:"lastName",type:"text",value:i.lastName,required:!0,onChange:u})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"rating"},"Rating"),r.a.createElement("input",{name:"rating",type:"number",value:i.rating,required:!0,onChange:u})),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Add"}))))}var vn=a(9);function jn(e){var t=rn(),a=t.tourney,n=t.tourneyDispatch,c=en(),o=Object(l.a)(c,2),i=o[0],s=o[1];function u(e){var t=e.target.value;e.target.checked?n({playerIds:a.playerIds.concat([t]),type:"SET_TOURNEY_PLAYERS"}):n({playerIds:a.playerIds.filter(function(e){return e!==t}),type:"SET_TOURNEY_PLAYERS"})}return r.a.createElement("div",null,r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",onClick:function(){return n({playerIds:Object.keys(i),type:"SET_TOURNEY_PLAYERS"})}},"Select all"),r.a.createElement("button",{className:"button-micro",onClick:function(){return n({playerIds:[],type:"SET_TOURNEY_PLAYERS"})}},"Select none")),r.a.createElement("table",null,r.a.createElement("caption",null,"Select players"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Select"))),r.a.createElement("tbody",null,Object.values(i).map(function(e){var t=e.id,n=e.firstName,l=e.lastName;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement(vn.a,null,r.a.createElement("label",{htmlFor:"select-"+t},"Select ",n," ",l)),r.a.createElement("input",{checked:a.playerIds.includes(t),type:"checkbox",value:t,id:"select-"+t,onChange:u})))}))),r.a.createElement(On,{dispatch:s}))}function wn(e){var t=e.players,a=e.dispatch,n=e.byeQueue;return r.a.createElement(r.a.Fragment,null,Object.values(t).map(function(e){return r.a.createElement("tr",{key:e.id,className:e.type+" player"},r.a.createElement("td",null,e.firstName),r.a.createElement("td",null,e.lastName),r.a.createElement("td",null,r.a.createElement("button",{className:"button-micro",disabled:n.includes(e.id),onClick:function(){return a({byeQueue:n.concat([e.id]),type:"SET_BYE_QUEUE"})}},"Bye signup")))}))}function Cn(e){var t=rn(),a=t.tourney,c=t.tourneyDispatch,o=t.activePlayers,i=a.playerIds,s=a.roundList,u=a.byeQueue,m=c,_=Object(n.useState)(0===i.length),d=Object(l.a)(_,2),b=d[0],p=d[1],E=W(s);return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{onClick:function(){return p(!0)}},r.a.createElement(ua.Edit,null)," Edit player roster")),r.a.createElement(pn,null,r.a.createElement(bn,{style:{flexShrink:"0"}},r.a.createElement("table",null,r.a.createElement("caption",null,"Current roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2},"Name"),r.a.createElement("th",null,"Options"))),r.a.createElement("tbody",{className:"content"},r.a.createElement(wn,{byeQueue:u,dispatch:m,players:o})))),r.a.createElement(bn,null,r.a.createElement("h3",null,"Bye queue"),0===u.length&&r.a.createElement("p",null,"No players have signed up for a bye round."),r.a.createElement("ol",null,u.map(function(e){return r.a.createElement("li",{key:e,className:(t=E,a=e,N.a.list(D.Match)(t).filter(function(e){return e.playerIds.includes(a)}).reduce(function(e,t){return e.concat(t.playerIds)},[]).includes(f)?"disabled buttons-on-hover":"buttons-on-hover")},o[e].firstName," ",o[e].lastName," ",r.a.createElement("button",{className:"button-micro",onClick:function(){return m({byeQueue:u.filter(function(t){return e!==t}),type:"SET_BYE_QUEUE"})}},"Remove"));var t,a}))),r.a.createElement(Nn.a,{isOpen:b},r.a.createElement("button",{className:"button-micro button-primary",onClick:function(){return p(!1)}},"Done"),r.a.createElement(jn,null))))}var In=a(16);function Tn(e){var t=e.playerId,a=e.scoreData,n=rn(),c=n.getPlayer,o=n.players,i=an(),s=Object(l.a)(i,1)[0].avoidPairs.reduce(je,{}),u=a[t]||he(t),m=u.colorScores,_=u.opponentResults,d=u.results,b=Object(Q.a)(m),p=c(t),E=Object.keys(_).includes(f),y=s[t]||[],h=b<0?"White +"+Math.abs(b):b>0?"Black +"+b:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,p.firstName," ",p.lastName),r.a.createElement("p",null,"Score: ",Object(Q.a)(d)),r.a.createElement("p",{"data-testid":"rating-"+p.id},"Rating: ",p.rating),r.a.createElement("p",null,"Color balance: ",h),r.a.createElement("p",null,"Has had a bye round: ",E?"Yes":"No"),r.a.createElement("p",null,"Opponent history:"),r.a.createElement("ol",null,Object.entries(_).map(function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{key:a},c(a).firstName," ",c(a).lastName," ","-"," ",0===n&&"Lost",1===n&&"Won",.5===n&&"Draw")})),r.a.createElement("p",null,"Players to avoid:"),r.a.createElement("ol",null,y.map(function(e){return o[e]&&r.a.createElement("li",{key:e},c(e).firstName," ",c(e).lastName)})))}function Sn(e){var t=e.stagedPlayers,a=e.setStagedPlayers,n=e.unmatched;return 0===Object.keys(n).length?null:r.a.createElement("ul",{className:"content plain-list"},Object.values(n).map(function(e){var n=e.id,l=e.firstName,c=e.lastName;return r.a.createElement("li",{key:n},r.a.createElement("button",{className:"button-ghost",disabled:!t.includes(null)||t.includes(n),onClick:function(){return function(e){null===t[p]?a(function(t){return Object(Oa.a)(Object(te.a)(p),e,t)}):null===t[E]&&a(function(t){return Object(Oa.a)(Object(te.a)(E),e,t)})}(n)}},r.a.createElement(ua.UserPlus,null),r.a.createElement(vn.a,null,"Add ",l," ",c))," ",l," ",c)}))}function Rn(e){var t=e.roundId,a=e.stagedPlayers,c=e.setStagedPlayers,o=rn(),i=o.tourneyDispatch,s=o.getPlayer,u=i,m=an(),_=Object(l.a)(m,1)[0],d=Object(l.a)(a,2),b=d[0],f=d[1],y=b?s(b).firstName+" "+s(b).lastName:"",h=f?s(f).firstName+" "+s(f).lastName:"";function g(e){c(function(t){return Object(Oa.a)(Object(te.a)(e),null,t)})}return r.a.createElement("div",null,r.a.createElement("h2",null,"Selected for matching:"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"White:"," ",null!==b&&r.a.createElement(n.Fragment,null,y," ",r.a.createElement("button",{"aria-label":"remove "+y,className:"button-micro",onClick:function(){return g(p)}},r.a.createElement(ua.UserMinus,null)," Remove"))),r.a.createElement("p",null,"Black:"," ",null!==f&&r.a.createElement(n.Fragment,null,h," ",r.a.createElement("button",{"aria-label":"remove "+h,className:"button-micro",onClick:function(){return g(E)}},r.a.createElement(ua.UserMinus,null)," Remove")))),r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{disabled:a.every(function(e){return null===e}),onClick:function(){return c(function(e){return[e[E],e[p]]})}},r.a.createElement(ua.Repeat,null)," Swap colors")," ",r.a.createElement("button",{className:"button-primary",disabled:a.includes(null),onClick:function(){u({byeValue:_.byeValue,pair:[s(b),s(f)],roundId:t,type:"MANUAL_PAIR"}),c([null,null])}},r.a.createElement(ua.Check,null)," Match selected")))}function kn(e){var t=e.roundId,a=Object(n.useState)([null,null]),c=Object(l.a)(a,2),i=c[0],s=c[1],u=an(),m=Object(l.a)(u,1)[0],_=rn(),d=_.tourney,b=_.activePlayers,p=_.getPlayer,E=_.tourneyDispatch,y=d.roundList,h=Object(n.useState)(!1),g=Object(l.a)(h,2),N=g[0],O=g[1],v=Object(n.useMemo)(function(){var e=ve(W(y,t));return[e,Object(V.a)(Object(fa.a)(we)(b,m.avoidPairs),qe)(e)]},[y,b,t,m.avoidPairs]),j=Object(l.a)(v,2),w=j[0],C=j[1],I=t===y.length-1?F(y,b,t):{},T=Object.keys(I).length,S=T%2!==0?Object(L.a)(f,p(f),I):I;Object(n.useEffect)(function(){var e=Object(l.a)(i,2),t=e[0],a=e[1];S[t]||null===t||s(function(e){return[null,e[1]]}),S[a]||null===a||s(function(e){return[e[0],null]})},[S,i]);var R=function(){if(i.includes(null))return null;var e=C[i[0]],t=C[i[1]];if(!e||!t)return null;var a=Ge(e,t);return o()(a/Je).format("%")}();return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-primary",disabled:0===T,onClick:function(){return E({byeValue:m.byeValue,pairData:C,players:I,roundId:t,type:"AUTO_PAIR"})}},"Auto-pair unmatched players")," ",r.a.createElement("button",{onClick:function(){return O(!0)}},"Add or remove players from the roster.")),r.a.createElement(pn,null,r.a.createElement(bn,null,r.a.createElement(Sn,{setStagedPlayers:s,stagedPlayers:i,unmatched:S})),r.a.createElement(bn,{style:{flexGrow:"1"}},r.a.createElement(Rn,{roundId:t,setStagedPlayers:s,stagedPlayers:i}),r.a.createElement(pn,null,i.map(function(e){return null!==e&&r.a.createElement(bn,{key:e},r.a.createElement(Tn,{playerId:e,roundId:t,scoreData:w}))})),!i.includes(null)&&r.a.createElement("span",null,"Match ideal: ",R))),r.a.createElement(Nn.a,{isOpen:N},r.a.createElement("button",{className:"button-micro",onClick:function(){return O(!1)}},"Done"),r.a.createElement(jn,null)))}var Dn=function(e){return r.a.createElement("div",{"data-testid":"404"},r.a.createElement("p",null,"Page not found."))};a(200);function An(e){var t=e.matchId,a=e.color,n=e.roundId,c=e.scoreData,i=rn(),s=i.tourney,u=i.getPlayer,m=gn(t,s.roundList[n]),_=m.playerIds[a],d=u(_),b=c[m.playerIds[a]],p=b.colorScores,E=b.opponentResults,y=b.results,h=Object(Q.a)(p),g=Object.keys(E).includes(f),N=h<0?"White +"+Math.abs(h):h>0?"Black +"+h:"Even";return r.a.createElement("dl",{className:"player-card"},r.a.createElement("h3",null,d.firstName," ",d.lastName),r.a.createElement("dt",null,"Score"),r.a.createElement("dd",null,Object(Q.a)(y)),r.a.createElement("dt",null,"Rating"),r.a.createElement("dd",{"data-testid":"rating-".concat(_)},m.origRating[a]," (",o()(m.newRating[a]-m.origRating[a]).format("+0"),")"),r.a.createElement("dt",null,"Color balance"),r.a.createElement("dd",null,N),r.a.createElement("dt",null,"Has had a bye round"),r.a.createElement("dd",null,g?"Yes":"No"),r.a.createElement("dt",null,"Opponent history"),r.a.createElement("dd",null,r.a.createElement("ol",null,Object.entries(E).map(function(e,t,a){var n=Object(l.a)(e,2),c=n[0],o=n[1];return t<a.length-1&&r.a.createElement("li",{key:c},u(c).firstName," ",u(c).lastName," ","-"," ",0===o&&"Lost",1===o&&"Won",.5===o&&"Draw")}))))}var Pn=a(26),Ln=a.n(Pn);function xn(e){var t=e.compact,a=e.pos,c=e.match,o=e.roundId,i=e.selectedMatch,s=e.setSelectedMatch,u=e.scoreData,m=rn(),_=m.tourney,d=m.tourneyDispatch,b=m.players,y=m.getPlayer,h=m.playersDispatch,g=d,N=Object(n.useState)(!1),O=Object(l.a)(N,2),v=O[0],j=O[1],w=c.result[0]>c.result[1]?"WHITE":c.result[1]>c.result[0]?"BLACK":c.result.every(function(e){return.5===e})?"DRAW":"NOTSET",C=y(c.playerIds[p]),I=y(c.playerIds[E]),T=C.firstName+" "+C.lastName,S=I.firstName+" "+I.lastName;function R(e){return"NOTSET"===w?r.a.createElement(vn.a,null,"Not set"):"DRAW"===w?r.a.createElement("span",{"aria-label":"Draw",role:"img",style:{filter:"grayscale(100%)"}},"\ud83e\udd1d"):w===e?r.a.createElement(ua.Award,{"aria-label":"Won"}):r.a.createElement(vn.a,null,"Lost")}function k(e){var t=function(){switch(e.target.value){case"WHITE":return[1,0];case"BLACK":return[0,1];case"DRAW":return[.5,.5];case"NOTSET":return[0,0];default:throw new Error}}(),a=b[c.playerIds[p]],n=b[c.playerIds[E]],r="NOTSET"===e.currentTarget.value?c.origRating:tt.calcNewRatings(c.origRating,[a.matchCount,n.matchCount],t);h({id:a.id,rating:r[p],type:"SET_PLAYER_RATING"}),h({id:n.id,rating:r[E],type:"SET_PLAYER_RATING"}),0===Object(Q.a)(c.result)&&(h({id:a.id,matchCount:a.matchCount+1,type:"SET_PLAYER_MATCHCOUNT"}),h({id:n.id,matchCount:n.matchCount+1,type:"SET_PLAYER_MATCHCOUNT"})),g({matchId:c.id,newRating:r,result:t,roundId:o,type:"SET_MATCH_RESULT"})}return r.a.createElement("tr",{className:c.id===i?"selected":"buttons-on-hover"},r.a.createElement("th",{className:"table__number "+Ln.a.rowId,scope:"row"},a+1),r.a.createElement("td",{className:Ln.a.playerResult},R("WHITE")),r.a.createElement("td",{className:"table__player row__player "+C.type,"data-testid":"match-".concat(a,"-white")},T),r.a.createElement("td",{className:Ln.a.playerResult},R("BLACK")),r.a.createElement("td",{className:"table__player row__player "+I.type,"data-testid":"match-".concat(a,"-black")},S),r.a.createElement("td",{className:Ln.a.matchResult+" data__input row__controls"},r.a.createElement("select",{className:Ln.a.winnerSelect,disabled:c.playerIds.includes(f),value:w,onBlur:k,onChange:k},r.a.createElement("option",{value:"NOTSET"},"Select winner"),r.a.createElement("option",{value:"WHITE"},"White won"),r.a.createElement("option",{value:"BLACK"},"Black won"),r.a.createElement("option",{value:"DRAW"},"Draw"))),!t&&r.a.createElement("td",{className:Ln.a.controls+" data__input"},i!==c.id?r.a.createElement("button",{className:"button-ghost",title:"Edit match",onClick:function(){return s(c.id)}},r.a.createElement(ua.Circle,null),r.a.createElement(vn.a,null,"Edit match for ",T," versus ",S)):r.a.createElement("button",{className:"button-ghost button-pressed",title:"End editing match",onClick:function(){return s(null)}},r.a.createElement(ua.CheckCircle,null)),r.a.createElement("button",{className:"button-ghost",title:"Open match information.",onClick:function(){return j(!0)}},r.a.createElement(ua.Info,null),r.a.createElement(vn.a,null,"View information for match:"," ",T," versus ",S)),r.a.createElement(Nn.a,{isOpen:v},r.a.createElement("button",{className:"button-micro button-primary",onClick:function(){return j(!1)}},"close"),r.a.createElement("p",null,_.name),r.a.createElement("p",null,"Round ",o+1,", match ",a+1),r.a.createElement(pn,null,r.a.createElement(bn,null,r.a.createElement(An,{color:0,matchId:c.id,roundId:o,scoreData:u})),r.a.createElement(bn,null,r.a.createElement(An,{color:1,matchId:c.id,roundId:o,scoreData:u}))))))}function Bn(e){var t=e.compact,a=e.roundId,n=e.selectedMatch,l=e.setSelectedMatch,c=rn().tourney,o=c.roundList[a],i=ve(W(c.roundList));return r.a.createElement("table",{className:Ln.a.table},o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("caption",{className:t?"title-30":"title-40"},"Round ",a+1," matches"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Ln.a.rowId,scope:"col"},"#"),r.a.createElement("th",{scope:"col"},r.a.createElement(vn.a,null,"White result")),r.a.createElement("th",{className:"row__player",scope:"col"},"White"),r.a.createElement("th",{scope:"col"},r.a.createElement(vn.a,null,"Black result")),r.a.createElement("th",{className:"row__player",scope:"col"},"Black"),r.a.createElement("th",{className:"row__result",scope:"col"},"Match result"),!t&&r.a.createElement("th",{className:"row__controls",scope:"col"},r.a.createElement(vn.a,null,"Controls"))))),r.a.createElement("tbody",{className:Ln.a.tbody+" content"},o.map(function(e,c){return r.a.createElement(xn,{key:e.id,compact:t,match:e,pos:c,roundId:a,selectedMatch:n,setSelectedMatch:l,scoreData:i})})))}function Mn(e){var t=e.roundId,a=rn(),c=a.tourney,o=a.players,i=a.tourneyDispatch,s=a.playersDispatch,u=c.roundList[t],m=Object(n.useState)(null),_=Object(l.a)(m,2),d=_[0],b=_[1];if(!u)return r.a.createElement(Dn,null);function p(e,a){var n,r,l=(n=e,(r=u).indexOf(gn(n,r)));i({newIndex:l+a>=0?l+a:0,oldIndex:l,roundId:t,type:"MOVE_MATCH"})}return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",disabled:null===d,onClick:function(){return function(e){var a=gn(e,u);0!==Object(Q.a)(a.result)&&a.playerIds.forEach(function(e,t){o[e]&&(s({id:e,matchCount:o[e].matchCount-1,type:"SET_PLAYER_MATCHCOUNT"}),s({id:e,rating:a.origRating[t],type:"SET_PLAYER_RATING"}))}),i({matchId:e,roundId:t,type:"DEL_MATCH"}),b(null)}(d)}},r.a.createElement(ua.Trash,null)," Unmatch")," ",r.a.createElement("button",{className:"button-micro",disabled:null===d,onClick:function(){i({matchId:d,roundId:t,type:"SWAP_COLORS"})}},r.a.createElement(ua.Repeat,null)," Swap colors")," ",r.a.createElement("button",{className:"button-micro",disabled:null===d,onClick:function(){return p(d,-1)}},r.a.createElement(ua.ArrowUp,null)," Move up")," ",r.a.createElement("button",{className:"button-micro",disabled:null===d,onClick:function(){return p(d,1)}},r.a.createElement(ua.ArrowDown,null)," Move down")),0===u.length&&r.a.createElement("p",null,"No players matched yet."),r.a.createElement(Bn,{roundId:t,selectedMatch:d,setSelectedMatch:b}))}var Hn=function(e){var t=Number(e.roundId),a=rn(),c=a.tourney,o=a.activePlayers,i=t===c.roundList.length-1?F(c.roundList,o,t):{},s=Object.keys(i).length,u=Object.keys(o).length,m=Object(n.useState)(0),_=Object(l.a)(m,2),d=_[0],b=_[1];return Object(n.useEffect)(function(){0===d&&b(s===u?1:0),1===d&&0===s&&b(0)},[s,u,d]),r.a.createElement(In.e,{index:d,onChange:b},r.a.createElement(In.b,null,r.a.createElement(In.a,{disabled:s===u},r.a.createElement(ua.List,null)," Matches"),r.a.createElement(In.a,{disabled:0===s},r.a.createElement(ua.Users,null)," Unmatched players")),r.a.createElement(In.d,null,r.a.createElement(In.c,null,r.a.createElement(Mn,{roundId:t})),r.a.createElement(In.c,null,r.a.createElement(kn,{roundId:t}))))},Un=a(84),Wn=a.n(Un);function Fn(e){var t=e.compact,a=e.title,n=rn(),l=n.tourney,c=n.getPlayer,i=l.tieBreaks,s=l.roundList,u=ye(i),m=Object(V.a)(W,ve,function(e){return ge(i,e)},Object(Ie.a)(function(e){return!B(e)}),Ne)(s);return r.a.createElement("table",{className:t?_a.a.compact+" "+_a.a.table:_a.a.table},r.a.createElement("caption",{className:t?"title-30":"title-40"},a),r.a.createElement("thead",null,r.a.createElement("tr",{className:_a.a.topHeader},r.a.createElement("th",{className:"title-10",scope:"col"},"Rank"),r.a.createElement("th",{className:"title-10",scope:"col"},"Name"),r.a.createElement("th",{className:"title-10",scope:"col"},"Score"),!t&&u.map(function(e,t){return r.a.createElement("th",{key:t,className:"title-10",scope:"col"},e)}))),r.a.createElement("tbody",null,m.map(function(e,a){return e.map(function(e,n,l){return r.a.createElement("tr",{key:e.id,className:_a.a.row},0===n&&r.a.createElement("th",{className:"table__number "+_a.a.rank,rowSpan:l.length,scope:"row"},a+1),t?r.a.createElement("td",{className:_a.a.playerName},c(e.id).firstName,"\xa0",c(e.id).lastName):r.a.createElement("th",{className:_a.a.playerName,"data-testid":a,scope:"row"},c(e.id).firstName,"\xa0",c(e.id).lastName),r.a.createElement("td",{className:"table__number","data-testid":Wn()(c(e.id).firstName+c(e.id).lastName+" score")},o()(e.score).format("1/2")),!t&&e.tieBreaks.map(function(t,a){return r.a.createElement("td",{key:a,className:"table__number","data-testid":Wn()(c(e.id).firstName+c(e.id).lastName+u[a])},o()(t).format("1/2"))}))})})))}function Vn(e){var t=rn(),a=t.tourney,c=t.tourneyDispatch,o=a.tieBreaks,i=Object(n.useState)(null),s=Object(l.a)(i,2),u=s[0],m=s[1];function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(K.a)(u);o.includes(t(e))?(c({id:t(e),type:"DEL_TIEBREAK"}),m(null)):c({id:t(e),type:"ADD_TIEBREAK"})}function d(e){var t=o.indexOf(u);c({newIndex:t+e,oldIndex:t,type:"MOVE_TIEBREAK"})}return r.a.createElement(pn,{className:"content-area"},r.a.createElement(bn,null,r.a.createElement("div",{className:"toolbar"},r.a.createElement("button",{className:"button-micro",disabled:null===u,onClick:function(){return _()}},"Toggle"),r.a.createElement("button",{className:"button-micro",disabled:null===u,onClick:function(){return d(-1)}},r.a.createElement(ua.ArrowUp,null)," Move up"),r.a.createElement("button",{className:"button-micro",disabled:null===u,onClick:function(){return d(1)}},r.a.createElement(ua.ArrowDown,null)," Move down"),r.a.createElement("button",{className:null!==u?"button-micro button-primary":"button-micro",disabled:null===u,onClick:function(){return m(null)}},"Done")),r.a.createElement("table",null,r.a.createElement("caption",{className:"title-30"},"Selected tiebreak methods"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(vn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},o.map(function(e){return r.a.createElement("tr",{key:e,className:u===e?"selected":""},r.a.createElement("td",null,fe[e].name),r.a.createElement("td",{style:{width:"48px"}},r.a.createElement("button",{className:"button-micro",disabled:null!==u&&u!==e,onClick:function(){return m(u===e?null:e)}},u===e?"Done":"Edit")))})))),r.a.createElement(bn,null,r.a.createElement("div",{className:"toolbar"},"\xa0"),r.a.createElement("table",{style:{marginTop:"16px"}},r.a.createElement("caption",{className:"title-30"},"Available tiebreak methods"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(vn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},Object.values(fe).map(function(e){var t=e.name,a=e.id;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("span",{className:o.includes(a)?"disabled":"enabled"},t)),r.a.createElement("td",null,!o.includes(a)&&r.a.createElement("button",{className:"button-micro",onClick:function(){return _(a)}},"Add")))})))))}var Jn=function(e){return r.a.createElement(In.e,null,r.a.createElement(In.b,null,r.a.createElement(In.a,null,r.a.createElement(ua.List,null)," Scores"),r.a.createElement(In.a,null,r.a.createElement(ua.Settings,null)," Edit tiebreak rules")),r.a.createElement(In.d,null,r.a.createElement(In.c,null,r.a.createElement(Fn,{title:"Score detail"})),r.a.createElement(In.c,null,r.a.createElement(Vn,null))))};function Gn(e){var t=rn(),a=t.tourney,c=t.tourneyDispatch,o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),_=Object(l.a)(m,2),d=_[0],b=_[1],p=a.date.getFullYear()+"-"+(a.date.getMonth()<9?"0"+(a.date.getMonth()+1):a.date.getMonth()+1)+"-"+(a.date.getDate()<10?"0"+a.date.getDate():a.date.getDate());return r.a.createElement("div",{className:e.className},s?r.a.createElement("p",{className:"display-20"},r.a.createElement(yn,null)," ",r.a.createElement("input",{className:"display-20",type:"text",value:a.name,onChange:function(e){return c({name:e.currentTarget.value,type:"SET_NAME"})}})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return u(!1)}},r.a.createElement(ua.Check,null))):r.a.createElement("h1",{className:"buttons-on-hover"},r.a.createElement(yn,null)," ",r.a.createElement("span",{className:"inputPlaceholder"},a.name)," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return u(!0)}},r.a.createElement(ua.Edit,null))),d?r.a.createElement("p",{className:"caption-30"},r.a.createElement(yn,null)," ",r.a.createElement("input",{className:"caption-30",type:"date",value:p,onChange:function(e){var t=e.currentTarget.value.split("-"),a=Object(l.a)(t,3),n=a[0],r=a[1],o=a[2],i=Number(n),s=Number(r)-1,u=Number(o);c({date:new Date(i,s,u),type:"SET_DATE"})}})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return b(!1)}},r.a.createElement(ua.Check,null))):r.a.createElement("p",{className:"caption-30 buttons-on-hover"},r.a.createElement(yn,null)," ",r.a.createElement(En,{date:a.date})," ",r.a.createElement("button",{className:"button-ghost",onClick:function(){return b(!0)}},r.a.createElement(ua.Edit,null))))}function Yn(){var e=rn().tourneyDispatch;return Ya("tournament options"),r.a.createElement("div",{className:"content-area"},r.a.createElement("h2",null,"Change bye scores"),r.a.createElement("button",{onClick:function(){e({type:"UPDATE_BYE_SCORES",value:1}),window.alert("Bye value updated to 1.")}},"Change to 1")," ",r.a.createElement("button",{onClick:function(){e({type:"UPDATE_BYE_SCORES",value:.5}),window.alert("Bye value updated to \xbd.")}},"Change to \xbd"),r.a.createElement("p",{className:"caption-30"},"This will update all bye matches which have been previously scored in this tournament. To change the default bye value in future matches, go to the"," ",r.a.createElement(b.a,{to:"/options"},"app options"),"."))}function Kn(e,t,a){if(a<e.roundList.length-1)return!0;var n=F(e.roundList,t,a),r=e.roundList[a].map(function(e){return e.result[0]+e.result[1]});return 0===Object.keys(n).length&&!r.includes(0)}function qn(e){var t=rn(),a=t.tourney,n=t.getPlayer,c=t.activePlayers,o=t.playersDispatch,i=t.tourneyDispatch;Ya(a.name);var s=a.roundList,u=Object(fa.a)(Kn)(a,c),m=0===s.length||u(s.length-1),_=function(e){var t=Math.ceil(Math.log2(e));return Number.isFinite(t)?t:0}(Object.keys(c).length),d=s.length>=_,p=m?d?["All rounds have completed.",!0]:["Ready to begin a new round.",!1]:["Round in progress.",!0],E=Object(l.a)(p,2),y=E[0],h=E[1];function g(){return(g=Object(pa.a)(ba.a.mark(function t(){return ba.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete the last round?")){t.next=6;break}return t.next=3,e.navigate(".");case 3:Object(ce.a)(s).forEach(function(e){e.result[0]+e.result[1]!==0&&e.playerIds.forEach(function(t,a){if(t!==f){var r=n(t).matchCount;o({id:t,matchCount:r-1,type:"SET_PLAYER_MATCHCOUNT"}),o({id:t,rating:e.origRating[a],type:"SET_PLAYER_RATING"})}})}),i({type:"DEL_LAST_ROUND"}),1===a.roundList.length&&i({type:"ADD_ROUND"});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}return r.a.createElement("div",{className:e.className},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.a,{to:".."},r.a.createElement(ua.X,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Close")))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.a,{to:"."},r.a.createElement(ua.Users,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Players"))),r.a.createElement("li",null,r.a.createElement(b.a,{to:"status"},r.a.createElement(ua.Activity,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Status"))),r.a.createElement("li",null,r.a.createElement(b.a,{to:"crosstable"},r.a.createElement(ua.Layers,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Crosstable"))),r.a.createElement("li",null,r.a.createElement(b.a,{to:"scores"},r.a.createElement(ua.List,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Score detail")))),r.a.createElement("hr",null),r.a.createElement("h5",{className:"sidebar__hide-on-close"},"Rounds"),r.a.createElement("ul",null,Object.keys(s).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(b.a,{to:"round/".concat(e)},Number(e)+1,u(Number(e))?r.a.createElement("span",{className:"sidebar__hide-on-close caption-20"},"\xa0Complete\xa0",r.a.createElement(ua.Check,null)):r.a.createElement("span",{className:"sidebar__hide-on-close caption-20"},"\xa0Not complete\xa0",r.a.createElement(ua.Alert,null))))}))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",{className:"caption-30"},r.a.createElement("label",{className:"sidebar__hide-on-close",htmlFor:"round-progress"},"Completion:"),r.a.createElement("meter",{id:"round-progress",max:_,style:{width:"100%"},title:s.length+"/"+_,value:s.length},s.length,"/",_)),r.a.createElement("li",null,r.a.createElement(fn,{className:"caption-20",success:!h,tooltip:y},r.a.createElement("span",{className:"sidebar__hide-on-close"},y)))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{className:h?"":"button-primary",disabled:!m,onClick:function(){d&&!window.confirm("All rounds have completed. Are you sure you want to begin a new one?")||i({type:"ADD_ROUND"})}},r.a.createElement(ua.Plus,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0New round"))),r.a.createElement("li",null,r.a.createElement("button",{disabled:0===s.length,onClick:function(){return g.apply(this,arguments)}},r.a.createElement(ua.Trash,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Remove last round")))),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.a,{to:"options"},r.a.createElement(ua.Settings,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Options")))))}function zn(){var e=rn().tourney,t=function(){if(0===e.roundList.length)return r.a.createElement("p",null,"No rounds played yet.");var t=e.roundList.length-1;return 0===e.roundList[t].length?r.a.createElement("p",null,"Matched players will be shown here."):r.a.createElement(Bn,{roundId:t,compact:!0})}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}},"Tournament status"),r.a.createElement(pn,{style:{justifyContent:"center"}},r.a.createElement(bn,null,t),r.a.createElement(bn,null,r.a.createElement(Fn,{title:"Rankings",compact:!0}))))}function Qn(e){return r.a.createElement(ln,{tourneyId:e.tourneyId},r.a.createElement("div",{className:_a.a.tournament+" has-sidebar"},r.a.createElement(Gn,{className:_a.a.header}),r.a.createElement(qn,{className:_a.a.sidebar+" has-sidebar__sidebar",navigate:e.navigate}),r.a.createElement("div",{className:_a.a.contentFrame+" has-sidebar__content"},r.a.createElement(b.d,null,r.a.createElement(Cn,{path:"/"}),r.a.createElement(zn,{path:"status"}),r.a.createElement(cn,{path:"crosstable"}),r.a.createElement(Jn,{path:"scores"}),r.a.createElement(Hn,{path:"round/:roundId"}),r.a.createElement(Yn,{path:"options"}),r.a.createElement(Dn,{default:!0})))))}function Zn(){return r.a.createElement("nav",{className:"has-sidebar__sidebar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.a,{to:"/tourneys"},r.a.createElement(ua.Award,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Tournaments"))),r.a.createElement("li",null,r.a.createElement(b.a,{to:"/players"},r.a.createElement(ua.Users,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Players"))),r.a.createElement("li",null,r.a.createElement(b.a,{to:"/options"},r.a.createElement(ua.Settings,null),r.a.createElement("span",{className:"sidebar__hide-on-close"},"\xa0Options")))))}function Xn(e){var t=e.children;return r.a.createElement("div",{className:"has-sidebar"},r.a.createElement(Zn,null),r.a.createElement("div",{className:"has-sidebar__content"},t))}function $n(e){var t=tn(),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Ga(Object.values(c),"date",!0),s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],_=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),E=p[0],f=p[1];return Ya("tournament list"),r.a.createElement(Xn,null,r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar toolbar__left"},r.a.createElement("button",{onClick:function(){return f(!0)}},r.a.createElement(ua.Plus,null)," Add tournament")),Object.keys(c).length>0?r.a.createElement("table",null,r.a.createElement("caption",null,"Tournament list"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(hn,{data:i,label:"Name",sortKey:"name"})),r.a.createElement("th",null,r.a.createElement(hn,{data:i,label:"Date",sortKey:"date"})),r.a.createElement("th",null,r.a.createElement(vn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},i.table.map(function(e){var t=e.date,a=e.id,n=e.name;return r.a.createElement("tr",{key:a,className:"buttons-on-hover"},r.a.createElement("td",null,r.a.createElement(b.a,{to:a},n)),r.a.createElement("td",null,r.a.createElement(En,{date:t})),r.a.createElement("td",null,r.a.createElement("button",{"aria-label":"Delete \u201c".concat(n,"\u201d"),className:"danger button-ghost",title:"Delete \u201c".concat(n,"\u201d"),onClick:function(){return function(e,t){var a="Are you sure you want to delete \u201c"+t+"\u201d?";window.confirm(a)&&o({id:e,type:"DEL_ITEM"})}(a,n)}},r.a.createElement(ua.Trash,null))))}))):r.a.createElement("p",null,"No tournaments added yet."),r.a.createElement(Nn.a,{isOpen:E},r.a.createElement("button",{className:"button-micro",onClick:function(){return f(!1)}},"Close"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o({name:m,type:"ADD_TOURNEY"}),_(""),f(!1)}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Make a new tournament"),r.a.createElement("label",{htmlFor:"tourney-name"},"Name:"),r.a.createElement("input",{id:"tourney-name",name:"tourney-name",placeholder:"tournament name",required:!0,type:"text",value:m,onChange:function(e){_(e.target.value)}})," ",r.a.createElement("input",{className:"button-primary",type:"submit",value:"Create"}))))))}var er=function(e){return r.a.createElement("div",{className:"passthrough"},e.children)},tr=a(138),ar=a.n(tr),nr=a(139),rr=a(140),lr=a(141);Object.freeze({options:xa()(nr,D.OptionsDb),players:xa()(rr,D.PlayersDb),tournaments:xa()(lr,D.TourneysDb)});function cr(){window.alert("That data is invalid! A more helpful error message could not be written yet, either.")}function or(e){var t=tn(),a=Object(l.a)(t,2),c=a[0],o=a[1],i=en(),s=Object(l.a)(i,2),u=s[0],m=s[1],_=Object(n.useState)(""),d=Object(l.a)(_,2),b=d[0],p=d[1],E=an(),f=Object(l.a)(E,2),y=f[0],h=f[1];Ya("Options");var g=Object(n.useMemo)(function(){return{options:y,players:u,tournaments:c}},[y,c,u]);function N(e){o({state:xa()(e.tournaments,D.TourneysDb),type:"LOAD_STATE"}),h({state:xa()(e.options,D.OptionsDb),type:"LOAD_STATE"}),m({state:xa()(e.players,D.PlayersDb),type:"LOAD_STATE"}),window.alert("Data loaded!")}return Object(n.useEffect)(function(){p(JSON.stringify(g,null,4))},[g]),r.a.createElement(Xn,null,r.a.createElement("div",{className:ar.a.options+" content-area"},r.a.createElement("h2",null,"Bye settings"),r.a.createElement("form",null,r.a.createElement("p",{className:"caption-30"},"Select the default score for a bye round."),r.a.createElement("label",{className:"monospace body-30"},"1"," ",r.a.createElement("input",{checked:1===y.byeValue,type:"radio",onChange:function(){return h({option:"byeValue",type:"SET_OPTION",value:1})}})),r.a.createElement("label",{className:"monospace body-30"},"\xbd"," ",r.a.createElement("input",{checked:.5===y.byeValue,type:"radio",onChange:function(){return h({option:"byeValue",type:"SET_OPTION",value:.5})}}))),r.a.createElement("h2",null,"Manage data"),r.a.createElement("p",null,r.a.createElement("a",{download:"chessahoochee.json",href:"data:application/json,"+encodeURIComponent(JSON.stringify(g))},r.a.createElement(ua.Download,null)," Export all data")),r.a.createElement("label",{htmlFor:"file"},"Load data file:"),r.a.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.preventDefault();var t=new FileReader;t.onload=function(e){var t=e.target.result;try{N(JSON.parse(t))}catch(a){cr()}},t.readAsText(e.currentTarget.files[0]),e.currentTarget.value=""}}),r.a.createElement("h2",null,"Danger zone"),r.a.createElement("p",{className:"caption-30"},"I hope you know what you're doing..."),r.a.createElement("button",{onClick:function(e){e.preventDefault(),N(Ua)}},"Reset demo data (this erases everything else)")," ",!1,r.a.createElement("h3",null,"Advanced: manually edit data"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{N(JSON.parse(b))}catch(t){cr()}}},r.a.createElement("textarea",{className:"json",cols:50,name:"playerdata",rows:25,spellCheck:!1,value:b,onChange:function(e){return p(e.currentTarget.value)}}),r.a.createElement("p",null,r.a.createElement("input",{type:"submit",value:"Load"})))))}var ir=a(69),sr=a.n(ir);function ur(e){var t=e.sorted,a=e.players,c=e.playersDispatch,o=e.optionsDispatch,i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],m=s[1];Ya("Players");return r.a.createElement("div",{className:"content-area"},r.a.createElement("div",{className:"toolbar toolbar__left"},r.a.createElement("button",{onClick:function(){return m(!0)}},r.a.createElement(ua.UserPlus,null)," Add a new player")),r.a.createElement("table",{className:sr.a.table},r.a.createElement("caption",null,"Player roster"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(hn,{data:t,label:"Name",sortKey:"firstName"})),r.a.createElement("th",null,r.a.createElement(hn,{data:t,label:"Rating",sortKey:"rating"})),r.a.createElement("th",null,r.a.createElement(hn,{data:t,label:"Matches",sortKey:"matchCount"})),r.a.createElement("th",null,r.a.createElement(vn.a,null,"Controls")))),r.a.createElement("tbody",{className:"content"},t.table.map(function(e){return r.a.createElement("tr",{key:e.id,className:"buttons-on-hover"},r.a.createElement("td",{className:"table__player"},r.a.createElement(b.a,{to:e.id},e.firstName," ",e.lastName)),r.a.createElement("td",{className:"table__number"},e.rating),r.a.createElement("td",{className:"table__number"},e.matchCount),r.a.createElement("td",null,r.a.createElement("button",{className:"danger button-ghost",onClick:function(t){return function(e,t){e.preventDefault();var n="Are you sure you want to delete "+a[t].firstName+" "+a[t].lastName+"?";window.confirm(n)&&(c({id:t,type:"DEL_ITEM"}),o({id:t,type:"DEL_AVOID_SINGLE"}))}(t,e.id)}},r.a.createElement(ua.Trash,null),r.a.createElement(vn.a,null,"Delete ",e.firstName," ",e.lastName))))}))),r.a.createElement(Nn.a,{isOpen:u},r.a.createElement("button",{className:"button-micro",onClick:function(){return m(!1)}},"Close"),r.a.createElement(On,{dispatch:c})))}function mr(e){var t=e.playerId,a=e.players,c=e.playersDispatch,i=e.options,s=e.optionsDispatch,u=a[t];Ya("profile for "+(u?u.firstName+" "+u.lastName:""));var m=i.avoidPairs.reduce(je,{}),_=m[t]?m[t]:[],d=Object.keys(a).filter(function(e){return!_.includes(e)&&e!==t}),p=Object(n.useState)(d[0]),E=Object(l.a)(p,2),f=E[0],y=E[1];function h(e){e.preventDefault();var a=e.currentTarget,n=a.firstName,r=a.lastName,l=a.matchCount,o=a.rating;c({firstName:n.value,id:t,lastName:r.value,matchCount:Number(l.value),rating:Number(o.value),type:"SET_PLAYER"})}function g(e){y(e.target.value)}return u?r.a.createElement("div",{className:sr.a.playerInfo+" content-area"},r.a.createElement(b.a,{to:".."},r.a.createElement(ua.ChevronLeft,null)," Back"),r.a.createElement("h2",null,"Profile for ",u.firstName," ",u.lastName),r.a.createElement("form",{onChange:h,onSubmit:h},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{defaultValue:u.firstName,name:"firstName",type:"text"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{defaultValue:u.lastName,name:"lastName",type:"text"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"matchCount"},"Matches played"),r.a.createElement("input",{defaultValue:String(u.matchCount),name:"matchCount",type:"number"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"rating"},"Rating"),r.a.createElement("input",{defaultValue:String(u.rating),name:"rating",type:"number"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"Kfactor"},"K factor"),r.a.createElement("input",{name:"kfactor",type:"number",disabled:!0,value:o()(tt.getKFactor(u.matchCount)).format("00"),readOnly:!0}))),r.a.createElement("h3",null,"Players to avoid"),r.a.createElement("ul",null,_.map(function(e){return r.a.createElement("li",{key:e},a[e].firstName," ",a[e].lastName,r.a.createElement("button",{"arial-label":"Remove \n".concat(a[e].firstName," ").concat(a[e].lastName," from avoid list."),className:"danger button-ghost",title:"Remove ".concat(a[e].firstName," \n").concat(a[e].lastName),onClick:function(){return s({pair:[t,e],type:"DEL_AVOID_PAIR"})}},r.a.createElement(ua.Trash,null)))}),0===_.length&&r.a.createElement("li",null,"None")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s({pair:[t,f],type:"ADD_AVOID_PAIR"})}},r.a.createElement("label",{htmlFor:"avoid-select"},"Select a new player to avoid."),r.a.createElement("select",{id:"avoid-select",onBlur:g,onChange:g,value:f},d.map(function(e){return r.a.createElement("option",{key:e,value:e},a[e].firstName," ",a[e].lastName)}))," ",r.a.createElement("input",{className:"button-micro",type:"submit",value:"Add"}))):r.a.createElement("div",null,"Loading...")}function _r(e){return e.players[e.playerId]?r.a.createElement(mr,e):r.a.createElement("div",null,"Error: player profile not found.")}function dr(e){var t=en(),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Ga(Object(n.useMemo)(function(){return Object.values(c)},[c]),"firstName",!1),s=an(),u=Object(l.a)(s,2),m={options:u[0],optionsDispatch:u[1],players:c,playersDispatch:o};return r.a.createElement(Xn,null,r.a.createElement(b.d,{basepath:"players"},r.a.createElement(ur,Object.assign({path:"/",sorted:i},m)),r.a.createElement(_r,Object.assign({path:":playerId"},m))))}var br=a(72),pr=a.n(br),Er=function(e){return r.a.createElement("aside",Object.assign({},e,{className:un()(pr.a.caution,"body-20",e.className)}),r.a.createElement("p",{className:pr.a.caution__text},"This is beta software. Want to help make it better? Check out the"," ",r.a.createElement("span",{role:"img","aria-hidden":!0},"\ud83d\udc49"),"\xa0",r.a.createElement("a",{className:pr.a.caution__link,href:"https://github.com/johnridesabike/chessahoochee"},"Git repository"),"."))},fr=a(43),yr=a.n(fr),hr=function(e){return r.a.createElement(Xn,null,r.a.createElement("div",{className:yr.a.splash},r.a.createElement("aside",{className:yr.a.hint},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("button",{className:"button-primary",onClick:Za},"Click here to load the demo data")," ","(optional)"),r.a.createElement("li",null,r.a.createElement(ua.ArrowLeft,null)," Select a menu item."),r.a.createElement("li",null,"Start creating your tournaments!")),r.a.createElement(fn,{warning:!0},"If you experience any glitches or crashes,",r.a.createElement("br",null),"clear your browser cache and try again.")),r.a.createElement("div",{className:yr.a.title},r.a.createElement("div",{className:yr.a.titleIcon},r.a.createElement(ua.Logo,null)),r.a.createElement("div",{className:yr.a.titleText},r.a.createElement("h1",{className:"title"},"Chessahoochee"),r.a.createElement("p",{className:yr.a.subtitle+" caption-30"},"a chess tournament app"))),r.a.createElement("footer",{className:"body-20 "+yr.a.footer},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("p",null,"Copyright \xa9 2019 John Jackson."),r.a.createElement("p",null,"Chessahoochee is free software.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/johnridesabike/chessahoochee"},"Source code is available")," ","under the"," ",r.a.createElement("a",{href:"https://github.com/johnridesabike/chessahoochee/blob/master/LICENSE"},"AGPL v3.0 license"),".")),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/johnridesabike/chessahoochee/issues/new"},"Suggetions and bug reports are welcome.")),r.a.createElement("p",null,"Built with JavaScript and"," ",r.a.createElement("a",{href:"https://reactjs.org/"},"React"),"."," ",r.a.createElement("span",{style:{fontSize:"16px"}},r.a.createElement(ua.Javascript,null)," ",r.a.createElement(ua.React,null))))),r.a.createElement(Er,{style:{margin:"0 -16px",width:"calc(100% + 32px"}}))))},gr=a(45),Nr=a.n(gr),Or=function(){return r.a.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 11 11",width:"11",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z",fill:"#000"}))},vr=function(){return r.a.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 11 11",width:"11",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z",fill:"#000"}))},jr=function(){return r.a.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 11 11",width:"11",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M11 4.399V5.5H0V4.399h11z",fill:"#000"}))},wr=function(){return r.a.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 11 11",width:"11",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z",fill:"#000"}))};function Cr(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){m(function(){var e=u.remote.getCurrentWindow();function t(){e.removeAllListeners("maximize"),e.removeAllListeners("unmaximize")}return t(),e.on("maximize",function(){return c(!0)}),e.on("unmaximize",function(){return c(!1)}),c(e.isMaximized()),t})},[]);var o=u.remote.getCurrentWindow();return r.a.createElement("div",{className:Nr.a.container},r.a.createElement("button",{className:Nr.a.winButton+" button-ghost",onClick:function(){return o.minimize()}},r.a.createElement(jr,null)),a?r.a.createElement("button",{className:Nr.a.winButton+" button-ghost",onClick:function(){return o.unmaximize()}},r.a.createElement(wr,null)):r.a.createElement("button",{className:Nr.a.winButton+" button-ghost",onClick:function(){return o.maximize()}},r.a.createElement(vr,null)),r.a.createElement("button",{className:Nr.a.winButton+" "+Nr.a.close+" button-ghost",onClick:function(){return o.close()}},r.a.createElement(Or,null)))}var Ir=a(142),Tr=a.n(Ir)()(),Sr=Object(b.e)(Tr);var Rr=function(){Ya("a chess tournament app");var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],p=i[1],E=Object(n.useState)(!1),f=Object(l.a)(E,2),y=f[0],h=f[1];return Object(n.useEffect)(function(){m(function(){var e=u.remote.getCurrentWindow();function t(){e.removeAllListeners("enter-full-screen"),e.removeAllListeners("leave-full-screen"),e.removeAllListeners("blur"),e.removeAllListeners("focus")}return t(),e.on("enter-full-screen",function(){return p(!0)}),e.on("leave-full-screen",function(){return p(!1)}),e.on("blur",function(){return h(!0)}),e.on("focus",function(){return h(!1)}),p(e.isFullScreen()),h(!e.isFocused()),t})},[]),r.a.createElement("div",{className:un()("app",{"open-sidebar":a},{"closed-sidebar":!a},{"window-blur":y},{isWindows:navigator.appVersion.includes("Windows")},{isElectron:u})},r.a.createElement(b.c,{history:Sr},r.a.createElement("header",{className:un()("header","double-click-control",{"traffic-light-padding":navigator.appVersion.includes("Mac")&&u&&!s}),onDoubleClick:_},r.a.createElement("div",null,r.a.createElement(d,null,r.a.createElement("span",{style:{alignItems:"center",display:"inline-flex",marginRight:"8px"}},r.a.createElement(ua.Logo,null))),r.a.createElement("button",{className:"button-ghost",onClick:function(){return c(!a)}},r.a.createElement(ua.Sidebar,null),r.a.createElement(vn.a,null,"Toggle sidebar")),r.a.createElement(b.b,null,function(e){var t=e.location,a=e.navigate;return r.a.createElement("button",{className:"button-ghost",disabled:"/"===t.pathname,onClick:function(){return a("/")}},r.a.createElement(ua.Help,null),r.a.createElement(vn.a,null,"About"))})),r.a.createElement("div",{className:un()("body-20","double-click-control",{disabled:y}),style:{left:"0",marginLeft:"auto",marginRight:"auto",position:"absolute",right:"0",width:"100px"}},"Chessahoochee"),r.a.createElement(d,null,r.a.createElement(Cr,null))),r.a.createElement("main",{className:"main"},r.a.createElement(b.d,null,r.a.createElement(hr,{path:"/"}),r.a.createElement(er,{path:"tourneys"},r.a.createElement($n,{path:"/"}),r.a.createElement(Qn,{path:":tourneyId/*"})),r.a.createElement(dr,{path:"players/*"}),r.a.createElement(or,{path:"options"}),r.a.createElement(Dn,{default:!0})))))},kr=a(67);a.n(kr).a.render(r.a.createElement(n.StrictMode,null,r.a.createElement(Rr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,a){e.exports={winnerSelect:"round_winnerSelect__SDt38",table:"round_table__1x8KG",tbody:"round_tbody__1pAwr",rowId:"round_rowId__2gYfm",controls:"round_controls__1XYFl",matchResult:"round_matchResult__1tb7r",playerResult:"round_playerResult__3TMo7"}},43:function(e,t,a){e.exports={splash:"splash_splash__2ZYEI",hint:"splash_hint__22vCa",footer:"splash_footer__HxH6K",title:"splash_title__2TA4V",titleIcon:"splash_titleIcon__3Nzmb",titleText:"splash_titleText__3P6sf",subtitle:"splash_subtitle__4wRgt"}},45:function(e,t,a){e.exports={container:"windows-controls_container__1-7Ur",winButton:"windows-controls_winButton__2s6YB",close:"windows-controls_close__3i226"}},69:function(e,t,a){e.exports={table:"players_table__1xHiA",playerInfo:"players_playerInfo__2We7m",controls:"players_controls__1d2AM"}},72:function(e,t,a){e.exports={caution:"caution_caution__17Bbq",caution__text:"caution_caution__text__2ptRS",caution__link:"caution_caution__link__X_K5Y"}},82:function(e,t,a){e.exports={panels:"utility_panels__LN75I",panel:"utility_panel__2GOiH"}}},[[150,1,2]]]);
//# sourceMappingURL=main.530e6f76.chunk.js.map