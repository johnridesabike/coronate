{"version":3,"sources":["Utils.bs.js","Hooks.bs.js","Data/Data_Config.bs.js","DemoData.bs.js","Data/Data_Player.bs.js","Pairing.bs.js","Data/Data_Match.bs.js","Data/Data_Rounds.bs.js","Data/Data_Tournament.bs.js","Db.bs.js","Icons.bs.js","Electron.bs.js","Externals.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","Scoring.bs.js","PagePlayers.bs.js","Data/Data_Converters.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/HigherOrderComponents.bs.js","PageTournament/PairPicker.bs.js","PageTournament/PageRound.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js","index.js","assets/icon-min.svg","assets/caution.svg"],"names":["nanoid","prim","Nanoid","ascend","getter","a","b","Caml_obj","Curry","descend","$$Array","last","arr","Belt_Array","length","sum","reduce","prim$1","sumF","swap","idx1","idx2","match","match$1","undefined","Caml_option","List","list","Belt_List","toReactArrayReverse","fn","result","item","unshift","toReactArrayReverseWithIndex","i","push","toReactArray","toReactArrayWithIndex","WebpackAssets","logo","require","caution","Entities","nbsp","copy","formatter","Intl_DateTimeFormat","DateFormat","make","Props","date","React","dateTime","toISOString","formatter$1","DateTimeFormat","panels","Css","panel","Panel","children","className","style","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","magenta_50","magenta_60","magenta_70","magenta_80","magenta_90","purple_30","purple_40","purple_50","purple_60","purple_70","purple_80","purple_90","blue_40","blue_50","blue_50_A30","blue_60","blue_70","blue_80","blue_90","teal_50","teal_60","teal_70","teal_80","teal_90","green_60","green_70","green_80","yellow_60","yellow_70","yellow_80","red_50","red_70","red_80","red_90","orange_50","orange_60","orange_70","orange_80","orange_90","grey_10","grey_10_A10","grey_10_A20","grey_10_A40","grey_10_A60","grey_10_A80","grey_20","grey_30","grey_40","grey_50","grey_60","grey_70","grey_80","grey_90","grey_90_A05","grey_90_A10","grey_90_A20","grey_90_A30","grey_90_A40","grey_90_A50","grey_90_A60","grey_90_A70","grey_90_A80","grey_90_A90","ink_70","ink_80","ink_90","container","text","icon","success","warning","error","$$Notification","Style","match$4","kind","tooltip","match$2","match$3","ReactFeather","title","Router","hashPath","hashString","split","path","HashLink","to_","onDragStart","hash","ReasonReactRouter","ariaCurrent","href","Numeral","regexps","format","unformat","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","toString","Number","github_url","license_url","issues_url","sortedTableReducer","state","action","newState","tag","sortFunc","direction","Utils$Coronate","func","str","toLowerCase","table","Belt_SortArray","useSortedTable","column","isDescending","initialState","dispatch","SortButton","sortColumn","data","chevronStyle","opacity","width","onClick","param","Block","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","fromFloat","json","decode","Json_decode","T","Belt_Id","cmp","param$1","d","c","w","$$String","x","y","z","empty","Belt_Set","decode$1","encode$1","Json_encode","toMapReducer","acc","id2","id1","Belt_MapString","newList1","newList2","AvoidPairs","fromArray","encode","toMap","__x","decode$2","encode$2","$$default","Date","config","Data_Config$Coronate","players","tournaments","fromString","Type","dummy_id","isDummyId","playerId","dummyPlayer","getPlayerMaybe","playerMap","id","makeMissingPlayer","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","metBefore","mustAvoid","isDiffDueColor","scoreDiff","abs","halfDiff","Pervasives","isDiffHalf","descendingRating","setUpperHalves","dataList","playerData","midpoint","splitInHalf","getIndex","sortByScoreThenRating","data1","data2","Caml_primitive","assignColorsForPair","pair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","score","Result","toFloat","color","byeResultForPlayerColor","byeValue","scoreByeMatch","match_","Data_Player$Coronate","autoPair","pairData","byeQueue","filteredData","dummyId","dataForNextBye","p","playerIdsWithoutByes","nextByeSignups","Pairing$Coronate","byePlayerData","pairs","playerIdArray","playerArray","EdmondsBlossom","accArr","index","playerMatches","map","indexOf","concat","p1Index","p2Index","p1Id","p2Id","p1","p2","matched","matchedHasId","pairsWithBye","blackId","whiteId","manualPair","black","white","Data_Match$Coronate","getMatched","round","setMatch","Belt_Option","wasSuccessful","Round","addMatches","matches","getMatchById","removeMatchById","getLastKey","rounds","get","set","key","setMatch$1","rounds2Matches","roundList","lastRound","slice","isRoundComplete","roundId","unmatched","results","includes","addRound","delLastRound","updateByeScores","newValue","mapTieBreakName","tieBreak","tieBreakToString","encodeTieBreak","decodeTieBreak","tieBreakFromString","partial_arg","Data_Rounds$Coronate","futureFromPromise","FutureJs","console","String","localForageConfig","param$2","param$3","param$4","param$5","prim$2","prim$4","prim$5","tmp","name","storeName","driver","size","version","description","configDb","Record$LocalForage","Map$LocalForage","Data_Tournament$Coronate","genericDbReducer","useAllDb","store","items","setIsLoaded","Hooks$Coronate","didCancel","Future","Localforage","keys","stateKeys","deleted","filter","useAllPlayers","useAllTournaments","configReducer","useConfig","values","IconData","Reason","Icons$SimpleIcon","height","ariaLabel","match$5","ariaHidden","role","ReactDOMRe","combine","fill","hex","viewBox","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","window","electron_","ifElectron","electron","remote","getCurrentWindow","openInBrowser","$$event","preventDefault","shell","openExternal","target","macOSDoubleClick","doubleClickAction","systemPreferences","getUserDefault","$$window","isMaximized","unmaximize","maximize","toggleMaximize","minimize","isWin","navigator","appVersion","isMac","isElectron","IfElectron","os","Dialog$1","isOpen","onDismiss","Dialog","global_title","formatTitle","initialWinState","windowReducer","windowContext","makeProps","Provider","useWindowContext","Window$About","display","justifyContent","textAlign","flex","alt","src","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","sidebarCallback","Body","footerFunc","sidebarFunc","make$1","Webapi__Dom__Document","win","unregisterListeners","removeAllListeners","on","isFocused","isFullScreen","Externals$Coronate","backgroundColor","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","Splash","Window$Coronate","Promise","all","DemoData$Coronate","then","alert","resolve","catch","fontSize","log2","num","log","fixNumber","POSITIVE_INFINITY","NEGATIVE_INFINITY","updateFloat","minimum","Belt_Float","currentTarget","safeValue","updateInt","Belt_Int","TimeCalculator","setPlayers","setBreakTime","breakTime","setTotalTime","totalTime","htmlFor","min","type","onChange","ceil","step","NotFound","Boolean","location","hostname","unregister","serviceWorker","ready","registration","getDateForFile","getFullYear","getMonth","getDate","invalidAlert","decodeOptions","dict","dict$1","Js_dict","encodeOptions","map$1","PageOptions$LastBackupDate","getTime","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","windowDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","checked","download","reader","FileReader","onload","ev","val","raw_exn","exn","Caml_js_exceptions","readAsText","files","onSubmit","spellCheck","cols","rows","newText","Color","opposite","toScore","createBlankScoreData","$staropt$star","firstRating","isNotDummy","scores","oppId","getPlayerScore","getOpponentScores","getMedianScore","getSolkoffScore","runningReducer","getCumulativeScore","getCumulativeOfOpponentScore","getColorBalanceScore","mapTieBreak","createStandingList","methods","funcList","tbType","tieBreaks","_tieBreaks","tieBreaks$1","rest","getTieBreak","x$1","standingsSorter","createStandingTree","standingList","standing","lastRank","pastRanks","standing1","standing2","comparisons","areScoresEqual","getKFactor","matchCount","ne","Caml_int32","keepAboveFloor","rating","Ratings","EloRank","calcNewRatings","blackRating","whiteRating","whiteElo","blackElo","whiteExpected","getExpected","blackExpected","updateRating","sortName","sortRating","sortMatchCount","defaultFirstName","defaultLastName","defaultRating","PagePlayers$NewPlayerForm","addPlayerCallback","setFirstName","firstName","setLastName","lastName","setRating","updateField","Caml_format","required","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","setIsDialogOpen","$$event$1","playerOpt","player","message","confirm","PagePlayers$Profile","playerName","avoidMap","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","handleChange","defaultValue","disabled","readOnly","Scoring$Coronate","pId","newSelected","selectedAvoider$1","onBlur","Pages$Coronate","makeScoreData","existingData","origRating","newRating","oldData","newResultsNoByes","oldOppResults","oppResult","matches2ScoreData","matchList","whiteData","blackData","PageTourneyPlayers$Selecting","tourney","setTourney","playerIds","togglePlayer","PagePlayers$Coronate","Selecting","hasHadBye","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","colSpan","flexShrink","WithScoreInfo","BaseComponent","scoreData","avoidPairs","getPlayer","opponentResults","hasBye","colorBalance","avoidList","opponentResults$1","opId","avoidListHtml","sortByName","sortByIdeal","PairPicker$SelectList","stagedPlayers","setStagedPlayers","sortedDispatch","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","PairPicker$Stage","whiteName","blackName","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","ideal","newRound","PlayerInfo","HigherOrderComponents$Coronate","fullName","unmatchedCount","unmatchedWithDummy","setIsModalOpen","scoreMap","playerStats","newAvoidIds","newData","Data_Converters$Coronate","round$1","round$2","flexGrow","PageTourneyPlayers$Coronate","winnerSelect","td","rowId","controls","matchResult","playerResult","PlayerMatchInfo","PageRound$MatchRow","isCompact","pos","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","newResult","newWhiteScore","newBlackScore","blackNewRating","whiteNewRating","white_000","white_001","white_002","white_003","white_005","white$1","black_000","black_001","black_002","black_003","black_005","black$1","newMatch","tmp$1","setSelectedMatch$1","scoreData$1","scope","PageRound$RoundTable","RoundTable","PageRound$Round","moveMatch","matchId","oldIndex","newIndex","PageRound","activePlayersCount","initialTab","setOpenTab","Tabs","PairPicker$Coronate","isThisTheLastRound","calcNumOfRounds","playerCount","roundCount","emptyTourney","tournamentReducer","tourneyId","arePlayersLoaded","setTourneyLoaded","tourneyLoaded","isItOver","isNewRoundReady","makeDateInput","year","rawMonth","rawDate","month","day","setEditing","editing","nameInput","dateInput","focusRef","myref","current","Webapi__Dom__Element","focus","ref","year$1","month$1","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreakNames","standingTree","rank$1","standingsFlat","rowSpan","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","tbId","moveTb","marginTop","getXScore","player1Id","player2Id","getRatingChangeTds","lastRating","change","Crosstable","standings","index2","opponent","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","basePath","forEach","LoadTournament$Coronate","exit","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","t","placeholder","Index$App","url","PageOptions$Coronate","PageTourney$Coronate","PageTournamentList$Coronate","App","ServiceWorker$1","ServiceWorker","module","exports"],"mappings":"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A+LAC,UA5LqC,CACrC,QACA,UA2LAC,UAxLqC,CACrC,QACA,UAuLAC,QApLmC,CACnC,QACA,UAmLAC,YAhLuC,CACvC,QACA,YA+KAC,YA5KuC,CACvC,QACA,YA2KAC,YAxKuC,CACvC,QACA,YAuKAC,YApKuC,CACvC,QACA,YAmKAC,YAhKuC,CACvC,QACA,YA+JAC,QA5JmC,CACnC,QACA,UA2JAC,QAxJmC,CACnC,QACA,UAuJAC,QApJmC,CACnC,QACA,UAmJAC,QAhJmC,CACnC,QACA,UA+IAC,QA5ImC,CACnC,QACA,UA2IAC,QAxImC,CACnC,QACA,UAuIAC,QApImC,CACnC,QACA,UAmIAC,QAhImC,CACnC,QACA,UA+HAC,YA5HuC,CACvC,QACA,YA2HAC,YAxHuC,CACvC,QACA,YAuHAC,YApHuC,CACvC,QACA,YAmHAC,YAhHuC,CACvC,QACA,YA+GAC,YA5GuC,CACvC,QACA,YA2GAC,YAxGuC,CACvC,QACA,YAuGAC,YApGuC,CACvC,QACA,YAmGAC,YAhGuC,CACvC,QACA,YA+FAC,YA5FuC,CACvC,QACA,YA2FAC,YAxFuC,CACvC,QACA,YAuFAC,OApFkC,CAClC,QACA,UAmFAC,OAhFkC,CAClC,QACA,UA+EAC,OA5EkC,CAClC,QACA,UA2EAnE,UAAWA,GAGToE,GAAYjF,IAAkB,CAC5BA,KAAuB,YACf,CACNA,IAA2B,SACnB,CACNA,IAA+B,UACvB,CACNA,IAAuB,CACjB,MACA,KAEE,CACNA,IAAsB,CAChB,MACA,KAEE,CACNA,IAAyB,CACnB,QACA,MAEE,CACNA,IAAwB,CAClB,MACA,IAEE,CACNA,IAA2B,CACrB,MACA,IAEE,CACNA,IAAqB,CACf,MACA,IACY,WACV,CACNA,IAA0B,CACpB,MACA,IAEE,aAY5BkF,GAAOlF,IAAkB,CACvBA,KAAuB,YACf,CACNA,IAA2B,SACnB,CACNA,IAA2B,UACnB,MAKdmF,GAAOnF,IAAkB,CACvBA,KAAuB,YACf,CACNA,IAA2B,SACnB,CACNA,IAA2B,UACnB,CACNA,IAAe,GACP,CACNA,KAAuB,UAAoB,CACrC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AAcc,GAAUhB,GAC5CE,KAAkB,WAAYD,GAAQD,GACpCE,KAAkB,aAAcA,KAAkBF,IAI5E,SAASgC,GAAS9C,GAChB,OAAOgC,KAA4B,CACZ,CACT,aACAD,GAAS/B,EAAqB,KAExB,CACK,CACT,WACAA,EAAmB,GAAK,GAAM,GAExB,CACK,CACT,aACAgC,KAAiBhC,EAAqB,KAEhC,MAM1B,IAEI+C,GAAwB,CACVnB,GACK,EAJW,IAAIoB,KAAK,IC9KvCC,GAAqB,CAjBQC,GAAgCT,UAAqB,CACrE,CACT,wBACA,yBAES,CACT,wBACA,yBAES,CACT,wBACA,2BAQe,EAJU,IAAIO,KAAK,6BAQtCG,GAAUd,IAAoC,CACjC,CACT,wBACY,CACK,QACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,aACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,UACP,wBACM,SACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,SACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,GACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,YACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,WACP,wBACM,QACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,OACE,EACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,IACQ,MAK1Be,GAAcf,IAAoC,CACrC,CACT,wBACY,CACF,wBACE,mBACA,IAAIW,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,WAUJ,GACC,CACT,EACC,EACG,EACY,GAEP,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACF,GAET,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,OAMtB,CACT,wBACY,CACF,wBACE,6BACA,IAAIA,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,oBAmBtB,GACC,CACT,EACC,EACG,EACY,GAEP,CACV,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACF,GAET,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,IAGhB,Q,SCzoBvB,SAASzE,GAASyB,GAChB,OAAQA,GACN,KAAiB,EACb,MAAO,SACX,KAAgB,EACZ,MAAO,QACX,KAAkB,EACd,MAAO,WAKf,SAASqD,GAAWhE,GAClB,OAAQA,GACN,IAAK,QACD,OAAO,EACX,IAAK,UACD,OAAO,EACX,IAAK,SAEL,QACE,OAAO,GAMb,SAAS0B,GAAOf,GACd,OAAOqD,GAAWrC,KAAmBhB,IAGvC,IAAIsD,GAAO,CACT/E,SAAUA,GACV8E,WAAYA,GACZX,OATWnE,GAUXwC,OAAQA,IAGV,SAASe,GAAShB,GAChB,MAAO,CACgBE,KAAkB,YAAaA,KAAoBF,GAC1DE,KAAkB,KAAMA,KAAoBF,GACtCE,KA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CY,CACK,QACP,wBACM,YACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,UACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,SACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,SACP,wBACM,cACE,EACJ,IACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,MACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,QACP,wBACM,YACE,GACJ,IACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,YACE,GACJ,IACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,QACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,OACP,wBACM,MACE,GACJ,KACQ,IAGb,CACT,wBACY,CACK,MACP,wBACM,QACE,GACJ,KACQ,MAKZA,IAAoC,CACrC,CACT,wBACY,CACF,wBACE,oBACA,IAAIW,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,SAQA,GACC,CACT,EACC,EACG,EACY,GAEP,CAAY,MAG5B,CACT,wBACY,CACF,wBACE,sBACA,IAAIA,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,SAQA,GACC,CACT,EACC,EACG,EACY,GAEP,CAAY,CACnB,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,OAKtB,CACT,wBACY,CACF,wBACE,gBACA,IAAIA,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,KAIQ,GACC,CACT,EACC,EACG,EACY,GAEP,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,IAGhB,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACE,OAMtB,CACT,wBACY,CACF,wBACE,iBACA,IAAIA,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,UASF,GACC,CACT,EACC,EACG,EACY,GAEP,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACE,IAGhB,MAIN,CACT,wBACY,CACF,wBACE,qBACA,IAAIA,KAAK,4BACC,CAClB,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,CACN,wBACQ,UASF,GACC,CACT,EACC,EACG,EACY,GAEP,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACE,GAEb,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACF,IAGZ,Q,OC7jBvB,SAASwU,GAAenX,GACtB,IAAI7J,EAAO,IAAIwM,KACf,OAAOxB,KAAgB,IAAa,CACxBhL,EAAKihB,cAAclZ,WACX,CACNZ,KAAgBnH,EAAKkhB,WAAa,GAAK7Z,OAAO,MACtC,CACNF,KAAgBnH,EAAKmhB,WAAW9Z,OAAO,MAC/B,MAM1B,SAAS+Z,GAAavX,GAEpB,OADA6O,OAA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","file":"static/js/main.842f73ae.chunk.js","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Nanoid from \"nanoid\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReasonReact from \"reason-react/src/ReasonReact.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction nanoid(prim) {\n  return Nanoid.default();\n}\n\nfunction ascend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, a), Curry._1(getter, b));\n}\n\nfunction descend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, b), Curry._1(getter, a));\n}\n\nfunction last(arr) {\n  return Belt_Array.get(arr, arr.length - 1 | 0);\n}\n\nfunction sum(arr) {\n  return arr.reduce((function (prim, prim$1) {\n                return prim + prim$1 | 0;\n              }), 0);\n}\n\nfunction sumF(arr) {\n  return arr.reduce((function (prim, prim$1) {\n                return prim + prim$1;\n              }), 0.0);\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  last: last,\n  sum: sum,\n  sumF: sumF,\n  swap: swap\n};\n\nfunction sumF$1(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction toReactArrayReverse(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEach(list, (function (item) {\n          return result.unshift(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayReverseWithIndex(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEachWithIndex(Belt_List.reverse(list), (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nfunction toReactArray(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEach(list, (function (item) {\n          return result.push(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayWithIndex(list, fn) {\n  var result = /* array */[];\n  Belt_List.forEachWithIndex(list, (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nvar List = {\n  sumF: sumF$1,\n  toReactArrayReverse: toReactArrayReverse,\n  toReactArrayReverseWithIndex: toReactArrayReverseWithIndex,\n  toReactArray: toReactArray,\n  toReactArrayWithIndex: toReactArrayWithIndex\n};\n\nvar logo = ( require(\"./assets/icon-min.svg\") );\n\nvar caution = ( require(\"./assets/caution.svg\") );\n\nvar WebpackAssets = {\n  logo: logo,\n  caution: caution\n};\n\nvar Entities = {\n  nbsp: \"\\xa0\",\n  copy: \"\\xa9\"\n};\n\nfunction MakeDateTimeFormat(M) {\n  var Utils$MakeDateTimeFormat = function (Props) {\n    var date = Props.date;\n    return React.createElement(\"time\", {\n                dateTime: date.toISOString()\n              }, Intl_DateTimeFormat.format(M.formatter, date));\n  };\n  return {\n          make: Utils$MakeDateTimeFormat\n        };\n}\n\nvar formatter = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar DateFormat = {\n  make: Utils$MakeDateTimeFormat\n};\n\nvar formatter$1 = Intl_DateTimeFormat.make(/* array */[\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat$1(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$1, date));\n}\n\nvar DateTimeFormat = {\n  make: Utils$MakeDateTimeFormat$1\n};\n\nvar panels = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Css.style(/* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  panels: panels,\n  panel: panel\n};\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_magenta_50 = /* `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_magenta_60 = /* `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_magenta_70 = /* `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_magenta_80 = /* `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_magenta_90 = /* `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_purple_30 = /* `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_purple_40 = /* `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_purple_50 = /* `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_purple_60 = /* `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_purple_70 = /* `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_purple_80 = /* `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_purple_90 = /* `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_blue_40 = /* `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_blue_50 = /* `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_blue_50_A30 = /* `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_blue_60 = /* `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_blue_70 = /* `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_blue_80 = /* `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_blue_90 = /* `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_teal_50 = /* `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_teal_60 = /* `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_teal_70 = /* `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_teal_80 = /* `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_teal_90 = /* `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_green_60 = /* `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_green_70 = /* `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_green_80 = /* `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_yellow_60 = /* `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_yellow_70 = /* `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_yellow_80 = /* `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_red_50 = /* `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_red_70 = /* `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_red_80 = /* `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_red_90 = /* `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_orange_50 = /* `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_orange_60 = /* `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_orange_70 = /* `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_orange_80 = /* `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_orange_90 = /* `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_grey_10 = /* `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_grey_10_A10 = /* `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_grey_10_A20 = /* `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_grey_10_A40 = /* `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_grey_10_A60 = /* `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_grey_10_A80 = /* `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_grey_20 = /* `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_grey_30 = /* `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_grey_40 = /* `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_grey_50 = /* `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_grey_60 = /* `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_grey_70 = /* `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_grey_80 = /* `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_grey_90 = /* `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_grey_90_A05 = /* `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_grey_90_A10 = /* `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_grey_90_A20 = /* `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_grey_90_A30 = /* `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_grey_90_A40 = /* `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_grey_90_A50 = /* `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_grey_90_A60 = /* `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_grey_90_A70 = /* `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_grey_90_A80 = /* `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_grey_90_A90 = /* `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_ink_70 = /* `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_ink_80 = /* `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_ink_90 = /* `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = {\n  magenta_50: PhotonColors_magenta_50,\n  magenta_60: PhotonColors_magenta_60,\n  magenta_70: PhotonColors_magenta_70,\n  magenta_80: PhotonColors_magenta_80,\n  magenta_90: PhotonColors_magenta_90,\n  purple_30: PhotonColors_purple_30,\n  purple_40: PhotonColors_purple_40,\n  purple_50: PhotonColors_purple_50,\n  purple_60: PhotonColors_purple_60,\n  purple_70: PhotonColors_purple_70,\n  purple_80: PhotonColors_purple_80,\n  purple_90: PhotonColors_purple_90,\n  blue_40: PhotonColors_blue_40,\n  blue_50: PhotonColors_blue_50,\n  blue_50_A30: PhotonColors_blue_50_A30,\n  blue_60: PhotonColors_blue_60,\n  blue_70: PhotonColors_blue_70,\n  blue_80: PhotonColors_blue_80,\n  blue_90: PhotonColors_blue_90,\n  teal_50: PhotonColors_teal_50,\n  teal_60: PhotonColors_teal_60,\n  teal_70: PhotonColors_teal_70,\n  teal_80: PhotonColors_teal_80,\n  teal_90: PhotonColors_teal_90,\n  green_50: green_50,\n  green_60: PhotonColors_green_60,\n  green_70: PhotonColors_green_70,\n  green_80: PhotonColors_green_80,\n  green_90: green_90,\n  yellow_50: yellow_50,\n  yellow_60: PhotonColors_yellow_60,\n  yellow_70: PhotonColors_yellow_70,\n  yellow_80: PhotonColors_yellow_80,\n  yellow_90: yellow_90,\n  red_50: PhotonColors_red_50,\n  red_60: red_60,\n  red_70: PhotonColors_red_70,\n  red_80: PhotonColors_red_80,\n  red_90: PhotonColors_red_90,\n  orange_50: PhotonColors_orange_50,\n  orange_60: PhotonColors_orange_60,\n  orange_70: PhotonColors_orange_70,\n  orange_80: PhotonColors_orange_80,\n  orange_90: PhotonColors_orange_90,\n  grey_10: PhotonColors_grey_10,\n  grey_10_A10: PhotonColors_grey_10_A10,\n  grey_10_A20: PhotonColors_grey_10_A20,\n  grey_10_A40: PhotonColors_grey_10_A40,\n  grey_10_A60: PhotonColors_grey_10_A60,\n  grey_10_A80: PhotonColors_grey_10_A80,\n  grey_20: PhotonColors_grey_20,\n  grey_30: PhotonColors_grey_30,\n  grey_40: PhotonColors_grey_40,\n  grey_50: PhotonColors_grey_50,\n  grey_60: PhotonColors_grey_60,\n  grey_70: PhotonColors_grey_70,\n  grey_80: PhotonColors_grey_80,\n  grey_90: PhotonColors_grey_90,\n  grey_90_A05: PhotonColors_grey_90_A05,\n  grey_90_A10: PhotonColors_grey_90_A10,\n  grey_90_A20: PhotonColors_grey_90_A20,\n  grey_90_A30: PhotonColors_grey_90_A30,\n  grey_90_A40: PhotonColors_grey_90_A40,\n  grey_90_A50: PhotonColors_grey_90_A50,\n  grey_90_A60: PhotonColors_grey_90_A60,\n  grey_90_A70: PhotonColors_grey_90_A70,\n  grey_90_A80: PhotonColors_grey_90_A80,\n  grey_90_A90: PhotonColors_grey_90_A90,\n  ink_70: PhotonColors_ink_70,\n  ink_80: PhotonColors_ink_80,\n  ink_90: PhotonColors_ink_90,\n  white_100: white_100\n};\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Css.style(/* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Css.style(/* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Css.style(/* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nvar Style$1 = {\n  container: container,\n  text: text,\n  icon: icon,\n  success: success,\n  warning: warning,\n  error: error\n};\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var match = Props.kind;\n  var kind = match !== undefined ? match : /* Generic */3;\n  var match$1 = Props.tooltip;\n  var tooltip = match$1 !== undefined ? match$1 : \"\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4;\n  switch (kind) {\n    case /* Success */0 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case /* Warning */1 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case /* Error */2 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.X, { }),\n          error\n        ];\n        break;\n    case /* Generic */3 :\n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match$4[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match$4[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nvar $$Notification = {\n  Style: Style$1,\n  make: Utils$Notification\n};\n\nfunction hashPath(hashString) {\n  var list = Belt_List.fromArray(hashString.split(\"/\"));\n  var path = list ? list[1] : list;\n  if (path) {\n    return path;\n  } else {\n    return /* :: */[\n            \"\",\n            /* [] */0\n          ];\n  }\n}\n\nfunction Utils$Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var hash = match[/* hash */1];\n  var isCurrent = to_ === \"/\" ? hash === \"\" || hash === to_ : hash === to_;\n  var ariaCurrent = isCurrent ? \"true\" : \"false\";\n  return React.createElement(\"a\", {\n              \"aria-current\": ariaCurrent,\n              href: \"#\" + to_,\n              onDragStart: onDragStart\n            }, children);\n}\n\nvar HashLink = {\n  make: Utils$Router$HashLink\n};\n\nvar Router = {\n  hashPath: hashPath,\n  HashLink: HashLink\n};\n\nNumeral.registerFormat(\"fraction\", {\n      regexps: {\n        format: (/(1\\/2)/),\n        unformat: (/(1\\/2)/)\n      },\n      format: (function (value, _format, _roundingFunction) {\n          var whole = Math.floor(value);\n          var remainder = value - whole;\n          var fraction = remainder !== 0.25 ? (\n              remainder !== 0.5 ? (\n                  remainder !== 0.75 ? \"\" : \"\"\n                ) : \"\"\n            ) : \"\";\n          var match = whole === 0.0 && fraction !== \"\";\n          var stringedWhole = match ? \"\" : whole.toString();\n          return stringedWhole + fraction;\n        }),\n      unformat: (function (value) {\n          return Number(value);\n        })\n    });\n\nvar Tabs = 0;\n\nvar VisuallyHidden = 0;\n\nvar Dialog = 0;\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nexport {\n  Tabs ,\n  VisuallyHidden ,\n  Dialog ,\n  nanoid ,\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  List ,\n  WebpackAssets ,\n  Entities ,\n  MakeDateTimeFormat ,\n  DateFormat ,\n  DateTimeFormat ,\n  Style ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  Router ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case /* SetIsDescending */0 :\n          newState = /* record */[\n            /* isDescending */action[0],\n            /* column */state[/* column */1],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case /* SetColumn */1 :\n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* column */action[0],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case /* SetTable */2 :\n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* column */state[/* column */1],\n            /* table */action[0]\n          ];\n          break;\n      \n    }\n  }\n  var match = newState[/* isDescending */0];\n  var direction = match ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var match$1 = newState[/* column */1];\n  var sortFunc;\n  if (match$1.tag) {\n    sortFunc = Curry._1(direction, match$1[0]);\n  } else {\n    var func = match$1[0];\n    sortFunc = Curry._1(direction, (function (str) {\n            return Curry._1(func, str).toLowerCase();\n          }));\n  }\n  var table = Belt_SortArray.stableSortBy(newState[/* table */2], sortFunc);\n  return /* record */[\n          /* isDescending */newState[/* isDescending */0],\n          /* column */newState[/* column */1],\n          /* table */table\n        ];\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = /* record */[\n    /* isDescending */isDescending,\n    /* column */column,\n    /* table */table\n  ];\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          return ;\n        }), ([]));\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var match = data[/* column */1] === sortColumn;\n  var chevronStyle = match ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  var match$1 = data[/* isDescending */0];\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  var match = data[/* column */1] === sortColumn;\n                  if (match) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data[/* isDescending */0]]));\n                  } else {\n                    return Curry._1(dispatch, /* SetColumn */Block.__(1, [sortColumn]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, match$1 ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), /* array */[isLoaded]);\n  return /* () */0;\n}\n\nexport {\n  sortedTableReducer ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nfunction toFloat(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(json) {\n  if (json !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction cmp(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  var w = $$String.compare(a, c);\n  var x = $$String.compare(b, d);\n  var y = $$String.compare(a, d);\n  var z = $$String.compare(b, c);\n  switch (w) {\n    case -1 :\n        if (x === 1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return -1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return -1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    case 0 :\n        break;\n    case 1 :\n        if (x === -1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return 1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return 1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    default:\n      \n  }\n  return ((w + x | 0) + y | 0) + z | 0;\n}\n\nvar T = Belt_Id.MakeComparable({\n      cmp: cmp\n    });\n\nvar empty = Belt_Set.make(T);\n\nfunction fromArray(param) {\n  return Belt_Set.fromArray(param, T);\n}\n\nfunction decode$1(json) {\n  return (function (param) {\n              return Belt_Set.fromArray(param, T);\n            })(Json_decode.array((function (param) {\n                    return Json_decode.pair(Json_decode.string, Json_decode.string, param);\n                  }), json));\n}\n\nfunction encode$1(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair((function (prim) {\n                              return prim;\n                            }), (function (prim) {\n                              return prim;\n                            }), param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var match = Belt_MapString.get(acc, id1);\n  var newList1 = match !== undefined ? /* :: */[\n      id2,\n      match\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var match$1 = Belt_MapString.get(acc, id2);\n  var newList2 = match$1 !== undefined ? /* :: */[\n      id1,\n      match$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_MapString.set(Belt_MapString.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction toMap(__x) {\n  return Belt_Set.reduce(__x, Belt_MapString.empty, toMapReducer);\n}\n\nvar AvoidPairs = {\n  T: T,\n  empty: empty,\n  fromArray: fromArray,\n  decode: decode$1,\n  encode: encode$1,\n  toMapReducer: toMapReducer,\n  toMap: toMap\n};\n\nfunction decode$2(json) {\n  return /* record */[\n          /* avoidPairs */Json_decode.field(\"avoidPairs\", decode$1, json),\n          /* byeValue */Json_decode.field(\"byeValue\", decode, json),\n          /* lastBackup */Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        ];\n}\n\nfunction encode$2(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"avoidPairs\",\n                encode$1(data[/* avoidPairs */0])\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"byeValue\",\n                  data[/* byeValue */1] ? 0.5 : 1.0\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastBackup\",\n                    Json_encode.date(data[/* lastBackup */2])\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nvar default_002 = /* lastBackup */new Date(0.0);\n\nvar $$default = /* record */[\n  /* avoidPairs */empty,\n  /* byeValue : Full */0,\n  default_002\n];\n\nexport {\n  ByeValue ,\n  AvoidPairs ,\n  decode$2 as decode,\n  encode$2 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* T Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\n\nvar config_000 = /* avoidPairs */Data_Config$Coronate.AvoidPairs.fromArray(/* array */[\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        \"JamesGordon_1ts9xICT3\"\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        \"HarleyQuinn_-10-02VPH\"\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        \"BruceWayne_lv_ZsUHTU9\"\n      ]\n    ]);\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue : Full */0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        /* record */[\n          /* firstName */\"Bruce\",\n          /* id */\"BruceWayne_lv_ZsUHTU9\",\n          /* lastName */\"Wayne\",\n          /* matchCount */9,\n          /* rating */1998,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"DickGrayson_1C2rCokHH\",\n        /* record */[\n          /* firstName */\"Dick\",\n          /* id */\"DickGrayson_1C2rCokHH\",\n          /* lastName */\"Grayson\",\n          /* matchCount */9,\n          /* rating */1909,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"AlfredPennyworth_y4dW\",\n        /* record */[\n          /* firstName */\"Alfred\",\n          /* id */\"AlfredPennyworth_y4dW\",\n          /* lastName */\"Pennyworth\",\n          /* matchCount */9,\n          /* rating */1999,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        /* record */[\n          /* firstName */\"Barbara\",\n          /* id */\"BarbaraGordon_cL6SpI2\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1345,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"KateKane_klFW6gDfUOTX\",\n        /* record */[\n          /* firstName */\"Kate\",\n          /* id */\"KateKane_klFW6gDfUOTX\",\n          /* lastName */\"Kane\",\n          /* matchCount */9,\n          /* rating */1539,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"SelinaKyle_rJBH-45Xoy\",\n        /* record */[\n          /* firstName */\"Selina\",\n          /* id */\"SelinaKyle_rJBH-45Xoy\",\n          /* lastName */\"Kyle\",\n          /* matchCount */9,\n          /* rating */1495,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JasonTodd_fc9CeOa-Luw\",\n        /* record */[\n          /* firstName */\"Jason\",\n          /* id */\"JasonTodd_fc9CeOa-Luw\",\n          /* lastName */\"Todd\",\n          /* matchCount */7,\n          /* rating */1101,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JamesGordon_1ts9xICT3\",\n        /* record */[\n          /* firstName */\"James\",\n          /* id */\"JamesGordon_1ts9xICT3\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1167,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        /* record */[\n          /* firstName */\"Helena\",\n          /* id */\"HelenaWayne_fE6O0DJcE\",\n          /* lastName */\"Wayne\",\n          /* matchCount */7,\n          /* rating */1087,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        /* record */[\n          /* firstName */\"Joker\",\n          /* id */\"Joker_v0z2416fpAZ9o2c\",\n          /* lastName */\"\",\n          /* matchCount */1,\n          /* rating */1538,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HarleyQuinn_-10-02VPH\",\n        /* record */[\n          /* firstName */\"Harley\",\n          /* id */\"HarleyQuinn_-10-02VPH\",\n          /* lastName */\"Quinn\",\n          /* matchCount */1,\n          /* rating */1648,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"VictorFries_cWaQoW014\",\n        /* record */[\n          /* firstName */\"Victor\",\n          /* id */\"VictorFries_cWaQoW014\",\n          /* lastName */\"Fries\",\n          /* matchCount */1,\n          /* rating */862,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"OswaldCobblepot_lfCro\",\n        /* record */[\n          /* firstName */\"Oswald\",\n          /* id */\"OswaldCobblepot_lfCro\",\n          /* lastName */\"Cobblepot\",\n          /* matchCount */1,\n          /* rating */1812,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"RasAlGhul_k9n8k852bHr\",\n        /* record */[\n          /* firstName */\"Ra's\",\n          /* id */\"RasAlGhul_k9n8k852bHr\",\n          /* lastName */\"al Ghul\",\n          /* matchCount */1,\n          /* rating */1404,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"PamelaIsley_vH5vD8uPB\",\n        /* record */[\n          /* firstName */\"Pamela\",\n          /* id */\"PamelaIsley_vH5vD8uPB\",\n          /* lastName */\"Isley\",\n          /* matchCount */1,\n          /* rating */965,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"EdwardNigma_j80JfWOZq\",\n        /* record */[\n          /* firstName */\"Edward\",\n          /* id */\"EdwardNigma_j80JfWOZq\",\n          /* lastName */\"Nigma\",\n          /* matchCount */1,\n          /* rating */948,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"JonathanCrane_R4Q8tVW\",\n        /* record */[\n          /* firstName */\"Jonathan\",\n          /* id */\"JonathanCrane_R4Q8tVW\",\n          /* lastName */\"Crane\",\n          /* matchCount */1,\n          /* rating */899,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HarveyDent_0eYIiP_Ij5\",\n        /* record */[\n          /* firstName */\"Harvey\",\n          /* id */\"HarveyDent_0eYIiP_Ij5\",\n          /* lastName */\"Dent\",\n          /* matchCount */1,\n          /* rating */1649,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"HugoStrange_az43f9mtS\",\n        /* record */[\n          /* firstName */\"Hugo\",\n          /* id */\"HugoStrange_az43f9mtS\",\n          /* lastName */\"Strange\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ : Person */0\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"CaouTNel9k70jUJ0h6SYM\",\n        /* record */[\n          /* id */\"CaouTNel9k70jUJ0h6SYM\",\n          /* name */\"Wayne Manor Open\",\n          /* date */new Date(\"2019-05-22T12:14:47.670Z\"),\n          /* playerIds : :: */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            /* :: */[\n              \"DickGrayson_1C2rCokHH\",\n              /* :: */[\n                \"AlfredPennyworth_y4dW\",\n                /* :: */[\n                  \"BarbaraGordon_cL6SpI2\",\n                  /* :: */[\n                    \"KateKane_klFW6gDfUOTX\",\n                    /* :: */[\n                      \"SelinaKyle_rJBH-45Xoy\",\n                      /* :: */[\n                        \"JasonTodd_fc9CeOa-Luw\",\n                        /* :: */[\n                          \"JamesGordon_1ts9xICT3\",\n                          /* :: */[\n                            \"HelenaWayne_fE6O0DJcE\",\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"FUASEeyES6ez_ROoT6qmU\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1236,\n                /* blackNewRating */2109,\n                /* whiteOrigRating */1238,\n                /* blackOrigRating */2108,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"gqPyD66QMPF-pup41xsB2\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */2260,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */2260,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"KpS1lQSzsQWQ3VVWJyA2P\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1553,\n                /* blackNewRating */1722,\n                /* whiteOrigRating */1527,\n                /* blackOrigRating */1755,\n                /* result : Draw */2\n              ],\n              /* record */[\n                /* id */\"OgFuy-wq8mz378EWat46u\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1278,\n                /* blackNewRating */1887,\n                /* whiteOrigRating */1284,\n                /* blackOrigRating */1881,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"f8Ps3GUmd0ZRsBBY8rZOp\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */831,\n                /* blackNewRating */0,\n                /* whiteOrigRating */831,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"6seKrw7ehbhL766g6L2PF\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */2122,\n                /* blackNewRating */1672,\n                /* whiteOrigRating */2109,\n                /* blackOrigRating */1685,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"TCSjz48ZXqjamtYUFNg0B\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"HelenaWayne_fE6O0DJcE\",\n                /* whiteNewRating */1887,\n                /* blackNewRating */830,\n                /* whiteOrigRating */1887,\n                /* blackOrigRating */831,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"zF64DEsN8sHydpDDsg37E\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */2101,\n                /* blackNewRating */1437,\n                /* whiteOrigRating */2260,\n                /* blackOrigRating */1278,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"qVGt1EJq9y0MmvFtumM0A\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1574,\n                /* blackNewRating */1207,\n                /* whiteOrigRating */1545,\n                /* blackOrigRating */1236,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"UhfHaRWr_-BtVo22xAuJu\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"odrOOnZJUe0YAwkfUDqUb\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1990,\n                /* whiteOrigRating */2101,\n                /* blackOrigRating */1887,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"qzCMqUwNIDAcFSAuA5yCm\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */990,\n                /* blackNewRating */2008,\n                /* whiteOrigRating */830,\n                /* blackOrigRating */2122,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"6QgVqdtcJPjfVp3UZ8S9g\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1529,\n                /* blackNewRating */1464,\n                /* whiteOrigRating */1437,\n                /* blackOrigRating */1574,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"as45gODKMLC5-3_UsTyx5\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1542,\n                /* blackNewRating */1244,\n                /* whiteOrigRating */1672,\n                /* blackOrigRating */1049,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Pc0CWecSfeGNfvBPjyEIj\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1207,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"xj0y_Iqkb-g3MDGgmYx2-\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */1990,\n                /* blackOrigRating */1542,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"HWYWtsyaqUkHRExM6kQrt\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */2009,\n                /* blackNewRating */1243,\n                /* whiteOrigRating */2008,\n                /* blackOrigRating */1244,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"uAzHZVMC71liQZ-6fWWeD\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */983,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */990,\n                /* blackOrigRating */1529,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"_tCBn9YNIyto-vXpxm7WI\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1205,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */1998,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"L7yatE2oVKlV7LOY6-d7Y\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1464,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1464,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"tvAdS4YbSOznrBgrg0ITA\",\n        /* record */[\n          /* id */\"tvAdS4YbSOznrBgrg0ITA\",\n          /* name */\"The Battle for Gotham City\",\n          /* date */new Date(\"2019-05-29T12:15:20.593Z\"),\n          /* playerIds : :: */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            /* :: */[\n              \"DickGrayson_1C2rCokHH\",\n              /* :: */[\n                \"AlfredPennyworth_y4dW\",\n                /* :: */[\n                  \"BarbaraGordon_cL6SpI2\",\n                  /* :: */[\n                    \"KateKane_klFW6gDfUOTX\",\n                    /* :: */[\n                      \"SelinaKyle_rJBH-45Xoy\",\n                      /* :: */[\n                        \"JasonTodd_fc9CeOa-Luw\",\n                        /* :: */[\n                          \"JamesGordon_1ts9xICT3\",\n                          /* :: */[\n                            \"HelenaWayne_fE6O0DJcE\",\n                            /* :: */[\n                              \"Joker_v0z2416fpAZ9o2c\",\n                              /* :: */[\n                                \"HarleyQuinn_-10-02VPH\",\n                                /* :: */[\n                                  \"VictorFries_cWaQoW014\",\n                                  /* :: */[\n                                    \"OswaldCobblepot_lfCro\",\n                                    /* :: */[\n                                      \"RasAlGhul_k9n8k852bHr\",\n                                      /* :: */[\n                                        \"PamelaIsley_vH5vD8uPB\",\n                                        /* :: */[\n                                          \"EdwardNigma_j80JfWOZq\",\n                                          /* :: */[\n                                            \"JonathanCrane_R4Q8tVW\",\n                                            /* :: */[\n                                              \"HarveyDent_0eYIiP_Ij5\",\n                                              /* [] */0\n                                            ]\n                                          ]\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"5f8GYcR8V44NYvTN1cZle\",\n                /* whiteId */\"EdwardNigma_j80JfWOZq\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */948,\n                /* blackNewRating */1998,\n                /* whiteOrigRating */950,\n                /* blackOrigRating */1998,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"GPTct4sL368SryTLFUu8E\",\n                /* whiteId */\"JonathanCrane_R4Q8tVW\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */899,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */900,\n                /* blackOrigRating */1999,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"AxtoztZ6O19nyrLfZ4YaU\",\n                /* whiteId */\"HarveyDent_0eYIiP_Ij5\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1649,\n                /* blackNewRating */1909,\n                /* whiteOrigRating */850,\n                /* blackOrigRating */2009,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"bUM_tWQsAtPe1gqRzlXd1\",\n                /* whiteId */\"RasAlGhul_k9n8k852bHr\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */1404,\n                /* blackNewRating */1495,\n                /* whiteOrigRating */1050,\n                /* blackOrigRating */1534,\n                /* result : Draw */2\n              ],\n              /* record */[\n                /* id */\"bAOVlP-M5xaPk1qofNReb\",\n                /* whiteId */\"OswaldCobblepot_lfCro\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1812,\n                /* blackNewRating */1345,\n                /* whiteOrigRating */1100,\n                /* blackOrigRating */1464,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"4omlgiGSaE1BmrHdABSym\",\n                /* whiteId */\"PamelaIsley_vH5vD8uPB\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */965,\n                /* blackNewRating */1539,\n                /* whiteOrigRating */1000,\n                /* blackOrigRating */1534,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"ysdEVYS2AyuKyOAwLLpTF\",\n                /* whiteId */\"HarleyQuinn_-10-02VPH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1648,\n                /* blackNewRating */1167,\n                /* whiteOrigRating */1200,\n                /* blackOrigRating */1242,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"YoJ9WGokAYrmJjfxCCf87\",\n                /* whiteId */\"VictorFries_cWaQoW014\",\n                /* blackId */\"Joker_v0z2416fpAZ9o2c\",\n                /* whiteNewRating */862,\n                /* blackNewRating */1538,\n                /* whiteOrigRating */1150,\n                /* blackOrigRating */1250,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Az7SBl3cs7rbwKPBI0IsU\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1087,\n                /* blackNewRating */1101,\n                /* whiteOrigRating */983,\n                /* blackOrigRating */1205,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[]\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return /* record */[\n          /* firstName */Json_decode.field(\"firstName\", Json_decode.string, json),\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* lastName */Json_decode.field(\"lastName\", Json_decode.string, json),\n          /* matchCount */Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          /* rating */Json_decode.field(\"rating\", Json_decode.$$int, json),\n          /* type_ */Json_decode.field(\"type_\", decode, json)\n        ];\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"firstName\",\n                data[/* firstName */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"id\",\n                  data[/* id */1]\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastName\",\n                    data[/* lastName */2]\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"matchCount\",\n                      data[/* matchCount */3]\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"rating\",\n                        data[/* rating */4]\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"type_\",\n                          toString(data[/* type_ */5])\n                        ],\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar dummy_id = \"________DUMMY________\";\n\nfunction isDummyId(playerId) {\n  return playerId === dummy_id;\n}\n\nvar dummyPlayer = /* record */[\n  /* firstName */\"Bye\",\n  /* id */dummy_id,\n  /* lastName */\"Player\",\n  /* matchCount */0,\n  /* rating */0,\n  /* type_ : Dummy */1\n];\n\nfunction makeMissingPlayer(id) {\n  return /* record */[\n          /* firstName */\"Anonymous\",\n          /* id */id,\n          /* lastName */\"Player\",\n          /* matchCount */0,\n          /* rating */0,\n          /* type_ : Missing */2\n        ];\n}\n\nfunction getPlayerMaybe(playerMap, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    return Belt_MapString.getWithDefault(playerMap, id, makeMissingPlayer(id));\n  }\n}\n\nexport {\n  Type ,\n  decode$1 as decode,\n  encode$1 as encode,\n  dummy_id ,\n  isDummyId ,\n  dummyPlayer ,\n  makeMissingPlayer ,\n  getPlayerMaybe ,\n  \n}\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as EdmondsBlossom from \"edmonds-blossom\";\n\nfunction priority(value, condition) {\n  if (condition) {\n    return value;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction divisiblePriority(dividend, divisor) {\n  return dividend / divisor;\n}\n\nfunction avoidMeetingTwice(param) {\n  if (param) {\n    return 32.0;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction sameScores(param) {\n  return 16.0 / param;\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nfunction differentHalf(isDiffHalf) {\n  if (isDiffHalf) {\n    return halfPosition;\n  } else {\n    return sameHalfPriority;\n  }\n}\n\nfunction differentDueColor(param) {\n  if (param) {\n    return 4.0;\n  } else {\n    return 0.0;\n  }\n}\n\nvar maxPriority = Utils$Coronate.List.sumF(/* :: */[\n      halfPosition(1.0),\n      /* :: */[\n        4.0,\n        /* :: */[\n          16.0 / 1.0,\n          /* :: */[\n            32.0,\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1[/* id */0] === player2[/* id */0]) {\n    return 0.0;\n  } else {\n    var metBefore = Belt_List.has(player1[/* opponents */6], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var mustAvoid = Belt_List.has(player1[/* avoidIds */1], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var match = player1[/* colors */3];\n    var match$1 = player2[/* colors */3];\n    var isDiffDueColor = match && match$1 ? match[0] !== match$1[0] : true;\n    var scoreDiff = Math.abs(player1[/* score */8] - player2[/* score */8]) + 1.0;\n    var halfDiff = Pervasives.abs(player1[/* halfPos */4] - player2[/* halfPos */4] | 0) + 1 | 0;\n    var isDiffHalf = player1[/* isUpperHalf */5] !== player2[/* isUpperHalf */5] && player1[/* score */8] === player2[/* score */8];\n    return Utils$Coronate.List.sumF(/* :: */[\n                isDiffDueColor ? 4.0 : 0.0,\n                /* :: */[\n                  16.0 / scoreDiff,\n                  /* :: */[\n                    (\n                        isDiffHalf ? halfPosition : sameHalfPriority\n                      )(halfDiff),\n                    /* :: */[\n                      !metBefore && !mustAvoid ? 32.0 : 0.0,\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]);\n  }\n}\n\nfunction descendingScore(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* score */8];\n              }), param, param$1);\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* rating */7];\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return /* tuple */[\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_MapString.valuesToArray(data);\n  return Belt_MapString.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataList, (function (param) {\n                                return param[/* score */8] === playerData[/* score */8];\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return x === playerData;\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? /* tuple */[\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? /* tuple */[\n                        match$2,\n                        false\n                      ] : /* tuple */[\n                        0,\n                        false\n                      ]\n                  );\n                return /* record */[\n                        /* id */playerData[/* id */0],\n                        /* avoidIds */playerData[/* avoidIds */1],\n                        /* colorScores */playerData[/* colorScores */2],\n                        /* colors */playerData[/* colors */3],\n                        /* halfPos */match$3[0],\n                        /* isUpperHalf */match$3[1],\n                        /* opponents */playerData[/* opponents */6],\n                        /* rating */playerData[/* rating */7],\n                        /* score */playerData[/* score */8]\n                      ];\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1[/* score */8], data2[/* score */8]);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1[/* rating */7], data2[/* rating */7]);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p[/* opponents */6], dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  if (Belt_MapString.size(data) % 2 === 0) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  } else {\n    var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n    var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n            return p[/* id */0];\n          }));\n    var hasntHadByeFn = function (id) {\n      return Belt_List.has(playerIdsWithoutByes, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n    };\n    var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n    var dataForNextBye;\n    if (nextByeSignups) {\n      var match = Belt_MapString.get(data, nextByeSignups[0]);\n      dataForNextBye = match !== undefined ? match : Belt_List.getExn(dataList, 0);\n    } else {\n      dataForNextBye = dataList ? dataList[0] : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_MapString.valuesToArray(data)), sortByScoreThenRating), 0);\n    }\n    var dataWithoutBye = Belt_MapString.remove(data, dataForNextBye[/* id */0]);\n    return /* tuple */[\n            dataWithoutBye,\n            dataForNextBye\n          ];\n  }\n}\n\nfunction assignColorsForPair(pair) {\n  var player2 = pair[1];\n  var player1 = pair[0];\n  var match = Utils$Coronate.List.sumF(player1[/* colorScores */2]) < Utils$Coronate.List.sumF(player2[/* colorScores */2]);\n  if (match) {\n    return /* tuple */[\n            player2[/* id */0],\n            player1[/* id */0]\n          ];\n  } else {\n    return /* tuple */[\n            player1[/* id */0],\n            player2[/* id */0]\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0][/* score */8] + param[1][/* score */8];\n}\n\nfunction netRating(param) {\n  return param[0][/* rating */7] + param[1][/* rating */7] | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairPlayers(pairData) {\n  var playerIdArray = Belt_MapString.keysToArray(pairData);\n  var playerArray = Belt_MapString.valuesToArray(pairData);\n  var pairIdealReducer = function (accArr, player1, index) {\n    var playerMatches = Belt_Array.sliceToEnd(playerArray, index + 1 | 0).map((function (player2) {\n            return /* tuple */[\n                    playerIdArray.indexOf(player1[/* id */0]),\n                    playerIdArray.indexOf(player2[/* id */0]),\n                    calcPairIdeal(player1, player2)\n                  ];\n          }));\n    return accArr.concat(playerMatches);\n  };\n  var blossom2Pairs = function (acc, p1Index, p2Index) {\n    var p1Id = Belt_Array.get(playerIdArray, p1Index);\n    var p2Id = Belt_Array.get(playerIdArray, p2Index);\n    if (p1Id !== undefined && p2Id !== undefined) {\n      var p1 = Belt_MapString.getExn(pairData, p1Id);\n      var p2 = Belt_MapString.getExn(pairData, p2Id);\n      var matched = Belt_List.map(acc, (function (param) {\n              return param[0];\n            }));\n      var matchedHasId = function (__x) {\n        return Belt_List.has(matched, __x, (function (prim, prim$1) {\n                      return prim === prim$1;\n                    }));\n      };\n      if (!matchedHasId(p1) && !matchedHasId(p2)) {\n        return /* :: */[\n                /* tuple */[\n                  p1,\n                  p2\n                ],\n                acc\n              ];\n      } else {\n        return acc;\n      }\n    } else {\n      return acc;\n    }\n  };\n  return Belt_List.map(Belt_List.sort(Belt_Array.reduceWithIndex(EdmondsBlossom.default(Belt_Array.reduceWithIndex(playerArray, /* array */[], pairIdealReducer)), /* [] */0, blossom2Pairs), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  priority ,\n  divisiblePriority ,\n  avoidMeetingTwice ,\n  sameScores ,\n  halfPosition ,\n  sameHalfPriority ,\n  differentHalf ,\n  differentDueColor ,\n  maxPriority ,\n  calcPairIdeal ,\n  descendingScore ,\n  descendingRating ,\n  splitInHalf ,\n  setUpperHalves ,\n  sortByScoreThenRating ,\n  setByePlayer ,\n  assignColorsForPair ,\n  netScore ,\n  netRating ,\n  sortByNetScoreThenRating ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction toFloat(score, color) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        if (color) {\n          return 0.0;\n        } else {\n          return 1.0;\n        }\n    case /* BlackWon */1 :\n        if (color) {\n          return 1.0;\n        } else {\n          return 0.0;\n        }\n    case /* Draw */2 :\n        return 0.5;\n    case /* NotSet */3 :\n        return 0.0;\n    \n  }\n}\n\nfunction toString(score) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(score) {\n  switch (score) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toFloat: toFloat,\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return /* record */[\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* whiteId */Json_decode.field(\"whiteId\", Json_decode.string, json),\n          /* blackId */Json_decode.field(\"blackId\", Json_decode.string, json),\n          /* whiteNewRating */Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          /* blackNewRating */Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          /* whiteOrigRating */Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          /* blackOrigRating */Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          /* result */Json_decode.field(\"result\", decode, json)\n        ];\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                data[/* id */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"whiteId\",\n                  data[/* whiteId */1]\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"blackId\",\n                    data[/* blackId */2]\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"whiteNewRating\",\n                      data[/* whiteNewRating */3]\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"blackNewRating\",\n                        data[/* blackNewRating */4]\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"whiteOrigRating\",\n                          data[/* whiteOrigRating */5]\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"blackOrigRating\",\n                            data[/* blackOrigRating */6]\n                          ],\n                          /* :: */[\n                            /* tuple */[\n                              \"result\",\n                              toString(data[/* result */7])\n                            ],\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction byeResultForPlayerColor(byeValue, color) {\n  if (byeValue) {\n    return /* Draw */2;\n  } else if (color) {\n    return /* BlackWon */1;\n  } else {\n    return /* WhiteWon */0;\n  }\n}\n\nfunction scoreByeMatch(byeValue, match_) {\n  var match = Data_Player$Coronate.isDummyId(match_[/* whiteId */1]);\n  var match$1 = Data_Player$Coronate.isDummyId(match_[/* blackId */2]);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return /* record */[\n              /* id */match_[/* id */0],\n              /* whiteId */match_[/* whiteId */1],\n              /* blackId */match_[/* blackId */2],\n              /* whiteNewRating */match_[/* whiteNewRating */3],\n              /* blackNewRating */match_[/* blackNewRating */4],\n              /* whiteOrigRating */match_[/* whiteOrigRating */5],\n              /* blackOrigRating */match_[/* blackOrigRating */6],\n              /* result */byeResultForPlayerColor(byeValue, /* Black */1)\n            ];\n    }\n  } else if (match$1) {\n    return /* record */[\n            /* id */match_[/* id */0],\n            /* whiteId */match_[/* whiteId */1],\n            /* blackId */match_[/* blackId */2],\n            /* whiteNewRating */match_[/* whiteNewRating */3],\n            /* blackNewRating */match_[/* blackNewRating */4],\n            /* whiteOrigRating */match_[/* whiteOrigRating */5],\n            /* blackOrigRating */match_[/* blackOrigRating */6],\n            /* result */byeResultForPlayerColor(byeValue, /* White */0)\n          ];\n  } else {\n    return match_;\n  }\n}\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_MapString.keep(pairData, (function (id, param) {\n          return Belt_MapString.has(playerMap, id);\n        }));\n  var match = Pairing$Coronate.setByePlayer(byeQueue, Data_Player$Coronate.dummy_id, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? Belt_List.reverse(Belt_List.add(Belt_List.reverse(pairs), /* tuple */[\n              byePlayerData[/* id */0],\n              Data_Player$Coronate.dummy_id\n            ])) : pairs;\n  return Belt_List.map(pairsWithBye, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                return scoreByeMatch(byeValue, /* record */[\n                            /* id */Utils$Coronate.nanoid(/* () */0),\n                            /* whiteId */whiteId,\n                            /* blackId */blackId,\n                            /* whiteNewRating */Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId)[/* rating */4],\n                            /* blackNewRating */Data_Player$Coronate.getPlayerMaybe(playerMap, blackId)[/* rating */4],\n                            /* whiteOrigRating */Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId)[/* rating */4],\n                            /* blackOrigRating */Data_Player$Coronate.getPlayerMaybe(playerMap, blackId)[/* rating */4],\n                            /* result : NotSet */3\n                          ]);\n              }));\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch(byeValue, /* record */[\n              /* id */Utils$Coronate.nanoid(/* () */0),\n              /* whiteId */white[/* id */1],\n              /* blackId */black[/* id */1],\n              /* whiteNewRating */white[/* rating */4],\n              /* blackNewRating */black[/* rating */4],\n              /* whiteOrigRating */white[/* rating */4],\n              /* blackOrigRating */black[/* rating */4],\n              /* result : NotSet */3\n            ]);\n}\n\nfunction swapColors(match_) {\n  var match = match_[/* result */7];\n  var result;\n  switch (match) {\n    case /* WhiteWon */0 :\n        result = /* BlackWon */1;\n        break;\n    case /* BlackWon */1 :\n        result = /* WhiteWon */0;\n        break;\n    case /* Draw */2 :\n        result = /* Draw */2;\n        break;\n    case /* NotSet */3 :\n        result = /* NotSet */3;\n        break;\n    \n  }\n  return /* record */[\n          /* id */match_[/* id */0],\n          /* whiteId */match_[/* blackId */2],\n          /* blackId */match_[/* whiteId */1],\n          /* whiteNewRating */match_[/* blackNewRating */4],\n          /* blackNewRating */match_[/* whiteNewRating */3],\n          /* whiteOrigRating */match_[/* blackOrigRating */6],\n          /* blackOrigRating */match_[/* whiteOrigRating */5],\n          /* result */result\n        ];\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  byeResultForPlayerColor ,\n  scoreByeMatch ,\n  autoPair ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nfunction encode(data) {\n  return Json_encode.array(Data_Match$Coronate.encode, data);\n}\n\nfunction decode(json) {\n  return Json_decode.array(Data_Match$Coronate.decode, json);\n}\n\nfunction addMatches(round, matches) {\n  return round.concat(matches);\n}\n\nfunction getMatched(round) {\n  return Belt_Array.reduce(round, /* array */[], (function (acc, param) {\n                return Belt_Array.concat(acc, /* array */[\n                            param[/* whiteId */1],\n                            param[/* blackId */2]\n                          ]);\n              }));\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return x[/* id */0] === id;\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return x[/* id */0] !== id;\n              }));\n}\n\nfunction setMatch(round, match_) {\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round, (function (param) {\n                        return param[/* id */0] === match_[/* id */0];\n                      })), (function (__x) {\n                    return Belt_Array.set(round, __x, match_);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round;\n                }\n                \n              }));\n}\n\nvar Round = {\n  encode: encode,\n  decode: decode,\n  addMatches: addMatches,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch\n};\n\nfunction encode$1(data) {\n  return Json_encode.array(encode, data);\n}\n\nfunction decode$1(json) {\n  return Json_decode.array(decode, json);\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nvar get = Belt_Array.get;\n\nfunction set(rounds, key, round) {\n  var wasSuccessful = Belt_Array.set(rounds, key, round);\n  if (wasSuccessful) {\n    return rounds;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? roundList.slice(0, lastRound + 1 | 0) : roundList;\n  return rounds.reduce((function (acc, round) {\n                return acc.concat(round);\n              }), /* array */[]);\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var match = Belt_Array.get(roundList, roundId);\n  if (match !== undefined && roundId >= (roundList.length - 1 | 0)) {\n    var round = match;\n    var matched = getMatched(round);\n    var unmatched = Belt_MapString.removeMany(players, matched);\n    var results = round.map((function (match_) {\n            return match_[/* result */7];\n          }));\n    if (Belt_MapString.size(unmatched) === 0) {\n      return !results.includes(/* NotSet */3);\n    } else {\n      return false;\n    }\n  } else {\n    return true;\n  }\n}\n\nfunction addRound(roundList) {\n  return roundList.concat(/* array */[/* array */[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, newValue) {\n  return rounds.map((function (param) {\n                return param.map((function (param) {\n                              return Data_Match$Coronate.scoreByeMatch(newValue, param);\n                            }));\n              }));\n}\n\nexport {\n  Round ,\n  encode$1 as encode,\n  decode$1 as decode,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Data_Match-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\n\nfunction mapTieBreakName(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nfunction tieBreakToString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction tieBreakFromString(json) {\n  switch (json) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nvar encodeTieBreak = tieBreakToString;\n\nfunction decodeTieBreak(json) {\n  return tieBreakFromString(Json_decode.string(json));\n}\n\nfunction decode(json) {\n  var partial_arg_001 = /* :: */[\n    (function (prim) {\n        return prim;\n      }),\n    /* [] */0\n  ];\n  var partial_arg = /* :: */[\n    Json_decode.date,\n    partial_arg_001\n  ];\n  return /* record */[\n          /* id */Json_decode.field(\"id\", Json_decode.string, json),\n          /* name */Json_decode.field(\"name\", Json_decode.string, json),\n          /* date */Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          /* playerIds */Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.list(Json_decode.string, param);\n                }), json),\n          /* byeQueue */Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Json_decode.string, param);\n                }), json),\n          /* tieBreaks */Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(decodeTieBreak, param);\n                }), json),\n          /* roundList */Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        ];\n}\n\nfunction encode(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                data[/* id */0]\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"name\",\n                  data[/* name */1]\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"date\",\n                    Json_encode.date(data[/* date */2])\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"playerIds\",\n                      Json_encode.list((function (prim) {\n                              return prim;\n                            }), data[/* playerIds */3])\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"byeQueue\",\n                        Json_encode.array((function (prim) {\n                                return prim;\n                              }), data[/* byeQueue */4])\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"tieBreaks\",\n                          Json_encode.array(encodeTieBreak, data[/* tieBreaks */5])\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data[/* roundList */6])\n                          ],\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nexport {\n  mapTieBreakName ,\n  tieBreakToString ,\n  tieBreakFromString ,\n  encodeTieBreak ,\n  decodeTieBreak ,\n  decode ,\n  encode ,\n  \n}\n/* Data_Rounds-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"reason-future/src/Future.bs.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as FutureJs from \"reason-future/src/FutureJs.bs.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Record$LocalForage from \"@johnridesabike/bs-localforage/src/Record.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction futureFromPromise(__x) {\n  return FutureJs.fromPromise(__x, (function (error) {\n                console.error(error);\n                return String(error);\n              }));\n}\n\nfunction localForageConfig(param) {\n  return (function (param$1, param$2, param$3, param$4, param$5) {\n      var prim = param;\n      var prim$1 = \"Coronate\";\n      var prim$2 = param$1;\n      var prim$3 = param$2;\n      var prim$4 = param$3;\n      var prim$5 = param$4;\n      var tmp = {\n        name: prim$1,\n        storeName: prim$3\n      };\n      if (prim !== undefined) {\n        tmp.driver = Caml_option.valFromOption(prim);\n      }\n      if (prim$2 !== undefined) {\n        tmp.size = Caml_option.valFromOption(prim$2);\n      }\n      if (prim$4 !== undefined) {\n        tmp.version = Caml_option.valFromOption(prim$4);\n      }\n      if (prim$5 !== undefined) {\n        tmp.description = Caml_option.valFromOption(prim$5);\n      }\n      return tmp;\n    });\n}\n\nvar configDb = Record$LocalForage.make(localForageConfig(undefined)(undefined, \"Options\", undefined, undefined, /* () */0), {\n      $$default: Data_Config$Coronate.$$default,\n      decode: Data_Config$Coronate.decode,\n      encode: Data_Config$Coronate.encode\n    });\n\nvar players = Map$LocalForage.make(localForageConfig(undefined)(undefined, \"Players\", undefined, undefined, /* () */0), {\n      decode: Data_Player$Coronate.decode,\n      encode: Data_Player$Coronate.encode\n    });\n\nvar tournaments = Map$LocalForage.make(localForageConfig(undefined)(undefined, \"Tournaments\", undefined, undefined, /* () */0), {\n      decode: Data_Tournament$Coronate.decode,\n      encode: Data_Tournament$Coronate.encode\n    });\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  Promise.all(/* tuple */[\n            Record$LocalForage.set(configDb, DemoData$Coronate.config),\n            Map$LocalForage.setItems(players, DemoData$Coronate.players),\n            Map$LocalForage.setItems(tournaments, DemoData$Coronate.tournaments)\n          ]).then((function (param) {\n            ((document.body.style.cursor = \"auto\"));\n            window.alert(\"Demo data loaded!\");\n            return Promise.resolve(/* () */0);\n          })).catch((function (param) {\n          ((document.body.style.cursor = \"auto\"));\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* Del */0 :\n        return Belt_MapString.remove(state, action[0]);\n    case /* Set */1 :\n        return Belt_MapString.set(state, action[0], action[1]);\n    case /* SetAll */2 :\n        return action[0];\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Belt_MapString.empty);\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(isLoaded);\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Future.tapError(Future.tapOk(futureFromPromise(Map$LocalForage.getAllItems(store)), (function (results) {\n                      if (didCancel[0]) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetAll */Block.__(2, [results]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel[0]) {\n                    return 0;\n                  } else {\n                    Localforage.clear();\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Future.tapOk(futureFromPromise(Map$LocalForage.setItems(store, items)), (function (param) {\n                    Future.tapOk(futureFromPromise(Map$LocalForage.getKeys(store)), (function (keys) {\n                            var stateKeys = Belt_MapString.keysToArray(items);\n                            var deleted = keys.filter((function (x) {\n                                    return !stateKeys.includes(x);\n                                  }));\n                            if (deleted.length > 0) {\n                              Map$LocalForage.removeItems(store, deleted);\n                              return /* () */0;\n                            } else {\n                              return 0;\n                            }\n                          }));\n                    return /* () */0;\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        items,\n        isLoaded\n      ]);\n  return /* tuple */[\n          items,\n          dispatch,\n          isLoaded\n        ];\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* AddAvoidPair */0 :\n        return /* record */[\n                /* avoidPairs */Belt_Set.add(state[/* avoidPairs */0], action[0]),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case /* DelAvoidPair */1 :\n        return /* record */[\n                /* avoidPairs */Belt_Set.remove(state[/* avoidPairs */0], action[0]),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case /* DelAvoidSingle */2 :\n        var id = action[0];\n        return /* record */[\n                /* avoidPairs */Belt_Set.reduce(state[/* avoidPairs */0], Data_Config$Coronate.AvoidPairs.empty, (function (acc, param) {\n                        var p2 = param[1];\n                        var p1 = param[0];\n                        if (p1 === id || p2 === id) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, /* tuple */[\n                                      p1,\n                                      p2\n                                    ]);\n                        }\n                      })),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case /* SetAvoidPairs */3 :\n        return /* record */[\n                /* avoidPairs */action[0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case /* SetByeValue */4 :\n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */action[0],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case /* SetState */5 :\n        return action[0];\n    case /* SetLastBackup */6 :\n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */action[0]\n              ];\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Future.tapError(Future.tapOk(futureFromPromise(Record$LocalForage.get(configDb)), (function (values) {\n                      if (didCancel[0]) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetState */Block.__(5, [values]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel[0]) {\n                    return 0;\n                  } else {\n                    Localforage.clear();\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Record$LocalForage.set(configDb, config);\n          }\n          return ;\n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  futureFromPromise ,\n  localForageConfig ,\n  configDb ,\n  players ,\n  tournaments ,\n  loadDemoDB ,\n  genericDbReducer ,\n  useAllDb ,\n  useAllPlayers ,\n  useAllTournaments ,\n  configReducer ,\n  useConfig ,\n  \n}\n/* configDb Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = { };\n\nvar Alert = { };\n\nvar ArrowDown = { };\n\nvar ArrowLeft = { };\n\nvar ArrowUp = { };\n\nvar Award = { };\n\nvar Check = { };\n\nvar CheckCircle = { };\n\nvar ChevronDown = { };\n\nvar ChevronLeft = { };\n\nvar ChevronRight = { };\n\nvar ChevronUp = { };\n\nvar Circle = { };\n\nvar Clock = { };\n\nvar Download = { };\n\nvar Edit = { };\n\nvar Help = { };\n\nvar Info = { };\n\nvar Layers = { };\n\nvar List = { };\n\nvar Plus = { };\n\nvar Repeat = { };\n\nvar Settings = { };\n\nvar Sidebar = { };\n\nvar Trash = { };\n\nvar Unfullscreen = { };\n\nvar UserMinus = { };\n\nvar UserPlus = { };\n\nvar Users = { };\n\nvar X = { };\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var match = Props.height;\n    var height = match !== undefined ? match : \"24\";\n    var match$1 = Props.width;\n    var width = match$1 !== undefined ? match$1 : \"24\";\n    var match$2 = Props.className;\n    var className = match$2 !== undefined ? match$2 : \"\";\n    var match$3 = Props.style;\n    var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n    var match$4 = Props.ariaLabel;\n    var ariaLabel = match$4 !== undefined ? match$4 : IconData.icon.title + \" Icon\";\n    var match$5 = Props.ariaHidden;\n    var ariaHidden = match$5 !== undefined ? match$5 : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: ReactDOMRe.Style.combine(style, {\n                      fill: \"#\" + IconData.icon.hex\n                    }),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData.icon.path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData.icon.title;\n  return {\n          make: Icons$SimpleIcon\n        };\n}\n\nvar IconData = {\n  icon: Reason.default\n};\n\nfunction Icons$SimpleIcon(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData.icon.title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine(style, {\n                    fill: \"#\" + IconData.icon.hex\n                  }),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData.icon.path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData.icon.title;\n\nvar Reason$1 = {\n  make: Icons$SimpleIcon\n};\n\nvar IconData$1 = {\n  icon: React$1.default\n};\n\nfunction Icons$SimpleIcon$1(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData$1.icon.title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine(style, {\n                    fill: \"#\" + IconData$1.icon.hex\n                  }),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1.icon.path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1.icon.title;\n\nvar React$2 = {\n  make: Icons$SimpleIcon$1\n};\n\nfunction Icons$Close(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = {\n  make: Icons$Close\n};\n\nfunction Icons$Maximize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = {\n  make: Icons$Maximize\n};\n\nfunction Icons$Minimize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = {\n  make: Icons$Minimize\n};\n\nfunction Icons$Restore(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = {\n  make: Icons$Restore\n};\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Clock ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nvar match = window.require;\n\nvar electron_ = (match == null) ? undefined : Caml_option.nullable_to_opt(Curry._1(match, \"electron\"));\n\nfunction ifElectron(fn) {\n  if (electron_ !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron_)));\n  }\n  \n}\n\nvar currentWindow = ifElectron((function (electron) {\n        return electron.remote.getCurrentWindow();\n      }));\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  return /* () */0;\n}\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n    return /* () */0;\n  } else {\n    $$window.maximize();\n    return /* () */0;\n  }\n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (target.className.includes && target.className.includes(\"double-click-control\")) {\n            var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n            var $$window = electron.remote.getCurrentWindow();\n            switch (doubleClickAction) {\n              case \"Maximize\" :\n                  return toggleMaximize($$window);\n              case \"Minimize\" :\n                  $$window.minimize();\n                  return /* () */0;\n              default:\n                return /* () */0;\n            }\n          } else {\n            return 0;\n          }\n        }));\n  return /* () */0;\n}\n\nvar isWin = navigator.appVersion.includes(\"Windows\");\n\nvar isMac = navigator.appVersion.includes(\"Mac\");\n\nvar match$1 = ifElectron((function (param) {\n        return true;\n      }));\n\nvar isElectron = match$1 !== undefined ? match$1 : false;\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var os = Props.os;\n  var isThisTheRightOs = os ? isMac : isWin;\n  if (electron_ !== undefined && isThisTheRightOs) {\n    return Curry._1(children, Caml_option.valFromOption(electron_));\n  } else {\n    return null;\n  }\n}\n\nvar IfElectron = {\n  make: Electron$IfElectron\n};\n\nexport {\n  electron_ ,\n  ifElectron ,\n  currentWindow ,\n  openInBrowser ,\n  toggleMaximize ,\n  macOSDoubleClick ,\n  isWin ,\n  isMac ,\n  isElectron ,\n  IfElectron ,\n  \n}\n/* match Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar EloRank = { };\n\nvar $$FileReader = { };\n\nvar VisuallyHidden = { };\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var match = Props.style;\n  var style = match !== undefined ? Caml_option.valFromOption(match) : { };\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = { };\n\nvar TabList = { };\n\nvar Tab = { };\n\nvar TabPanels = { };\n\nvar TabPanel = { };\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nexport {\n  EloRank ,\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Webapi from \"bs-webapi/src/Webapi.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Webapi__Dom from \"bs-webapi/src/Webapi/Webapi__Dom.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Webapi__Dom__Document from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Document.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  var match = title.length === 0;\n  if (match) {\n    return global_title;\n  } else {\n    return $$String.concat(\" - \", /* :: */[\n                title,\n                /* :: */[\n                  global_title,\n                  /* [] */0\n                ]\n              ]);\n  }\n}\n\nvar initialWinState = /* record */[\n  /* isBlur */false,\n  /* isDialogOpen */false,\n  /* isFullScreen */false,\n  /* isMaximized */false,\n  /* isSidebarOpen */true,\n  /* title */\"\"\n];\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* SetBlur */0 :\n        return /* record */[\n                /* isBlur */action[0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case /* SetDialog */1 :\n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */action[0],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case /* SetFullScreen */2 :\n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */action[0],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case /* SetMaximized */3 :\n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */action[0],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case /* SetSidebar */4 :\n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */action[0],\n                /* title */state[/* title */5]\n              ];\n    case /* SetTitle */5 :\n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */action[0]\n              ];\n    \n  }\n}\n\nfunction initialState_001(param) {\n  return /* () */0;\n}\n\nvar initialState = /* tuple */[\n  initialWinState,\n  initialState_001\n];\n\nvar windowContext = React.createContext(initialState);\n\nfunction makeProps(value, children, param) {\n  return {\n          value: value,\n          children: children\n        };\n}\n\nvar make = windowContext.Provider;\n\nvar Provider = {\n  makeProps: makeProps,\n  make: make\n};\n\nvar Context = {\n  initialState: initialState,\n  windowContext: windowContext,\n  Provider: Provider\n};\n\nfunction useWindowContext(param) {\n  return React.useContext(windowContext);\n}\n\nfunction Window$About(Props) {\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), React.createElement(\"p\", undefined, $$String.concat(\"\", /* :: */[\n                          \"Copyright \",\n                          /* :: */[\n                            Utils$Coronate.Entities.copy,\n                            /* :: */[\n                              \" 2019 John\",\n                              /* :: */[\n                                Utils$Coronate.Entities.nbsp,\n                                /* :: */[\n                                  \"Jackson\",\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ])), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar About = {\n  make: Window$About\n};\n\nvar container = Css.style(/* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.backgroundColor(/* transparent */582626130),\n                  /* :: */[\n                    Css.width(/* `px */[\n                          25096,\n                          46\n                        ]),\n                    /* :: */[\n                      Css.minWidth(/* `px */[\n                            25096,\n                            46\n                          ]),\n                      /* :: */[\n                        Css.focus(/* :: */[\n                              Css.borderStyle(/* none */-922086728),\n                              /* :: */[\n                                Css.boxShadow(/* none */-922086728),\n                                /* :: */[\n                                  Css.outlineStyle(/* none */-922086728),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]),\n                        /* :: */[\n                          Css.selector(\" svg\", /* :: */[\n                                Css.display(/* inline */423610969),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Css.style(/* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Css.style(/* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.red_50),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  container: container,\n  button: button,\n  svg: svg,\n  close: close\n};\n\nfunction Window$MSWindowsControls(Props) {\n  var state = Props.state;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  var match = state[/* isFullScreen */2];\n  var match$1 = state[/* isMaximized */3];\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost1\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Minimize.make, {\n                      className: svg\n                    })), match ? React.createElement(\"button\", {\n                    className: button,\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        return /* () */0;\n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                match$1 ? React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Restore.make, {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Maximize.make, {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Close.make, {\n                      className: svg\n                    })));\n}\n\nvar MSWindowsControls = {\n  Style: Style,\n  make: Window$MSWindowsControls\n};\n\nvar button$1 = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* [] */0\n    ]);\n\nvar Style$1 = {\n  button: button$1\n};\n\nvar isElectronMac = Electron$Coronate.isMac && Electron$Coronate.isElectron;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var state = Props.state;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !state[/* isFullScreen */2]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron.make, {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets.logo,\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!state[/* isSidebarOpen */4]]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", state[/* isBlur */0]),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(state[/* title */5])), React.createElement(Electron$Coronate.IfElectron.make, {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  state: state,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nvar TitleBar = {\n  Style: Style$1,\n  isElectronMac: isElectronMac,\n  toolbarClasses: toolbarClasses,\n  make: Window$TitleBar\n};\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, initialWinState);\n  var dispatch = match[1];\n  var state = match[0];\n  var title = state[/* title */5];\n  React.useEffect((function () {\n          Belt_Option.map(Webapi__Dom__Document.asHtmlDocument(document), (function (__x) {\n                  __x.title = formatTitle(title);\n                  return /* () */0;\n                }));\n          return ;\n        }), /* array */[title]);\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron((function (electron) {\n                        var win = electron.remote.getCurrentWindow();\n                        var unregisterListeners = function (param) {\n                          win.removeAllListeners(\"enter-full-screen\");\n                          win.removeAllListeners(\"leave-full-screen\");\n                          win.removeAllListeners(\"blur\");\n                          win.removeAllListeners(\"focus\");\n                          win.removeAllListeners(\"maximize\");\n                          win.removeAllListeners(\"unmaximize\");\n                          return /* () */0;\n                        };\n                        unregisterListeners(/* () */0);\n                        win.on(\"enter-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                              }));\n                        win.on(\"leave-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                              }));\n                        win.on(\"maximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                              }));\n                        win.on(\"unmaximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                              }));\n                        win.on(\"blur\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                              }));\n                        win.on(\"focus\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                              }));\n                        Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                        Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                        Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                        return unregisterListeners;\n                      }));\n        }), /* array */[dispatch]);\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", state[/* isSidebarOpen */4]),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !state[/* isSidebarOpen */4]),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", state[/* isBlur */0]),\n                          /* :: */[\n                            Cn.ifTrue(\"isWindows\", Electron$Coronate.isWin),\n                            /* :: */[\n                              Cn.ifTrue(\"isMacOS\", Electron$Coronate.isMac),\n                              /* :: */[\n                                Cn.ifTrue(\"isElectron\", Electron$Coronate.isElectron),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  state: state,\n                  dispatch: dispatch\n                }), React.createElement(make, makeProps(/* tuple */[\n                      state,\n                      dispatch\n                    ], children, /* () */0)), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state[/* isDialogOpen */1],\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/tourneys\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/players\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/options\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/timecalc\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Clock, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                          children: null,\n                          to_: \"/\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nvar DefaultSidebar = {\n  make: Window$DefaultSidebar\n};\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var match = Props.sidebarFunc;\n  var sidebarFunc = match !== undefined ? match : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, /* () */0)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, /* () */0)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make$1 = $$Window;\n\nexport {\n  global_title ,\n  formatTitle ,\n  initialWinState ,\n  windowReducer ,\n  Context ,\n  useWindowContext ,\n  About ,\n  MSWindowsControls ,\n  TitleBar ,\n  make$1 as make,\n  noDraggy ,\n  DefaultSidebar ,\n  sidebarCallback ,\n  Body ,\n  \n}\n/* windowContext Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors.grey_10),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Css.style(/* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Css.style(/* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Css.style(/* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors.ink_80),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_20),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.teal_50),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors.teal_60),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Css.style(/* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Css.style(/* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Css.style(/* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = {\n  container: container,\n  hint: hint,\n  hintLi: hintLi,\n  footer: footer,\n  footerLink: footerLink,\n  title: title,\n  titleIcon: titleIcon,\n  titleText: titleText,\n  subtitle: subtitle\n};\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: container\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(/* () */0);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets.logo,\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities.copy + \" 2019 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason.make, { }), \" \", React.createElement(Icons$Coronate.React.make, { }))))))\n            });\n}\n\nvar Splash = {\n  Style: Style,\n  make: Pages$Splash\n};\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Number.POSITIVE_INFINITY || num === Number.NEGATIVE_INFINITY) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateFloat(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Float.fromString($$event.currentTarget.value), minimum);\n  var match = value < minimum;\n  var safeValue = match ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var match = value < minimum;\n  var safeValue = match ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState((function () {\n          return 2;\n        }));\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState((function () {\n          return 5;\n        }));\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState((function () {\n          return 4.0;\n        }));\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                            style: {\n                              margin: \"0\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"playerCount\"\n                                          }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"playerCount\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            type: \"number\",\n                                            value: players.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setPlayers, 0, param);\n                                              })\n                                          }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))).toString())), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"breakTime\"\n                                          }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"breakTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 5.0,\n                                            type: \"number\",\n                                            value: breakTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setBreakTime, 0, param);\n                                              })\n                                          }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"totalTime\"\n                                          }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"totalTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 0.5,\n                                            type: \"number\",\n                                            value: totalTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateFloat(setTotalTime, 0.5, param);\n                                              })\n                                          }), \" hours\"))))), React.createElement(\"p\", {\n                        className: \"title-20\"\n                      }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                            className: \"title-20\"\n                          }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)).toString(), \" minutes\"), React.createElement(\"span\", {\n                            className: \"caption-30\"\n                          }, \" = ((\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, totalTime.toString()), \"  60  log(\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, players.toString()), \")) - \", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, breakTime.toString()), \")  2\")))\n            });\n}\n\nvar TimeCalculator = {\n  updateFloat: updateFloat,\n  updateInt: updateInt,\n  make: Pages$TimeCalculator\n};\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nexport {\n  Splash ,\n  log2 ,\n  fixNumber ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\n\nvar config_000 = /* avoidPairs */Data_Config$Coronate.AvoidPairs.fromArray(/* array */[\n      /* tuple */[\n        \"TVs_Frank____________\",\n        \"TVs_Son_of_TVs_Frank_\"\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Pearl_Forrester______\"\n      ]\n    ]);\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue : Full */0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Cambot_______________\",\n        /* record */[\n          /* firstName */\"Cambot\",\n          /* id */\"Cambot_______________\",\n          /* lastName */\"\",\n          /* matchCount */25,\n          /* rating */1500,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Crow_T_Robot_________\",\n        /* record */[\n          /* firstName */\"Crow T\",\n          /* id */\"Crow_T_Robot_________\",\n          /* lastName */\"Robot\",\n          /* matchCount */5,\n          /* rating */1700,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Dr_Clayton_Forrester_\",\n        /* record */[\n          /* firstName */\"Clayton\",\n          /* id */\"Dr_Clayton_Forrester_\",\n          /* lastName */\"Forrester\",\n          /* matchCount */40,\n          /* rating */2100,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Grandy_McMaster______\",\n        /* record */[\n          /* firstName */\"Grandy\",\n          /* id */\"Grandy_McMaster______\",\n          /* lastName */\"McMaster\",\n          /* matchCount */100,\n          /* rating */2600,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Gypsy________________\",\n        /* record */[\n          /* firstName */\"Gypsy\",\n          /* id */\"Gypsy________________\",\n          /* lastName */\"\",\n          /* matchCount */15,\n          /* rating */1600,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Joel_Robinson________\",\n        /* record */[\n          /* firstName */\"Joel\",\n          /* id */\"Joel_Robinson________\",\n          /* lastName */\"Robinson\",\n          /* matchCount */70,\n          /* rating */2400,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Jonah_Heston_________\",\n        /* record */[\n          /* firstName */\"Jonah\",\n          /* id */\"Jonah_Heston_________\",\n          /* lastName */\"Heston\",\n          /* matchCount */50,\n          /* rating */2200,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        /* record */[\n          /* firstName */\"Kinga\",\n          /* id */\"Kinga_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */20,\n          /* rating */1900,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Larry_Erhardt________\",\n        /* record */[\n          /* firstName */\"Larry\",\n          /* id */\"Larry_Erhardt________\",\n          /* lastName */\"Erhardt\",\n          /* matchCount */45,\n          /* rating */1300,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Mike_Nelson__________\",\n        /* record */[\n          /* firstName */\"Mike\",\n          /* id */\"Mike_Nelson__________\",\n          /* lastName */\"Nelson\",\n          /* matchCount */60,\n          /* rating */2300,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Newbie_McNewberson___\",\n        /* record */[\n          /* firstName */\"Newbie\",\n          /* id */\"Newbie_McNewberson___\",\n          /* lastName */\"McNewberson\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Observer_Brain_Guy___\",\n        /* record */[\n          /* firstName */\"Brain\",\n          /* id */\"Observer_Brain_Guy___\",\n          /* lastName */\"Guy\",\n          /* matchCount */55,\n          /* rating */1200,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        /* record */[\n          /* firstName */\"Pearl\",\n          /* id */\"Pearl_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */30,\n          /* rating */2000,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Professor_Bobo_______\",\n        /* record */[\n          /* firstName */\"Bobo\",\n          /* id */\"Professor_Bobo_______\",\n          /* lastName */\"Professor\",\n          /* matchCount */75,\n          /* rating */1000,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Frank____________\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Frank____________\",\n          /* lastName */\"Frank\",\n          /* matchCount */35,\n          /* rating */1400,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Son_of_TVs_Frank_\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Son_of_TVs_Frank_\",\n          /* lastName */\"Max\",\n          /* matchCount */65,\n          /* rating */1100,\n          /* type_ : Person */0\n        ]\n      ],\n      /* tuple */[\n        \"Tom_Servo____________\",\n        /* record */[\n          /* firstName */\"Tom\",\n          /* id */\"Tom_Servo____________\",\n          /* lastName */\"Servo\",\n          /* matchCount */10,\n          /* rating */1800,\n          /* type_ : Person */0\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Bye_Round_Tourney____\",\n        /* record */[\n          /* id */\"Bye_Round_Tourney____\",\n          /* name */\"Bye Round Tourney\",\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* playerIds : :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Crow_T_Robot_________\",\n              /* :: */[\n                \"Tom_Servo____________\",\n                /* :: */[\n                  \"Gypsy________________\",\n                  /* :: */[\n                    \"Cambot_______________\",\n                    /* :: */[\n                      \"Newbie_McNewberson___\",\n                      /* :: */[\n                        \"Grandy_McMaster______\",\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[/* array */[]]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Round_Tourney_2__\",\n        /* record */[\n          /* id */\"Bye_Round_Tourney_2__\",\n          /* name */\"Bye Round Tourney 2\",\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* playerIds : :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Crow_T_Robot_________\",\n              /* :: */[\n                \"Tom_Servo____________\",\n                /* :: */[\n                  \"Gypsy________________\",\n                  /* :: */[\n                    \"Cambot_______________\",\n                    /* :: */[\n                      \"Newbie_McNewberson___\",\n                      /* :: */[\n                        \"Grandy_McMaster______\",\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[/* array */[\n              /* record */[\n                /* id */\"xTXxZHB0sTt__xIAg45fm\",\n                /* whiteId */\"Grandy_McMaster______\",\n                /* blackId */\"Crow_T_Robot_________\",\n                /* whiteNewRating */2592,\n                /* blackNewRating */1833,\n                /* whiteOrigRating */2600,\n                /* blackOrigRating */1700,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"zQcf9RWXK7iuU6ibPzrhU\",\n                /* whiteId */\"Joel_Robinson________\",\n                /* blackId */\"Gypsy________________\",\n                /* whiteNewRating */2400,\n                /* blackNewRating */1600,\n                /* whiteOrigRating */2400,\n                /* blackOrigRating */1600,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"Vw_X0c7O4vshrYEO-oSzR\",\n                /* whiteId */\"Tom_Servo____________\",\n                /* blackId */\"Cambot_______________\",\n                /* whiteNewRating */1738,\n                /* blackNewRating */1526,\n                /* whiteOrigRating */1800,\n                /* blackOrigRating */1500,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"iSDujOVkOTrcLv_KJmd7s\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */800,\n                /* blackNewRating */0,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Tourney_3________\",\n        /* record */[\n          /* id */\"Bye_Tourney_3________\",\n          /* name */\"Bye Tourney 3\",\n          /* date */new Date(\"2019-06-17T23:00:29.603Z\"),\n          /* playerIds : :: */[\n            \"Kinga_Forrester______\",\n            /* :: */[\n              \"Newbie_McNewberson___\",\n              /* :: */[\n                \"Jonah_Heston_________\",\n                /* [] */0\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KkFr4B7FDqiHRWmACgApf\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"Jonah_Heston_________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */2202,\n                /* whiteOrigRating */1900,\n                /* blackOrigRating */2200,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"R_BTsGSziwgyvFZM3yc5u\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */793,\n                /* blackNewRating */0,\n                /* whiteOrigRating */793,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"rcyCfpZU6olav5kdVac44\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"Newbie_McNewberson___\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */953,\n                /* whiteOrigRating */2202,\n                /* blackOrigRating */793,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"Nc0Om5fEuwSuzFls9wmME\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1894,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"uawjKwbiA38RP8pA--tlw\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Kinga_Forrester______\",\n                /* whiteNewRating */952,\n                /* blackNewRating */1894,\n                /* whiteOrigRating */953,\n                /* blackOrigRating */1894,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"-kwIDxjPhWVRbqxtRZ26_\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */0,\n                /* whiteOrigRating */2187,\n                /* blackOrigRating */0,\n                /* result : WhiteWon */0\n              ]\n            ]\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Simple_Pairing_______\",\n        /* record */[\n          /* id */\"Simple_Pairing_______\",\n          /* name */\"Simple Pairing\",\n          /* date */new Date(\"2019-06-14T11:40:34.407Z\"),\n          /* playerIds : :: */[\n            \"Newbie_McNewberson___\",\n            /* :: */[\n              \"Grandy_McMaster______\",\n              /* :: */[\n                \"Joel_Robinson________\",\n                /* :: */[\n                  \"Dr_Clayton_Forrester_\",\n                  /* :: */[\n                    \"TVs_Frank____________\",\n                    /* :: */[\n                      \"Crow_T_Robot_________\",\n                      /* :: */[\n                        \"Tom_Servo____________\",\n                        /* :: */[\n                          \"Gypsy________________\",\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KdLva8hWqYHdaU9KnFTe2\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"WDPFsNF1yADs4qofFwCY0\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"R5sXfTOJw5vrJ4IytAjSi\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"2YOsn_JJFnaUMhRBAc9KY\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1597,\n                /* blackNewRating */1728,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* result : WhiteWon */0\n              ]\n            ],\n            /* array */[]\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Pairing_With_Draws___\",\n        /* record */[\n          /* id */\"Pairing_With_Draws___\",\n          /* name */\"Pairing with draws\",\n          /* date */new Date(\"2019-06-14T14:18:06.686Z\"),\n          /* playerIds : :: */[\n            \"Newbie_McNewberson___\",\n            /* :: */[\n              \"Grandy_McMaster______\",\n              /* :: */[\n                \"Joel_Robinson________\",\n                /* :: */[\n                  \"Dr_Clayton_Forrester_\",\n                  /* :: */[\n                    \"TVs_Frank____________\",\n                    /* :: */[\n                      \"Crow_T_Robot_________\",\n                      /* :: */[\n                        \"Tom_Servo____________\",\n                        /* :: */[\n                          \"Gypsy________________\",\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ],\n          /* byeQueue : array */[],\n          /* tieBreaks : array */[\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"ryWXwvFGwBKQqGBbMYeps\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"2KKVbi0AfNxfJAJobTgP5\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* result : WhiteWon */0\n              ],\n              /* record */[\n                /* id */\"zdlBHBAqgV2qabn2oBa2a\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* result : BlackWon */1\n              ],\n              /* record */[\n                /* id */\"8fGxU3tLpd8GibuSQr9-Y\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1197,\n                /* blackNewRating */1764,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* result : Draw */2\n              ]\n            ],\n            /* array */[]\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return $$String.concat(\"-\", /* :: */[\n              date.getFullYear().toString(),\n              /* :: */[\n                Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n                /* :: */[\n                  Numeral.default(date.getDate()).format(\"00\"),\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction invalidAlert(param) {\n  window.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n  return /* () */0;\n}\n\nfunction dictToMap(dict) {\n  return Belt_MapString.fromArray(Js_dict.entries(dict));\n}\n\nfunction mapToDict(map) {\n  return Js_dict.fromArray(Belt_MapString.toArray(map));\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return /* record */[\n          /* config */Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          /* players */Belt_MapString.fromArray(Js_dict.entries(dict)),\n          /* tournaments */Belt_MapString.fromArray(Js_dict.entries(dict$1))\n        ];\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_MapString.map(data[/* players */1], Data_Player$Coronate.encode);\n  var map$1 = Belt_MapString.map(data[/* tournaments */2], Data_Tournament$Coronate.encode);\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"config\",\n                Data_Config$Coronate.encode(data[/* config */0])\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"players\",\n                  Js_dict.fromArray(Belt_MapString.toArray(map))\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"tournaments\",\n                    Js_dict.fromArray(Belt_MapString.toArray(map$1))\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nvar LastBackupDate = {\n  make: PageOptions$LastBackupDate\n};\n\nfunction PageOptions(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var tourneysDispatch = match[1];\n  var tournaments = match[0];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return /* record */[\n                  /* config */config,\n                  /* players */players,\n                  /* tournaments */tournaments\n                ];\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          return ;\n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, /* SetAll */Block.__(2, [tournaments]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetAll */Block.__(2, [players]));\n    window.alert(\"Data loaded.\");\n    return /* () */0;\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var match = Json.parse(text);\n    if (match !== undefined) {\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(match));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn[0] === Json_decode.DecodeError) {\n          return invalidAlert(/* () */0);\n        } else {\n          throw exn;\n        }\n      }\n      return loadData(val[/* tournaments */2], val[/* players */1], val[/* config */0]);\n    } else {\n      return invalidAlert(/* () */0);\n    }\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var match = Json.parse(data);\n      if (match !== undefined) {\n        var val;\n        try {\n          val = decodeOptions(Caml_option.valFromOption(match));\n        }\n        catch (raw_exn){\n          var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n          if (exn[0] === Json_decode.DecodeError) {\n            return invalidAlert(/* () */0);\n          } else {\n            throw exn;\n          }\n        }\n        return loadData(val[/* tournaments */2], val[/* players */1], val[/* config */0]);\n      } else {\n        return invalidAlert(/* () */0);\n      }\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    return /* () */0;\n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$5 = process.env.NODE_ENV !== \"production\";\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === /* Full */0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Full */0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \" \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === /* Half */1,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Half */1]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config[/* lastBackup */2]\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(/* () */0) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", match$5 ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  getDateForFile ,\n  invalidAlert ,\n  dictToMap ,\n  mapToDict ,\n  decodeOptions ,\n  encodeOptions ,\n  LastBackupDate ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as EloRank from \"elo-rank\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nfunction opposite(color) {\n  if (color) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(color) {\n  if (color) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction createBlankScoreData($staropt$star, id) {\n  var firstRating = $staropt$star !== undefined ? $staropt$star : 0;\n  return /* record */[\n          /* colorScores : [] */0,\n          /* colors : [] */0,\n          /* id */id,\n          /* isDummy */false,\n          /* opponentResults */Belt_MapString.empty,\n          /* ratings : [] */0,\n          /* firstRating */firstRating,\n          /* results : [] */0,\n          /* resultsNoByes : [] */0\n        ];\n}\n\nfunction isNotDummy(scores, oppId) {\n  var match = Belt_MapString.get(scores, oppId);\n  if (match !== undefined) {\n    return !match[/* isDummy */3];\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match[/* results */7]);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Belt_MapString.reduce(match[/* opponentResults */4], /* [] */0, (function (acc, oppId, param) {\n                  if (isNotDummy(scores, oppId)) {\n                    return /* :: */[\n                            getPlayerScore(scores, oppId),\n                            acc\n                          ];\n                  } else {\n                    return acc;\n                  }\n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  return Belt_Option.mapWithDefault(Belt_List.tail(Belt_Option.mapWithDefault(Belt_List.tail(Belt_List.sort(getOpponentScores(scores, id), Caml_obj.caml_compare)), /* [] */0, Belt_List.reverse)), 0.0, Utils$Coronate.List.sumF);\n}\n\nfunction getSolkoffScore(scores, id) {\n  return Utils$Coronate.List.sumF(getOpponentScores(scores, id));\n}\n\nfunction runningReducer(acc, score) {\n  if (acc) {\n    var last = acc[0];\n    return /* :: */[\n            last + score,\n            /* :: */[\n              last,\n              acc[1]\n            ]\n          ];\n  } else {\n    return /* :: */[\n            score,\n            /* [] */0\n          ];\n  }\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.reduce(match[/* resultsNoByes */8], /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.map(Belt_MapString.reduce(match[/* opponentResults */4], /* [] */0, (function (acc, key, param) {\n                          if (isNotDummy(scores, key)) {\n                            return /* :: */[\n                                    key,\n                                    acc\n                                  ];\n                          } else {\n                            return acc;\n                          }\n                        })), (function (param) {\n                      return getCumulativeScore(scores, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_MapString.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match[/* colorScores */0]);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction mapTieBreak(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return getMedianScore;\n    case /* Solkoff */1 :\n        return getSolkoffScore;\n    case /* Cumulative */2 :\n        return getCumulativeScore;\n    case /* CumulativeOfOpposition */3 :\n        return getCumulativeOfOpponentScore;\n    case /* MostBlack */4 :\n        return getColorBalanceScore;\n    \n  }\n}\n\nfunction standingsSorter(tieBreaks, a, b) {\n  var x = Caml_primitive.caml_float_compare(b[/* score */1], a[/* score */1]);\n  if (x !== 0) {\n    return x;\n  } else {\n    var _tieBreaks = tieBreaks;\n    while(true) {\n      var tieBreaks$1 = _tieBreaks;\n      if (tieBreaks$1) {\n        var rest = tieBreaks$1[1];\n        var tieBreak = tieBreaks$1[0];\n        var getTieBreak = (function(tieBreak){\n        return function getTieBreak(__x) {\n          return Belt_List.getAssoc(__x, tieBreak, (function (prim, prim$1) {\n                        return prim === prim$1;\n                      }));\n        }\n        }(tieBreak));\n        var match = getTieBreak(a[/* tieBreaks */2]);\n        var match$1 = getTieBreak(b[/* tieBreaks */2]);\n        if (match !== undefined) {\n          if (match$1 !== undefined) {\n            var x$1 = Caml_primitive.caml_float_compare(match$1, match);\n            if (x$1 !== 0) {\n              return x$1;\n            } else {\n              _tieBreaks = rest;\n              continue ;\n            }\n          } else {\n            _tieBreaks = rest;\n            continue ;\n          }\n        } else {\n          _tieBreaks = rest;\n          continue ;\n        }\n      } else {\n        return 0;\n      }\n    };\n  }\n}\n\nfunction createStandingList(scores, methods) {\n  var funcList = Belt_List.map(Belt_List.fromArray(methods), (function (tbType) {\n          return /* tuple */[\n                  tbType,\n                  mapTieBreak(tbType)\n                ];\n        }));\n  var partial_arg = Belt_List.fromArray(methods);\n  return Belt_List.sort(Belt_List.reverse(Belt_MapString.reduce(scores, /* [] */0, (function (acc, id, data) {\n                        return /* :: */[\n                                /* record */[\n                                  /* id */id,\n                                  /* score */Utils$Coronate.List.sumF(data[/* results */7]),\n                                  /* tieBreaks */Belt_List.map(funcList, (function (param) {\n                                          return /* tuple */[\n                                                  param[0],\n                                                  Curry._2(param[1], scores, id)\n                                                ];\n                                        }))\n                                ],\n                                acc\n                              ];\n                      }))), (function (param, param$1) {\n                return standingsSorter(partial_arg, param, param$1);\n              }));\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  if (standing1[/* score */1] !== standing2[/* score */1]) {\n    return false;\n  } else {\n    var comparisons = Belt_List.reduce(standing1[/* tieBreaks */2], /* [] */0, (function (acc, param) {\n            var match = Belt_List.getAssoc(standing2[/* tieBreaks */2], param[0], (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n            if (match !== undefined) {\n              return /* :: */[\n                      param[1] !== match,\n                      acc\n                    ];\n            } else {\n              return acc;\n            }\n          }));\n    return !Belt_List.has(comparisons, true, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  }\n}\n\nfunction createStandingTree(standingList) {\n  return Belt_List.reduce(standingList, /* [] */0, (function (acc, standing) {\n                if (acc) {\n                  var lastRank = acc[0];\n                  if (lastRank) {\n                    var pastRanks = acc[1];\n                    if (areScoresEqual(lastRank[0], standing)) {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                lastRank\n                              ],\n                              pastRanks\n                            ];\n                    } else {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                /* [] */0\n                              ],\n                              /* :: */[\n                                lastRank,\n                                pastRanks\n                              ]\n                            ];\n                    }\n                  } else {\n                    return /* :: */[\n                            /* :: */[\n                              standing,\n                              /* [] */0\n                            ],\n                            acc\n                          ];\n                  }\n                } else {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          /* [] */0\n                        ];\n                }\n              }));\n}\n\nfunction getKFactor(matchCount) {\n  var match = matchCount > 0;\n  var ne = match ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  var match = rating > 100;\n  if (match) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(param, param$1, param$2) {\n  var blackRating = param[1];\n  var whiteRating = param[0];\n  var whiteElo = new EloRank.default(getKFactor(param$1[0]));\n  var blackElo = new EloRank.default(getKFactor(param$1[1]));\n  var whiteExpected = whiteElo.getExpected(whiteRating, blackRating);\n  var blackExpected = blackElo.getExpected(blackRating, whiteRating);\n  return /* tuple */[\n          keepAboveFloor(whiteElo.updateRating(whiteExpected, param$2[0], whiteRating)),\n          keepAboveFloor(blackElo.updateRating(blackExpected, param$2[1], blackRating))\n        ];\n}\n\nvar Ratings = {\n  getKFactor: getKFactor,\n  floor: 100,\n  keepAboveFloor: keepAboveFloor,\n  EloRank: 0,\n  calcNewRatings: calcNewRatings\n};\n\nexport {\n  Color ,\n  createBlankScoreData ,\n  isNotDummy ,\n  getPlayerScore ,\n  getOpponentScores ,\n  getMedianScore ,\n  getSolkoffScore ,\n  runningReducer ,\n  getCumulativeScore ,\n  getCumulativeOfOpponentScore ,\n  getColorBalanceScore ,\n  mapTieBreak ,\n  standingsSorter ,\n  createStandingList ,\n  areScoresEqual ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* elo-rank Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar sortName = /* GetString */Block.__(0, [(function (x) {\n        return x[/* firstName */0];\n      })]);\n\nvar sortRating = /* GetInt */Block.__(1, [(function (x) {\n        return x[/* rating */4];\n      })]);\n\nvar sortMatchCount = /* GetInt */Block.__(1, [(function (x) {\n        return x[/* matchCount */3];\n      })]);\n\nfunction defaultFirstName(param) {\n  return \"\";\n}\n\nfunction defaultLastName(param) {\n  return \"\";\n}\n\nfunction defaultRating(param) {\n  return 1200;\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var match = React.useState((function () {\n          return \"\";\n        }));\n  var setFirstName = match[1];\n  var firstName = match[0];\n  var match$1 = React.useState((function () {\n          return \"\";\n        }));\n  var setLastName = match$1[1];\n  var lastName = match$1[0];\n  var match$2 = React.useState((function () {\n          return 1200;\n        }));\n  var setRating = match$2[1];\n  var rating = match$2[0];\n  var handleSubmit = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(setFirstName, defaultFirstName);\n    Curry._1(setLastName, defaultLastName);\n    Curry._1(setRating, defaultRating);\n    var id = Utils$Coronate.nanoid(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            /* record */[\n              /* firstName */firstName,\n              /* id */id,\n              /* lastName */lastName,\n              /* matchCount */0,\n              /* rating */rating,\n              /* type_ : Person */0\n            ]\n          ]));\n    if (addPlayerCallback !== undefined) {\n      return Curry._1(addPlayerCallback, id);\n    } else {\n      return /* () */0;\n    }\n  };\n  var updateField = function ($$event) {\n    $$event.preventDefault();\n    var name = $$event.currentTarget.name;\n    var value = $$event.currentTarget.value;\n    switch (name) {\n      case \"firstName\" :\n          return Curry._1(setFirstName, (function (param) {\n                        return value;\n                      }));\n      case \"lastName\" :\n          return Curry._1(setLastName, (function (param) {\n                        return value;\n                      }));\n      case \"rating\" :\n          return Curry._1(setRating, (function (param) {\n                        return Caml_format.caml_int_of_string(value);\n                      }));\n      default:\n        return /* () */0;\n    }\n  };\n  return React.createElement(\"form\", {\n              onSubmit: handleSubmit\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: firstName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: lastName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: String(rating),\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          type: \"submit\",\n                          value: \"Add\"\n                        }))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  var match$1 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, sorted[/* table */2].map((function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p[/* id */1],\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                                children: $$String.concat(\" \", /* :: */[\n                                                      p[/* firstName */0],\n                                                      /* :: */[\n                                                        p[/* lastName */2],\n                                                        /* [] */0\n                                                      ]\n                                                    ]),\n                                                to_: \"/players/\" + p[/* id */1]\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* rating */4])), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* matchCount */3])), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var $$event$1 = $$event;\n                                                    var id = p[/* id */1];\n                                                    $$event$1.preventDefault();\n                                                    var playerOpt = Belt_MapString.get(players, id);\n                                                    if (playerOpt !== undefined) {\n                                                      var player = playerOpt;\n                                                      var message = $$String.concat(\"\", /* :: */[\n                                                            \"Are you sure you want to delete \",\n                                                            /* :: */[\n                                                              player[/* firstName */0],\n                                                              /* :: */[\n                                                                \" \",\n                                                                /* :: */[\n                                                                  player[/* lastName */2],\n                                                                  /* :: */[\n                                                                    \"?\",\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]\n                                                          ]);\n                                                      if (window.confirm(message)) {\n                                                        Curry._1(playersDispatch, /* Del */Block.__(0, [id]));\n                                                        return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                      } else {\n                                                        return 0;\n                                                      }\n                                                    } else {\n                                                      return /* () */0;\n                                                    }\n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: $$String.concat(\" \", /* :: */[\n                                                          \"Delete\",\n                                                          /* :: */[\n                                                            p[/* firstName */0],\n                                                            /* :: */[\n                                                              p[/* lastName */2],\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ])\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nvar PlayerList = {\n  make: PagePlayers$PlayerList\n};\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var playerId = player[/* id */1];\n  var playerName = $$String.concat(\" \", /* :: */[\n        player[/* firstName */0],\n        /* :: */[\n          player[/* lastName */2],\n          /* [] */0\n        ]\n      ]);\n  var match = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(config[/* avoidPairs */0]);\n  var match$1 = Belt_MapString.get(avoidMap, playerId);\n  var singAvoidList = match$1 !== undefined ? match$1 : /* [] */0;\n  var unavoided = Belt_List.keep(Belt_List.fromArray(Belt_MapString.keysToArray(players)), (function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match$2 = React.useState((function () {\n          if (unavoided) {\n            return unavoided[0];\n          }\n          \n        }));\n  var setSelectedAvoider = match$2[1];\n  var selectedAvoider = match$2[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider !== undefined) {\n      var selectedAvoider$1 = selectedAvoider;\n      Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [/* tuple */[\n                playerId,\n                selectedAvoider$1\n              ]]));\n      var newSelected;\n      if (unavoided) {\n        var match = unavoided[1];\n        var id = unavoided[0];\n        newSelected = id !== selectedAvoider$1 ? id : (\n            match ? match[0] : undefined\n          );\n      } else {\n        newSelected = undefined;\n      }\n      return Curry._1(setSelectedAvoider, (function (param) {\n                    return newSelected;\n                  }));\n    } else {\n      return /* () */0;\n    }\n  };\n  var handleChange = function ($$event) {\n    $$event.preventDefault();\n    var target = $$event.currentTarget;\n    var firstName = target.firstName.value;\n    var lastName = target.lastName.value;\n    var matchCount = Caml_format.caml_int_of_string(target.matchCount.value);\n    var rating = Caml_format.caml_int_of_string(target.rating.value);\n    return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                  playerId,\n                  /* record */[\n                    /* firstName */firstName,\n                    /* id */playerId,\n                    /* lastName */lastName,\n                    /* matchCount */matchCount,\n                    /* rating */rating,\n                    /* type_ */player[/* type_ */5]\n                  ]\n                ]));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                  children: null,\n                  to_: \"/players\"\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onChange: handleChange,\n                  onSubmit: handleChange\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* firstName */0],\n                          name: \"firstName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* lastName */2],\n                          name: \"lastName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* matchCount */3]),\n                          name: \"matchCount\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* rating */4]),\n                          name: \"rating\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: String(Scoring$Coronate.Ratings.getKFactor(player[/* matchCount */3]))\n                        }))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Utils$Coronate.List.toReactArray(singAvoidList, (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: pId\n                                  }, Data_Player$Coronate.getPlayerMaybe(players, pId)[/* firstName */0], \" \", Data_Player$Coronate.getPlayerMaybe(players, pId)[/* lastName */2], React.createElement(\"button\", {\n                                        \"aria-label\": $$String.concat(\" \", /* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId)[/* firstName */0],\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId)[/* lastName */2],\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ]),\n                                        className: \"danger button-ghost\",\n                                        title: $$String.concat(\" \", /* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId)[/* firstName */0],\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId)[/* lastName */2],\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ]),\n                                        onClick: (function (param) {\n                                            return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [/* tuple */[\n                                                            playerId,\n                                                            pId\n                                                          ]]));\n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: selectedAvoider,\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Utils$Coronate.List.toReactArray(unavoided, (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: pId,\n                                              value: pId\n                                            }, Data_Player$Coronate.getPlayerMaybe(players, pId)[/* firstName */0], \" \", Data_Player$Coronate.getPlayerMaybe(players, pId)[/* lastName */2]);\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nvar Profile = {\n  make: PagePlayers$Profile\n};\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match[1];\n  var players = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(players)]));\n          return ;\n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var match$3 = id;\n    if (match$3) {\n      if (match$3[1]) {\n        tmp = React.createElement(Pages$Coronate.NotFound.make, { });\n      } else {\n        var match$4 = Belt_MapString.get(players, match$3[0]);\n        tmp = match$4 !== undefined ? React.createElement(PagePlayers$Profile, {\n                player: match$4,\n                players: players,\n                playersDispatch: playersDispatch,\n                config: match$2[0],\n                configDispatch: configDispatch\n              }) : React.createElement(\"div\", undefined, \"Loading...\");\n      }\n    } else {\n      tmp = React.createElement(Pages$Coronate.NotFound.make, { });\n    }\n  } else {\n    tmp = React.createElement(PagePlayers$PlayerList, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  sortName ,\n  sortRating ,\n  sortMatchCount ,\n  defaultFirstName ,\n  defaultLastName ,\n  defaultRating ,\n  NewPlayerForm ,\n  PlayerList ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Config$Coronate from \"./Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var match = Belt_MapString.get(existingData, playerId);\n  var oldData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(origRating, playerId);\n  var match$1 = Data_Player$Coronate.isDummyId(oppId);\n  var newResultsNoByes = match$1 ? oldData[/* resultsNoByes */8] : /* :: */[\n      result,\n      oldData[/* resultsNoByes */8]\n    ];\n  var oldOppResults = oldData[/* opponentResults */4];\n  var match$2 = Belt_MapString.get(oldOppResults, oppId);\n  var oppResult = match$2 !== undefined ? match$2 + result : result;\n  return /* record */[\n          /* colorScores : :: */[\n            Scoring$Coronate.Color.toScore(color),\n            oldData[/* colorScores */0]\n          ],\n          /* colors : :: */[\n            color,\n            oldData[/* colors */1]\n          ],\n          /* id */oldData[/* id */2],\n          /* isDummy */Data_Player$Coronate.isDummyId(playerId),\n          /* opponentResults */Belt_MapString.set(oldOppResults, oppId, oppResult),\n          /* ratings : :: */[\n            newRating,\n            oldData[/* ratings */5]\n          ],\n          /* firstRating */oldData[/* firstRating */6],\n          /* results : :: */[\n            result,\n            oldData[/* results */7]\n          ],\n          /* resultsNoByes */newResultsNoByes\n        ];\n}\n\nfunction matches2ScoreData(matchList) {\n  return Belt_Array.reduce(matchList, Belt_MapString.empty, (function (acc, match_) {\n                var match = match_[/* result */7];\n                if (match >= 3) {\n                  return acc;\n                } else {\n                  var whiteData = makeScoreData(acc, match_[/* whiteId */1], match_[/* whiteOrigRating */5], match_[/* whiteNewRating */3], Data_Match$Coronate.Result.toFloat(match_[/* result */7], /* White */0), match_[/* blackId */2], /* White */0);\n                  var blackData = makeScoreData(acc, match_[/* blackId */2], match_[/* blackOrigRating */6], match_[/* blackNewRating */4], Data_Match$Coronate.Result.toFloat(match_[/* result */7], /* Black */1), match_[/* whiteId */1], /* Black */1);\n                  return Belt_MapString.set(Belt_MapString.set(acc, match_[/* whiteId */1], whiteData), match_[/* blackId */2], blackData);\n                }\n              }));\n}\n\nfunction createPairingData(playerData, avoidPairs, scoreMap) {\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(avoidPairs);\n  return Belt_MapString.reduce(playerData, Belt_MapString.empty, (function (acc, key, data) {\n                var match = Belt_MapString.get(scoreMap, key);\n                var playerStats = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, key);\n                var match$1 = Belt_MapString.get(avoidMap, key);\n                var newAvoidIds = match$1 !== undefined ? match$1 : /* [] */0;\n                var newData_000 = /* id */data[/* id */1];\n                var newData_002 = /* colorScores */playerStats[/* colorScores */0];\n                var newData_003 = /* colors */playerStats[/* colors */1];\n                var newData_006 = /* opponents */Belt_List.fromArray(Belt_MapString.keysToArray(playerStats[/* opponentResults */4]));\n                var newData_007 = /* rating */data[/* rating */4];\n                var newData_008 = /* score */Utils$Coronate.List.sumF(playerStats[/* results */7]);\n                var newData = /* record */[\n                  newData_000,\n                  /* avoidIds */newAvoidIds,\n                  newData_002,\n                  newData_003,\n                  /* halfPos */0,\n                  /* isUpperHalf */false,\n                  newData_006,\n                  newData_007,\n                  newData_008\n                ];\n                return Belt_MapString.set(acc, key, newData);\n              }));\n}\n\nexport {\n  makeScoreData ,\n  matches2ScoreData ,\n  createPairingData ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney[/* playerIds */3];\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, /* record */[\n                  /* id */tourney[/* id */0],\n                  /* name */tourney[/* name */1],\n                  /* date */tourney[/* date */2],\n                  /* playerIds : :: */[\n                    id,\n                    playerIds\n                  ],\n                  /* byeQueue */tourney[/* byeQueue */4],\n                  /* tieBreaks */tourney[/* tieBreaks */5],\n                  /* roundList */tourney[/* roundList */6]\n                ]);\n    } else {\n      return Curry._1(setTourney, /* record */[\n                  /* id */tourney[/* id */0],\n                  /* name */tourney[/* name */1],\n                  /* date */tourney[/* date */2],\n                  /* playerIds */Belt_List.keep(playerIds, (function (pId) {\n                          return pId !== id;\n                        })),\n                  /* byeQueue */tourney[/* byeQueue */4],\n                  /* tieBreaks */tourney[/* tieBreaks */5],\n                  /* roundList */tourney[/* roundList */6]\n                ]);\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, /* record */[\n                                      /* id */tourney[/* id */0],\n                                      /* name */tourney[/* name */1],\n                                      /* date */tourney[/* date */2],\n                                      /* playerIds */Belt_List.fromArray(Belt_MapString.keysToArray(players)),\n                                      /* byeQueue */tourney[/* byeQueue */4],\n                                      /* tieBreaks */tourney[/* tieBreaks */5],\n                                      /* roundList */tourney[/* roundList */6]\n                                    ]);\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, /* record */[\n                                      /* id */tourney[/* id */0],\n                                      /* name */tourney[/* name */1],\n                                      /* date */tourney[/* date */2],\n                                      /* playerIds : [] */0,\n                                      /* byeQueue */tourney[/* byeQueue */4],\n                                      /* tieBreaks */tourney[/* tieBreaks */5],\n                                      /* roundList */tourney[/* roundList */6]\n                                    ]);\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_MapString.valuesToArray(players).map((function (param) {\n                            var lastName = param[/* lastName */2];\n                            var id = param[/* id */1];\n                            var firstName = param[/* firstName */0];\n                            return React.createElement(\"tr\", {\n                                        key: id\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + id\n                                                    }, $$String.concat(\" \", /* :: */[\n                                                          \"Select\",\n                                                          /* :: */[\n                                                            firstName,\n                                                            /* :: */[\n                                                              lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ]))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + id,\n                                                checked: Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                                        return prim === prim$1;\n                                                      })),\n                                                type: \"checkbox\",\n                                                value: id,\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, /* record */[\n                                  /* id */tourney[/* id */0],\n                                  /* name */tourney[/* name */1],\n                                  /* date */tourney[/* date */2],\n                                  /* playerIds : :: */[\n                                    id,\n                                    playerIds\n                                  ],\n                                  /* byeQueue */tourney[/* byeQueue */4],\n                                  /* tieBreaks */tourney[/* tieBreaks */5],\n                                  /* roundList */tourney[/* roundList */6]\n                                ]);\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return matches.filter((function (match_) {\n                    return /* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat(/* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ]);\n                }), /* array */[]).includes(Data_Player$Coronate.dummy_id);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_MapString.valuesToArray(players).map((function (p) {\n                    return React.createElement(\"tr\", {\n                                key: p[/* id */1],\n                                className: Cn.make(/* :: */[\n                                      Data_Player$Coronate.Type.toString(p[/* type_ */5]),\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p[/* firstName */0]), React.createElement(\"td\", undefined, p[/* lastName */2]), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p[/* id */1]),\n                                        onClick: (function (param) {\n                                            return Curry._1(setTourney, /* record */[\n                                                        /* id */tourney[/* id */0],\n                                                        /* name */tourney[/* name */1],\n                                                        /* date */tourney[/* date */2],\n                                                        /* playerIds */tourney[/* playerIds */3],\n                                                        /* byeQueue */byeQueue.concat(/* array */[p[/* id */1]]),\n                                                        /* tieBreaks */tourney[/* tieBreaks */5],\n                                                        /* roundList */tourney[/* roundList */6]\n                                                      ]);\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nvar PlayerList = {\n  make: PageTourneyPlayers$PlayerList\n};\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var byeQueue = tourney[/* byeQueue */4];\n  var playerIds = tourney[/* playerIds */3];\n  var setTourney = tournament[/* setTourney */8];\n  var activePlayers = tournament[/* activePlayers */0];\n  var match = React.useState((function () {\n          if (playerIds) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney[/* roundList */6], undefined, /* () */0);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, byeQueue.map((function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: pId,\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, $$String.concat(\" \", /* :: */[\n                                                Belt_MapString.getExn(activePlayers, pId)[/* firstName */0],\n                                                /* :: */[\n                                                  Belt_MapString.getExn(activePlayers, pId)[/* lastName */2],\n                                                  /* [] */0\n                                                ]\n                                              ]), \" \", React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(setTourney, /* record */[\n                                                                /* id */tourney[/* id */0],\n                                                                /* name */tourney[/* name */1],\n                                                                /* date */tourney[/* date */2],\n                                                                /* playerIds */tourney[/* playerIds */3],\n                                                                /* byeQueue */byeQueue.filter((function (id) {\n                                                                        return pId !== id;\n                                                                      })),\n                                                                /* tieBreaks */tourney[/* tieBreaks */5],\n                                                                /* roundList */tourney[/* roundList */6]\n                                                              ]);\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament[/* players */4],\n                          playersDispatch: tournament[/* playersDispatch */5]\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  hasHadBye ,\n  PlayerList ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Config$Coronate from \"../Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nfunction WithRoundData(BaseComponent) {\n  var HigherOrderComponents$WithRoundData = function (Props) {\n    var roundId = Props.roundId;\n    var tournament = Props.tournament;\n    var roundList = tournament[/* tourney */7][/* roundList */6];\n    var activePlayers = tournament[/* activePlayers */0];\n    var scoreData = React.useMemo((function () {\n            return Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n          }), /* array */[roundList]);\n    var round = Data_Rounds$Coronate.get(roundList, roundId);\n    var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n    var unmatched;\n    if (round !== undefined && isThisTheLastRound) {\n      var matched = Data_Rounds$Coronate.Round.getMatched(round);\n      unmatched = Belt_MapString.removeMany(activePlayers, matched);\n    } else {\n      unmatched = Belt_MapString.empty;\n    }\n    var unmatchedCount = Belt_MapString.size(unmatched);\n    var match = unmatchedCount % 2 !== 0;\n    var unmatchedWithDummy = match ? Belt_MapString.set(unmatched, Data_Player$Coronate.dummy_id, Curry._1(tournament[/* getPlayer */1], Data_Player$Coronate.dummy_id)) : unmatched;\n    var activePlayersCount = Belt_MapString.size(activePlayers);\n    return React.createElement(BaseComponent.make, {\n                roundId: roundId,\n                tournament: tournament,\n                activePlayersCount: activePlayersCount,\n                scoreData: scoreData,\n                unmatched: unmatched,\n                unmatchedCount: unmatchedCount,\n                unmatchedWithDummy: unmatchedWithDummy\n              });\n  };\n  return {\n          make: HigherOrderComponents$WithRoundData\n        };\n}\n\nfunction WithScoreInfo(BaseComponent) {\n  var HigherOrderComponents$WithScoreInfo = function (Props) {\n    var player = Props.player;\n    var scoreData = Props.scoreData;\n    var avoidPairs = Props.avoidPairs;\n    var getPlayer = Props.getPlayer;\n    var players = Props.players;\n    var origRating = Props.origRating;\n    var newRating = Props.newRating;\n    var match = Belt_MapString.get(scoreData, player[/* id */1]);\n    var match$1 = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, player[/* id */1]);\n    var opponentResults = match$1[/* opponentResults */4];\n    var hasBye = Belt_MapString.has(opponentResults, Data_Player$Coronate.dummy_id);\n    var x = Utils$Coronate.List.sumF(match$1[/* colorScores */0]);\n    var colorBalance = x < 0.0 ? \"White +\" + Math.abs(x).toString() : (\n        x > 0.0 ? \"Black +\" + x.toString() : \"Even\"\n      );\n    var avoidMap = Belt_Option.mapWithDefault(avoidPairs, Belt_MapString.empty, Data_Config$Coronate.AvoidPairs.toMap);\n    var match$2 = Belt_MapString.get(avoidMap, player[/* id */1]);\n    var avoidList = match$2 !== undefined ? match$2 : /* [] */0;\n    var score = Utils$Coronate.List.sumF(match$1[/* results */7]);\n    var opponentResults$1 = Belt_MapString.toArray(opponentResults).map((function (param) {\n            var result = param[1];\n            var opId = param[0];\n            return React.createElement(\"li\", {\n                        key: opId\n                      }, $$String.concat(\" \", /* :: */[\n                            Curry._1(getPlayer, opId)[/* firstName */0],\n                            /* :: */[\n                              Curry._1(getPlayer, opId)[/* lastName */2],\n                              /* :: */[\n                                \"-\",\n                                /* :: */[\n                                  result !== 0.0 ? (\n                                      result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                    ) : \"Lost\",\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]));\n          }));\n    var avoidListHtml = Utils$Coronate.List.toReactArrayReverse(avoidList, (function (pId) {\n            var match = Belt_MapString.get(players, pId);\n            if (match !== undefined) {\n              var match$1 = match;\n              return React.createElement(\"li\", {\n                          key: pId\n                        }, match$1[/* firstName */0] + (\" \" + match$1[/* lastName */2]));\n            } else {\n              return null;\n            }\n          }));\n    var rating = React.createElement(React.Fragment, undefined, origRating.toString(), newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n    return React.createElement(BaseComponent.make, {\n                hasBye: hasBye,\n                colorBalance: colorBalance,\n                player: player,\n                score: score,\n                rating: rating,\n                opponentResults: opponentResults$1,\n                avoidListHtml: avoidListHtml\n              });\n  };\n  return {\n          make: HigherOrderComponents$WithScoreInfo\n        };\n}\n\nexport {\n  WithRoundData ,\n  WithScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as HigherOrderComponents$Coronate from \"./HigherOrderComponents.bs.js\";\n\nvar sortByName = /* GetString */Block.__(0, [(function (x) {\n        return x[/* player */0][/* firstName */0];\n      })]);\n\nvar sortByIdeal = /* GetFloat */Block.__(2, [(function (x) {\n        return x[/* ideal */1];\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n          return /* record */[\n                  /* player */player,\n                  /* ideal */0.0\n                ];\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return match !== id;\n      }\n    } else {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        return match$1 !== id;\n      } else {\n        return true;\n      }\n    }\n  };\n  React.useEffect((function (param) {\n          var calcIdealOrNot = function (player) {\n            var match = stagedPlayers[0];\n            var selectedId;\n            if (match !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : match;\n            } else {\n              var match$1 = stagedPlayers[1];\n              selectedId = match$1 !== undefined ? match$1 : undefined;\n            }\n            if (selectedId !== undefined) {\n              var match$2 = Belt_MapString.get(pairData, selectedId);\n              if (match$2 !== undefined) {\n                if (player !== undefined) {\n                  return Pairing$Coronate.calcPairIdeal(match$2, player) / Pairing$Coronate.maxPriority;\n                } else {\n                  return 0.0;\n                }\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n                  return /* record */[\n                          /* player */player,\n                          /* ideal */calcIdealOrNot(Belt_MapString.get(pairData, player[/* id */1]))\n                        ];\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          return ;\n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_MapString.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, sorted[/* table */2].map((function (param) {\n                          var player = param[/* player */0];\n                          return React.createElement(\"tr\", {\n                                      key: player[/* id */1]\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player[/* id */1]),\n                                              onClick: (function (param) {\n                                                  var id = player[/* id */1];\n                                                  var match = stagedPlayers[0];\n                                                  if (match !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return /* () */0;\n                                                    } else {\n                                                      var p1 = match;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            p1,\n                                                                            id\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  } else {\n                                                    var match$1 = stagedPlayers[1];\n                                                    if (match$1 !== undefined) {\n                                                      var p2 = match$1;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            p2\n                                                                          ];\n                                                                  }));\n                                                    } else {\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            undefined\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  }\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: $$String.concat(\" \", /* :: */[\n                                                        \"Add\",\n                                                        /* :: */[\n                                                          player[/* firstName */0],\n                                                          /* :: */[\n                                                            player[/* lastName */2],\n                                                            /* [] */0\n                                                          ]\n                                                        ]\n                                                      ])\n                                                }))), React.createElement(\"td\", undefined, player[/* firstName */0] + (\" \" + player[/* lastName */2])), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param[/* ideal */1]).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nvar SelectList = {\n  make: PairPicker$SelectList\n};\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney[/* roundList */6];\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName;\n  if (white !== undefined) {\n    var player = white;\n    whiteName = Curry._1(getPlayer, player)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player)[/* lastName */2]);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (black !== undefined) {\n    var player$1 = black;\n    blackName = Curry._1(getPlayer, player$1)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player$1)[/* lastName */2]);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        var newRound = Data_Rounds$Coronate.Round.addMatches(round, /* array */[Data_Match$Coronate.manualPair(/* tuple */[\n                    Curry._1(getPlayer, match),\n                    Curry._1(getPlayer, match$1)\n                  ], byeValue)]);\n        var match$2 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n        if (match$2 !== undefined) {\n          Curry._1(setTourney, /* record */[\n                /* id */tourney[/* id */0],\n                /* name */tourney[/* name */1],\n                /* date */tourney[/* date */2],\n                /* playerIds */tourney[/* playerIds */3],\n                /* byeQueue */tourney[/* byeQueue */4],\n                /* tieBreaks */tourney[/* tieBreaks */5],\n                /* roundList */match$2\n              ]);\n        }\n        return Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              undefined\n                            ];\n                    }));\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match = stagedPlayers[0];\n  var matchIdeal;\n  if (match !== undefined) {\n    var match$1 = stagedPlayers[1];\n    if (match$1 !== undefined) {\n      var match$2 = Belt_MapString.get(pairData, match);\n      var match$3 = Belt_MapString.get(pairData, match$1);\n      if (match$2 !== undefined && match$3 !== undefined) {\n        var ideal = Pairing$Coronate.calcPairIdeal(match$2, match$3);\n        matchIdeal = Numeral.default(ideal / Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nvar Stage = {\n  make: PairPicker$Stage\n};\n\nfunction PairPicker$PlayerInfo(Props) {\n  var hasBye = Props.hasBye;\n  var colorBalance = Props.colorBalance;\n  var player = Props.player;\n  var score = Props.score;\n  var rating = Props.rating;\n  var opponentResults = Props.opponentResults;\n  var avoidListHtml = Props.avoidListHtml;\n  var fullName = player[/* firstName */0] + (\" \" + player[/* lastName */2]);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", score.toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + player[/* id */1]\n                }, \"Rating: \", rating), React.createElement(\"p\", undefined, \"Color balance: \" + colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), avoidListHtml);\n}\n\nvar PlayerInfo = HigherOrderComponents$Coronate.WithScoreInfo({\n      make: PairPicker$PlayerInfo\n    });\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  undefined,\n                  undefined\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(/* () */0);\n  var tourney = tournament[/* tourney */7];\n  var roundList = tourney[/* roundList */6];\n  var byeQueue = tourney[/* byeQueue */4];\n  var setTourney = tournament[/* setTourney */8];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var activePlayers = tournament[/* activePlayers */0];\n  var config = match$1[0];\n  var byeValue = config[/* byeValue */1];\n  var avoidPairs = config[/* avoidPairs */0];\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var pairData = React.useMemo((function () {\n          return Pairing$Coronate.setUpperHalves(Data_Converters$Coronate.createPairingData(activePlayers, avoidPairs, scoreData));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function (param) {\n          if (p1 !== undefined) {\n            var match = Belt_MapString.get(unmatchedWithDummy, p1);\n            if (match === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n            \n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_MapString.get(unmatchedWithDummy, p2);\n            if (match$1 === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n            \n          }\n          return ;\n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round !== undefined) {\n    var round$1 = round;\n    return React.createElement(\"div\", {\n                className: \"content-area\",\n                style: {\n                  width: \"720px\"\n                }\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-primary\",\n                        disabled: unmatchedCount === 0,\n                        onClick: (function (param) {\n                            var round$2 = round$1;\n                            var newRound = Data_Rounds$Coronate.Round.addMatches(round$2, Belt_List.toArray(Data_Match$Coronate.autoPair(pairData, byeValue, unmatched, byeQueue)));\n                            var match = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                            if (match !== undefined) {\n                              return Curry._1(setTourney, /* record */[\n                                          /* id */tourney[/* id */0],\n                                          /* name */tourney[/* name */1],\n                                          /* date */tourney[/* date */2],\n                                          /* playerIds */tourney[/* playerIds */3],\n                                          /* byeQueue */tourney[/* byeQueue */4],\n                                          /* tieBreaks */tourney[/* tieBreaks */5],\n                                          /* roundList */match\n                                        ]);\n                            } else {\n                              return /* () */0;\n                            }\n                          })\n                      }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return true;\n                                        }));\n                          })\n                      }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                    children: null\n                  }, React.createElement(Utils$Coronate.Panel.make, {\n                        children: React.createElement(PairPicker$SelectList, {\n                              pairData: pairData,\n                              stagedPlayers: stagedPlayers,\n                              setStagedPlayers: setStagedPlayers,\n                              unmatched: unmatchedWithDummy\n                            })\n                      }), React.createElement(Utils$Coronate.Panel.make, {\n                        children: null,\n                        style: {\n                          flexGrow: \"1\"\n                        }\n                      }, React.createElement(PairPicker$Stage, {\n                            getPlayer: getPlayer,\n                            pairData: pairData,\n                            roundId: roundId,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            setTourney: setTourney,\n                            byeValue: byeValue,\n                            tourney: tourney,\n                            round: round$1\n                          }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                            children: /* array */[\n                                p1,\n                                p2\n                              ].map((function (id) {\n                                    if (id !== undefined) {\n                                      var playerId = id;\n                                      return React.createElement(Utils$Coronate.Panel.make, {\n                                                  children: React.createElement(PlayerInfo.make, {\n                                                        player: Curry._1(getPlayer, playerId),\n                                                        scoreData: scoreData,\n                                                        avoidPairs: avoidPairs,\n                                                        getPlayer: getPlayer,\n                                                        players: players,\n                                                        origRating: Curry._1(getPlayer, playerId)[/* rating */4],\n                                                        newRating: undefined\n                                                      }),\n                                                  key: playerId\n                                                });\n                                    } else {\n                                      return null;\n                                    }\n                                  }))\n                          }))), React.createElement(Externals$Coronate.Dialog.make, {\n                    isOpen: match$2[0],\n                    onDismiss: (function (param) {\n                        return Curry._1(setIsModalOpen, (function (param) {\n                                      return false;\n                                    }));\n                      }),\n                    ariaLabel: \"Select players\",\n                    children: null\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return false;\n                                        }));\n                          })\n                      }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                        tourney: tourney,\n                        setTourney: setTourney,\n                        players: players,\n                        playersDispatch: tournament[/* playersDispatch */5]\n                      })));\n  } else {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n}\n\nvar make = PairPicker;\n\nexport {\n  sortByName ,\n  sortByIdeal ,\n  SelectList ,\n  Stage ,\n  PlayerInfo ,\n  make ,\n  \n}\n/* PlayerInfo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as HigherOrderComponents$Coronate from \"./HigherOrderComponents.bs.js\";\n\nvar winnerSelect = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Css.style(/* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = {\n  winnerSelect: winnerSelect,\n  table: table,\n  td: td,\n  rowId: rowId,\n  controls: controls,\n  matchResult: matchResult,\n  playerResult: playerResult\n};\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var hasBye = Props.hasBye;\n  var colorBalance = Props.colorBalance;\n  var player = Props.player;\n  var score = Props.score;\n  var rating = Props.rating;\n  var opponentResults = Props.opponentResults;\n  var avoidListHtml = Props.avoidListHtml;\n  var fullName = player[/* firstName */0] + (\" \" + player[/* lastName */2]);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, score.toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(\"dd\", {\n                  \"aria-label\": \"Rating for \" + fullName\n                }, rating), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), avoidListHtml);\n}\n\nvar PlayerMatchInfo = HigherOrderComponents$Coronate.WithScoreInfo({\n      make: PageRound$PlayerMatchInfo\n    });\n\nfunction PageRound$MatchRow(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var pos = Props.pos;\n  var match_ = Props.match;\n  var roundId = Props.roundId;\n  var match$1 = Props.selectedMatch;\n  var selectedMatch = match$1 !== undefined ? Caml_option.valFromOption(match$1) : undefined;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var tourney = tournament[/* tourney */7];\n  var roundList = tourney[/* roundList */6];\n  var setTourney = tournament[/* setTourney */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$3[1];\n  var whitePlayer = Curry._1(getPlayer, match_[/* whiteId */1]);\n  var blackPlayer = Curry._1(getPlayer, match_[/* blackId */2]);\n  var isDummyRound = match_[/* whiteId */1] === Data_Player$Coronate.dummy_id || match_[/* blackId */2] === Data_Player$Coronate.dummy_id;\n  var whiteName = $$String.concat(\" \", /* :: */[\n        whitePlayer[/* firstName */0],\n        /* :: */[\n          whitePlayer[/* lastName */2],\n          /* [] */0\n        ]\n      ]);\n  var blackName = $$String.concat(\" \", /* :: */[\n        blackPlayer[/* firstName */0],\n        /* :: */[\n          blackPlayer[/* lastName */2],\n          /* [] */0\n        ]\n      ]);\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Css.style(/* :: */[\n                Css.color(Utils$Coronate.PhotonColors.yellow_70),\n                /* [] */0\n              ])\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = match_[/* result */7];\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (match_[/* result */7] !== newResult) {\n      var white = Belt_MapString.getExn(players, match_[/* whiteId */1]);\n      var black = Belt_MapString.getExn(players, match_[/* blackId */2]);\n      var newWhiteScore = Data_Match$Coronate.Result.toFloat(newResult, /* White */0);\n      var newBlackScore = Data_Match$Coronate.Result.toFloat(newResult, /* Black */1);\n      var match = newResult >= 3 ? /* tuple */[\n          match_[/* whiteOrigRating */5],\n          match_[/* blackOrigRating */6]\n        ] : Scoring$Coronate.Ratings.calcNewRatings(/* tuple */[\n              match_[/* whiteOrigRating */5],\n              match_[/* blackOrigRating */6]\n            ], /* tuple */[\n              white[/* matchCount */3],\n              black[/* matchCount */3]\n            ], /* tuple */[\n              newWhiteScore,\n              newBlackScore\n            ]);\n      var blackNewRating = match[1];\n      var whiteNewRating = match[0];\n      var white_000 = /* firstName */white[/* firstName */0];\n      var white_001 = /* id */white[/* id */1];\n      var white_002 = /* lastName */white[/* lastName */2];\n      var white_003 = /* matchCount */white[/* matchCount */3];\n      var white_005 = /* type_ */white[/* type_ */5];\n      var white$1 = /* record */[\n        white_000,\n        white_001,\n        white_002,\n        white_003,\n        /* rating */whiteNewRating,\n        white_005\n      ];\n      var black_000 = /* firstName */black[/* firstName */0];\n      var black_001 = /* id */black[/* id */1];\n      var black_002 = /* lastName */black[/* lastName */2];\n      var black_003 = /* matchCount */black[/* matchCount */3];\n      var black_005 = /* type_ */black[/* type_ */5];\n      var black$1 = /* record */[\n        black_000,\n        black_001,\n        black_002,\n        black_003,\n        /* rating */blackNewRating,\n        black_005\n      ];\n      var match$1 = match_[/* result */7];\n      if (match$1 >= 3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_001,\n                /* record */[\n                  white_000,\n                  white_001,\n                  white_002,\n                  /* matchCount */white_003 + 1 | 0,\n                  /* rating */whiteNewRating,\n                  white_005\n                ]\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_001,\n                /* record */[\n                  black_000,\n                  black_001,\n                  black_002,\n                  /* matchCount */black_003 + 1 | 0,\n                  /* rating */blackNewRating,\n                  black_005\n                ]\n              ]));\n      } else if (newResult === /* NotSet */3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_001,\n                /* record */[\n                  white_000,\n                  white_001,\n                  white_002,\n                  /* matchCount */white_003 - 1 | 0,\n                  /* rating */whiteNewRating,\n                  white_005\n                ]\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_001,\n                /* record */[\n                  black_000,\n                  black_001,\n                  black_002,\n                  /* matchCount */black_003 - 1 | 0,\n                  /* rating */blackNewRating,\n                  black_005\n                ]\n              ]));\n      } else {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_001,\n                white$1\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_001,\n                black$1\n              ]));\n      }\n      var newMatch_000 = /* id */match_[/* id */0];\n      var newMatch_001 = /* whiteId */match_[/* whiteId */1];\n      var newMatch_002 = /* blackId */match_[/* blackId */2];\n      var newMatch_005 = /* whiteOrigRating */match_[/* whiteOrigRating */5];\n      var newMatch_006 = /* blackOrigRating */match_[/* blackOrigRating */6];\n      var newMatch = /* record */[\n        newMatch_000,\n        newMatch_001,\n        newMatch_002,\n        /* whiteNewRating */whiteNewRating,\n        /* blackNewRating */blackNewRating,\n        newMatch_005,\n        newMatch_006,\n        /* result */newResult\n      ];\n      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n              return Curry._1(setTourney, /* record */[\n                          /* id */tourney[/* id */0],\n                          /* name */tourney[/* name */1],\n                          /* date */tourney[/* date */2],\n                          /* playerIds */tourney[/* playerIds */3],\n                          /* byeQueue */tourney[/* byeQueue */4],\n                          /* tieBreaks */tourney[/* tieBreaks */5],\n                          /* roundList */roundList\n                        ]);\n            }));\n      return /* () */0;\n    } else {\n      return 0;\n    }\n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var setSelectedMatch$1 = setSelectedMatch;\n    var match$4 = Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n            return id !== match_[/* id */0];\n          }));\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: match$3[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            ariaLabel: \"Match information\",\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney[/* name */1]), React.createElement(\"p\", undefined, $$String.concat(\" \", /* :: */[\n                    \"Round\",\n                    /* :: */[\n                      (roundId + 1 | 0).toString(),\n                      /* :: */[\n                        \"match\",\n                        /* :: */[\n                          (pos + 1 | 0).toString(),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ])), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PlayerMatchInfo.make, {\n                          player: Curry._1(getPlayer, match_[/* whiteId */1]),\n                          scoreData: scoreData$1,\n                          getPlayer: getPlayer,\n                          players: players,\n                          origRating: match_[/* whiteOrigRating */5],\n                          newRating: match_[/* whiteNewRating */3]\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PlayerMatchInfo.make, {\n                          player: Curry._1(getPlayer, match_[/* blackId */2]),\n                          scoreData: scoreData$1,\n                          getPlayer: getPlayer,\n                          players: players,\n                          origRating: match_[/* blackOrigRating */6],\n                          newRating: match_[/* blackNewRating */4]\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, match$4 ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return match_[/* id */0];\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                    children: $$String.concat(\" \", /* :: */[\n                          \"Edit match for\",\n                          /* :: */[\n                            whiteName,\n                            /* :: */[\n                              \"versus\",\n                              /* :: */[\n                                blackName,\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ])\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return ;\n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, { })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: $$String.concat(\" \", /* :: */[\n                        \"View information for match:\",\n                        /* :: */[\n                          whiteName,\n                          /* :: */[\n                            \"versus\",\n                            /* :: */[\n                              blackName,\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ])\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (id) {\n                              var match = match_[/* id */0] === id;\n                              if (match) {\n                                return \"selected\";\n                              } else {\n                                return \"buttons-on-hover\";\n                              }\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(whitePlayer[/* type_ */5]),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-white\")\n                }, whiteName), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(blackPlayer[/* type_ */5]),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-black\")\n                }, blackName), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Data_Match$Coronate.Result.toString(match_[/* result */7]),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nvar MatchRow = {\n  make: PageRound$MatchRow\n};\n\nfunction PageRound$RoundTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var match$1 = Props.selectedMatch;\n  var selectedMatch = match$1 !== undefined ? Caml_option.valFromOption(match$1) : undefined;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var match$2 = matches.length === 0;\n  return React.createElement(\"table\", {\n              className: table\n            }, match$2 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString()), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, matches.map((function (match_, pos) {\n                        return React.createElement(PageRound$MatchRow, {\n                                    isCompact: isCompact,\n                                    pos: pos,\n                                    match: match_,\n                                    roundId: roundId,\n                                    selectedMatch: selectedMatch,\n                                    setSelectedMatch: setSelectedMatch,\n                                    scoreData: scoreData,\n                                    tournament: tournament,\n                                    className: td,\n                                    key: match_[/* id */0]\n                                  });\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament[/* tourney */7];\n  var roundList = tourney[/* roundList */6];\n  var setTourney = tournament[/* setTourney */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var players = tournament[/* players */4];\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n    if (match !== undefined) {\n      var oldIndex = round.indexOf(match);\n      var match$1 = (oldIndex + direction | 0) >= 0;\n      var newIndex = match$1 ? oldIndex + direction | 0 : 0;\n      var newRound = Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n      var match$2 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n      if (match$2 !== undefined) {\n        return Curry._1(setTourney, /* record */[\n                    /* id */tourney[/* id */0],\n                    /* name */tourney[/* name */1],\n                    /* date */tourney[/* date */2],\n                    /* playerIds */tourney[/* playerIds */3],\n                    /* byeQueue */tourney[/* byeQueue */4],\n                    /* tieBreaks */tourney[/* tieBreaks */5],\n                    /* roundList */match$2\n                  ]);\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match$1 = Data_Rounds$Coronate.get(tourney[/* roundList */6], roundId);\n  if (match$1 !== undefined) {\n    var matches = match$1;\n    var match$2 = matches.length === 0;\n    return React.createElement(\"div\", {\n                className: \"content-area\"\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var match_ = match;\n                                      if (match_[/* result */7] !== /* NotSet */3) {\n                                        Belt_List.forEach(/* :: */[\n                                              /* tuple */[\n                                                match_[/* whiteId */1],\n                                                match_[/* whiteOrigRating */5]\n                                              ],\n                                              /* :: */[\n                                                /* tuple */[\n                                                  match_[/* blackId */2],\n                                                  match_[/* blackOrigRating */6]\n                                                ],\n                                                /* [] */0\n                                              ]\n                                            ], (function (param) {\n                                                var match = Belt_MapString.get(players, param[0]);\n                                                if (match !== undefined) {\n                                                  var player = match;\n                                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                                player[/* id */1],\n                                                                /* record */[\n                                                                  /* firstName */player[/* firstName */0],\n                                                                  /* id */player[/* id */1],\n                                                                  /* lastName */player[/* lastName */2],\n                                                                  /* matchCount */player[/* matchCount */3] - 1 | 0,\n                                                                  /* rating */param[1],\n                                                                  /* type_ */player[/* type_ */5]\n                                                                ]\n                                                              ]));\n                                                } else {\n                                                  return /* () */0;\n                                                }\n                                              }));\n                                      }\n                                      \n                                    }\n                                    var newRound = Data_Rounds$Coronate.Round.removeMatchById(round, matchId);\n                                    var match$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                    if (match$1 !== undefined) {\n                                      Curry._1(setTourney, /* record */[\n                                            /* id */tourney[/* id */0],\n                                            /* name */tourney[/* name */1],\n                                            /* date */tourney[/* date */2],\n                                            /* playerIds */tourney[/* playerIds */3],\n                                            /* byeQueue */tourney[/* byeQueue */4],\n                                            /* tieBreaks */tourney[/* tieBreaks */5],\n                                            /* roundList */match$1\n                                          ]);\n                                    }\n                                    return Curry._1(setSelectedMatch, (function (param) {\n                                                  return ;\n                                                }));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var newMatch = Data_Match$Coronate.swapColors(match);\n                                      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                              return Curry._1(setTourney, /* record */[\n                                                          /* id */tourney[/* id */0],\n                                                          /* name */tourney[/* name */1],\n                                                          /* date */tourney[/* date */2],\n                                                          /* playerIds */tourney[/* playerIds */3],\n                                                          /* byeQueue */tourney[/* byeQueue */4],\n                                                          /* tieBreaks */tourney[/* tieBreaks */5],\n                                                          /* roundList */roundList\n                                                        ]);\n                                            }));\n                                      return /* () */0;\n                                    } else {\n                                      return /* () */0;\n                                    }\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, -1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, 1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), match$2 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, {\n                    roundId: roundId,\n                    matches: matches,\n                    selectedMatch: selectedMatch,\n                    setSelectedMatch: setSelectedMatch,\n                    tournament: tournament,\n                    scoreData: scoreData\n                  }));\n  } else {\n    return React.createElement(Pages$Coronate.NotFound.make, { });\n  }\n}\n\nvar Round = {\n  make: PageRound$Round\n};\n\nfunction PageRound$PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var activePlayersCount = Props.activePlayersCount;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = unmatchedCount === activePlayersCount;\n  var initialTab = match ? 1 : 0;\n  var match$1 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$1[1];\n  React.useEffect((function (param) {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  var match$2 = unmatchedCount !== 0;\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), $$String.concat(\"\", /* :: */[\n                          \" Unmatched players (\",\n                          /* :: */[\n                            unmatchedCount.toString(),\n                            /* :: */[\n                              \")\",\n                              /* [] */0\n                            ]\n                          ]\n                        ]))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, match$2 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar PageRound = HigherOrderComponents$Coronate.WithRoundData({\n      make: PageRound$PageRound\n    });\n\nfunction PageRound$1(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  return React.createElement(PageRound.make, {\n              roundId: roundId,\n              tournament: tournament\n            });\n}\n\nvar make = PageRound$1;\n\nexport {\n  Style ,\n  PlayerMatchInfo ,\n  MatchRow ,\n  RoundTable ,\n  Round ,\n  PageRound ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Future from \"reason-future/src/Future.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  var match = roundCount !== Number.NEGATIVE_INFINITY;\n  if (match) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_000 = /* id */Utils$Coronate.nanoid(/* () */0);\n\nvar emptyTourney_002 = /* date */new Date(0.0);\n\nvar emptyTourney_004 = /* byeQueue : array */[];\n\nvar emptyTourney_005 = /* tieBreaks : array */[/* Median */0];\n\nvar emptyTourney_006 = /* roundList : array */[];\n\nvar emptyTourney = /* record */[\n  emptyTourney_000,\n  /* name */\"\",\n  emptyTourney_002,\n  /* playerIds : [] */0,\n  emptyTourney_004,\n  emptyTourney_005,\n  emptyTourney_006\n];\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction isLoadedDone(status) {\n  return status !== 0;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney[/* roundList */6];\n  var playerIds = tourney[/* playerIds */3];\n  var name = tourney[/* name */1];\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var arePlayersLoaded = match$1[2];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return /* NotLoaded */0;\n        }));\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  var match$3 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Future.tapError(Future.tapOk(Db$Coronate.futureFromPromise(Map$LocalForage.getItem(Db$Coronate.tournaments, tourneyId)), (function (value) {\n                      if (didCancel[0]) {\n                        return /* () */0;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel[0]) {\n                    return 0;\n                  } else {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), /* array */[tourneyId]);\n  React.useEffect((function (param) {\n          if (tourneyLoaded === 1) {\n            Map$LocalForage.setItem(Db$Coronate.tournaments, tourneyId, tourney);\n          }\n          return ;\n        }), /* tuple */[\n        tourneyLoaded,\n        tourneyId,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_MapString.keep(players, (function (id, param) {\n                  return Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                return prim === prim$1;\n                              }));\n                }));\n          var roundCount = calcNumOfRounds(Belt_MapString.size(activePlayers));\n          var isItOver = roundList.length >= roundCount;\n          var match$4 = roundList.length === 0;\n          var isNewRoundReady = match$4 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, roundList.length - 1 | 0);\n          return Curry._1(children, /* record */[\n                      /* activePlayers */activePlayers,\n                      /* getPlayer */(function (param) {\n                          return Data_Player$Coronate.getPlayerMaybe(players, param);\n                        }),\n                      /* isItOver */isItOver,\n                      /* isNewRoundReady */isNewRoundReady,\n                      /* players */players,\n                      /* playersDispatch */match$1[1],\n                      /* roundCount */roundCount,\n                      /* tourney */tourney,\n                      /* setTourney */setTourney\n                    ]);\n        }\n        break;\n    case /* Error */2 :\n        debugger;\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\"\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\"\n            });\n}\n\nvar make = LoadTournament;\n\nexport {\n  log2 ,\n  calcNumOfRounds ,\n  emptyTourney ,\n  tournamentReducer ,\n  isLoadedDone ,\n  make ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$String from \"bs-platform/lib/es6/string.js\";\nimport * as Webapi from \"bs-webapi/src/Webapi.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Webapi__Dom from \"bs-webapi/src/Webapi/Webapi__Dom.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var match = rawMonth < 9.0;\n  var month = match ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var match$1 = rawDate < 10.0;\n  var day = match$1 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return $$String.concat(\"-\", /* :: */[\n              year,\n              /* :: */[\n                month,\n                /* :: */[\n                  day,\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var roundList = tourney[/* roundList */6];\n  var date = tourney[/* date */2];\n  var name = tourney[/* name */1];\n  var setTourney = tournament[/* setTourney */8];\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            return /* () */0;\n          }));\n    return /* () */0;\n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          return ;\n        }), /* array */[editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, /* record */[\n          /* id */tourney[/* id */0],\n          /* name */tourney[/* name */1],\n          /* date */tourney[/* date */2],\n          /* playerIds */tourney[/* playerIds */3],\n          /* byeQueue */tourney[/* byeQueue */4],\n          /* tieBreaks */tourney[/* tieBreaks */5],\n          /* roundList */Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        ]);\n    window.alert(\"Bye scores updated to 1.\");\n    return /* () */0;\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, /* record */[\n          /* id */tourney[/* id */0],\n          /* name */tourney[/* name */1],\n          /* date */tourney[/* date */2],\n          /* playerIds */tourney[/* playerIds */3],\n          /* byeQueue */tourney[/* byeQueue */4],\n          /* tieBreaks */tourney[/* tieBreaks */5],\n          /* roundList */Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        ]);\n    window.alert(\"Bye scores updated to .\");\n    return /* () */0;\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = rawDate.split(\"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(setTourney, /* record */[\n                /* id */tourney[/* id */0],\n                /* name */tourney[/* name */1],\n                /* date */new Date(year$1, month$1, date),\n                /* playerIds */tourney[/* playerIds */3],\n                /* byeQueue */tourney[/* byeQueue */4],\n                /* tieBreaks */tourney[/* tieBreaks */5],\n                /* roundList */tourney[/* roundList */6]\n              ]);\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, /* record */[\n                                        /* id */tourney[/* id */0],\n                                        /* name */$$event.currentTarget.value,\n                                        /* date */tourney[/* date */2],\n                                        /* playerIds */tourney[/* playerIds */3],\n                                        /* byeQueue */tourney[/* byeQueue */4],\n                                        /* tieBreaks */tourney[/* tieBreaks */5],\n                                        /* roundList */tourney[/* roundList */6]\n                                      ]);\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Utils$Coronate.Router.HashLink.make, {\n                      children: \"app options\",\n                      to_: \"/options\"\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  makeDateInput ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as Data_Tournament$Coronate from \"../Data/Data_Tournament.bs.js\";\n\nvar table = Css.style(/* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Css.style(/* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Css.style(/* [] */0);\n\nvar row = Css.style(/* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors.grey_20),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Css.style(/* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Css.style(/* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Css.style(/* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Css.style(/* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = {\n  table: table,\n  topHeader: topHeader,\n  compact: compact,\n  row: row,\n  rowTd: rowTd,\n  rowTh: rowTh,\n  playerName: playerName,\n  rank: rank,\n  number: number\n};\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var tieBreaks = tourney[/* tieBreaks */5];\n  var tieBreakNames = tieBreaks.map(Data_Tournament$Coronate.mapTieBreakName);\n  var standingTree = Scoring$Coronate.createStandingTree(Belt_List.keep(Scoring$Coronate.createStandingList(Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney[/* roundList */6], undefined, /* () */0)), tieBreaks), (function (standing) {\n              return !Data_Player$Coronate.isDummyId(standing[/* id */0]);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : tieBreakNames.map((function (name, i) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayReverseWithIndex(standingTree, (function (rank$1, standingsFlat) {\n                        return Utils$Coronate.List.toReactArrayReverseWithIndex(standingsFlat, (function (i, standing) {\n                                      var match = i === 0;\n                                      return React.createElement(\"tr\", {\n                                                  key: standing[/* id */0],\n                                                  className: row\n                                                }, match ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing[/* score */1]).format(\"1/2\")), isCompact ? null : Utils$Coronate.List.toReactArray(standing[/* tieBreaks */2], (function (param) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Data_Tournament$Coronate.mapTieBreakName(param[0]),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(param[1]).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney[/* tieBreaks */5];\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, /* record */[\n            /* id */tourney[/* id */0],\n            /* name */tourney[/* name */1],\n            /* date */tourney[/* date */2],\n            /* playerIds */tourney[/* playerIds */3],\n            /* byeQueue */tourney[/* byeQueue */4],\n            /* tieBreaks */tourney[/* tieBreaks */5].filter((function (tbId) {\n                    return defaultId(id) !== tbId;\n                  })),\n            /* roundList */tourney[/* roundList */6]\n          ]);\n      return Curry._1(setSelectedTb, (function (param) {\n                    return ;\n                  }));\n    } else {\n      return Curry._1(setTourney, /* record */[\n                  /* id */tourney[/* id */0],\n                  /* name */tourney[/* name */1],\n                  /* date */tourney[/* date */2],\n                  /* playerIds */tourney[/* playerIds */3],\n                  /* byeQueue */tourney[/* byeQueue */4],\n                  /* tieBreaks */tourney[/* tieBreaks */5].concat(/* array */[defaultId(id)]),\n                  /* roundList */tourney[/* roundList */6]\n                ]);\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb !== undefined) {\n      var index = tieBreaks.indexOf(selectedTb);\n      return Curry._1(setTourney, /* record */[\n                  /* id */tourney[/* id */0],\n                  /* name */tourney[/* name */1],\n                  /* date */tourney[/* date */2],\n                  /* playerIds */tourney[/* playerIds */3],\n                  /* byeQueue */tourney[/* byeQueue */4],\n                  /* tieBreaks */Utils$Coronate.$$Array.swap(tourney[/* tieBreaks */5], index, index + direction | 0),\n                  /* roundList */tourney[/* roundList */6]\n                ]);\n    } else {\n      return /* () */0;\n    }\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            return ;\n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, tieBreaks.map((function (tieBreak) {\n                                var tmp;\n                                if (selectedTb !== undefined) {\n                                  var match = selectedTb === tieBreak;\n                                  tmp = match ? \"Done\" : \"Edit\";\n                                } else {\n                                  tmp = \"Edit\";\n                                }\n                                return React.createElement(\"tr\", {\n                                            key: Data_Tournament$Coronate.tieBreakToString(tieBreak),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === tieBreak),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Data_Tournament$Coronate.mapTieBreakName(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          var match = selectedTb === tieBreak;\n                                                          if (match) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return ;\n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, tmp)));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, /* array */[\n                            /* Median */0,\n                            /* Solkoff */1,\n                            /* Cumulative */2,\n                            /* CumulativeOfOpposition */3,\n                            /* MostBlack */4\n                          ].map((function (tieBreak) {\n                                var match = tieBreaks.includes(tieBreak);\n                                var match$1 = tieBreaks.includes(tieBreak);\n                                return React.createElement(\"tr\", {\n                                            key: Data_Tournament$Coronate.tieBreakToString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: match ? \"disabled\" : \"enabled\"\n                                                  }, Data_Tournament$Coronate.mapTieBreakName(tieBreak))), React.createElement(\"td\", undefined, match$1 ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nvar SelectTieBreaks = {\n  make: PageTourneyScores$SelectTieBreaks\n};\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament[/* setTourney */8]\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (player1Id === player2Id) {\n    return React.createElement(ReactFeather.X, {\n                className: \"disabled\"\n              });\n  } else {\n    var match = Belt_MapString.get(scoreData, player1Id);\n    if (match !== undefined) {\n      var match$1 = Belt_MapString.get(match[/* opponentResults */4], player2Id);\n      if (match$1 !== undefined) {\n        return Numeral.default(match$1).format(\"1/2\");\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_MapString.getExn(scoreData, playerId)[/* firstRating */6];\n  var match = Belt_MapString.getExn(scoreData, playerId)[/* ratings */5];\n  var lastRating = match ? match[0] : firstRating;\n  var change = Numeral.default(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ])\n                }, lastRating.toString()), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number body-10\",\n                          /* [] */0\n                        ]\n                      ])\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var getPlayer = tournament[/* getPlayer */1];\n  var scoreData = Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney[/* roundList */6], undefined, /* () */0));\n  var standings = Scoring$Coronate.createStandingList(scoreData, tourney[/* tieBreaks */5]);\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(scoreData, standing[/* id */0], opponent[/* id */0]));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing[/* score */1]).format(\"1/2\")), getRatingChangeTds(scoreData, standing[/* id */0]));\n                      }))));\n}\n\nvar Crosstable = {\n  getXScore: getXScore,\n  getRatingChangeTds: getRatingChangeTds,\n  make: PageTourneyScores$Crosstable\n};\n\nvar make = PageTourneyScores;\n\nexport {\n  Style ,\n  ScoreTable ,\n  SelectTieBreaks ,\n  make ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney[/* roundList */6]);\n  var lastRound = Data_Rounds$Coronate.get(tourney[/* roundList */6], lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = lastRound;\n    tmp = matches.length === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: matches,\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: tmp\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament[/* isNewRoundReady */3] ? (\n      tournament[/* isItOver */2] ? /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", tournament[/* tourney */7][/* roundList */6].length.toString(), React.createElement(\"small\", undefined, \" out of \"), tournament[/* roundCount */6].toString()), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Registered players: \", Belt_MapString.size(tournament[/* activePlayers */0]).toString()));\n}\n\nvar Footer = {\n  make: PageTourney$Footer\n};\n\nfunction footerFunc(tournament, param) {\n  return React.createElement(PageTourney$Footer, {\n              tournament: tournament\n            });\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var roundList = tourney[/* roundList */6];\n  var setTourney = tournament[/* setTourney */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var players = tournament[/* players */4];\n  var isItOver = tournament[/* isItOver */2];\n  var activePlayers = tournament[/* activePlayers */0];\n  var basePath = \"/tourneys/\" + tourney[/* id */0];\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, /* record */[\n                  /* id */tourney[/* id */0],\n                  /* name */tourney[/* name */1],\n                  /* date */tourney[/* date */2],\n                  /* playerIds */tourney[/* playerIds */3],\n                  /* byeQueue */tourney[/* byeQueue */4],\n                  /* tieBreaks */tourney[/* tieBreaks */5],\n                  /* roundList */Data_Rounds$Coronate.addRound(roundList)\n                ]);\n    } else {\n      return 0;\n    }\n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (window.confirm(\"Are you sure you want to delete the last round?\")) {\n      ReasonReactRouter.push(\"#/tourneys/\" + tourney[/* id */0]);\n      var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n      var match = Data_Rounds$Coronate.get(roundList, lastRoundId);\n      if (match !== undefined) {\n        match.forEach((function (match_) {\n                if (match_[/* result */7] >= 3) {\n                  return /* () */0;\n                } else {\n                  return Belt_List.forEach(/* :: */[\n                              /* tuple */[\n                                match_[/* whiteId */1],\n                                match_[/* whiteOrigRating */5]\n                              ],\n                              /* :: */[\n                                /* tuple */[\n                                  match_[/* blackId */2],\n                                  match_[/* blackOrigRating */6]\n                                ],\n                                /* [] */0\n                              ]\n                            ], (function (param) {\n                                var match = Belt_MapString.get(players, param[0]);\n                                if (match !== undefined) {\n                                  var player = match;\n                                  var matchCount = player[/* matchCount */3] - 1 | 0;\n                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                player[/* id */1],\n                                                /* record */[\n                                                  /* firstName */player[/* firstName */0],\n                                                  /* id */player[/* id */1],\n                                                  /* lastName */player[/* lastName */2],\n                                                  /* matchCount */matchCount,\n                                                  /* rating */param[1],\n                                                  /* type_ */player[/* type_ */5]\n                                                ]\n                                              ]));\n                                } else {\n                                  return /* () */0;\n                                }\n                              }));\n                }\n              }));\n      }\n      Curry._1(setTourney, /* record */[\n            /* id */tourney[/* id */0],\n            /* name */tourney[/* name */1],\n            /* date */tourney[/* date */2],\n            /* playerIds */tourney[/* playerIds */3],\n            /* byeQueue */tourney[/* byeQueue */4],\n            /* tieBreaks */tourney[/* tieBreaks */5],\n            /* roundList */Data_Rounds$Coronate.delLastRound(roundList)\n          ]);\n      if (roundList.length === 0) {\n        return Curry._1(setTourney, /* record */[\n                    /* id */tourney[/* id */0],\n                    /* name */tourney[/* name */1],\n                    /* date */tourney[/* date */2],\n                    /* playerIds */tourney[/* playerIds */3],\n                    /* byeQueue */tourney[/* byeQueue */4],\n                    /* tieBreaks */tourney[/* tieBreaks */5],\n                    /* roundList */Data_Rounds$Coronate.addRound(roundList)\n                  ]);\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: \"/tourneys\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/setup\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/status\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/crosstable\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                              children: null,\n                              to_: basePath + \"/scores\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, roundList.map((function (param, id) {\n                            var match = Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id);\n                            return React.createElement(\"li\", {\n                                        key: id.toString()\n                                      }, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                            children: null,\n                                            to_: basePath + (\"/round/\" + id.toString()),\n                                            onDragStart: noDraggy\n                                          }, (id + 1 | 0).toString(), match ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament[/* isNewRoundReady */3],\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: roundList.length === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nvar Sidebar = {\n  make: PageTourney$Sidebar\n};\n\nfunction sidebarFunc(tournament, param) {\n  return React.createElement(PageTourney$Sidebar, {\n              tournament: tournament\n            });\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var hashPath = Props.hashPath;\n  return React.createElement(LoadTournament$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  var exit = 0;\n                  if (hashPath) {\n                    switch (hashPath[0]) {\n                      case \"\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"crosstable\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"round\" :\n                          var match = hashPath[1];\n                          if (match && !match[1]) {\n                            tmp = React.createElement(PageRound$Coronate.make, {\n                                  roundId: Caml_format.caml_int_of_string(match[0]),\n                                  tournament: tournament\n                                });\n                          } else {\n                            exit = 1;\n                          }\n                          break;\n                      case \"scores\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"setup\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"status\" :\n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      default:\n                        exit = 1;\n                    }\n                  } else {\n                    exit = 1;\n                  }\n                  if (exit === 1) {\n                    tmp = React.createElement(Pages$Coronate.NotFound.make, { });\n                  }\n                  return React.createElement(Window$Coronate.Body.make, {\n                              children: tmp,\n                              footerFunc: (function (param) {\n                                  return footerFunc(tournament, param);\n                                }),\n                              sidebarFunc: (function (param) {\n                                  return sidebarFunc(tournament, param);\n                                })\n                            });\n                }),\n              tourneyId: tourneyId\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  Footer ,\n  footerFunc ,\n  noDraggy ,\n  Sidebar ,\n  sidebarFunc ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar dateSort = /* GetDate */Block.__(3, [(function (x) {\n        return x[/* date */2];\n      })]);\n\nvar nameSort = /* GetString */Block.__(0, [(function (x) {\n        return x[/* name */1];\n      })]);\n\nfunction PageTournamentList(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var dispatch = match[1];\n  var tourneys = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(tourneys)]));\n          return ;\n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Utils$Coronate.nanoid(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            /* record */[\n              /* id */id,\n              /* name */newTourneyName,\n              /* date */new Date(),\n              /* playerIds : [] */0,\n              /* byeQueue : array */[],\n              /* tieBreaks : array */[\n                /* Median */0,\n                /* Solkoff */1,\n                /* Cumulative */2,\n                /* CumulativeOfOpposition */3\n              ],\n              /* roundList : array */[]\n            ]\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(setIsDialogOpen, (function (param) {\n                  return false;\n                }));\n  };\n  var match$5 = Belt_MapString.isEmpty(tourneys);\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), match$5 ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, sorted[/* table */2].map((function (t) {\n                                    return React.createElement(\"tr\", {\n                                                key: t[/* id */0],\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.Router.HashLink.make, {\n                                                        children: t[/* name */1],\n                                                        to_: \"/tourneys/\" + t[/* id */0]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: t[/* date */2]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + t[/* name */1],\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + t[/* name */1],\n                                                        onClick: (function (param) {\n                                                            var id = t[/* id */0];\n                                                            var name = t[/* name */1];\n                                                            var message = \"Are you sure you want to delete \" + (String(name) + \"?\");\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, /* Del */Block.__(0, [id]));\n                                                            } else {\n                                                              return 0;\n                                                            }\n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        ariaLabel: \"Create new tournament\",\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  dateSort ,\n  nameSort ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as ReasonReact from \"reason-react/src/ReasonReact.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nimport \"./styles\"\n;\n\nfunction Index$App(Props) {\n  var url = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var match = Utils$Coronate.Router.hashPath(url[/* hash */1]);\n  var tmp;\n  var exit = 0;\n  if (match) {\n    switch (match[0]) {\n      case \"\" :\n          if (match[1]) {\n            exit = 1;\n          } else {\n            tmp = React.createElement(Pages$Coronate.Splash.make, { });\n          }\n          break;\n      case \"options\" :\n          if (match[1]) {\n            exit = 1;\n          } else {\n            tmp = React.createElement(PageOptions$Coronate.make, { });\n          }\n          break;\n      case \"players\" :\n          var id = match[1];\n          tmp = id ? React.createElement(PagePlayers$Coronate.make, {\n                  id: id\n                }) : React.createElement(PagePlayers$Coronate.make, { });\n          break;\n      case \"timecalc\" :\n          if (match[1]) {\n            exit = 1;\n          } else {\n            tmp = React.createElement(Pages$Coronate.TimeCalculator.make, { });\n          }\n          break;\n      case \"tourneys\" :\n          var match$1 = match[1];\n          if (match$1) {\n            var hashPath = match$1[1];\n            var tourneyId = match$1[0];\n            tmp = hashPath ? React.createElement(PageTourney$Coronate.make, {\n                    tourneyId: tourneyId,\n                    hashPath: hashPath\n                  }) : React.createElement(PageTourney$Coronate.make, {\n                    tourneyId: tourneyId,\n                    hashPath: /* :: */[\n                      \"\",\n                      /* [] */0\n                    ]\n                  });\n          } else {\n            tmp = React.createElement(PageTournamentList$Coronate.make, { });\n          }\n          break;\n      default:\n        exit = 1;\n    }\n  } else {\n    exit = 1;\n  }\n  if (exit === 1) {\n    tmp = React.createElement(Window$Coronate.Body.make, {\n          children: React.createElement(Pages$Coronate.NotFound.make, { })\n        });\n  }\n  return React.createElement(Window$Coronate.make, {\n              children: React.createElement(\"main\", {\n                    className: \"app__main\"\n                  }, tmp),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: Index$App\n};\n\nReactDOMRe.renderToElementWithId(React.createElement(Index$App, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  return /* () */0;\n}\n\nvar ServiceWorker$1 = {\n  unregister: unregister\n};\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n","require(\"./Index.bs\");","module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";"],"sourceRoot":""}