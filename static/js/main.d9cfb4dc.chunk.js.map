{"version":3,"sources":["assets/icon-min.svg","assets/caution.svg","Utils.bs.js","Data/Data_Id.bs.js","Data/Data_Config.bs.js","Data/Data_Scoring.bs.js","Hooks.bs.js","Data/Data_Match.bs.js","Data/Data_Rounds.bs.js","DemoData.bs.js","Data/Data_Player.bs.js","Data/Data_Tournament.bs.js","Db.bs.js","Icons.bs.js","Router.bs.js","Electron.bs.js","Externals.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","Data/Data_Ratings.bs.js","PagePlayers.bs.js","Data/Data_Pairing.bs.js","Data/Data_Converters.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageRound.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js"],"names":["module","exports","ascend","cmp","getter","a","b","Curry","descend","$$Array","swap","arr","idx1","idx2","match","Belt_Array","match$1","undefined","Caml_option","alert","__x","window","WebpackAssets","logo","require","caution","Entities","formatter","Intl_DateTimeFormat","formatter$1","panels","Css","hd","tl","panel","HASH","VAL","Panel","Props","children","classNameOpt","className","styleOpt","style","React","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","container","text","icon","success","warning","error","TestId","testId","Numeral","make","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","String","Belt_Option","Belt_Float","github_url","license_url","$$String$1","concat","l","sep","_acc","_l","Belt_List","l$1","acc","l$2","s","toLowerCase","prim","includes","substr","split","on","DateFormat","date","dateTime","toISOString","DateTimeFormat","timeZone","formatter$2","$$Notification","kindOpt","kind","tooltipOpt","tooltip","ReactFeather","title","dummy","isDummy","id","random","Nanoid","encode","compare","Caml_primitive","eq","prim$1","Id","Belt_Id","$$Map","param","Belt_Map","fromArray","fromStringArray","toStringArray","decode","Json_decode","fromFloat","json","Cmp","param$1","x","Data_Id$Coronate","x$1","empty","Belt_Set","decode$1","encode$1","data","Json_encode","toMapReducer","id2","id1","currentList","newList1","currentList$1","newList2","decode$2","avoidPairs","byeValue","lastBackup","encode$2","$$default","Date","Pair","has","$$Set","toMap","add","sum","list","toFloat$1","add$1","calcScore","results","adjustment","Color","opposite","toScore","toString","createBlankScoreData","firstRatingOpt","colorScores","colors","opponentResults","ratings","firstRating","resultsNoByes","isNotDummy","scores","oppId","opponent","getPlayerScore","getOpponentScores","getMedianScore","getSolkoffScore","runningReducer","score","last","getCumulativeScore","getCumulativeOfOpponentScore","key","getColorBalanceScore","mapTieBreak","createStandingList","methods","funcList","tbType","partial_arg","tieBreaks","_tieBreaks","rest","tieBreak","createStandingTree","standingList","standing","lastRank","pastRanks","standing1","standing2","comparisons","value2","areScoresEqual","Score","Sum","toFloat","toNumeral","TieBreak","toPrettyString","reducer","newState","useBool","init","setState","state","setTrue","setFalse","sortedTableReducer","action","TAG","isDescending","_0","column","table","sortFunc","direction","Utils$Coronate","f","f$1","str","f$2","getTime","Belt_SortArray","useSortedTable","initialState","dispatch","SortButton","sortColumn","chevronStyle","opacity","width","onClick","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","useScoreInfo","player","scoreData","getPlayer","players","origRating","newRating","Data_Scoring$Coronate","hasBye","colorBalance","abs","opponentResults$1","i","tmp","result","opId","firstName","lastName","avoidListHtml","Data_Config$Coronate","pId","rating","format","fromString","Result","toScoreWhite","toScoreBlack","whiteId","blackId","whiteNewRating","blackNewRating","whiteOrigRating","blackOrigRating","scoreByeMatch","match_","manualPair","black","white","Data_Match$Coronate","getMatched","round","getMatchById","setMatch","round$1","slice","wasSuccessful","Round","toArray","size","length","addMatches","removeMatchById","moveMatch","matchId","oldIndex","indexOf","newIndex","empty$1","size$1","getLastKey","rounds","set","rounds$1","setMatch$1","rounds2Matches","roundList","isRoundComplete","roundId","matched","unmatched","addRound","delLastRound","updateByeScores","get","batman","robin","alfred","barbara","batwoman","catwoman","jason","james","huntress","joker","harley","freeze","penguin","ras","poisonivy","riddler","scarecrow","twoface","hugo","config","matchCount","type_","tournaments","name","playerIds","scoreAdjustments","byeQueue","Data_Rounds$Coronate","Type","getMaybe","playerMap","makeMissing","func","prim$2","prim$3","prim$4","prim$5","prim$6","storeName","description","driver","version","Config","Id$LocalForage","Player","Data_Player$Coronate","Tournament","Data_Tournament$Coronate","configDb","Record$LocalForage","Map$LocalForage","genericDbReducer","_1","useAllDb","store","items","loaded","Hooks$Coronate","didCancel","contents","$$Promise","toResult","fromBsPromise","console","Localforage","keys","stateKeys","deleted","filter","useAllPlayers","useAllTournaments","configReducer","pair","useConfig","values","IconData","Reason","Icons$SimpleIcon","heightOpt","height","widthOpt","ariaLabelOpt","ariaLabel","ariaHiddenOpt","ariaHidden","role","Object","assign","fill","hex","viewBox","d","path","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","toString$1","subPage","useHashUrl","ReasonReactRouter","hash","match$2","match$3","page","y","Belt_Int","fromPath","HashLink","to_","onDragStart","href","isCurrent","$$require","electron","ifElectron","fn","isWin","navigator","appVersion","isMac","os","IfElectron","targetOs","electron$1","toggleMaximize","$$window","isMaximized","unmaximize","maximize","$$Event","macOSDoubleClick","$$event","target","doubleClickAction","remote","systemPreferences","getUserDefault","getCurrentWindow","minimize","openInBrowser","preventDefault","shell","openExternal","Dialog$1","isOpen","onDismiss","Dialog","formatTitle","windowReducer","isBlur","isDialogOpen","isFullScreen","isSidebarOpen","Webapi__Dom__Document","Window$About","display","justifyContent","textAlign","flex","alt","src","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","Router$Coronate","sidebarCallback","Body","footerFunc","sidebarFuncOpt","sidebarFunc","win","unregisterListeners","removeAllListeners","isFocused","Externals$Coronate","backgroundColor","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","log2","num","log","fixNumber","Pervasives","updateInt","minimum","currentTarget","safeValue","NotFound","Splash","Window$Coronate","$$catch","Promise","all","DemoData$Coronate","fontSize","TimeCalculator","setPlayers","setBreakTime","breakTime","setTotalTime","totalTime","htmlFor","min","type","onChange","ceil","step","Boolean","location","hostname","unregister","serviceWorker","ready","then","registration","crowTRobot","drClaytonForrester","grandyMcMaster","gypsy","joelRobinson","newbieMcNewberson","tomServo","tvsFrank","cambot","jonah","kinga","larry","mike","observer","pearl","bobo","tvsSon","getDateForFile","getFullYear","getMonth","getDate","decodeOptions","dict","dict$1","Js_dict","encodeOptions","map","map$1","PageOptions$LastBackupDate","windowDispatchOpt","windowDispatch","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","match$4","match$5","checked","download","reader","FileReader","onload","ev","val","rawJson","raw_exn","exn","Caml_js_exceptions","RE_EXN_ID","readAsText","files","onSubmit","spellCheck","cols","rows","newText","getExpected","pow","updateRating","expected","actual","current","getKFactor","ne","Caml_int32","keepAboveFloor","EloRank","sortName","sortRating","sortMatchCount","validators_matchCount","strategy","validate","validators_rating","validators_lastName","validators_firstName","validators","input","fieldsStatuses","collectionsStatuses","formStatus","submissionStatus","validateForm","matchCountResult$1","match_0","match_0$1","match_0$2","match_0$3","matchCountResult","ratingResult","lastNameResult","firstNameResult","output","useForm","initialInput","memoizedInitialState","Formality__ReactUpdate","Formality","status","result$1","result$2","result$3","notifyOnSuccess","notifyOnFailure","reset","dismissSubmissionResult","nextInput","nextInput$1","nextInput$2","nextInput$3","error$1","error$2","updateMatchCount","nextInputFn","nextValue","updateLastName","updateFirstName","blurMatchCount","blurRating","blurLastName","blurFirstName","dirty","valid","submitting","submit","dismissSubmissionError","mapSubmissionError","errorNotification","PagePlayers$NewPlayerForm","addPlayerCallback","form","cb","required","onBlur","disabled","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","dialog","p","playerOpt","message","confirm","PagePlayers$Profile","initialMatchCount","playerId","playerName","avoidMap","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","Data_Ratings$Coronate","readOnly","selectedAvoider$1","newSelected","tmp$1","tmp$2","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","metBefore","opponents","mustAvoid","avoidIds","isDiffDueColor","scoreDiff","halfDiff","halfPos","isUpperHalf","descendingRating","setUpperHalves","dataList","playerData","midpoint","splitInHalf","getIndex","sortByScoreThenRating","data1","data2","assignColorsForPair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","pairEq","c","makeScoreData","existingData","color","oldData","newResultsNoByes","oppResult","tournament2ScoreData","matchList","whiteData","blackData","PageTourneyPlayers$Selecting","tourney","setTourney","togglePlayer","PagePlayers$Coronate","Selecting","hasHadBye","matches","reduce","scoreAdjustment","PageTourneyPlayers$OptionsForm$More","updateScoreAdjustment","blurScoreAdjustment","scoreAdjustmentResult","callback","_input","PageTourneyPlayers$OptionsForm","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","colSpan","flexShrink","autoPair","pairData","filteredData","dummyId","dataForNextBye","playerIdsWithoutByes","nextByeSignups","Data_Pairing$Coronate","byePlayerData","pairs","Match$Blossom","p1Id","p1","acc2","p2Id","p2","pairsWithBye","sortByName","sortByIdeal","ideal","PairPicker$SelectList","stagedPlayers","setStagedPlayers","sortedDispatch","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","id$1","selectedPlayer","p1$1","p2$1","PairPicker$Stage","whiteName","blackName","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","newRound","roundList$1","PairPicker$PlayerInfo","fullName","unmatchedCount","unmatchedWithDummy","playerStats","newAvoidIds","newData","Data_Converters$Coronate","flexGrow","PageTourneyPlayers$Coronate","calcNumOfRounds","playerCount","roundCount","emptyTourney","tournamentReducer","tourneyId","tourneyId$1","arePlayersLoaded","setTourneyLoaded","tourneyLoaded","isItOver","isNewRoundReady","winnerSelect","td","rowId","controls","matchResult","playerResult","PageRound$PlayerMatchInfo","PageRound$MatchRow","isCompactOpt","isCompact","pos","m","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","newResult","whiteRating","blackRating","whiteMatchCount","blackMatchCount","whiteElo","blackElo","whiteExpected","blackExpected","whiteResult","blackResult","white_firstName","white_id","white_lastName","white_matchCount","white_type_","white$1","black_firstName","black_id","black_lastName","black_matchCount","black_type_","black$1","newMatch","scoreData$1","scope","PageRound$RoundTable","RoundTable","PageRound$Round","Pages$Coronate","matches$1","isThisTheLastRound","activePlayersCount","LoadTournament$Coronate","initialTab","setOpenTab","Tabs","index","PairPicker$Coronate","makeDateInput","year","rawMonth","rawDate","month","day","setEditing","editing","nameInput","dateInput","focusRef","myref","Webapi__Dom__Element","focus","ref","year$1","month$1","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","sizeOpt","tieBreakNames","standingTree","rank$1","standingsFlat","rowSpan","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","tbId","moveTb","marginTop","getXScore","player1Id","player2Id","Crosstable","standings","index2","lastRating","change","getRatingChangeTds","lastRoundId","lastRound","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","placeholder","Index$App","url","PageTournamentList$Coronate","PageOptions$Coronate","PageTourney$Coronate","ServiceWorker","ReactDOMRe"],"mappings":"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","file":"static/js/main.d9cfb4dc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction ascend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(a), getter(b));\n}\n\nfunction descend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(b), getter(a));\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  swap: swap\n};\n\nfunction concat(l, sep) {\n  var _acc = \"\";\n  var _l = Belt_List.reverse(l);\n  while(true) {\n    var l$1 = _l;\n    var acc = _acc;\n    if (!l$1) {\n      return acc;\n    }\n    var l$2 = l$1.tl;\n    var s = l$1.hd;\n    if (!l$2) {\n      return s + acc;\n    }\n    _l = l$2;\n    _acc = sep + (s + acc);\n    continue ;\n  };\n}\n\nfunction includes(s, substr) {\n  return s.includes(substr);\n}\n\nfunction split(s, on) {\n  return s.split(on);\n}\n\nfunction alert(__x) {\n  window.alert(__x);\n  \n}\n\nvar logo = require(\"./assets/icon-min.svg\");\n\nvar caution = require(\"./assets/caution.svg\");\n\nvar WebpackAssets = {\n  logo: logo,\n  caution: caution\n};\n\nvar Entities = {\n  nbsp: \"\\xa0\",\n  copy: \"\\xa9\"\n};\n\nvar formatter = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar formatter$1 = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateTimeFormat(Props) {\n  var date = Props.date;\n  var timeZone = Props.timeZone;\n  var formatter$2 = timeZone !== undefined ? Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, timeZone, undefined, undefined, /* Numeric */0, undefined) : formatter$1;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$2, date));\n}\n\nvar panels = Curry._1(Css.style, {\n      hd: Css.display(/* flex */-1010954439),\n      tl: {\n        hd: Css.flexWrap(/* wrap */-822134326),\n        tl: {\n          hd: Css.media(\"screen and (min-width: 600px)\", {\n                hd: Css.flexWrap(/* nowrap */867913355),\n                tl: /* [] */0\n              }),\n          tl: /* [] */0\n        }\n      }\n    });\n\nvar panel = Curry._1(Css.style, {\n      hd: Css.marginRight({\n            HASH: /* px */25096,\n            VAL: 16\n          }),\n      tl: /* [] */0\n    });\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(\"div\", {\n              className: Cn.$less$colon$great(panel, className),\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(\"div\", {\n              className: Cn.$less$colon$great(panels, className),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nvar green_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"30e60b\"\n};\n\nvar green_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"003706\"\n};\n\nvar yellow_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"ffe900\"\n};\n\nvar yellow_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"3e2800\"\n};\n\nvar red_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"d70022\"\n};\n\nvar white_100 = {\n  HASH: /* hex */5194459,\n  VAL: \"ffffff\"\n};\n\nvar PhotonColors_magenta_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"ff1ad9\"\n};\n\nvar PhotonColors_magenta_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"ed00b5\"\n};\n\nvar PhotonColors_magenta_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"b5007f\"\n};\n\nvar PhotonColors_magenta_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"7d004f\"\n};\n\nvar PhotonColors_magenta_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"440027\"\n};\n\nvar PhotonColors_purple_30 = {\n  HASH: /* hex */5194459,\n  VAL: \"c069ff\"\n};\n\nvar PhotonColors_purple_40 = {\n  HASH: /* hex */5194459,\n  VAL: \"ad3bff\"\n};\n\nvar PhotonColors_purple_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"9400ff\"\n};\n\nvar PhotonColors_purple_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"8000d7\"\n};\n\nvar PhotonColors_purple_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"6200a4\"\n};\n\nvar PhotonColors_purple_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"440071\"\n};\n\nvar PhotonColors_purple_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"25003e\"\n};\n\nvar PhotonColors_blue_40 = {\n  HASH: /* hex */5194459,\n  VAL: \"45a1ff\"\n};\n\nvar PhotonColors_blue_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"0a84ff\"\n};\n\nvar PhotonColors_blue_50_A30 = {\n  HASH: /* hex */5194459,\n  VAL: \"0a84ff4c\"\n};\n\nvar PhotonColors_blue_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"0060df\"\n};\n\nvar PhotonColors_blue_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"003eaa\"\n};\n\nvar PhotonColors_blue_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"002275\"\n};\n\nvar PhotonColors_blue_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"000f40\"\n};\n\nvar PhotonColors_teal_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"00feff\"\n};\n\nvar PhotonColors_teal_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"00c8d7\"\n};\n\nvar PhotonColors_teal_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"008ea4\"\n};\n\nvar PhotonColors_teal_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"005a71\"\n};\n\nvar PhotonColors_teal_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"002d3e\"\n};\n\nvar PhotonColors_green_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"12bc00\"\n};\n\nvar PhotonColors_green_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"058b00\"\n};\n\nvar PhotonColors_green_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"006504\"\n};\n\nvar PhotonColors_yellow_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"d7b600\"\n};\n\nvar PhotonColors_yellow_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"a47f00\"\n};\n\nvar PhotonColors_yellow_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"715100\"\n};\n\nvar PhotonColors_red_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"ff0039\"\n};\n\nvar PhotonColors_red_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"a4000f\"\n};\n\nvar PhotonColors_red_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"5a0002\"\n};\n\nvar PhotonColors_red_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"3e0200\"\n};\n\nvar PhotonColors_orange_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"ff9400\"\n};\n\nvar PhotonColors_orange_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"d76e00\"\n};\n\nvar PhotonColors_orange_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"a44900\"\n};\n\nvar PhotonColors_orange_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"712b00\"\n};\n\nvar PhotonColors_orange_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"3e1300\"\n};\n\nvar PhotonColors_grey_10 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9fa\"\n};\n\nvar PhotonColors_grey_10_A10 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9fa19\"\n};\n\nvar PhotonColors_grey_10_A20 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9fa33\"\n};\n\nvar PhotonColors_grey_10_A40 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9fa66\"\n};\n\nvar PhotonColors_grey_10_A60 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9fa99\"\n};\n\nvar PhotonColors_grey_10_A80 = {\n  HASH: /* hex */5194459,\n  VAL: \"f9f9facc\"\n};\n\nvar PhotonColors_grey_20 = {\n  HASH: /* hex */5194459,\n  VAL: \"ededf0\"\n};\n\nvar PhotonColors_grey_30 = {\n  HASH: /* hex */5194459,\n  VAL: \"d7d7db\"\n};\n\nvar PhotonColors_grey_40 = {\n  HASH: /* hex */5194459,\n  VAL: \"b1b1b3\"\n};\n\nvar PhotonColors_grey_50 = {\n  HASH: /* hex */5194459,\n  VAL: \"737373\"\n};\n\nvar PhotonColors_grey_60 = {\n  HASH: /* hex */5194459,\n  VAL: \"4a4a4f\"\n};\n\nvar PhotonColors_grey_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"38383d\"\n};\n\nvar PhotonColors_grey_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"2a2a2e\"\n};\n\nvar PhotonColors_grey_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d\"\n};\n\nvar PhotonColors_grey_90_A05 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d0c\"\n};\n\nvar PhotonColors_grey_90_A10 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d19\"\n};\n\nvar PhotonColors_grey_90_A20 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d33\"\n};\n\nvar PhotonColors_grey_90_A30 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d4c\"\n};\n\nvar PhotonColors_grey_90_A40 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d66\"\n};\n\nvar PhotonColors_grey_90_A50 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d7f\"\n};\n\nvar PhotonColors_grey_90_A60 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0d99\"\n};\n\nvar PhotonColors_grey_90_A70 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0db2\"\n};\n\nvar PhotonColors_grey_90_A80 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0dcc\"\n};\n\nvar PhotonColors_grey_90_A90 = {\n  HASH: /* hex */5194459,\n  VAL: \"0c0c0de5\"\n};\n\nvar PhotonColors_ink_70 = {\n  HASH: /* hex */5194459,\n  VAL: \"363959\"\n};\n\nvar PhotonColors_ink_80 = {\n  HASH: /* hex */5194459,\n  VAL: \"202340\"\n};\n\nvar PhotonColors_ink_90 = {\n  HASH: /* hex */5194459,\n  VAL: \"0f1126\"\n};\n\nvar PhotonColors = {\n  magenta_50: PhotonColors_magenta_50,\n  magenta_60: PhotonColors_magenta_60,\n  magenta_70: PhotonColors_magenta_70,\n  magenta_80: PhotonColors_magenta_80,\n  magenta_90: PhotonColors_magenta_90,\n  purple_30: PhotonColors_purple_30,\n  purple_40: PhotonColors_purple_40,\n  purple_50: PhotonColors_purple_50,\n  purple_60: PhotonColors_purple_60,\n  purple_70: PhotonColors_purple_70,\n  purple_80: PhotonColors_purple_80,\n  purple_90: PhotonColors_purple_90,\n  blue_40: PhotonColors_blue_40,\n  blue_50: PhotonColors_blue_50,\n  blue_50_A30: PhotonColors_blue_50_A30,\n  blue_60: PhotonColors_blue_60,\n  blue_70: PhotonColors_blue_70,\n  blue_80: PhotonColors_blue_80,\n  blue_90: PhotonColors_blue_90,\n  teal_50: PhotonColors_teal_50,\n  teal_60: PhotonColors_teal_60,\n  teal_70: PhotonColors_teal_70,\n  teal_80: PhotonColors_teal_80,\n  teal_90: PhotonColors_teal_90,\n  green_50: green_50,\n  green_60: PhotonColors_green_60,\n  green_70: PhotonColors_green_70,\n  green_80: PhotonColors_green_80,\n  green_90: green_90,\n  yellow_50: yellow_50,\n  yellow_60: PhotonColors_yellow_60,\n  yellow_70: PhotonColors_yellow_70,\n  yellow_80: PhotonColors_yellow_80,\n  yellow_90: yellow_90,\n  red_50: PhotonColors_red_50,\n  red_60: red_60,\n  red_70: PhotonColors_red_70,\n  red_80: PhotonColors_red_80,\n  red_90: PhotonColors_red_90,\n  orange_50: PhotonColors_orange_50,\n  orange_60: PhotonColors_orange_60,\n  orange_70: PhotonColors_orange_70,\n  orange_80: PhotonColors_orange_80,\n  orange_90: PhotonColors_orange_90,\n  grey_10: PhotonColors_grey_10,\n  grey_10_A10: PhotonColors_grey_10_A10,\n  grey_10_A20: PhotonColors_grey_10_A20,\n  grey_10_A40: PhotonColors_grey_10_A40,\n  grey_10_A60: PhotonColors_grey_10_A60,\n  grey_10_A80: PhotonColors_grey_10_A80,\n  grey_20: PhotonColors_grey_20,\n  grey_30: PhotonColors_grey_30,\n  grey_40: PhotonColors_grey_40,\n  grey_50: PhotonColors_grey_50,\n  grey_60: PhotonColors_grey_60,\n  grey_70: PhotonColors_grey_70,\n  grey_80: PhotonColors_grey_80,\n  grey_90: PhotonColors_grey_90,\n  grey_90_A05: PhotonColors_grey_90_A05,\n  grey_90_A10: PhotonColors_grey_90_A10,\n  grey_90_A20: PhotonColors_grey_90_A20,\n  grey_90_A30: PhotonColors_grey_90_A30,\n  grey_90_A40: PhotonColors_grey_90_A40,\n  grey_90_A50: PhotonColors_grey_90_A50,\n  grey_90_A60: PhotonColors_grey_90_A60,\n  grey_90_A70: PhotonColors_grey_90_A70,\n  grey_90_A80: PhotonColors_grey_90_A80,\n  grey_90_A90: PhotonColors_grey_90_A90,\n  ink_70: PhotonColors_ink_70,\n  ink_80: PhotonColors_ink_80,\n  ink_90: PhotonColors_ink_90,\n  white_100: white_100\n};\n\nvar container = Curry._1(Css.style, {\n      hd: Css.display(/* flex */-1010954439),\n      tl: {\n        hd: Css.flexDirection(/* row */5693978),\n        tl: {\n          hd: Css.justifyContent(/* center */98248149),\n          tl: {\n            hd: Css.minHeight({\n                  HASH: /* px */25096,\n                  VAL: 32\n                }),\n            tl: {\n              hd: Css.fontSize({\n                    HASH: /* px */25096,\n                    VAL: 13\n                  }),\n              tl: {\n                hd: Css.fontWeight({\n                      HASH: /* num */5496390,\n                      VAL: 400\n                    }),\n                tl: {\n                  hd: Css.paddingTop({\n                        HASH: /* px */25096,\n                        VAL: 4\n                      }),\n                  tl: {\n                    hd: Css.paddingBottom({\n                          HASH: /* px */25096,\n                          VAL: 4\n                        }),\n                    tl: {\n                      hd: Css.margin2({\n                            HASH: /* px */25096,\n                            VAL: 4\n                          }, /* zero */-789508312),\n                      tl: {\n                        hd: Css.borderRadius({\n                              HASH: /* px */25096,\n                              VAL: 4\n                            }),\n                        tl: /* [] */0\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\nvar text = Curry._1(Css.style, {\n      hd: Css.display(/* flex */-1010954439),\n      tl: {\n        hd: Css.flexDirection(/* row */5693978),\n        tl: {\n          hd: Css.alignItems(/* center */98248149),\n          tl: /* [] */0\n        }\n      }\n    });\n\nvar icon = Curry._1(Css.style, {\n      hd: Css.display(/* flex */-1010954439),\n      tl: {\n        hd: Css.flexDirection(/* row */5693978),\n        tl: {\n          hd: Css.alignItems(/* center */98248149),\n          tl: {\n            hd: Css.flexShrink(1.0),\n            tl: {\n              hd: Css.margin2(/* zero */-789508312, {\n                    HASH: /* px */25096,\n                    VAL: 4\n                  }),\n              tl: {\n                hd: Css.fontSize({\n                      HASH: /* px */25096,\n                      VAL: 16\n                    }),\n                tl: {\n                  hd: Css.cursor(/* help */-989121855),\n                  tl: /* [] */0\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\nvar success = Curry._1(Css.style, {\n      hd: Css.color(green_90),\n      tl: {\n        hd: Css.backgroundColor(green_50),\n        tl: /* [] */0\n      }\n    });\n\nvar warning = Curry._1(Css.style, {\n      hd: Css.color(yellow_90),\n      tl: {\n        hd: Css.backgroundColor(yellow_50),\n        tl: /* [] */0\n      }\n    });\n\nvar error = Curry._1(Css.style, {\n      hd: Css.color(white_100),\n      tl: {\n        hd: Css.backgroundColor(red_60),\n        tl: /* [] */0\n      }\n    });\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var kindOpt = Props.kind;\n  var tooltipOpt = Props.tooltip;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var kind = kindOpt !== undefined ? kindOpt : /* Generic */3;\n  var tooltip = tooltipOpt !== undefined ? tooltipOpt : \"\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  var match;\n  switch (kind) {\n    case /* Success */0 :\n        match = [\n          React.createElement(ReactFeather.Check, {}),\n          success\n        ];\n        break;\n    case /* Warning */1 :\n        match = [\n          React.createElement(ReactFeather.AlertTriangle, {}),\n          warning\n        ];\n        break;\n    case /* Error */2 :\n        match = [\n          React.createElement(ReactFeather.AlertTriangle, {}),\n          error\n        ];\n        break;\n    case /* Generic */3 :\n        match = [\n          React.createElement(ReactFeather.Info, {}),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.$less$colon$great(Cn.$less$colon$great(container, match[1]), className),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nfunction Utils$TestId(Props) {\n  var children = Props.children;\n  var testId = Props.testId;\n  return React.cloneElement(children, {\n              \"data-testid\": testId\n            });\n}\n\nvar TestId = {\n  make: Utils$TestId\n};\n\nNumeral.registerFormat(\"fraction\", Numeral.Format.make(Numeral.RegExps.make(/(1\\/2)/, /(1\\/2)/), (function (value, _format, _roundingFunction) {\n            var whole = Math.floor(value);\n            var remainder = value - whole;\n            var fraction = remainder !== 0.25 ? (\n                remainder !== 0.5 ? (\n                    remainder !== 0.75 ? \"\" : \"\"\n                  ) : \"\"\n              ) : \"\";\n            var stringedWhole = whole === 0.0 && fraction !== \"\" ? \"\" : String(whole);\n            return stringedWhole + fraction;\n          }), (function (value) {\n            return Belt_Option.getExn(Belt_Float.fromString(value));\n          })));\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nfunction String_toLowerCase(prim) {\n  return prim.toLowerCase();\n}\n\nvar $$String$1 = {\n  concat: concat,\n  toLowerCase: String_toLowerCase,\n  includes: includes,\n  split: split\n};\n\nvar DateFormat = {\n  make: Utils$DateFormat\n};\n\nvar DateTimeFormat = {\n  make: Utils$DateTimeFormat\n};\n\nvar $$Notification = {\n  make: Utils$Notification\n};\n\nexport {\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  $$String$1 as $$String,\n  alert ,\n  WebpackAssets ,\n  Entities ,\n  DateFormat ,\n  DateTimeFormat ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  TestId ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Nanoid from \"nanoid\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\n\nfunction toString(x) {\n  return x;\n}\n\nfunction fromString(x) {\n  return x;\n}\n\nvar dummy = \"________DUMMY________\";\n\nfunction isDummy(id) {\n  return id === dummy;\n}\n\nfunction random(prim) {\n  return Nanoid.nanoid();\n}\n\nfunction encode(prim) {\n  return prim;\n}\n\nvar compare = Caml_primitive.caml_string_compare;\n\nfunction eq(prim, prim$1) {\n  return prim === prim$1;\n}\n\nvar Id = Belt_Id.comparable(compare);\n\nfunction make(param) {\n  return Belt_Map.make(Id);\n}\n\nfunction fromArray(a) {\n  return Belt_Map.fromArray(a, Id);\n}\n\nfunction fromStringArray(arr) {\n  return Belt_Map.fromArray(arr, Id);\n}\n\nvar toStringArray = Belt_Map.toArray;\n\nvar $$Map = {\n  make: make,\n  fromArray: fromArray,\n  fromStringArray: fromStringArray,\n  toStringArray: toStringArray\n};\n\nvar decode = Json_decode.string;\n\nexport {\n  toString ,\n  fromString ,\n  dummy ,\n  isDummy ,\n  random ,\n  encode ,\n  decode ,\n  compare ,\n  eq ,\n  $$Map ,\n  \n}\n/* Id Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toFloat(param) {\n  if (param) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(param) {\n  if (param !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction make(a, b) {\n  var match = Data_Id$Coronate.compare(a, b);\n  if (match !== 0) {\n    if (match !== 1) {\n      return [\n              b,\n              a\n            ];\n    } else {\n      return [\n              a,\n              b\n            ];\n    }\n  }\n  \n}\n\nfunction has(param, id) {\n  if (Data_Id$Coronate.eq(param[0], id)) {\n    return true;\n  } else {\n    return Data_Id$Coronate.eq(param[1], id);\n  }\n}\n\nfunction cmp(param, param$1) {\n  var x = Data_Id$Coronate.compare(param[0], param$1[0]);\n  if (x !== 0) {\n    return x;\n  }\n  var x$1 = Data_Id$Coronate.compare(param[1], param$1[1]);\n  if (x$1 !== 0) {\n    return x$1;\n  } else {\n    return 0;\n  }\n}\n\nvar Cmp = Belt_Id.MakeComparable({\n      cmp: cmp\n    });\n\nvar empty = Belt_Set.make(Cmp);\n\nfunction fromArray(param) {\n  return Belt_Set.fromArray(param, Cmp);\n}\n\nfunction decode$1(json) {\n  return Belt_Set.fromArray(Json_decode.array((function (param) {\n                    return Json_decode.pair(Data_Id$Coronate.decode, Data_Id$Coronate.decode, param);\n                  }), json), Cmp);\n}\n\nfunction encode$1(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair(Data_Id$Coronate.encode, Data_Id$Coronate.encode, param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var currentList = Belt_Map.get(acc, id1);\n  var newList1 = currentList !== undefined ? ({\n        hd: id2,\n        tl: currentList\n      }) : ({\n        hd: id2,\n        tl: /* [] */0\n      });\n  var currentList$1 = Belt_Map.get(acc, id2);\n  var newList2 = currentList$1 !== undefined ? ({\n        hd: id1,\n        tl: currentList$1\n      }) : ({\n        hd: id1,\n        tl: /* [] */0\n      });\n  return Belt_Map.set(Belt_Map.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction toMap(x) {\n  return Belt_Set.reduce(x, Data_Id$Coronate.$$Map.make(undefined), toMapReducer);\n}\n\nfunction decode$2(json) {\n  return {\n          avoidPairs: Json_decode.field(\"avoidPairs\", decode$1, json),\n          byeValue: Json_decode.field(\"byeValue\", decode, json),\n          lastBackup: Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        };\n}\n\nfunction encode$2(data) {\n  return Json_encode.object_({\n              hd: [\n                \"avoidPairs\",\n                encode$1(data.avoidPairs)\n              ],\n              tl: {\n                hd: [\n                  \"byeValue\",\n                  data.byeValue ? 0.5 : 1.0\n                ],\n                tl: {\n                  hd: [\n                    \"lastBackup\",\n                    Json_encode.date(data.lastBackup)\n                  ],\n                  tl: /* [] */0\n                }\n              }\n            });\n}\n\nvar default_lastBackup = new Date(0.0);\n\nvar $$default = {\n  avoidPairs: empty,\n  byeValue: /* Full */0,\n  lastBackup: default_lastBackup\n};\n\nvar Pair_Set = {\n  empty: empty,\n  fromArray: fromArray,\n  toMap: toMap\n};\n\nvar Pair = {\n  make: make,\n  has: has,\n  $$Set: Pair_Set\n};\n\nexport {\n  ByeValue ,\n  Pair ,\n  decode$2 as decode,\n  encode$2 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* Cmp Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction add(prim, prim$1) {\n  return prim + prim$1;\n}\n\nvar compare = Caml_primitive.caml_float_compare;\n\nfunction sum(list) {\n  return Belt_List.reduce(list, 0.0, add);\n}\n\nfunction toFloat(x) {\n  return x;\n}\n\nfunction toNumeral(prim) {\n  return Numeral.default(prim);\n}\n\nfunction toFloat$1(param) {\n  switch (param) {\n    case /* Zero */0 :\n        return 0.0;\n    case /* One */1 :\n        return 1.0;\n    case /* NegOne */2 :\n        return -1.0;\n    case /* Half */3 :\n        return 0.5;\n    \n  }\n}\n\nfunction add$1(a, b) {\n  return a + toFloat$1(b);\n}\n\nfunction sum$1(list) {\n  return Belt_List.reduce(list, 0.0, add$1);\n}\n\nfunction calcScore(results, adjustment) {\n  return Belt_List.reduce(results, 0.0, add$1) + adjustment;\n}\n\nfunction opposite(param) {\n  if (param) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(param) {\n  if (param) {\n    return /* One */1;\n  } else {\n    return /* NegOne */2;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction oppResultsToSumById(param, id) {\n  return Belt_List.reduce(param.opponentResults, undefined, (function (acc, param) {\n                var result = param[1];\n                if (Data_Id$Coronate.eq(id, param[0])) {\n                  if (acc !== undefined) {\n                    return Caml_option.some(Caml_option.valFromOption(acc) + toFloat$1(result));\n                  } else {\n                    return Caml_option.some(0.0 + toFloat$1(result));\n                  }\n                } else {\n                  return acc;\n                }\n              }));\n}\n\nfunction toString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction toPrettyString(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  var json$1 = Json_decode.string(json);\n  switch (json$1) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nfunction eq(a, b) {\n  switch (a) {\n    case /* Median */0 :\n        return b === 0;\n    case /* Solkoff */1 :\n        return b === 1;\n    case /* Cumulative */2 :\n        return b === 2;\n    case /* CumulativeOfOpposition */3 :\n        return b === 3;\n    case /* MostBlack */4 :\n        return b >= 4;\n    \n  }\n}\n\nfunction createBlankScoreData(firstRatingOpt, id) {\n  var firstRating = firstRatingOpt !== undefined ? firstRatingOpt : 0;\n  return {\n          colorScores: /* [] */0,\n          colors: /* [] */0,\n          id: id,\n          isDummy: false,\n          opponentResults: /* [] */0,\n          ratings: /* [] */0,\n          firstRating: firstRating,\n          results: /* [] */0,\n          resultsNoByes: /* [] */0,\n          adjustment: 0.0\n        };\n}\n\nfunction isNotDummy(scores, oppId) {\n  var opponent = Belt_Map.get(scores, oppId);\n  if (opponent !== undefined) {\n    return !opponent.isDummy;\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return calcScore(match.results, match.adjustment);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.reduce(match.opponentResults, /* [] */0, (function (acc, param) {\n                  var oppId = param[0];\n                  if (isNotDummy(scores, oppId)) {\n                    return {\n                            hd: getPlayerScore(scores, oppId),\n                            tl: acc\n                          };\n                  } else {\n                    return acc;\n                  }\n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  return Belt_Option.mapWithDefault(Belt_List.tail(Belt_Option.mapWithDefault(Belt_List.tail(Belt_List.sort(getOpponentScores(scores, id), compare)), /* [] */0, Belt_List.reverse)), 0.0, sum);\n}\n\nfunction getSolkoffScore(scores, id) {\n  return Belt_List.reduce(getOpponentScores(scores, id), 0.0, add);\n}\n\nfunction runningReducer(acc, score) {\n  if (!acc) {\n    return {\n            hd: toFloat$1(score),\n            tl: /* [] */0\n          };\n  }\n  var last = acc.hd;\n  return {\n          hd: last + toFloat$1(score),\n          tl: {\n            hd: last,\n            tl: acc.tl\n          }\n        };\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    var results = Belt_List.reduce(match.resultsNoByes, /* [] */0, runningReducer);\n    var adjustment = match.adjustment;\n    return Belt_List.reduce(results, 0.0, add) + adjustment;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.reduce(Belt_List.map(Belt_List.reduce(match.opponentResults, /* [] */0, (function (acc, param) {\n                          var key = param[0];\n                          if (isNotDummy(scores, key)) {\n                            return {\n                                    hd: key,\n                                    tl: acc\n                                  };\n                          } else {\n                            return acc;\n                          }\n                        })), (function (param) {\n                      return getCumulativeScore(scores, param);\n                    })), 0.0, add);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.reduce(match.colorScores, 0.0, add$1);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction mapTieBreak(param) {\n  switch (param) {\n    case /* Median */0 :\n        return getMedianScore;\n    case /* Solkoff */1 :\n        return getSolkoffScore;\n    case /* Cumulative */2 :\n        return getCumulativeScore;\n    case /* CumulativeOfOpposition */3 :\n        return getCumulativeOfOpponentScore;\n    case /* MostBlack */4 :\n        return getColorBalanceScore;\n    \n  }\n}\n\nfunction createStandingList(scores, methods) {\n  var funcList = Belt_List.map(Belt_List.fromArray(methods), (function (tbType) {\n          return [\n                  tbType,\n                  mapTieBreak(tbType)\n                ];\n        }));\n  var partial_arg = Belt_List.fromArray(methods);\n  return Belt_List.sort(Belt_List.reverse(Belt_Map.reduce(scores, /* [] */0, (function (acc, id, param) {\n                        return {\n                                hd: {\n                                  id: id,\n                                  score: calcScore(param.results, param.adjustment),\n                                  tieBreaks: Belt_List.map(funcList, (function (param) {\n                                          return [\n                                                  param[0],\n                                                  Curry._2(param[1], scores, id)\n                                                ];\n                                        }))\n                                },\n                                tl: acc\n                              };\n                      }))), (function (param, param$1) {\n                var x = Caml_primitive.caml_float_compare(param$1.score, param.score);\n                if (x !== 0) {\n                  return x;\n                } else {\n                  var _tieBreaks = partial_arg;\n                  while(true) {\n                    var tieBreaks = _tieBreaks;\n                    if (!tieBreaks) {\n                      return 0;\n                    }\n                    var rest = tieBreaks.tl;\n                    var tieBreak = tieBreaks.hd;\n                    var match = Belt_List.getAssoc(param.tieBreaks, tieBreak, eq);\n                    var match$1 = Belt_List.getAssoc(param$1.tieBreaks, tieBreak, eq);\n                    if (match !== undefined) {\n                      if (match$1 !== undefined) {\n                        var x$1 = Caml_primitive.caml_float_compare(Caml_option.valFromOption(match$1), Caml_option.valFromOption(match));\n                        if (x$1 !== 0) {\n                          return x$1;\n                        }\n                        _tieBreaks = rest;\n                        continue ;\n                      }\n                      _tieBreaks = rest;\n                      continue ;\n                    }\n                    _tieBreaks = rest;\n                    continue ;\n                  };\n                }\n              }));\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  if (standing1.score !== standing2.score) {\n    return false;\n  }\n  var comparisons = Belt_List.reduce(standing1.tieBreaks, /* [] */0, (function (acc, param) {\n          var value2 = Belt_List.getAssoc(standing2.tieBreaks, param[0], eq);\n          if (value2 !== undefined) {\n            return {\n                    hd: param[1] !== Caml_option.valFromOption(value2),\n                    tl: acc\n                  };\n          } else {\n            return acc;\n          }\n        }));\n  return !Belt_List.has(comparisons, true, (function (prim, prim$1) {\n                return prim === prim$1;\n              }));\n}\n\nfunction createStandingTree(standingList) {\n  return Belt_List.reduce(standingList, /* [] */0, (function (acc, standing) {\n                if (!acc) {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: /* [] */0\n                          },\n                          tl: /* [] */0\n                        };\n                }\n                var lastRank = acc.hd;\n                if (!lastRank) {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: /* [] */0\n                          },\n                          tl: acc\n                        };\n                }\n                var pastRanks = acc.tl;\n                if (areScoresEqual(lastRank.hd, standing)) {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: lastRank\n                          },\n                          tl: pastRanks\n                        };\n                } else {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: /* [] */0\n                          },\n                          tl: {\n                            hd: lastRank,\n                            tl: pastRanks\n                          }\n                        };\n                }\n              }));\n}\n\nvar Score_Sum = {\n  toFloat: toFloat,\n  toNumeral: toNumeral\n};\n\nvar Score = {\n  Sum: Score_Sum,\n  sum: sum$1,\n  calcScore: calcScore,\n  toFloat: toFloat$1\n};\n\nvar TieBreak = {\n  encode: encode,\n  decode: decode,\n  toString: toString,\n  toPrettyString: toPrettyString,\n  eq: eq\n};\n\nexport {\n  Score ,\n  Color ,\n  oppResultsToSumById ,\n  TieBreak ,\n  createBlankScoreData ,\n  createStandingList ,\n  createStandingTree ,\n  \n}\n/* numeral Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction reducer(param, newState) {\n  return newState;\n}\n\nfunction useBool(init) {\n  var match = React.useReducer(reducer, init);\n  var setState = match[1];\n  return {\n          state: match[0],\n          setTrue: (function (param) {\n              return setState(true);\n            }),\n          setFalse: (function (param) {\n              return setState(false);\n            })\n        };\n}\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.TAG | 0) {\n      case /* SetIsDescending */0 :\n          newState = {\n            isDescending: action._0,\n            column: state.column,\n            table: state.table\n          };\n          break;\n      case /* SetColumn */1 :\n          newState = {\n            isDescending: state.isDescending,\n            column: action._0,\n            table: state.table\n          };\n          break;\n      case /* SetTable */2 :\n          newState = {\n            isDescending: state.isDescending,\n            column: state.column,\n            table: action._0\n          };\n          break;\n      \n    }\n  }\n  var direction = newState.isDescending ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var f = newState.column;\n  var sortFunc;\n  switch (f.TAG | 0) {\n    case /* GetString */0 :\n        var f$1 = f._0;\n        sortFunc = Curry._2(direction, Caml_primitive.caml_string_compare, (function (str) {\n                return Utils$Coronate.$$String.toLowerCase(f$1(str));\n              }));\n        break;\n    case /* GetInt */1 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_int_compare, f._0);\n        break;\n    case /* GetFloat */2 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, f._0);\n        break;\n    case /* GetDate */3 :\n        var f$2 = f._0;\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, (function (date) {\n                return f$2(date).getTime();\n              }));\n        break;\n    \n  }\n  var table = Belt_SortArray.stableSortBy(newState.table, sortFunc);\n  return {\n          isDescending: newState.isDescending,\n          column: newState.column,\n          table: table\n        };\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = {\n    isDescending: isDescending,\n    column: column,\n    table: table\n  };\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          \n        }), []);\n  return [\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var chevronStyle = data.column === sortColumn ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  if (data.column === sortColumn) {\n                    return Curry._1(dispatch, {\n                                TAG: /* SetIsDescending */0,\n                                _0: !data.isDescending\n                              });\n                  } else {\n                    return Curry._1(dispatch, {\n                                TAG: /* SetColumn */1,\n                                _0: sortColumn\n                              });\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, data.isDescending ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, {}), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, {}), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), [isLoaded]);\n  \n}\n\nfunction useScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating, param) {\n  var data = Belt_Map.get(scoreData, player.id);\n  var match = data !== undefined ? data : Data_Scoring$Coronate.createBlankScoreData(undefined, player.id);\n  var opponentResults = match.opponentResults;\n  var hasBye = Belt_List.some(opponentResults, (function (param) {\n          return Data_Id$Coronate.isDummy(param[0]);\n        }));\n  var x = Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.sum(match.colorScores));\n  var colorBalance = x < 0.0 ? \"White +\" + String(Math.abs(x)) : (\n      x > 0.0 ? \"Black +\" + String(x) : \"Even\"\n    );\n  var opponentResults$1 = Belt_Array.mapWithIndex(Belt_List.toArray(opponentResults), (function (i, param) {\n          var result = param[1];\n          var opId = param[0];\n          var tmp;\n          if (result !== 0) {\n            switch (result - 1 | 0) {\n              case /* Zero */0 :\n                  tmp = \"Won\";\n                  break;\n              case /* One */1 :\n                  tmp = \"Lost\";\n                  break;\n              case /* NegOne */2 :\n                  tmp = \"Draw\";\n                  break;\n              \n            }\n          } else {\n            tmp = \"Lost\";\n          }\n          return React.createElement(\"li\", {\n                      key: Data_Id$Coronate.toString(opId) + (\"-\" + String(i))\n                    }, Utils$Coronate.$$String.concat({\n                          hd: Curry._1(getPlayer, opId).firstName,\n                          tl: {\n                            hd: Curry._1(getPlayer, opId).lastName,\n                            tl: {\n                              hd: \"-\",\n                              tl: {\n                                hd: tmp,\n                                tl: /* [] */0\n                              }\n                            }\n                          }\n                        }, \" \"));\n        }));\n  var avoidListHtml = Belt_Array.reverse(Belt_List.toArray(Belt_List.map(Belt_Option.getWithDefault(Belt_Option.flatMap(Belt_Option.map(avoidPairs, Data_Config$Coronate.Pair.$$Set.toMap), (function (__x) {\n                          return Belt_Map.get(__x, player.id);\n                        })), /* [] */0), (function (pId) {\n                  var match = Belt_Map.get(players, pId);\n                  if (match !== undefined) {\n                    return React.createElement(\"li\", {\n                                key: Data_Id$Coronate.toString(pId)\n                              }, match.firstName + (\" \" + match.lastName));\n                  } else {\n                    return null;\n                  }\n                }))));\n  var rating = React.createElement(React.Fragment, undefined, origRating, newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n  return {\n          player: player,\n          hasBye: hasBye,\n          colorBalance: colorBalance,\n          score: Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.calcScore(match.results, match.adjustment)),\n          rating: rating,\n          opponentResults: opponentResults$1,\n          avoidListHtml: avoidListHtml\n        };\n}\n\nexport {\n  useBool ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  useScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toScoreWhite(param) {\n  if (param >= 3) {\n    return /* Zero */0;\n  }\n  switch (param) {\n    case /* WhiteWon */0 :\n        return /* One */1;\n    case /* BlackWon */1 :\n        return /* Zero */0;\n    case /* Draw */2 :\n        return /* Half */3;\n    \n  }\n}\n\nfunction toScoreBlack(param) {\n  if (param === 0) {\n    return /* Zero */0;\n  }\n  switch (param - 1 | 0) {\n    case /* WhiteWon */0 :\n        return /* One */1;\n    case /* BlackWon */1 :\n        return /* Half */3;\n    case /* Draw */2 :\n        return /* Zero */0;\n    \n  }\n}\n\nfunction toString(param) {\n  switch (param) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(param) {\n  switch (param) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toScoreWhite: toScoreWhite,\n  toScoreBlack: toScoreBlack,\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          whiteId: Json_decode.field(\"whiteId\", Data_Id$Coronate.decode, json),\n          blackId: Json_decode.field(\"blackId\", Data_Id$Coronate.decode, json),\n          whiteNewRating: Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          blackNewRating: Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          whiteOrigRating: Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          blackOrigRating: Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          result: Json_decode.field(\"result\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_({\n              hd: [\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              tl: {\n                hd: [\n                  \"whiteId\",\n                  Data_Id$Coronate.encode(data.whiteId)\n                ],\n                tl: {\n                  hd: [\n                    \"blackId\",\n                    Data_Id$Coronate.encode(data.blackId)\n                  ],\n                  tl: {\n                    hd: [\n                      \"whiteNewRating\",\n                      data.whiteNewRating\n                    ],\n                    tl: {\n                      hd: [\n                        \"blackNewRating\",\n                        data.blackNewRating\n                      ],\n                      tl: {\n                        hd: [\n                          \"whiteOrigRating\",\n                          data.whiteOrigRating\n                        ],\n                        tl: {\n                          hd: [\n                            \"blackOrigRating\",\n                            data.blackOrigRating\n                          ],\n                          tl: {\n                            hd: [\n                              \"result\",\n                              toString(data.result)\n                            ],\n                            tl: /* [] */0\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nfunction scoreByeMatch(match_, byeValue) {\n  var match = Data_Id$Coronate.isDummy(match_.whiteId);\n  var match$1 = Data_Id$Coronate.isDummy(match_.blackId);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return {\n              id: match_.id,\n              whiteId: match_.whiteId,\n              blackId: match_.blackId,\n              whiteNewRating: match_.whiteNewRating,\n              blackNewRating: match_.blackNewRating,\n              whiteOrigRating: match_.whiteOrigRating,\n              blackOrigRating: match_.blackOrigRating,\n              result: byeValue ? /* Draw */2 : /* BlackWon */1\n            };\n    }\n  } else if (match$1) {\n    return {\n            id: match_.id,\n            whiteId: match_.whiteId,\n            blackId: match_.blackId,\n            whiteNewRating: match_.whiteNewRating,\n            blackNewRating: match_.blackNewRating,\n            whiteOrigRating: match_.whiteOrigRating,\n            blackOrigRating: match_.blackOrigRating,\n            result: byeValue ? /* Draw */2 : /* WhiteWon */0\n          };\n  } else {\n    return match_;\n  }\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch({\n              id: Data_Id$Coronate.random(undefined),\n              whiteId: white.id,\n              blackId: black.id,\n              whiteNewRating: white.rating,\n              blackNewRating: black.rating,\n              whiteOrigRating: white.rating,\n              blackOrigRating: black.rating,\n              result: /* NotSet */3\n            }, byeValue);\n}\n\nfunction swapColors(match_) {\n  var match = match_.result;\n  var tmp;\n  switch (match) {\n    case /* WhiteWon */0 :\n        tmp = /* BlackWon */1;\n        break;\n    case /* BlackWon */1 :\n        tmp = /* WhiteWon */0;\n        break;\n    case /* Draw */2 :\n        tmp = /* Draw */2;\n        break;\n    case /* NotSet */3 :\n        tmp = /* NotSet */3;\n        break;\n    \n  }\n  return {\n          id: match_.id,\n          whiteId: match_.blackId,\n          blackId: match_.whiteId,\n          whiteNewRating: match_.blackNewRating,\n          blackNewRating: match_.whiteNewRating,\n          whiteOrigRating: match_.blackOrigRating,\n          blackOrigRating: match_.whiteOrigRating,\n          result: tmp\n        };\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  scoreByeMatch ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nfunction fromArray(x) {\n  return x;\n}\n\nfunction toArray(x) {\n  return x;\n}\n\nvar empty = [];\n\nfunction encode(param) {\n  return Json_encode.array(Data_Match$Coronate.encode, param);\n}\n\nfunction decode(param) {\n  return Json_decode.array(Data_Match$Coronate.decode, param);\n}\n\nfunction size(prim) {\n  return prim.length;\n}\n\nfunction getMatched(round) {\n  return Belt_Array.reduce(round, [], (function (acc, param) {\n                return Belt_Array.concat(acc, [\n                            param.whiteId,\n                            param.blackId\n                          ]);\n              }));\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return Data_Id$Coronate.eq(x.id, id);\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return !Data_Id$Coronate.eq(x.id, id);\n              }));\n}\n\nfunction setMatch(round, match_) {\n  var round$1 = round.slice(0);\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round$1, (function (param) {\n                        return Data_Id$Coronate.eq(param.id, match_.id);\n                      })), (function (x) {\n                    return Belt_Array.set(round$1, x, match_);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round$1;\n                }\n                \n              }));\n}\n\nfunction moveMatch(round, matchId, direction) {\n  var match_ = getMatchById(round, matchId);\n  if (match_ === undefined) {\n    return ;\n  }\n  var oldIndex = round.indexOf(match_);\n  var newIndex = (oldIndex + direction | 0) >= 0 ? oldIndex + direction | 0 : 0;\n  return Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n}\n\nvar Round = {\n  fromArray: fromArray,\n  toArray: toArray,\n  empty: empty,\n  encode: encode,\n  decode: decode,\n  size: size,\n  addMatches: Belt_Array.concat,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch,\n  moveMatch: moveMatch\n};\n\nfunction fromArray$1(x) {\n  return x;\n}\n\nfunction toArray$1(x) {\n  return x;\n}\n\nvar empty$1 = [[]];\n\nfunction encode$1(param) {\n  return Json_encode.array(encode, param);\n}\n\nfunction decode$1(param) {\n  return Json_decode.array(decode, param);\n}\n\nfunction size$1(prim) {\n  return prim.length;\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nfunction set(rounds, key, round) {\n  var rounds$1 = rounds.slice(0);\n  var wasSuccessful = Belt_Array.set(rounds$1, key, round);\n  if (wasSuccessful) {\n    return rounds$1;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList) {\n  return Belt_Array.reduce(roundList, [], Belt_Array.concat);\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var round = Belt_Array.get(roundList, roundId);\n  if (round === undefined) {\n    return true;\n  }\n  if (roundId < (roundList.length - 1 | 0)) {\n    return true;\n  }\n  var matched = getMatched(round);\n  var unmatched = Belt_Map.removeMany(players, matched);\n  var results = Belt_Array.map(round, (function (match_) {\n          return match_.result;\n        }));\n  if (Belt_Map.size(unmatched) === 0) {\n    return !results.includes(/* NotSet */3);\n  } else {\n    return false;\n  }\n}\n\nfunction addRound(roundList) {\n  return Belt_Array.concat(roundList, [[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, byeValue) {\n  return Belt_Array.map(rounds, (function (__x) {\n                return Belt_Array.map(__x, (function (param) {\n                              return Data_Match$Coronate.scoreByeMatch(param, byeValue);\n                            }));\n              }));\n}\n\nvar get = Belt_Array.get;\n\nexport {\n  Round ,\n  fromArray$1 as fromArray,\n  toArray$1 as toArray,\n  empty$1 as empty,\n  encode$1 as encode,\n  decode$1 as decode,\n  size$1 as size,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar batman = Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\");\n\nvar robin = Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\");\n\nvar alfred = Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\");\n\nvar barbara = Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\");\n\nvar batwoman = Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\");\n\nvar catwoman = Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\");\n\nvar jason = Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\");\n\nvar james = Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\");\n\nvar huntress = Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\");\n\nvar joker = Data_Id$Coronate.fromString(\"Joker_v0z2416fpAZ9o2c\");\n\nvar harley = Data_Id$Coronate.fromString(\"HarleyQuinn_-10-02VPH\");\n\nvar freeze = Data_Id$Coronate.fromString(\"VictorFries_cWaQoW014\");\n\nvar penguin = Data_Id$Coronate.fromString(\"OswaldCobblepot_lfCro\");\n\nvar ras = Data_Id$Coronate.fromString(\"RasAlGhul_k9n8k852bHr\");\n\nvar poisonivy = Data_Id$Coronate.fromString(\"PamelaIsley_vH5vD8uPB\");\n\nvar riddler = Data_Id$Coronate.fromString(\"EdwardNigma_j80JfWOZq\");\n\nvar scarecrow = Data_Id$Coronate.fromString(\"JonathanCrane_R4Q8tVW\");\n\nvar twoface = Data_Id$Coronate.fromString(\"HarveyDent_0eYIiP_Ij5\");\n\nvar hugo = Data_Id$Coronate.fromString(\"HugoStrange_az43f9mtS\");\n\nvar config_avoidPairs = Curry._1(Data_Config$Coronate.Pair.$$Set.fromArray, Belt_Array.keepMap([\n          [\n            barbara,\n            james\n          ],\n          [\n            joker,\n            harley\n          ],\n          [\n            huntress,\n            batman\n          ]\n        ], (function (param) {\n            return Data_Config$Coronate.Pair.make(param[0], param[1]);\n          })));\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Data_Id$Coronate.$$Map.fromArray([\n      [\n        batman,\n        {\n          firstName: \"Bruce\",\n          id: batman,\n          lastName: \"Wayne\",\n          matchCount: 9,\n          rating: 1998,\n          type_: /* Person */0\n        }\n      ],\n      [\n        robin,\n        {\n          firstName: \"Dick\",\n          id: robin,\n          lastName: \"Grayson\",\n          matchCount: 9,\n          rating: 1909,\n          type_: /* Person */0\n        }\n      ],\n      [\n        alfred,\n        {\n          firstName: \"Alfred\",\n          id: alfred,\n          lastName: \"Pennyworth\",\n          matchCount: 9,\n          rating: 1999,\n          type_: /* Person */0\n        }\n      ],\n      [\n        barbara,\n        {\n          firstName: \"Barbara\",\n          id: barbara,\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1345,\n          type_: /* Person */0\n        }\n      ],\n      [\n        batwoman,\n        {\n          firstName: \"Kate\",\n          id: batwoman,\n          lastName: \"Kane\",\n          matchCount: 9,\n          rating: 1539,\n          type_: /* Person */0\n        }\n      ],\n      [\n        catwoman,\n        {\n          firstName: \"Selina\",\n          id: catwoman,\n          lastName: \"Kyle\",\n          matchCount: 9,\n          rating: 1495,\n          type_: /* Person */0\n        }\n      ],\n      [\n        jason,\n        {\n          firstName: \"Jason\",\n          id: jason,\n          lastName: \"Todd\",\n          matchCount: 7,\n          rating: 1101,\n          type_: /* Person */0\n        }\n      ],\n      [\n        james,\n        {\n          firstName: \"James\",\n          id: james,\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1167,\n          type_: /* Person */0\n        }\n      ],\n      [\n        huntress,\n        {\n          firstName: \"Helena\",\n          id: huntress,\n          lastName: \"Wayne\",\n          matchCount: 7,\n          rating: 1087,\n          type_: /* Person */0\n        }\n      ],\n      [\n        joker,\n        {\n          firstName: \"Joker\",\n          id: joker,\n          lastName: \"\",\n          matchCount: 1,\n          rating: 1538,\n          type_: /* Person */0\n        }\n      ],\n      [\n        harley,\n        {\n          firstName: \"Harley\",\n          id: harley,\n          lastName: \"Quinn\",\n          matchCount: 1,\n          rating: 1648,\n          type_: /* Person */0\n        }\n      ],\n      [\n        freeze,\n        {\n          firstName: \"Victor\",\n          id: freeze,\n          lastName: \"Fries\",\n          matchCount: 1,\n          rating: 862,\n          type_: /* Person */0\n        }\n      ],\n      [\n        penguin,\n        {\n          firstName: \"Oswald\",\n          id: penguin,\n          lastName: \"Cobblepot\",\n          matchCount: 1,\n          rating: 1812,\n          type_: /* Person */0\n        }\n      ],\n      [\n        ras,\n        {\n          firstName: \"Ra's\",\n          id: ras,\n          lastName: \"al Ghul\",\n          matchCount: 1,\n          rating: 1404,\n          type_: /* Person */0\n        }\n      ],\n      [\n        poisonivy,\n        {\n          firstName: \"Pamela\",\n          id: poisonivy,\n          lastName: \"Isley\",\n          matchCount: 1,\n          rating: 965,\n          type_: /* Person */0\n        }\n      ],\n      [\n        riddler,\n        {\n          firstName: \"Edward\",\n          id: riddler,\n          lastName: \"Nigma\",\n          matchCount: 1,\n          rating: 948,\n          type_: /* Person */0\n        }\n      ],\n      [\n        scarecrow,\n        {\n          firstName: \"Jonathan\",\n          id: scarecrow,\n          lastName: \"Crane\",\n          matchCount: 1,\n          rating: 899,\n          type_: /* Person */0\n        }\n      ],\n      [\n        twoface,\n        {\n          firstName: \"Harvey\",\n          id: twoface,\n          lastName: \"Dent\",\n          matchCount: 1,\n          rating: 1649,\n          type_: /* Person */0\n        }\n      ],\n      [\n        hugo,\n        {\n          firstName: \"Hugo\",\n          id: hugo,\n          lastName: \"Strange\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ]\n    ]);\n\nvar tournaments = Data_Id$Coronate.$$Map.fromArray([\n      [\n        Data_Id$Coronate.fromString(\"CaouTNel9k70jUJ0h6SYM\"),\n        {\n          id: Data_Id$Coronate.fromString(\"CaouTNel9k70jUJ0h6SYM\"),\n          name: \"Wayne Manor Open\",\n          date: new Date(\"2019-05-22T12:14:47.670Z\"),\n          playerIds: {\n            hd: batman,\n            tl: {\n              hd: robin,\n              tl: {\n                hd: alfred,\n                tl: {\n                  hd: barbara,\n                  tl: {\n                    hd: batwoman,\n                    tl: {\n                      hd: catwoman,\n                      tl: {\n                        hd: jason,\n                        tl: {\n                          hd: james,\n                          tl: {\n                            hd: huntress,\n                            tl: /* [] */0\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"FUASEeyES6ez_ROoT6qmU\"),\n                        whiteId: jason,\n                        blackId: robin,\n                        whiteNewRating: 1236,\n                        blackNewRating: 2109,\n                        whiteOrigRating: 1238,\n                        blackOrigRating: 2108,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"gqPyD66QMPF-pup41xsB2\"),\n                        whiteId: james,\n                        blackId: alfred,\n                        whiteNewRating: 1049,\n                        blackNewRating: 2260,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 2260,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"KpS1lQSzsQWQ3VVWJyA2P\"),\n                        whiteId: batwoman,\n                        blackId: barbara,\n                        whiteNewRating: 1553,\n                        blackNewRating: 1722,\n                        whiteOrigRating: 1527,\n                        blackOrigRating: 1755,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"OgFuy-wq8mz378EWat46u\"),\n                        whiteId: catwoman,\n                        blackId: batman,\n                        whiteNewRating: 1278,\n                        blackNewRating: 1887,\n                        whiteOrigRating: 1284,\n                        blackOrigRating: 1881,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"f8Ps3GUmd0ZRsBBY8rZOp\"),\n                        whiteId: huntress,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 831,\n                        blackNewRating: 0,\n                        whiteOrigRating: 831,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"6seKrw7ehbhL766g6L2PF\"),\n                        whiteId: robin,\n                        blackId: batwoman,\n                        whiteNewRating: 2122,\n                        blackNewRating: 1672,\n                        whiteOrigRating: 2109,\n                        blackOrigRating: 1685,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"TCSjz48ZXqjamtYUFNg0B\"),\n                        whiteId: batman,\n                        blackId: huntress,\n                        whiteNewRating: 1887,\n                        blackNewRating: 830,\n                        whiteOrigRating: 1887,\n                        blackOrigRating: 831,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zF64DEsN8sHydpDDsg37E\"),\n                        whiteId: alfred,\n                        blackId: catwoman,\n                        whiteNewRating: 2101,\n                        blackNewRating: 1437,\n                        whiteOrigRating: 2260,\n                        blackOrigRating: 1278,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"qVGt1EJq9y0MmvFtumM0A\"),\n                        whiteId: barbara,\n                        blackId: jason,\n                        whiteNewRating: 1574,\n                        blackNewRating: 1207,\n                        whiteOrigRating: 1545,\n                        blackOrigRating: 1236,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"UhfHaRWr_-BtVo22xAuJu\"),\n                        whiteId: james,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1049,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"odrOOnZJUe0YAwkfUDqUb\"),\n                        whiteId: alfred,\n                        blackId: batman,\n                        whiteNewRating: 1998,\n                        blackNewRating: 1990,\n                        whiteOrigRating: 2101,\n                        blackOrigRating: 1887,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"qzCMqUwNIDAcFSAuA5yCm\"),\n                        whiteId: huntress,\n                        blackId: robin,\n                        whiteNewRating: 990,\n                        blackNewRating: 2008,\n                        whiteOrigRating: 830,\n                        blackOrigRating: 2122,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"6QgVqdtcJPjfVp3UZ8S9g\"),\n                        whiteId: catwoman,\n                        blackId: barbara,\n                        whiteNewRating: 1529,\n                        blackNewRating: 1464,\n                        whiteOrigRating: 1437,\n                        blackOrigRating: 1574,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"as45gODKMLC5-3_UsTyx5\"),\n                        whiteId: batwoman,\n                        blackId: james,\n                        whiteNewRating: 1542,\n                        blackNewRating: 1244,\n                        whiteOrigRating: 1672,\n                        blackOrigRating: 1049,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Pc0CWecSfeGNfvBPjyEIj\"),\n                        whiteId: jason,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1207,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"xj0y_Iqkb-g3MDGgmYx2-\"),\n                        whiteId: batman,\n                        blackId: batwoman,\n                        whiteNewRating: 1998,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 1990,\n                        blackOrigRating: 1542,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"HWYWtsyaqUkHRExM6kQrt\"),\n                        whiteId: robin,\n                        blackId: james,\n                        whiteNewRating: 2009,\n                        blackNewRating: 1243,\n                        whiteOrigRating: 2008,\n                        blackOrigRating: 1244,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"uAzHZVMC71liQZ-6fWWeD\"),\n                        whiteId: huntress,\n                        blackId: catwoman,\n                        whiteNewRating: 983,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 990,\n                        blackOrigRating: 1529,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"_tCBn9YNIyto-vXpxm7WI\"),\n                        whiteId: jason,\n                        blackId: alfred,\n                        whiteNewRating: 1205,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"L7yatE2oVKlV7LOY6-d7Y\"),\n                        whiteId: barbara,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1464,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1464,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      [\n        Data_Id$Coronate.fromString(\"tvAdS4YbSOznrBgrg0ITA\"),\n        {\n          id: Data_Id$Coronate.fromString(\"tvAdS4YbSOznrBgrg0ITA\"),\n          name: \"The Battle for Gotham City\",\n          date: new Date(\"2019-05-29T12:15:20.593Z\"),\n          playerIds: {\n            hd: batman,\n            tl: {\n              hd: robin,\n              tl: {\n                hd: alfred,\n                tl: {\n                  hd: barbara,\n                  tl: {\n                    hd: batwoman,\n                    tl: {\n                      hd: catwoman,\n                      tl: {\n                        hd: jason,\n                        tl: {\n                          hd: james,\n                          tl: {\n                            hd: huntress,\n                            tl: {\n                              hd: joker,\n                              tl: {\n                                hd: harley,\n                                tl: {\n                                  hd: freeze,\n                                  tl: {\n                                    hd: penguin,\n                                    tl: {\n                                      hd: ras,\n                                      tl: {\n                                        hd: poisonivy,\n                                        tl: {\n                                          hd: riddler,\n                                          tl: {\n                                            hd: scarecrow,\n                                            tl: {\n                                              hd: twoface,\n                                              tl: /* [] */0\n                                            }\n                                          }\n                                        }\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"5f8GYcR8V44NYvTN1cZle\"),\n                        whiteId: riddler,\n                        blackId: batman,\n                        whiteNewRating: 948,\n                        blackNewRating: 1998,\n                        whiteOrigRating: 950,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"GPTct4sL368SryTLFUu8E\"),\n                        whiteId: scarecrow,\n                        blackId: alfred,\n                        whiteNewRating: 899,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 900,\n                        blackOrigRating: 1999,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"AxtoztZ6O19nyrLfZ4YaU\"),\n                        whiteId: twoface,\n                        blackId: robin,\n                        whiteNewRating: 1649,\n                        blackNewRating: 1909,\n                        whiteOrigRating: 850,\n                        blackOrigRating: 2009,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"bUM_tWQsAtPe1gqRzlXd1\"),\n                        whiteId: ras,\n                        blackId: catwoman,\n                        whiteNewRating: 1404,\n                        blackNewRating: 1495,\n                        whiteOrigRating: 1050,\n                        blackOrigRating: 1534,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"bAOVlP-M5xaPk1qofNReb\"),\n                        whiteId: penguin,\n                        blackId: barbara,\n                        whiteNewRating: 1812,\n                        blackNewRating: 1345,\n                        whiteOrigRating: 1100,\n                        blackOrigRating: 1464,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"4omlgiGSaE1BmrHdABSym\"),\n                        whiteId: poisonivy,\n                        blackId: batwoman,\n                        whiteNewRating: 965,\n                        blackNewRating: 1539,\n                        whiteOrigRating: 1000,\n                        blackOrigRating: 1534,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"ysdEVYS2AyuKyOAwLLpTF\"),\n                        whiteId: harley,\n                        blackId: james,\n                        whiteNewRating: 1648,\n                        blackNewRating: 1167,\n                        whiteOrigRating: 1200,\n                        blackOrigRating: 1242,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"YoJ9WGokAYrmJjfxCCf87\"),\n                        whiteId: freeze,\n                        blackId: joker,\n                        whiteNewRating: 862,\n                        blackNewRating: 1538,\n                        whiteOrigRating: 1150,\n                        blackOrigRating: 1250,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Az7SBl3cs7rbwKPBI0IsU\"),\n                        whiteId: huntress,\n                        blackId: jason,\n                        whiteNewRating: 1087,\n                        blackNewRating: 1101,\n                        whiteOrigRating: 983,\n                        blackOrigRating: 1205,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* batman Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          firstName: Json_decode.field(\"firstName\", Json_decode.string, json),\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          lastName: Json_decode.field(\"lastName\", Json_decode.string, json),\n          matchCount: Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          rating: Json_decode.field(\"rating\", Json_decode.$$int, json),\n          type_: Json_decode.field(\"type_\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_({\n              hd: [\n                \"firstName\",\n                data.firstName\n              ],\n              tl: {\n                hd: [\n                  \"id\",\n                  Data_Id$Coronate.encode(data.id)\n                ],\n                tl: {\n                  hd: [\n                    \"lastName\",\n                    data.lastName\n                  ],\n                  tl: {\n                    hd: [\n                      \"matchCount\",\n                      data.matchCount\n                    ],\n                    tl: {\n                      hd: [\n                        \"rating\",\n                        data.rating\n                      ],\n                      tl: {\n                        hd: [\n                          \"type_\",\n                          toString(data.type_)\n                        ],\n                        tl: /* [] */0\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nvar dummy = {\n  firstName: \"Bye\",\n  id: Data_Id$Coronate.dummy,\n  lastName: \"Player\",\n  matchCount: 0,\n  rating: 0,\n  type_: /* Dummy */1\n};\n\nfunction makeMissing(id) {\n  return {\n          firstName: \"Anonymous\",\n          id: id,\n          lastName: \"Player\",\n          matchCount: 0,\n          rating: 0,\n          type_: /* Missing */2\n        };\n}\n\nfunction getMaybe(playerMap, id) {\n  if (Data_Id$Coronate.isDummy(id)) {\n    return dummy;\n  } else {\n    return Belt_Map.getWithDefault(playerMap, id, makeMissing(id));\n  }\n}\n\nexport {\n  Type ,\n  encode$1 as encode,\n  decode$1 as decode,\n  dummy ,\n  getMaybe ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction make(id, name) {\n  return {\n          id: id,\n          name: name,\n          date: new Date(),\n          playerIds: /* [] */0,\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.empty\n        };\n}\n\nfunction decode(json) {\n  var partial_arg_1 = {\n    hd: (function (prim) {\n        return prim;\n      }),\n    tl: /* [] */0\n  };\n  var partial_arg = {\n    hd: Json_decode.date,\n    tl: partial_arg_1\n  };\n  var __x = Json_decode.optional((function (param) {\n          return Json_decode.field(\"scoreAdjustments\", (function (param) {\n                        return Json_decode.array((function (param) {\n                                      return Json_decode.tuple2(Data_Id$Coronate.decode, Json_decode.$$float, param);\n                                    }), param);\n                      }), param);\n        }), json);\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          date: Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          playerIds: Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.list(Data_Id$Coronate.decode, param);\n                }), json),\n          scoreAdjustments: Belt_Option.mapWithDefault(__x, Data_Id$Coronate.$$Map.make(undefined), Data_Id$Coronate.$$Map.fromArray),\n          byeQueue: Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Data_Id$Coronate.decode, param);\n                }), json),\n          tieBreaks: Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(Data_Scoring$Coronate.TieBreak.decode, param);\n                }), json),\n          roundList: Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        };\n}\n\nfunction encode(data) {\n  return Json_encode.object_({\n              hd: [\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              tl: {\n                hd: [\n                  \"name\",\n                  data.name\n                ],\n                tl: {\n                  hd: [\n                    \"date\",\n                    Json_encode.date(data.date)\n                  ],\n                  tl: {\n                    hd: [\n                      \"playerIds\",\n                      Json_encode.list(Data_Id$Coronate.encode, data.playerIds)\n                    ],\n                    tl: {\n                      hd: [\n                        \"byeQueue\",\n                        Json_encode.array(Data_Id$Coronate.encode, data.byeQueue)\n                      ],\n                      tl: {\n                        hd: [\n                          \"tieBreaks\",\n                          Json_encode.array(Data_Scoring$Coronate.TieBreak.encode, data.tieBreaks)\n                        ],\n                        tl: {\n                          hd: [\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data.roundList)\n                          ],\n                          tl: {\n                            hd: [\n                              \"scoreAdjustments\",\n                              Json_encode.array((function (param) {\n                                      return Json_encode.tuple2(Data_Id$Coronate.encode, (function (prim) {\n                                                    return prim;\n                                                  }), param);\n                                    }), Belt_Map.toArray(data.scoreAdjustments))\n                            ],\n                            tl: /* [] */0\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nexport {\n  make ,\n  encode ,\n  decode ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Id$LocalForage from \"@johnridesabike/bs-localforage/src/Id.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Record$LocalForage from \"@johnridesabike/bs-localforage/src/Record.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction func(prim, prim$1, prim$2, prim$3, prim$4, prim$5, prim$6) {\n  var tmp = {\n    name: prim$2,\n    storeName: prim$4\n  };\n  if (prim !== undefined) {\n    tmp.description = Caml_option.valFromOption(prim);\n  }\n  if (prim$1 !== undefined) {\n    tmp.driver = Caml_option.valFromOption(prim$1);\n  }\n  if (prim$3 !== undefined) {\n    tmp.size = Caml_option.valFromOption(prim$3);\n  }\n  if (prim$5 !== undefined) {\n    tmp.version = Caml_option.valFromOption(prim$5);\n  }\n  return tmp;\n}\n\nvar Config = Id$LocalForage.MakeEncodable({\n      encode: Data_Config$Coronate.encode,\n      decode: Data_Config$Coronate.decode\n    });\n\nvar Player = Id$LocalForage.MakeEncodable({\n      encode: Data_Player$Coronate.encode,\n      decode: Data_Player$Coronate.decode\n    });\n\nvar Tournament = Id$LocalForage.MakeEncodable({\n      encode: Data_Tournament$Coronate.encode,\n      decode: Data_Tournament$Coronate.decode\n    });\n\nvar configDb = Record$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Options\", undefined, undefined), Config);\n\nvar players = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Players\", undefined, undefined), Player);\n\nvar tournaments = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Tournaments\", undefined, undefined), Tournament);\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  return $$Promise.get($$Promise.Js.$$catch($$Promise.Js.fromBsPromise(Promise.all([\n                          Record$LocalForage.set(configDb, DemoData$Coronate.config),\n                          Map$LocalForage.setItems(players, Data_Id$Coronate.$$Map.toStringArray(DemoData$Coronate.players)),\n                          Map$LocalForage.setItems(tournaments, Data_Id$Coronate.$$Map.toStringArray(DemoData$Coronate.tournaments))\n                        ])), (function (param) {\n                    ((document.body.style.cursor = \"auto\"));\n                    Utils$Coronate.alert(\"Couldn't load demo data.\");\n                    return $$Promise.resolved([\n                                undefined,\n                                undefined,\n                                undefined\n                              ]);\n                  })), (function (param) {\n                ((document.body.style.cursor = \"auto\"));\n                return Utils$Coronate.alert(\"Demo data loaded!\");\n              }));\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* Del */0 :\n        return Belt_Map.remove(state, action._0);\n    case /* Set */1 :\n        return Belt_Map.set(state, action._0, action._1);\n    case /* SetAll */2 :\n        return action._0;\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Data_Id$Coronate.$$Map.make(undefined));\n  var dispatch = match[1];\n  var items = match[0];\n  var loaded = Hooks$Coronate.useBool(false);\n  Hooks$Coronate.useLoadingCursorUntil(loaded.state);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getAllItems(store))), (function (results) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, {\n                              TAG: /* SetAll */2,\n                              _0: Data_Id$Coronate.$$Map.fromStringArray(results)\n                            });\n                        return Curry._1(loaded.setTrue, undefined);\n                      }\n                      \n                    })), (function (error) {\n                  if (!didCancel.contents) {\n                    console.error(error);\n                    Localforage.clear();\n                    return Curry._1(loaded.setTrue, undefined);\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), []);\n  React.useEffect((function () {\n          if (loaded.state) {\n            $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.setItems(store, Data_Id$Coronate.$$Map.toStringArray(items)))), (function (param) {\n                    return $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getKeys(store))), (function (keys) {\n                                  var stateKeys = Belt_Map.keysToArray(items);\n                                  var deleted = keys.filter(function (x) {\n                                        return !stateKeys.includes(Data_Id$Coronate.fromString(x));\n                                      });\n                                  if (deleted.length !== 0) {\n                                    Map$LocalForage.removeItems(store, deleted);\n                                    return ;\n                                  }\n                                  \n                                }));\n                  }));\n          }\n          \n        }), [\n        items,\n        loaded\n      ]);\n  return {\n          items: items,\n          dispatch: dispatch,\n          loaded: loaded.state\n        };\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* AddAvoidPair */0 :\n        return {\n                avoidPairs: Belt_Set.add(state.avoidPairs, action._0),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidPair */1 :\n        return {\n                avoidPairs: Belt_Set.remove(state.avoidPairs, action._0),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidSingle */2 :\n        var id = action._0;\n        return {\n                avoidPairs: Belt_Set.reduce(state.avoidPairs, Data_Config$Coronate.Pair.$$Set.empty, (function (acc, pair) {\n                        if (Data_Config$Coronate.Pair.has(pair, id)) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, pair);\n                        }\n                      })),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetAvoidPairs */3 :\n        return {\n                avoidPairs: action._0,\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetByeValue */4 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: action._0,\n                lastBackup: state.lastBackup\n              };\n    case /* SetState */5 :\n        return action._0;\n    case /* SetLastBackup */6 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: state.byeValue,\n                lastBackup: action._0\n              };\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var loaded = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Record$LocalForage.get(configDb))), (function (values) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, {\n                              TAG: /* SetState */5,\n                              _0: values\n                            });\n                        return Curry._1(loaded.setTrue, undefined);\n                      }\n                      \n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    Localforage.clear();\n                    Curry._1(dispatch, {\n                          TAG: /* SetState */5,\n                          _0: Data_Config$Coronate.$$default\n                        });\n                    return Curry._1(loaded.setTrue, undefined);\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), []);\n  React.useEffect((function () {\n          if (loaded.state) {\n            Record$LocalForage.set(configDb, config);\n          }\n          \n        }), [\n        config,\n        loaded.state\n      ]);\n  return [\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  loadDemoDB ,\n  Config ,\n  Tournament ,\n  Player ,\n  tournaments ,\n  useAllPlayers ,\n  useAllTournaments ,\n  useConfig ,\n  \n}\n/* Config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = {};\n\nvar Alert = {};\n\nvar ArrowDown = {};\n\nvar ArrowLeft = {};\n\nvar ArrowUp = {};\n\nvar Award = {};\n\nvar Check = {};\n\nvar CheckCircle = {};\n\nvar ChevronDown = {};\n\nvar ChevronLeft = {};\n\nvar ChevronRight = {};\n\nvar ChevronUp = {};\n\nvar Circle = {};\n\nvar Clock = {};\n\nvar Download = {};\n\nvar Edit = {};\n\nvar Help = {};\n\nvar Info = {};\n\nvar Layers = {};\n\nvar List = {};\n\nvar Plus = {};\n\nvar Repeat = {};\n\nvar Settings = {};\n\nvar Sidebar = {};\n\nvar Trash = {};\n\nvar Unfullscreen = {};\n\nvar UserMinus = {};\n\nvar UserPlus = {};\n\nvar Users = {};\n\nvar X = {};\n\nvar More = {};\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var heightOpt = Props.height;\n    var widthOpt = Props.width;\n    var classNameOpt = Props.className;\n    var styleOpt = Props.style;\n    var ariaLabelOpt = Props.ariaLabel;\n    var ariaHiddenOpt = Props.ariaHidden;\n    var height = heightOpt !== undefined ? heightOpt : \"24\";\n    var width = widthOpt !== undefined ? widthOpt : \"24\";\n    var className = classNameOpt !== undefined ? classNameOpt : \"\";\n    var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n    var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n    var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: Object.assign({}, {\n                      fill: \"#\" + IconData.icon.hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData.icon.path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData.icon.title;\n  return {\n          make: Icons$SimpleIcon\n        };\n}\n\nvar IconData = {\n  icon: Reason.default\n};\n\nfunction Icons$SimpleIcon(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: Object.assign({}, {\n                    fill: \"#\" + IconData.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData.icon.path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData.icon.title;\n\nvar Reason$1 = {\n  make: Icons$SimpleIcon\n};\n\nvar IconData$1 = {\n  icon: React$1.default\n};\n\nfunction Icons$SimpleIcon$1(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData$1.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: Object.assign({}, {\n                    fill: \"#\" + IconData$1.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1.icon.path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1.icon.title;\n\nvar React$2 = {\n  make: Icons$SimpleIcon$1\n};\n\nfunction Icons$Close(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = {\n  make: Icons$Close\n};\n\nfunction Icons$Maximize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = {\n  make: Icons$Maximize\n};\n\nfunction Icons$Minimize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = {\n  make: Icons$Minimize\n};\n\nfunction Icons$Restore(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = {\n  make: Icons$Restore\n};\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Clock ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  More ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.bs.js\";\n\nfunction fromPath(param) {\n  if (!param) {\n    return /* Players */0;\n  }\n  switch (param.hd) {\n    case \"\" :\n        if (param.tl) {\n          return ;\n        } else {\n          return /* Players */0;\n        }\n    case \"crosstable\" :\n        if (param.tl) {\n          return ;\n        } else {\n          return /* Crosstable */2;\n        }\n    case \"round\" :\n        var match = param.tl;\n        if (!match) {\n          return ;\n        }\n        if (match.tl) {\n          return ;\n        }\n        var y = Belt_Int.fromString(match.hd);\n        if (y !== undefined) {\n          return /* Round */{\n                  _0: y\n                };\n        } else {\n          return ;\n        }\n    case \"scores\" :\n        if (param.tl) {\n          return ;\n        } else {\n          return /* Scores */1;\n        }\n    case \"setup\" :\n        if (param.tl) {\n          return ;\n        } else {\n          return /* Setup */3;\n        }\n    case \"status\" :\n        if (param.tl) {\n          return ;\n        } else {\n          return /* Status */4;\n        }\n    default:\n      return ;\n  }\n}\n\nfunction toString(id, subPage) {\n  if (typeof subPage !== \"number\") {\n    return Data_Id$Coronate.toString(id) + (\"/round/\" + String(subPage._0));\n  }\n  switch (subPage) {\n    case /* Players */0 :\n        return Data_Id$Coronate.toString(id) + \"/\";\n    case /* Scores */1 :\n        return Data_Id$Coronate.toString(id) + \"/scores\";\n    case /* Crosstable */2 :\n        return Data_Id$Coronate.toString(id) + \"/crosstable\";\n    case /* Setup */3 :\n        return Data_Id$Coronate.toString(id) + \"/setup\";\n    case /* Status */4 :\n        return Data_Id$Coronate.toString(id) + \"/status\";\n    \n  }\n}\n\nfunction toString$1(id) {\n  if (typeof id !== \"number\") {\n    if (id.TAG) {\n      return \"/players/\" + Data_Id$Coronate.toString(id._0);\n    } else {\n      return \"/tourneys/\" + toString(id._0, id._1);\n    }\n  }\n  switch (id) {\n    case /* TournamentList */1 :\n        return \"/tourneys\";\n    case /* PlayerList */2 :\n        return \"/players\";\n    case /* TimeCalculator */3 :\n        return \"/timecalc\";\n    case /* Options */4 :\n        return \"/options\";\n    case /* Index */0 :\n    case /* NotFound */5 :\n        return \"/\";\n    \n  }\n}\n\nfunction useHashUrl(param) {\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var param$1 = Belt_List.fromArray(Utils$Coronate.$$String.split(match.hash, \"/\"));\n  if (!param$1) {\n    return /* NotFound */5;\n  }\n  if (param$1.hd !== \"\") {\n    return /* NotFound */5;\n  }\n  var match$1 = param$1.tl;\n  if (!match$1) {\n    return /* Index */0;\n  }\n  switch (match$1.hd) {\n    case \"\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* Index */0;\n        }\n    case \"options\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* Options */4;\n        }\n    case \"players\" :\n        var match$2 = match$1.tl;\n        if (match$2) {\n          if (match$2.tl) {\n            return /* NotFound */5;\n          } else {\n            return {\n                    TAG: /* Player */1,\n                    _0: Data_Id$Coronate.fromString(match$2.hd)\n                  };\n          }\n        } else {\n          return /* PlayerList */2;\n        }\n    case \"timecalc\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* TimeCalculator */3;\n        }\n    case \"tourneys\" :\n        var match$3 = match$1.tl;\n        if (!match$3) {\n          return /* TournamentList */1;\n        }\n        var page = fromPath(match$3.tl);\n        if (page !== undefined) {\n          return {\n                  TAG: /* Tournament */0,\n                  _0: Data_Id$Coronate.fromString(match$3.hd),\n                  _1: page\n                };\n        } else {\n          return /* NotFound */5;\n        }\n    default:\n      return /* NotFound */5;\n  }\n}\n\nfunction Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var onClick = Props.onClick;\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var hash = match.hash;\n  var href = toString$1(to_);\n  var isCurrent = href === \"/\" ? hash === \"\" || hash === href : hash === href;\n  return React.createElement(\"a\", {\n              \"aria-current\": isCurrent,\n              href: \"#\" + href,\n              onDragStart: onDragStart,\n              onClick: onClick\n            }, children);\n}\n\nvar HashLink = {\n  make: Router$HashLink\n};\n\nvar TourneyPage = {};\n\nexport {\n  TourneyPage ,\n  useHashUrl ,\n  HashLink ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nvar $$require = window.require;\n\nvar electron = $$require !== undefined ? Curry._1($$require, \"electron\") : undefined;\n\nfunction ifElectron(fn) {\n  if (electron !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron)));\n  }\n  \n}\n\nvar isWin = Utils$Coronate.$$String.includes(navigator.appVersion, \"Windows\");\n\nvar isMac = Utils$Coronate.$$String.includes(navigator.appVersion, \"Mac\");\n\nvar os = isWin ? /* Windows */0 : (\n    isMac ? /* Mac */1 : /* Other */2\n  );\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var targetOs = Props.os;\n  if (electron === undefined) {\n    return null;\n  }\n  var electron$1 = Caml_option.valFromOption(electron);\n  switch (os) {\n    case /* Windows */0 :\n        if (targetOs !== 0) {\n          return null;\n        } else {\n          return Curry._1(children, electron$1);\n        }\n    case /* Mac */1 :\n        if (targetOs !== 1) {\n          return null;\n        } else {\n          return Curry._1(children, electron$1);\n        }\n    case /* Other */2 :\n        if (targetOs >= 2) {\n          return Curry._1(children, electron$1);\n        } else {\n          return null;\n        }\n    \n  }\n}\n\nvar IfElectron = {\n  make: Electron$IfElectron\n};\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n  } else {\n    $$window.maximize();\n  }\n  \n}\n\nvar $$Window = {\n  toggleMaximize: toggleMaximize\n};\n\nfunction openInBrowser($$event) {\n  ifElectron(function (electron) {\n        $$event.preventDefault();\n        return electron.shell.openExternal($$event.target.href);\n      });\n  \n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron(function (electron) {\n        var target = $$event.target;\n        if (!target.className.includes) {\n          return ;\n        }\n        if (!Utils$Coronate.$$String.includes(target.className, \"double-click-control\")) {\n          return ;\n        }\n        var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n        var $$window = electron.remote.getCurrentWindow();\n        switch (doubleClickAction) {\n          case \"Maximize\" :\n              return toggleMaximize($$window);\n          case \"Minimize\" :\n              $$window.minimize();\n              return ;\n          default:\n            return ;\n        }\n      });\n  \n}\n\nvar $$Event = {\n  macOSDoubleClick: macOSDoubleClick,\n  openInBrowser: openInBrowser\n};\n\nexport {\n  electron ,\n  ifElectron ,\n  os ,\n  IfElectron ,\n  $$Window ,\n  $$Event ,\n  \n}\n/* require Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar $$FileReader = {};\n\nvar VisuallyHidden = {};\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var styleOpt = Props.style;\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = {};\n\nvar TabList = {};\n\nvar Tab = {};\n\nvar TabPanels = {};\n\nvar TabPanel = {};\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nvar Shell = {};\n\nvar $$Window = {};\n\nvar SystemPreferences = {};\n\nvar Remote = {};\n\nvar Electron = {\n  Shell: Shell,\n  $$Window: $$Window,\n  SystemPreferences: SystemPreferences,\n  Remote: Remote\n};\n\nexport {\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  Electron ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Webapi__Dom__Document from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Document.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  if (title === \"\") {\n    return global_title;\n  } else {\n    return Utils$Coronate.$$String.concat({\n                hd: title,\n                tl: {\n                  hd: global_title,\n                  tl: /* [] */0\n                }\n              }, \" - \");\n  }\n}\n\nfunction windowReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* SetBlur */0 :\n        return {\n                isBlur: action._0,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetDialog */1 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: action._0,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetFullScreen */2 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: action._0,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetMaximized */3 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: action._0,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetSidebar */4 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: action._0,\n                title: state.title\n              };\n    case /* SetTitle */5 :\n        var title = action._0;\n        Belt_Option.forEach(Webapi__Dom__Document.asHtmlDocument(document), (function (__x) {\n                __x.title = formatTitle(title);\n                \n              }));\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: title\n              };\n    \n  }\n}\n\nfunction Window$About(Props) {\n  var version = process.env.REACT_APP_VERSION;\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), version !== undefined ? React.createElement(\"p\", undefined, \"Version \" + version) : null, React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat({\n                          hd: \"Copyright \",\n                          tl: {\n                            hd: Utils$Coronate.Entities.copy,\n                            tl: {\n                              hd: \" 2020 John\",\n                              tl: {\n                                hd: Utils$Coronate.Entities.nbsp,\n                                tl: {\n                                  hd: \"Jackson\",\n                                  tl: /* [] */0\n                                }\n                              }\n                            }\n                          }\n                        }, \"\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.$$Event.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.$$Event.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar container = Curry._1(Css.style, {\n      hd: Css.height({\n            HASH: /* calc */-1044768619,\n            VAL: [\n              /* add */4846113,\n              {\n                HASH: /* percent */-119887163,\n                VAL: 100.0\n              },\n              {\n                HASH: /* px */25096,\n                VAL: 8\n              }\n            ]\n          }),\n      tl: {\n        hd: Css.margin({\n              HASH: /* px */25096,\n              VAL: -4\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar button = Curry._1(Css.style, {\n      hd: Css.color(Utils$Coronate.PhotonColors.grey_90),\n      tl: {\n        hd: Css.fontSize({\n              HASH: /* px */25096,\n              VAL: 11\n            }),\n        tl: {\n          hd: Css.textAlign(/* center */98248149),\n          tl: {\n            hd: Css.width({\n                  HASH: /* px */25096,\n                  VAL: 46\n                }),\n            tl: {\n              hd: Css.height({\n                    HASH: /* percent */-119887163,\n                    VAL: 100.0\n                  }),\n              tl: {\n                hd: Css.borderRadius(/* zero */-789508312),\n                tl: {\n                  hd: Css.backgroundColor(/* transparent */582626130),\n                  tl: {\n                    hd: Css.width({\n                          HASH: /* px */25096,\n                          VAL: 46\n                        }),\n                    tl: {\n                      hd: Css.minWidth({\n                            HASH: /* px */25096,\n                            VAL: 46\n                          }),\n                      tl: {\n                        hd: Css.focus({\n                              hd: Css.borderStyle(/* none */-922086728),\n                              tl: {\n                                hd: Css.boxShadow(/* none */-922086728),\n                                tl: {\n                                  hd: Css.outlineStyle(/* none */-922086728),\n                                  tl: /* [] */0\n                                }\n                              }\n                            }),\n                        tl: {\n                          hd: Css.selector(\" svg\", {\n                                hd: Css.display(/* inline */423610969),\n                                tl: /* [] */0\n                              }),\n                          tl: /* [] */0\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\nvar svg = Curry._1(Css.style, {\n      hd: Css.display(/* inline */423610969),\n      tl: {\n        hd: Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        tl: /* [] */0\n      }\n    });\n\nvar close = Curry._1(Css.style, {\n      hd: Css.hover({\n            hd: Css.backgroundColor(Utils$Coronate.PhotonColors.red_50),\n            tl: /* [] */0\n          }),\n      tl: /* [] */0\n    });\n\nfunction Window$MSWindowsControls(Props) {\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.$less$colon$great(button, \"button-ghost1\"),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      \n                    })\n                }, React.createElement(Icons$Coronate.Minimize.make, {\n                      className: svg\n                    })), isFullScreen ? React.createElement(\"button\", {\n                    className: button,\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        \n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                isMaximized ? React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            \n                          })\n                      }, React.createElement(Icons$Coronate.Restore.make, {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            \n                          })\n                      }, React.createElement(Icons$Coronate.Maximize.make, {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.$less$colon$great(button, close),\n                  onClick: (function (param) {\n                      $$window.close();\n                      \n                    })\n                }, React.createElement(Icons$Coronate.Close.make, {\n                      className: svg\n                    })));\n}\n\nvar button$1 = Curry._1(Css.style, {\n      hd: Css.color(Utils$Coronate.PhotonColors.grey_90),\n      tl: /* [] */0\n    });\n\nvar isElectronMac = Electron$Coronate.os !== 1 ? false : Electron$Coronate.electron !== undefined;\n\nvar toolbarClasses = Cn.$less$colon$great(Cn.$less$colon$great(button$1, Cn.on(\"macos-button-toolbar\", isElectronMac)), Cn.on(\"button-ghost\", !isElectronMac));\n\nfunction Window$TitleBar(Props) {\n  var isBlur = Props.isBlur;\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var isSidebarOpen = Props.isSidebarOpen;\n  var title = Props.title;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.$less$colon$great(Cn.$less$colon$great(\"app__header\", \"double-click-control\"), Cn.on(\"traffic-light-padding\", isElectronMac && !isFullScreen)),\n              onDoubleClick: Electron$Coronate.$$Event.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron.make, {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets.logo,\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, {\n                                      TAG: /* SetSidebar */4,\n                                      _0: !isSidebarOpen\n                                    });\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, {}), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, {\n                                      TAG: /* SetDialog */1,\n                                      _0: true\n                                    });\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, {}), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.$less$colon$great(Cn.$less$colon$great(\"body-20\", \"double-click-control\"), Cn.on(\"disabled\", isBlur)),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(title)), React.createElement(Electron$Coronate.IfElectron.make, {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  isFullScreen: isFullScreen,\n                                  isMaximized: isMaximized,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, {\n        isBlur: false,\n        isDialogOpen: false,\n        isFullScreen: false,\n        isMaximized: false,\n        isSidebarOpen: true,\n        title: \"\"\n      });\n  var state = match[0];\n  var isSidebarOpen = state.isSidebarOpen;\n  var isBlur = state.isBlur;\n  var dispatch = match[1];\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron(function (electron) {\n                      var win = electron.remote.getCurrentWindow();\n                      var unregisterListeners = function (param) {\n                        win.removeAllListeners(\"enter-full-screen\");\n                        win.removeAllListeners(\"leave-full-screen\");\n                        win.removeAllListeners(\"blur\");\n                        win.removeAllListeners(\"focus\");\n                        win.removeAllListeners(\"maximize\");\n                        win.removeAllListeners(\"unmaximize\");\n                        \n                      };\n                      unregisterListeners(undefined);\n                      win.on(\"enter-full-screen\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetFullScreen */2,\n                                          _0: true\n                                        });\n                            }));\n                      win.on(\"leave-full-screen\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetFullScreen */2,\n                                          _0: false\n                                        });\n                            }));\n                      win.on(\"maximize\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetMaximized */3,\n                                          _0: true\n                                        });\n                            }));\n                      win.on(\"unmaximize\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetMaximized */3,\n                                          _0: false\n                                        });\n                            }));\n                      win.on(\"blur\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetBlur */0,\n                                          _0: true\n                                        });\n                            }));\n                      win.on(\"focus\", (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetBlur */0,\n                                          _0: false\n                                        });\n                            }));\n                      Curry._1(dispatch, {\n                            TAG: /* SetBlur */0,\n                            _0: !win.isFocused()\n                          });\n                      Curry._1(dispatch, {\n                            TAG: /* SetFullScreen */2,\n                            _0: win.isFullScreen()\n                          });\n                      Curry._1(dispatch, {\n                            TAG: /* SetMaximized */3,\n                            _0: win.isMaximized()\n                          });\n                      return unregisterListeners;\n                    });\n        }), []);\n  var tmp;\n  switch (Electron$Coronate.os) {\n    case /* Windows */0 :\n        tmp = \"isWindows\";\n        break;\n    case /* Mac */1 :\n        tmp = \"isMacOS\";\n        break;\n    case /* Other */2 :\n        tmp = \"\";\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.$less$colon$great(Cn.$less$colon$great(Cn.$less$colon$great(Cn.$less$colon$great(Cn.$less$colon$great(className, Cn.on(\"open-sidebar\", isSidebarOpen)), Cn.on(\"closed-sidebar\", !isSidebarOpen)), Cn.on(\"window-blur\", isBlur)), tmp), Cn.onSome(\"isElectron\", Electron$Coronate.electron))\n            }, React.createElement(Window$TitleBar, {\n                  isBlur: isBlur,\n                  isFullScreen: state.isFullScreen,\n                  isMaximized: state.isMaximized,\n                  isSidebarOpen: isSidebarOpen,\n                  title: state.title,\n                  dispatch: dispatch\n                }), Curry._1(children, dispatch), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state.isDialogOpen,\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, {\n                                  TAG: /* SetDialog */1,\n                                  _0: false\n                                });\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, {\n                                      TAG: /* SetDialog */1,\n                                      _0: false\n                                    });\n                        })\n                    }, \"Close\"), React.createElement(Window$About, {})));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TournamentList */1,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* PlayerList */2,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Options */4,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TimeCalculator */3,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Clock, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Index */0,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, {});\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var sidebarFuncOpt = Props.sidebarFunc;\n  var sidebarFunc = sidebarFuncOpt !== undefined ? sidebarFuncOpt : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.$less$colon$great(\"winBody\", Cn.onSome(\"winBody-hasFooter\", footerFunc))\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, undefined)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: \"win__footer\"\n                  }, Curry._1(footerFunc, undefined)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make = $$Window;\n\nexport {\n  Body ,\n  make ,\n  \n}\n/* container Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Curry._1(Css.style, {\n      hd: Css.display(/* flex */-1010954439),\n      tl: {\n        hd: Css.flexDirection(/* column */-963948842),\n        tl: {\n          hd: Css.alignContent(/* center */98248149),\n          tl: {\n            hd: Css.height({\n                  HASH: /* percent */-119887163,\n                  VAL: 100.0\n                }),\n            tl: {\n              hd: Css.justifyContent(/* spaceBetween */516682146),\n              tl: {\n                hd: Css.backgroundColor(Utils$Coronate.PhotonColors.grey_10),\n                tl: /* [] */0\n              }\n            }\n          }\n        }\n      }\n    });\n\nvar hint = Curry._1(Css.style, {\n      hd: Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      tl: {\n        hd: Css.height({\n              HASH: /* px */25096,\n              VAL: 64\n            }),\n        tl: {\n          hd: Css.overflow(/* visible */589592690),\n          tl: /* [] */0\n        }\n      }\n    });\n\nvar hintLi = Curry._1(Css.style, {\n      hd: Css.margin2({\n            HASH: /* px */25096,\n            VAL: 8\n          }, /* zero */-789508312),\n      tl: /* [] */0\n    });\n\nvar footer = Curry._1(Css.style, {\n      hd: Css.backgroundColor(Utils$Coronate.PhotonColors.ink_80),\n      tl: {\n        hd: Css.color(Utils$Coronate.PhotonColors.grey_20),\n        tl: {\n          hd: Css.padding2(/* zero */-789508312, {\n                HASH: /* px */25096,\n                VAL: 16\n              }),\n          tl: {\n            hd: Css.display(/* flex */-1010954439),\n            tl: {\n              hd: Css.justifyContent(/* spaceBetween */516682146),\n              tl: /* [] */0\n            }\n          }\n        }\n      }\n    });\n\nvar footerLink = Curry._1(Css.style, {\n      hd: Css.color(Utils$Coronate.PhotonColors.teal_50),\n      tl: {\n        hd: Css.hover({\n              hd: Css.color(Utils$Coronate.PhotonColors.teal_60),\n              tl: /* [] */0\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar title = Curry._1(Css.style, {\n      hd: Css.color(Utils$Coronate.PhotonColors.grey_90),\n      tl: {\n        hd: Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        tl: {\n          hd: Css.display(/* flex */-1010954439),\n          tl: {\n            hd: Css.alignItems(/* center */98248149),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nvar titleIcon = Curry._1(Css.style, {\n      hd: Css.flexShrink(1.0),\n      tl: {\n        hd: Css.marginRight({\n              HASH: /* px */25096,\n              VAL: 8\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar titleText = Curry._1(Css.style, {\n      hd: Css.flexGrow(1.0),\n      tl: /* [] */0\n    });\n\nvar subtitle = Curry._1(Css.style, {\n      hd: Css.textAlign(/* right */-379319332),\n      tl: {\n        hd: Css.margin(/* zero */-789508312),\n        tl: /* [] */0\n      }\n    });\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: container\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(undefined);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, {}), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets.logo,\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.$less$colon$great(subtitle, \"caption-30\")\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.$less$colon$great(footer, \"body-20\")\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities.copy + \" 2020 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason.make, {}), \" \", React.createElement(Icons$Coronate.React.make, {}))))))\n            });\n}\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Pervasives.infinity || num === Pervasives.neg_infinity) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var safeValue = value < minimum ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState(function () {\n        return 2;\n      });\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState(function () {\n        return 5;\n      });\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState(function () {\n        return 4.0;\n      });\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                            style: {\n                              margin: \"0\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"playerCount\"\n                                          }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"playerCount\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0),\n                                            type: \"number\",\n                                            value: String(players),\n                                            onChange: (function (param) {\n                                                return updateInt(setPlayers, 0, param);\n                                              })\n                                          }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"breakTime\"\n                                          }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"breakTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0),\n                                            step: 5.0,\n                                            type: \"number\",\n                                            value: String(breakTime),\n                                            onChange: (function (param) {\n                                                return updateInt(setBreakTime, 0, param);\n                                              })\n                                          }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"totalTime\"\n                                          }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"totalTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0.5),\n                                            step: 0.5,\n                                            type: \"number\",\n                                            value: String(totalTime),\n                                            onChange: (function (param) {\n                                                var minimum = 0.5;\n                                                param.preventDefault();\n                                                var value = Belt_Option.getWithDefault(Belt_Float.fromString(param.currentTarget.value), minimum);\n                                                var safeValue = value < minimum ? minimum : value;\n                                                return Curry._1(setTotalTime, (function (param) {\n                                                              return safeValue;\n                                                            }));\n                                              })\n                                          }), \" hours\"))))), React.createElement(\"p\", {\n                        className: \"title-20\"\n                      }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                            className: \"title-20\"\n                          }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)), \" minutes\"), React.createElement(\"span\", {\n                            className: \"caption-30\"\n                          }, \" = ((\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, totalTime), \"  60  log(\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, players), \")) - \", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, breakTime), \")  2\")))\n            });\n}\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nvar Splash = {\n  make: Pages$Splash\n};\n\nvar TimeCalculator = {\n  make: Pages$TimeCalculator\n};\n\nexport {\n  Splash ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar byeRoundTourney = Data_Id$Coronate.fromString(\"Bye_Round_Tourney____\");\n\nvar byeRoundTourney2 = Data_Id$Coronate.fromString(\"Bye_Round_Tourney_2__\");\n\nvar byeRoundTourney3 = Data_Id$Coronate.fromString(\"Bye_Tourney_3________\");\n\nvar simplePairing = Data_Id$Coronate.fromString(\"Simple_Pairing_______\");\n\nvar pairingWithDraws = Data_Id$Coronate.fromString(\"Pairing_With_Draws___\");\n\nvar scoreTest = Data_Id$Coronate.fromString(\"WY_AzAeDDZeHMbhgUVuum\");\n\nvar crowTRobot = Data_Id$Coronate.fromString(\"Crow_T_Robot_________\");\n\nvar drClaytonForrester = Data_Id$Coronate.fromString(\"Dr_Clayton_Forrester_\");\n\nvar grandyMcMaster = Data_Id$Coronate.fromString(\"Grandy_McMaster______\");\n\nvar gypsy = Data_Id$Coronate.fromString(\"Gypsy________________\");\n\nvar joelRobinson = Data_Id$Coronate.fromString(\"Joel_Robinson________\");\n\nvar newbieMcNewberson = Data_Id$Coronate.fromString(\"Newbie_McNewberson___\");\n\nvar tomServo = Data_Id$Coronate.fromString(\"Tom_Servo____________\");\n\nvar tvsFrank = Data_Id$Coronate.fromString(\"TVs_Frank____________\");\n\nvar cambot = Data_Id$Coronate.fromString(\"Cambot_______________\");\n\nvar jonah = Data_Id$Coronate.fromString(\"Jonah_Heston_________\");\n\nvar kinga = Data_Id$Coronate.fromString(\"Kinga_Forrester______\");\n\nvar larry = Data_Id$Coronate.fromString(\"Larry_Erhardt________\");\n\nvar mike = Data_Id$Coronate.fromString(\"Mike_Nelson__________\");\n\nvar observer = Data_Id$Coronate.fromString(\"Observer_Brain_Guy___\");\n\nvar pearl = Data_Id$Coronate.fromString(\"Pearl_Forrester______\");\n\nvar bobo = Data_Id$Coronate.fromString(\"Professor_Bobo_______\");\n\nvar tvsSon = Data_Id$Coronate.fromString(\"TVs_Son_of_TVs_Frank_\");\n\nvar config_avoidPairs = Curry._1(Data_Config$Coronate.Pair.$$Set.fromArray, Belt_Array.keepMap([\n          [\n            tvsFrank,\n            tvsSon\n          ],\n          [\n            pearl,\n            drClaytonForrester\n          ],\n          [\n            kinga,\n            drClaytonForrester\n          ],\n          [\n            kinga,\n            pearl\n          ]\n        ], (function (param) {\n            return Data_Config$Coronate.Pair.make(param[0], param[1]);\n          })));\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Data_Id$Coronate.$$Map.fromArray([\n      [\n        cambot,\n        {\n          firstName: \"Cambot\",\n          id: cambot,\n          lastName: \"\",\n          matchCount: 25,\n          rating: 1500,\n          type_: /* Person */0\n        }\n      ],\n      [\n        crowTRobot,\n        {\n          firstName: \"Crow T\",\n          id: crowTRobot,\n          lastName: \"Robot\",\n          matchCount: 5,\n          rating: 1700,\n          type_: /* Person */0\n        }\n      ],\n      [\n        drClaytonForrester,\n        {\n          firstName: \"Clayton\",\n          id: drClaytonForrester,\n          lastName: \"Forrester\",\n          matchCount: 40,\n          rating: 2100,\n          type_: /* Person */0\n        }\n      ],\n      [\n        grandyMcMaster,\n        {\n          firstName: \"Grandy\",\n          id: grandyMcMaster,\n          lastName: \"McMaster\",\n          matchCount: 100,\n          rating: 2600,\n          type_: /* Person */0\n        }\n      ],\n      [\n        gypsy,\n        {\n          firstName: \"Gypsy\",\n          id: gypsy,\n          lastName: \"\",\n          matchCount: 15,\n          rating: 1600,\n          type_: /* Person */0\n        }\n      ],\n      [\n        joelRobinson,\n        {\n          firstName: \"Joel\",\n          id: joelRobinson,\n          lastName: \"Robinson\",\n          matchCount: 70,\n          rating: 2400,\n          type_: /* Person */0\n        }\n      ],\n      [\n        jonah,\n        {\n          firstName: \"Jonah\",\n          id: jonah,\n          lastName: \"Heston\",\n          matchCount: 50,\n          rating: 2200,\n          type_: /* Person */0\n        }\n      ],\n      [\n        kinga,\n        {\n          firstName: \"Kinga\",\n          id: kinga,\n          lastName: \"Forrester\",\n          matchCount: 20,\n          rating: 1900,\n          type_: /* Person */0\n        }\n      ],\n      [\n        larry,\n        {\n          firstName: \"Larry\",\n          id: larry,\n          lastName: \"Erhardt\",\n          matchCount: 45,\n          rating: 1300,\n          type_: /* Person */0\n        }\n      ],\n      [\n        mike,\n        {\n          firstName: \"Mike\",\n          id: mike,\n          lastName: \"Nelson\",\n          matchCount: 60,\n          rating: 2300,\n          type_: /* Person */0\n        }\n      ],\n      [\n        newbieMcNewberson,\n        {\n          firstName: \"Newbie\",\n          id: newbieMcNewberson,\n          lastName: \"McNewberson\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ],\n      [\n        observer,\n        {\n          firstName: \"Brain\",\n          id: observer,\n          lastName: \"Guy\",\n          matchCount: 55,\n          rating: 1200,\n          type_: /* Person */0\n        }\n      ],\n      [\n        pearl,\n        {\n          firstName: \"Pearl\",\n          id: pearl,\n          lastName: \"Forrester\",\n          matchCount: 30,\n          rating: 2000,\n          type_: /* Person */0\n        }\n      ],\n      [\n        bobo,\n        {\n          firstName: \"Bobo\",\n          id: bobo,\n          lastName: \"Professor\",\n          matchCount: 75,\n          rating: 1000,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tvsFrank,\n        {\n          firstName: \"TV's\",\n          id: tvsFrank,\n          lastName: \"Frank\",\n          matchCount: 35,\n          rating: 1400,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tvsSon,\n        {\n          firstName: \"TV's\",\n          id: tvsSon,\n          lastName: \"Max\",\n          matchCount: 65,\n          rating: 1100,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tomServo,\n        {\n          firstName: \"Tom\",\n          id: tomServo,\n          lastName: \"Servo\",\n          matchCount: 10,\n          rating: 1800,\n          type_: /* Person */0\n        }\n      ]\n    ]);\n\nvar tournaments = Data_Id$Coronate.$$Map.fromArray([\n      [\n        byeRoundTourney,\n        {\n          id: byeRoundTourney,\n          name: \"Bye Round Tourney\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: {\n            hd: joelRobinson,\n            tl: {\n              hd: crowTRobot,\n              tl: {\n                hd: tomServo,\n                tl: {\n                  hd: gypsy,\n                  tl: {\n                    hd: cambot,\n                    tl: {\n                      hd: newbieMcNewberson,\n                      tl: {\n                        hd: grandyMcMaster,\n                        tl: /* [] */0\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.empty\n        }\n      ],\n      [\n        byeRoundTourney2,\n        {\n          id: byeRoundTourney2,\n          name: \"Bye Round Tourney 2\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: {\n            hd: joelRobinson,\n            tl: {\n              hd: crowTRobot,\n              tl: {\n                hd: tomServo,\n                tl: {\n                  hd: gypsy,\n                  tl: {\n                    hd: cambot,\n                    tl: {\n                      hd: newbieMcNewberson,\n                      tl: {\n                        hd: grandyMcMaster,\n                        tl: /* [] */0\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"xTXxZHB0sTt__xIAg45fm\"),\n                        whiteId: grandyMcMaster,\n                        blackId: crowTRobot,\n                        whiteNewRating: 2592,\n                        blackNewRating: 1833,\n                        whiteOrigRating: 2600,\n                        blackOrigRating: 1700,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zQcf9RWXK7iuU6ibPzrhU\"),\n                        whiteId: joelRobinson,\n                        blackId: gypsy,\n                        whiteNewRating: 2400,\n                        blackNewRating: 1600,\n                        whiteOrigRating: 2400,\n                        blackOrigRating: 1600,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Vw_X0c7O4vshrYEO-oSzR\"),\n                        whiteId: tomServo,\n                        blackId: cambot,\n                        whiteNewRating: 1738,\n                        blackNewRating: 1526,\n                        whiteOrigRating: 1800,\n                        blackOrigRating: 1500,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"iSDujOVkOTrcLv_KJmd7s\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 800,\n                        blackNewRating: 0,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])])\n        }\n      ],\n      [\n        byeRoundTourney3,\n        {\n          id: byeRoundTourney3,\n          name: \"Bye Tourney 3\",\n          date: new Date(\"2019-06-17T23:00:29.603Z\"),\n          playerIds: {\n            hd: kinga,\n            tl: {\n              hd: newbieMcNewberson,\n              tl: {\n                hd: jonah,\n                tl: /* [] */0\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"KkFr4B7FDqiHRWmACgApf\"),\n                        whiteId: kinga,\n                        blackId: jonah,\n                        whiteNewRating: 1894,\n                        blackNewRating: 2202,\n                        whiteOrigRating: 1900,\n                        blackOrigRating: 2200,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"R_BTsGSziwgyvFZM3yc5u\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 793,\n                        blackNewRating: 0,\n                        whiteOrigRating: 793,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"rcyCfpZU6olav5kdVac44\"),\n                        whiteId: jonah,\n                        blackId: newbieMcNewberson,\n                        whiteNewRating: 2187,\n                        blackNewRating: 953,\n                        whiteOrigRating: 2202,\n                        blackOrigRating: 793,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Nc0Om5fEuwSuzFls9wmME\"),\n                        whiteId: kinga,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1894,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1894,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"uawjKwbiA38RP8pA--tlw\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: kinga,\n                        whiteNewRating: 952,\n                        blackNewRating: 1894,\n                        whiteOrigRating: 953,\n                        blackOrigRating: 1894,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"-kwIDxjPhWVRbqxtRZ26_\"),\n                        whiteId: jonah,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 2187,\n                        blackNewRating: 0,\n                        whiteOrigRating: 2187,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      [\n        simplePairing,\n        {\n          id: simplePairing,\n          name: \"Simple Pairing\",\n          date: new Date(\"2019-06-14T11:40:34.407Z\"),\n          playerIds: {\n            hd: newbieMcNewberson,\n            tl: {\n              hd: grandyMcMaster,\n              tl: {\n                hd: joelRobinson,\n                tl: {\n                  hd: drClaytonForrester,\n                  tl: {\n                    hd: tvsFrank,\n                    tl: {\n                      hd: crowTRobot,\n                      tl: {\n                        hd: tomServo,\n                        tl: {\n                          hd: gypsy,\n                          tl: /* [] */0\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"KdLva8hWqYHdaU9KnFTe2\"),\n                        whiteId: crowTRobot,\n                        blackId: grandyMcMaster,\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"WDPFsNF1yADs4qofFwCY0\"),\n                        whiteId: gypsy,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"R5sXfTOJw5vrJ4IytAjSi\"),\n                        whiteId: tvsFrank,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"2YOsn_JJFnaUMhRBAc9KY\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: tomServo,\n                        whiteNewRating: 1597,\n                        blackNewRating: 1728,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ],\n      [\n        pairingWithDraws,\n        {\n          id: pairingWithDraws,\n          name: \"Pairing with draws\",\n          date: new Date(\"2019-06-14T14:18:06.686Z\"),\n          playerIds: {\n            hd: newbieMcNewberson,\n            tl: {\n              hd: grandyMcMaster,\n              tl: {\n                hd: joelRobinson,\n                tl: {\n                  hd: drClaytonForrester,\n                  tl: {\n                    hd: tvsFrank,\n                    tl: {\n                      hd: crowTRobot,\n                      tl: {\n                        hd: tomServo,\n                        tl: {\n                          hd: gypsy,\n                          tl: /* [] */0\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"ryWXwvFGwBKQqGBbMYeps\"),\n                        whiteId: crowTRobot,\n                        blackId: grandyMcMaster,\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"2KKVbi0AfNxfJAJobTgP5\"),\n                        whiteId: gypsy,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zdlBHBAqgV2qabn2oBa2a\"),\n                        whiteId: tvsFrank,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"8fGxU3tLpd8GibuSQr9-Y\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: tomServo,\n                        whiteNewRating: 1197,\n                        blackNewRating: 1764,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* Draw */2\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ],\n      [\n        scoreTest,\n        {\n          id: scoreTest,\n          name: \"Score testing\",\n          date: new Date(\"2020-06-28T12:42:46.347Z\"),\n          playerIds: {\n            hd: joelRobinson,\n            tl: {\n              hd: mike,\n              tl: {\n                hd: bobo,\n                tl: {\n                  hd: tomServo,\n                  tl: {\n                    hd: tvsSon,\n                    tl: {\n                      hd: tvsFrank,\n                      tl: {\n                        hd: cambot,\n                        tl: {\n                          hd: drClaytonForrester,\n                          tl: {\n                            hd: crowTRobot,\n                            tl: {\n                              hd: pearl,\n                              tl: {\n                                hd: observer,\n                                tl: {\n                                  hd: kinga,\n                                  tl: {\n                                    hd: jonah,\n                                    tl: /* [] */0\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          scoreAdjustments: Data_Id$Coronate.$$Map.make(undefined),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"IPRs48UZ3ubxbyzs9-Aj8\"),\n                        whiteId: joelRobinson,\n                        blackId: tomServo,\n                        whiteNewRating: 2400,\n                        blackNewRating: 1798,\n                        whiteOrigRating: 2400,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"tcrk4_Eze6YB1jfgFxMg2\"),\n                        whiteId: crowTRobot,\n                        blackId: mike,\n                        whiteNewRating: 1695,\n                        blackNewRating: 2300,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2300,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"g30WVQazEVlyFZoB_iKNP\"),\n                        whiteId: cambot,\n                        blackId: jonah,\n                        whiteNewRating: 1531,\n                        blackNewRating: 2184,\n                        whiteOrigRating: 1500,\n                        blackOrigRating: 2200,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"z6z2X8Al9iNDmx2rc6iSd\"),\n                        whiteId: drClaytonForrester,\n                        blackId: tvsFrank,\n                        whiteNewRating: 2080,\n                        blackNewRating: 1422,\n                        whiteOrigRating: 2100,\n                        blackOrigRating: 1400,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"_wRcKBpFnPspJeiglbv42\"),\n                        whiteId: observer,\n                        blackId: pearl,\n                        whiteNewRating: 1214,\n                        blackNewRating: 1974,\n                        whiteOrigRating: 1200,\n                        blackOrigRating: 2000,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"g35wmUfw3--3dZvF4Dxai\"),\n                        whiteId: kinga,\n                        blackId: tvsSon,\n                        whiteNewRating: 1860,\n                        blackNewRating: 1112,\n                        whiteOrigRating: 1900,\n                        blackOrigRating: 1100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"ZFwPgPSrdR0dsiROQpZmq\"),\n                        whiteId: bobo,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1000,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1000,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"gvr8PMNdqVwvMHpQZhxKW\"),\n                        whiteId: tvsFrank,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1444,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1422,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"n02yWL6MNgkS19IREj_Df\"),\n                        whiteId: mike,\n                        blackId: observer,\n                        whiteNewRating: 2287,\n                        blackNewRating: 1228,\n                        whiteOrigRating: 2300,\n                        blackOrigRating: 1214,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Luic7R_pGjZmSYxN1uNmc\"),\n                        whiteId: tvsSon,\n                        blackId: cambot,\n                        whiteNewRating: 1123,\n                        blackNewRating: 1503,\n                        whiteOrigRating: 1112,\n                        blackOrigRating: 1531,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Ew_xdm0tKHE1423CYoApT\"),\n                        whiteId: pearl,\n                        blackId: bobo,\n                        whiteNewRating: 1949,\n                        blackNewRating: 1010,\n                        whiteOrigRating: 1974,\n                        blackOrigRating: 1000,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"steThF-oNT-fBZe4AUHjc\"),\n                        whiteId: jonah,\n                        blackId: kinga,\n                        whiteNewRating: 2186,\n                        blackNewRating: 1855,\n                        whiteOrigRating: 2184,\n                        blackOrigRating: 1860,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"3QPqo0tMvKVzgaQOFjezL\"),\n                        whiteId: tomServo,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1786,\n                        blackNewRating: 2083,\n                        whiteOrigRating: 1798,\n                        blackOrigRating: 2080,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"BsbnpljVf9OagbfT8sUhJ\"),\n                        whiteId: crowTRobot,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1695,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1695,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"lqRRkcPXADxNcZoYNUs4O\"),\n                        whiteId: bobo,\n                        blackId: tvsFrank,\n                        whiteNewRating: 1019,\n                        blackNewRating: 1425,\n                        whiteOrigRating: 1010,\n                        blackOrigRating: 1444,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"tFw25nJzFa1DNC3kEBlvL\"),\n                        whiteId: observer,\n                        blackId: tvsSon,\n                        whiteNewRating: 1219,\n                        blackNewRating: 1130,\n                        whiteOrigRating: 1228,\n                        blackOrigRating: 1123,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"4s3IVU-DxR2itlDt6Pbry\"),\n                        whiteId: drClaytonForrester,\n                        blackId: jonah,\n                        whiteNewRating: 2095,\n                        blackNewRating: 2176,\n                        whiteOrigRating: 2083,\n                        blackOrigRating: 2186,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"-J00pFQGNydkCVJ9IY57T\"),\n                        whiteId: cambot,\n                        blackId: mike,\n                        whiteNewRating: 1503,\n                        blackNewRating: 2287,\n                        whiteOrigRating: 1503,\n                        blackOrigRating: 2287,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"aN_Nzb1GFvoIT1Dlu3bn9\"),\n                        whiteId: joelRobinson,\n                        blackId: pearl,\n                        whiteNewRating: 2390,\n                        blackNewRating: 1947,\n                        whiteOrigRating: 2389,\n                        blackOrigRating: 1949,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"taKyrpJg9XpACuWq16bum\"),\n                        whiteId: kinga,\n                        blackId: crowTRobot,\n                        whiteNewRating: 1829,\n                        blackNewRating: 1790,\n                        whiteOrigRating: 1855,\n                        blackOrigRating: 1695,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Rh_UVxVKowtjSpeH-4Xwc\"),\n                        whiteId: tomServo,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1786,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1786,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([])\n              ])\n        }\n      ]\n    ]);\n\nexport {\n  byeRoundTourney ,\n  byeRoundTourney2 ,\n  byeRoundTourney3 ,\n  simplePairing ,\n  pairingWithDraws ,\n  scoreTest ,\n  crowTRobot ,\n  drClaytonForrester ,\n  grandyMcMaster ,\n  gypsy ,\n  joelRobinson ,\n  newbieMcNewberson ,\n  tomServo ,\n  tvsFrank ,\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* byeRoundTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return Utils$Coronate.$$String.concat({\n              hd: String(date.getFullYear()),\n              tl: {\n                hd: Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n                tl: {\n                  hd: Numeral.default(date.getDate()).format(\"00\"),\n                  tl: /* [] */0\n                }\n              }\n            }, \"-\");\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return {\n          config: Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          players: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict)),\n          tournaments: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict$1))\n        };\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_Map.map(data.players, Data_Player$Coronate.encode);\n  var map$1 = Belt_Map.map(data.tournaments, Data_Tournament$Coronate.encode);\n  return Json_encode.object_({\n              hd: [\n                \"config\",\n                Data_Config$Coronate.encode(data.config)\n              ],\n              tl: {\n                hd: [\n                  \"players\",\n                  Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map))\n                ],\n                tl: {\n                  hd: [\n                    \"tournaments\",\n                    Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map$1))\n                  ],\n                  tl: /* [] */0\n                }\n              }\n            });\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nfunction PageOptions(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var tourneysDispatch = match.dispatch;\n  var tournaments = match.items;\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match$1.dispatch;\n  var players = match$1.items;\n  var match$2 = React.useState(function () {\n        return \"\";\n      });\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */5,\n                _0: \"Options\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */5,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: config,\n                  players: players,\n                  tournaments: tournaments\n                };\n        }), [\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          \n        }), [\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, {\n          TAG: /* SetAll */2,\n          _0: tournaments\n        });\n    Curry._1(configDispatch, {\n          TAG: /* SetState */5,\n          _0: config\n        });\n    Curry._1(playersDispatch, {\n          TAG: /* SetAll */2,\n          _0: players\n        });\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var rawJson = Json.parse(text);\n    if (rawJson === undefined) {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n    var val;\n    try {\n      val = decodeOptions(Caml_option.valFromOption(rawJson));\n    }\n    catch (raw_exn){\n      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n      if (exn.RE_EXN_ID === Json_decode.DecodeError) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      throw exn;\n    }\n    return loadData(val.tournaments, val.players, val.config);\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var rawJson = Json.parse(data);\n      if (rawJson === undefined) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(rawJson));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn.RE_EXN_ID === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        }\n        throw exn;\n      }\n      return loadData(val.tournaments, val.players, val.config);\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    \n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$4 = config.byeValue;\n  var match$5 = config.byeValue;\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: match$4 ? false : true,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, {\n                                                TAG: /* SetByeValue */4,\n                                                _0: /* Full */0\n                                              });\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \" \", React.createElement(\"input\", {\n                                checked: match$5 ? true : false,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, {\n                                                TAG: /* SetByeValue */4,\n                                                _0: /* Half */1\n                                              });\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config.lastBackup\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(undefined) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, {\n                                            TAG: /* SetLastBackup */6,\n                                            _0: new Date()\n                                          });\n                              })\n                          }, React.createElement(ReactFeather.Download, {}), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", process.env.NODE_ENV !== \"production\" ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction getExpected(a, b) {\n  return 1 / (1 + Math.pow(10, (b - a | 0) / 400));\n}\n\nfunction updateRating(rating, expected, actual, current) {\n  return Math.round(current + rating * (actual - expected)) | 0;\n}\n\nfunction getKFactor(matchCount) {\n  var ne = matchCount > 0 ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  if (rating > 100) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(whiteRating, blackRating, whiteMatchCount, blackMatchCount, result) {\n  var whiteElo = getKFactor(whiteMatchCount);\n  var blackElo = getKFactor(blackMatchCount);\n  var whiteExpected = getExpected(whiteRating, blackRating);\n  var blackExpected = getExpected(blackRating, whiteRating);\n  var whiteResult = Data_Scoring$Coronate.Score.toFloat(Data_Match$Coronate.Result.toScoreWhite(result));\n  var blackResult = Data_Scoring$Coronate.Score.toFloat(Data_Match$Coronate.Result.toScoreBlack(result));\n  return [\n          keepAboveFloor(updateRating(whiteElo, whiteExpected, whiteResult, whiteRating)),\n          keepAboveFloor(updateRating(blackElo, blackExpected, blackResult, blackRating))\n        ];\n}\n\nvar EloRank = {\n  getKFactor: getKFactor\n};\n\nexport {\n  EloRank ,\n  calcNewRatings ,\n  \n}\n/* Data_Match-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Formality from \"re-formality/src/Formality.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Ratings$Coronate from \"./Data/Data_Ratings.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Formality__ReactUpdate from \"re-formality/src/Formality__ReactUpdate.bs.js\";\n\nvar sortName = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.firstName;\n    })\n};\n\nvar sortRating = {\n  TAG: /* GetInt */1,\n  _0: (function (x) {\n      return x.rating;\n    })\n};\n\nvar sortMatchCount = {\n  TAG: /* GetInt */1,\n  _0: (function (x) {\n      return x.matchCount;\n    })\n};\n\nvar validators_matchCount = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.matchCount);\n      if (rating !== undefined) {\n        return {\n                TAG: /* Ok */0,\n                _0: rating\n              };\n      } else {\n        return {\n                TAG: /* Error */1,\n                _0: \"Match count must be a number\"\n              };\n      }\n    })\n};\n\nvar validators_rating = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.rating);\n      if (rating !== undefined) {\n        return {\n                TAG: /* Ok */0,\n                _0: rating\n              };\n      } else {\n        return {\n                TAG: /* Error */1,\n                _0: \"Rating must be a number\"\n              };\n      }\n    })\n};\n\nvar validators_lastName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var lastName = param.lastName;\n      if (lastName === \"\") {\n        return {\n                TAG: /* Error */1,\n                _0: \"Last name is required\"\n              };\n      } else {\n        return {\n                TAG: /* Ok */0,\n                _0: lastName\n              };\n      }\n    })\n};\n\nvar validators_firstName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var firstName = param.firstName;\n      if (firstName === \"\") {\n        return {\n                TAG: /* Error */1,\n                _0: \"First name is required\"\n              };\n      } else {\n        return {\n                TAG: /* Ok */0,\n                _0: firstName\n              };\n      }\n    })\n};\n\nvar validators = {\n  matchCount: validators_matchCount,\n  rating: validators_rating,\n  lastName: validators_lastName,\n  firstName: validators_firstName\n};\n\nfunction initialState(input) {\n  return {\n          input: input,\n          fieldsStatuses: {\n            matchCount: /* Pristine */0,\n            rating: /* Pristine */0,\n            lastName: /* Pristine */0,\n            firstName: /* Pristine */0\n          },\n          collectionsStatuses: undefined,\n          formStatus: /* Editing */0,\n          submissionStatus: /* NeverSubmitted */0\n        };\n}\n\nfunction validateForm(input, validators, fieldsStatuses) {\n  var match = fieldsStatuses.matchCount;\n  var match_0 = match ? match._0 : Curry._1(validators.matchCount.validate, input);\n  var match$1 = fieldsStatuses.rating;\n  var match_0$1 = match$1 ? match$1._0 : Curry._1(validators.rating.validate, input);\n  var match$2 = fieldsStatuses.lastName;\n  var match_0$2 = match$2 ? match$2._0 : Curry._1(validators.lastName.validate, input);\n  var match$3 = fieldsStatuses.firstName;\n  var match_0$3 = match$3 ? match$3._0 : Curry._1(validators.firstName.validate, input);\n  var matchCountResult = match_0;\n  var matchCountResult$1;\n  if (matchCountResult.TAG) {\n    matchCountResult$1 = matchCountResult;\n  } else {\n    var ratingResult = match_0$1;\n    if (ratingResult.TAG) {\n      matchCountResult$1 = matchCountResult;\n    } else {\n      var lastNameResult = match_0$2;\n      if (lastNameResult.TAG) {\n        matchCountResult$1 = matchCountResult;\n      } else {\n        var firstNameResult = match_0$3;\n        if (!firstNameResult.TAG) {\n          return {\n                  TAG: /* Valid */0,\n                  output: {\n                    firstName: firstNameResult._0,\n                    lastName: lastNameResult._0,\n                    rating: ratingResult._0,\n                    matchCount: matchCountResult._0\n                  },\n                  fieldsStatuses: {\n                    matchCount: /* Dirty */{\n                      _0: matchCountResult,\n                      _1: /* Shown */0\n                    },\n                    rating: /* Dirty */{\n                      _0: ratingResult,\n                      _1: /* Shown */0\n                    },\n                    lastName: /* Dirty */{\n                      _0: lastNameResult,\n                      _1: /* Shown */0\n                    },\n                    firstName: /* Dirty */{\n                      _0: firstNameResult,\n                      _1: /* Shown */0\n                    }\n                  },\n                  collectionsStatuses: undefined\n                };\n        }\n        matchCountResult$1 = matchCountResult;\n      }\n    }\n  }\n  return {\n          TAG: /* Invalid */1,\n          fieldsStatuses: {\n            matchCount: /* Dirty */{\n              _0: matchCountResult$1,\n              _1: /* Shown */0\n            },\n            rating: /* Dirty */{\n              _0: match_0$1,\n              _1: /* Shown */0\n            },\n            lastName: /* Dirty */{\n              _0: match_0$2,\n              _1: /* Shown */0\n            },\n            firstName: /* Dirty */{\n              _0: match_0$3,\n              _1: /* Shown */0\n            }\n          },\n          collectionsStatuses: undefined\n        };\n}\n\nfunction useForm(initialInput, onSubmit) {\n  var memoizedInitialState = React.useMemo((function () {\n          return initialState(initialInput);\n        }), [initialInput]);\n  var match = Formality__ReactUpdate.useReducer(memoizedInitialState, (function (state, action) {\n          if (typeof action === \"number\") {\n            switch (action) {\n              case /* BlurMatchCountField */0 :\n                  var result = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.matchCount, validators_matchCount, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: status,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurRatingField */1 :\n                  var result$1 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.rating, validators_rating, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: status,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$1 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$1,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurLastNameField */2 :\n                  var result$2 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.lastName, validators_lastName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: status,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$2,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurFirstNameField */3 :\n                  var result$3 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.firstName, validators_firstName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: status\n                                };\n                        }));\n                  if (result$3 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$3,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* Submit */4 :\n                  var match = state.formStatus;\n                  if (typeof match !== \"number\" && !match.TAG) {\n                    return /* NoUpdate */0;\n                  }\n                  var match$1 = validateForm(state.input, validators, state.fieldsStatuses);\n                  if (match$1.TAG) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: match$1.fieldsStatuses,\n                              collectionsStatuses: match$1.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: /* AttemptedToSubmit */1\n                            }\n                          };\n                  }\n                  var output = match$1.output;\n                  var error = state.formStatus;\n                  var tmp;\n                  tmp = typeof error === \"number\" || error.TAG !== /* SubmissionFailed */1 ? undefined : Caml_option.some(error._0);\n                  return {\n                          TAG: /* UpdateWithSideEffects */1,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: match$1.fieldsStatuses,\n                            collectionsStatuses: match$1.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* Submitting */0,\n                              _0: tmp\n                            },\n                            submissionStatus: /* AttemptedToSubmit */1\n                          },\n                          _1: (function (param) {\n                              var dispatch = param.dispatch;\n                              return Curry._2(onSubmit, output, {\n                                          notifyOnSuccess: (function (input) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmittedStatus */4,\n                                                          _0: input\n                                                        });\n                                            }),\n                                          notifyOnFailure: (function (error) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmissionFailedStatus */5,\n                                                          _0: error\n                                                        });\n                                            }),\n                                          reset: (function (param) {\n                                              return Curry._1(dispatch, /* Reset */7);\n                                            }),\n                                          dismissSubmissionResult: (function (param) {\n                                              return Curry._1(dispatch, /* DismissSubmissionResult */6);\n                                            })\n                                        });\n                            })\n                        };\n                  break;\n              case /* DismissSubmissionError */5 :\n                  var match$2 = state.formStatus;\n                  if (typeof match$2 === \"number\" || match$2.TAG !== /* SubmissionFailed */1) {\n                    return /* NoUpdate */0;\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* DismissSubmissionResult */6 :\n                  var match$3 = state.formStatus;\n                  if (typeof match$3 === \"number\") {\n                    if (match$3 === /* Editing */0) {\n                      return /* NoUpdate */0;\n                    }\n                    \n                  } else if (!match$3.TAG) {\n                    return /* NoUpdate */0;\n                  }\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: /* Editing */0,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* Reset */7 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: initialState(initialInput)\n                        };\n              \n            }\n          } else {\n            switch (action.TAG | 0) {\n              case /* UpdateMatchCountField */0 :\n                  var nextInput = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput, state.fieldsStatuses.matchCount, state.submissionStatus, validators_matchCount, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: status,\n                                            rating: init.rating,\n                                            lastName: init.lastName,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateRatingField */1 :\n                  var nextInput$1 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$1,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$1, state.fieldsStatuses.rating, state.submissionStatus, validators_rating, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: status,\n                                            lastName: init.lastName,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateLastNameField */2 :\n                  var nextInput$2 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$2,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$2, state.fieldsStatuses.lastName, state.submissionStatus, validators_lastName, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: init.rating,\n                                            lastName: status,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateFirstNameField */3 :\n                  var nextInput$3 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$3,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$3, state.fieldsStatuses.firstName, state.submissionStatus, validators_firstName, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: init.rating,\n                                            lastName: init.lastName,\n                                            firstName: status\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* SetSubmittedStatus */4 :\n                  var input = action._0;\n                  if (input !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: input,\n                              fieldsStatuses: {\n                                matchCount: /* Pristine */0,\n                                rating: /* Pristine */0,\n                                lastName: /* Pristine */0,\n                                firstName: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: {\n                                matchCount: /* Pristine */0,\n                                rating: /* Pristine */0,\n                                lastName: /* Pristine */0,\n                                firstName: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* SetSubmissionFailedStatus */5 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* SubmissionFailed */1,\n                              _0: action._0\n                            },\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* MapSubmissionError */6 :\n                  var map = action._0;\n                  var error$1 = state.formStatus;\n                  if (typeof error$1 === \"number\") {\n                    return /* NoUpdate */0;\n                  }\n                  if (error$1.TAG) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* SubmissionFailed */1,\n                                _0: Curry._1(map, error$1._0)\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n                  var error$2 = error$1._0;\n                  if (error$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* Submitting */0,\n                                _0: Caml_option.some(Curry._1(map, Caml_option.valFromOption(error$2)))\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              \n            }\n          }\n        }));\n  var dispatch = match[1];\n  var state = match[0];\n  var match$1 = state.formStatus;\n  var tmp;\n  tmp = typeof match$1 === \"number\" || match$1.TAG ? false : true;\n  return {\n          updateMatchCount: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateMatchCountField */0,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateRating: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateRatingField */1,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateLastName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateLastNameField */2,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateFirstName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateFirstNameField */3,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          blurMatchCount: (function (param) {\n              return Curry._1(dispatch, /* BlurMatchCountField */0);\n            }),\n          blurRating: (function (param) {\n              return Curry._1(dispatch, /* BlurRatingField */1);\n            }),\n          blurLastName: (function (param) {\n              return Curry._1(dispatch, /* BlurLastNameField */2);\n            }),\n          blurFirstName: (function (param) {\n              return Curry._1(dispatch, /* BlurFirstNameField */3);\n            }),\n          matchCountResult: Formality.exposeFieldResult(state.fieldsStatuses.matchCount),\n          ratingResult: Formality.exposeFieldResult(state.fieldsStatuses.rating),\n          lastNameResult: Formality.exposeFieldResult(state.fieldsStatuses.lastName),\n          firstNameResult: Formality.exposeFieldResult(state.fieldsStatuses.firstName),\n          input: state.input,\n          status: state.formStatus,\n          dirty: (function (param) {\n              var match = state.fieldsStatuses;\n              if (match.matchCount || match.rating || match.lastName || match.firstName) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          valid: (function (param) {\n              var match = validateForm(state.input, validators, state.fieldsStatuses);\n              if (match.TAG) {\n                return false;\n              } else {\n                return true;\n              }\n            }),\n          submitting: tmp,\n          submit: (function (param) {\n              return Curry._1(dispatch, /* Submit */4);\n            }),\n          dismissSubmissionError: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionError */5);\n            }),\n          dismissSubmissionResult: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionResult */6);\n            }),\n          mapSubmissionError: (function (map) {\n              return Curry._1(dispatch, {\n                          TAG: /* MapSubmissionError */6,\n                          _0: map\n                        });\n            }),\n          reset: (function (param) {\n              return Curry._1(dispatch, /* Reset */7);\n            })\n        };\n}\n\nfunction errorNotification(param) {\n  if (param !== undefined && param.TAG) {\n    return React.createElement(Utils$Coronate.$$Notification.make, {\n                children: param._0,\n                kind: /* Error */2\n              });\n  } else {\n    return null;\n  }\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var form = useForm({\n        firstName: \"\",\n        lastName: \"\",\n        rating: \"1200\",\n        matchCount: \"0\"\n      }, (function (param, cb) {\n          var id = Data_Id$Coronate.random(undefined);\n          Curry._1(dispatch, {\n                TAG: /* Set */1,\n                _0: id,\n                _1: {\n                  firstName: param.firstName,\n                  id: id,\n                  lastName: param.lastName,\n                  matchCount: param.matchCount,\n                  rating: param.rating,\n                  type_: /* Person */0\n                }\n              });\n          if (addPlayerCallback !== undefined) {\n            Curry._1(addPlayerCallback, id);\n          }\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  return React.createElement(\"form\", {\n              onSubmit: (function ($$event) {\n                  $$event.preventDefault();\n                  return Curry._1(form.submit, undefined);\n                })\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"form-newplayer-rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          id: \"form-newplayer-rating\",\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, \"Add\"))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var dialog = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */5,\n                _0: \"Players\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */5,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setTrue, undefined);\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, {}), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, Belt_Array.map(sorted.table, (function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(p.id),\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Router$Coronate.HashLink.make, {\n                                                children: Utils$Coronate.$$String.concat({\n                                                      hd: p.firstName,\n                                                      tl: {\n                                                        hd: p.lastName,\n                                                        tl: /* [] */0\n                                                      }\n                                                    }, \" \"),\n                                                to_: {\n                                                  TAG: /* Player */1,\n                                                  _0: p.id\n                                                }\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.rating)), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.matchCount)), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var id = p.id;\n                                                    $$event.preventDefault();\n                                                    var playerOpt = Belt_Map.get(players, id);\n                                                    if (playerOpt === undefined) {\n                                                      return ;\n                                                    }\n                                                    var message = Utils$Coronate.$$String.concat({\n                                                          hd: \"Are you sure you want to delete \",\n                                                          tl: {\n                                                            hd: playerOpt.firstName,\n                                                            tl: {\n                                                              hd: \" \",\n                                                              tl: {\n                                                                hd: playerOpt.lastName,\n                                                                tl: {\n                                                                  hd: \"?\",\n                                                                  tl: /* [] */0\n                                                                }\n                                                              }\n                                                            }\n                                                          }\n                                                        }, \"\");\n                                                    if (window.confirm(message)) {\n                                                      Curry._1(playersDispatch, {\n                                                            TAG: /* Del */0,\n                                                            _0: id\n                                                          });\n                                                      return Curry._1(configDispatch, {\n                                                                  TAG: /* DelAvoidSingle */2,\n                                                                  _0: id\n                                                                });\n                                                    }\n                                                    \n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, {}), React.createElement(VisuallyHidden.default, {\n                                                    children: Utils$Coronate.$$String.concat({\n                                                          hd: \"Delete\",\n                                                          tl: {\n                                                            hd: p.firstName,\n                                                            tl: {\n                                                              hd: p.lastName,\n                                                              tl: /* [] */0\n                                                            }\n                                                          }\n                                                        }, \" \")\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: (function (param) {\n                      return Curry._1(dialog.setFalse, undefined);\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setFalse, undefined);\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var type_ = player.type_;\n  var initialMatchCount = player.matchCount;\n  var playerId = player.id;\n  var form = useForm({\n        firstName: player.firstName,\n        lastName: player.lastName,\n        rating: String(player.rating),\n        matchCount: String(initialMatchCount)\n      }, (function (param, cb) {\n          Curry._1(playersDispatch, {\n                TAG: /* Set */1,\n                _0: playerId,\n                _1: {\n                  firstName: param.firstName,\n                  id: playerId,\n                  lastName: param.lastName,\n                  matchCount: param.matchCount,\n                  rating: param.rating,\n                  type_: type_\n                }\n              });\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  var playerName = Utils$Coronate.$$String.concat({\n        hd: form.input.firstName,\n        tl: {\n          hd: form.input.lastName,\n          tl: /* [] */0\n        }\n      }, \" \");\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */5,\n                _0: \"Profile for \" + playerName\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */5,\n                                _0: \"\"\n                              });\n                  });\n        }), [\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Curry._1(Data_Config$Coronate.Pair.$$Set.toMap, config.avoidPairs);\n  var x = Belt_Map.get(avoidMap, playerId);\n  var singAvoidList = x !== undefined ? x : /* [] */0;\n  var unavoided = Belt_List.keep(Belt_List.fromArray(Belt_Map.keysToArray(players)), (function (id) {\n          if (Belt_List.has(singAvoidList, id, Data_Id$Coronate.eq)) {\n            return false;\n          } else {\n            return !Data_Id$Coronate.eq(id, playerId);\n          }\n        }));\n  var match = React.useState(function () {\n        if (unavoided) {\n          return Caml_option.some(unavoided.hd);\n        }\n        \n      });\n  var setSelectedAvoider = match[1];\n  var selectedAvoider = match[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider === undefined) {\n      return ;\n    }\n    var selectedAvoider$1 = Caml_option.valFromOption(selectedAvoider);\n    var pair = Data_Config$Coronate.Pair.make(playerId, selectedAvoider$1);\n    if (pair === undefined) {\n      return ;\n    }\n    Curry._1(configDispatch, {\n          TAG: /* AddAvoidPair */0,\n          _0: Caml_option.valFromOption(pair)\n        });\n    var newSelected;\n    if (unavoided) {\n      var match = unavoided.tl;\n      var id = unavoided.hd;\n      newSelected = Data_Id$Coronate.eq(id, selectedAvoider$1) ? (\n          match ? Caml_option.some(match.hd) : undefined\n        ) : Caml_option.some(id);\n    } else {\n      newSelected = undefined;\n    }\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return newSelected;\n                }));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var match$1 = form.matchCountResult;\n  var tmp;\n  tmp = match$1 !== undefined ? (\n      match$1.TAG ? \"\" : String(Data_Ratings$Coronate.EloRank.getKFactor(match$1._0))\n    ) : String(Data_Ratings$Coronate.EloRank.getKFactor(initialMatchCount));\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Router$Coronate.HashLink.make, {\n                  children: null,\n                  to_: /* PlayerList */2,\n                  onClick: (function ($$event) {\n                      if (Curry._1(form.dirty, undefined) && !window.confirm(\"Discard changes?\")) {\n                        $$event.preventDefault();\n                        return ;\n                      }\n                      \n                    })\n                }, React.createElement(ReactFeather.ChevronLeft, {}), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onSubmit: (function ($$event) {\n                      $$event.preventDefault();\n                      return Curry._1(form.submit, undefined);\n                    })\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          name: \"matchCount\",\n                          type: \"number\",\n                          value: form.input.matchCount,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurMatchCount, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateMatchCount, (function (input, matchCount) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.matchCountResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateRating, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: tmp\n                        })), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, Curry._1(form.dirty, undefined) ? \"Save\" : \"Saved\"))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Belt_Array.map(Belt_Array.reverse(Belt_List.toArray(singAvoidList)), (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: Data_Id$Coronate.toString(pId)\n                                  }, Data_Player$Coronate.getMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getMaybe(players, pId).lastName, React.createElement(\"button\", {\n                                        \"aria-label\": Utils$Coronate.$$String.concat({\n                                              hd: \"Remove\",\n                                              tl: {\n                                                hd: Data_Player$Coronate.getMaybe(players, pId).firstName,\n                                                tl: {\n                                                  hd: Data_Player$Coronate.getMaybe(players, pId).lastName,\n                                                  tl: {\n                                                    hd: \"from avoid list.\",\n                                                    tl: /* [] */0\n                                                  }\n                                                }\n                                              }\n                                            }, \" \"),\n                                        className: \"danger button-ghost\",\n                                        title: Utils$Coronate.$$String.concat({\n                                              hd: \"Remove\",\n                                              tl: {\n                                                hd: Data_Player$Coronate.getMaybe(players, pId).firstName,\n                                                tl: {\n                                                  hd: Data_Player$Coronate.getMaybe(players, pId).lastName,\n                                                  tl: {\n                                                    hd: \"from avoid list.\",\n                                                    tl: /* [] */0\n                                                  }\n                                                }\n                                              }\n                                            }, \" \"),\n                                        onClick: (function (param) {\n                                            var pair = Data_Config$Coronate.Pair.make(playerId, pId);\n                                            if (pair !== undefined) {\n                                              return Curry._1(configDispatch, {\n                                                          TAG: /* DelAvoidPair */1,\n                                                          _0: Caml_option.valFromOption(pair)\n                                                        });\n                                            }\n                                            \n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, {})));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: Data_Id$Coronate.toString(Caml_option.valFromOption(selectedAvoider)),\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Belt_Array.map(Belt_List.toArray(unavoided), (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: Data_Id$Coronate.toString(pId),\n                                              value: Data_Id$Coronate.toString(pId)\n                                            }, Data_Player$Coronate.getMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getMaybe(players, pId).lastName);\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nvar Profile = {\n  make: PagePlayers$Profile\n};\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match.dispatch;\n  var players = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, {\n                TAG: /* SetTable */2,\n                _0: Belt_Map.valuesToArray(players)\n              });\n          \n        }), [\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var player = Belt_Map.get(players, Caml_option.valFromOption(id));\n    if (player !== undefined) {\n      var tmp$1 = {\n        player: player,\n        players: players,\n        playersDispatch: playersDispatch,\n        config: match$2[0],\n        configDispatch: configDispatch\n      };\n      if (windowDispatch !== undefined) {\n        tmp$1.windowDispatch = Caml_option.valFromOption(windowDispatch);\n      }\n      tmp = React.createElement(PagePlayers$Profile, tmp$1);\n    } else {\n      tmp = React.createElement(\"div\", undefined, \"Loading...\");\n    }\n  } else {\n    var tmp$2 = {\n      sorted: match$1[0],\n      sortDispatch: sortDispatch,\n      players: players,\n      playersDispatch: playersDispatch,\n      configDispatch: configDispatch\n    };\n    if (windowDispatch !== undefined) {\n      tmp$2.windowDispatch = Caml_option.valFromOption(windowDispatch);\n    }\n    tmp = React.createElement(PagePlayers$PlayerList, tmp$2);\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  NewPlayerForm ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Match$Blossom from \"re-blossom/src/Match.bs.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction sum(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nvar maxPriority = sum({\n      hd: halfPosition(1.0),\n      tl: {\n        hd: 4.0,\n        tl: {\n          hd: 16.0 / 1.0,\n          tl: {\n            hd: 32.0,\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nfunction calcPairIdeal(player1, player2) {\n  if (Data_Id$Coronate.eq(player1.id, player2.id)) {\n    return 0.0;\n  }\n  var metBefore = Belt_List.has(player1.opponents, player2.id, Data_Id$Coronate.eq);\n  var mustAvoid = Belt_List.has(player1.avoidIds, player2.id, Data_Id$Coronate.eq);\n  var match = player1.colors;\n  var match$1 = player2.colors;\n  var isDiffDueColor = match && match$1 ? match.hd !== match$1.hd : true;\n  var scoreDiff = Math.abs(player1.score - player2.score) + 1.0;\n  var halfDiff = Pervasives.abs(player1.halfPos - player2.halfPos | 0) + 1 | 0;\n  var isDiffHalf = player1.isUpperHalf !== player2.isUpperHalf && player1.score === player2.score;\n  return sum({\n              hd: isDiffDueColor ? 4.0 : 0.0,\n              tl: {\n                hd: 16.0 / scoreDiff,\n                tl: {\n                  hd: (\n                      isDiffHalf ? halfPosition : sameHalfPriority\n                    )(halfDiff),\n                  tl: {\n                    hd: !metBefore && !mustAvoid ? 32.0 : 0.0,\n                    tl: /* [] */0\n                  }\n                }\n              }\n            });\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_int_compare, (function (x) {\n                return x.rating;\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return [\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_Map.valuesToArray(data);\n  return Belt_Map.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataList, (function (param) {\n                                return param.score === playerData.score;\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return x === playerData;\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? [\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? [\n                        match$2,\n                        false\n                      ] : [\n                        0,\n                        false\n                      ]\n                  );\n                return {\n                        id: playerData.id,\n                        avoidIds: playerData.avoidIds,\n                        colorScores: playerData.colorScores,\n                        colors: playerData.colors,\n                        halfPos: match$3[0],\n                        isUpperHalf: match$3[1],\n                        opponents: playerData.opponents,\n                        rating: playerData.rating,\n                        score: playerData.score\n                      };\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1.score, data2.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1.rating, data2.rating);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p.opponents, dummyId, Data_Id$Coronate.eq);\n  };\n  if (Belt_Map.size(data) % 2 === 0) {\n    return [\n            data,\n            undefined\n          ];\n  }\n  var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_Map.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n  var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n          return p.id;\n        }));\n  var hasntHadByeFn = function (id) {\n    return Belt_List.has(playerIdsWithoutByes, id, Data_Id$Coronate.eq);\n  };\n  var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n  var dataForNextBye;\n  if (nextByeSignups) {\n    var x = Belt_Map.get(data, nextByeSignups.hd);\n    dataForNextBye = x !== undefined ? x : Belt_List.getExn(dataList, 0);\n  } else {\n    dataForNextBye = dataList ? dataList.hd : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_Map.valuesToArray(data)), sortByScoreThenRating), 0);\n  }\n  var dataWithoutBye = Belt_Map.remove(data, dataForNextBye.id);\n  return [\n          dataWithoutBye,\n          dataForNextBye\n        ];\n}\n\nfunction assignColorsForPair(param) {\n  var player2 = param[1];\n  var player1 = param[0];\n  if (sum(player1.colorScores) < sum(player2.colorScores)) {\n    return [\n            player2.id,\n            player1.id\n          ];\n  } else {\n    return [\n            player1.id,\n            player2.id\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0].score + param[1].score;\n}\n\nfunction netRating(param) {\n  return param[0].rating + param[1].rating | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairEq(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  if (a === c && b === d) {\n    return true;\n  } else if (b === c) {\n    return a === d;\n  } else {\n    return false;\n  }\n}\n\nfunction pairPlayers(pairData) {\n  return Belt_List.map(Belt_List.sort(Belt_List.keepMap(Match$Blossom.reduce(Match$Blossom.$$String.make(undefined, Belt_Map.reduce(pairData, /* [] */0, (function (acc, p1Id, p1) {\n                                    return Belt_Map.reduce(pairData, acc, (function (acc2, p2Id, p2) {\n                                                  return {\n                                                          hd: [\n                                                            Data_Id$Coronate.toString(p1Id),\n                                                            Data_Id$Coronate.toString(p2Id),\n                                                            calcPairIdeal(p1, p2)\n                                                          ],\n                                                          tl: acc2\n                                                        };\n                                                }));\n                                  }))), /* [] */0, (function (acc, p1, p2) {\n                            if (Belt_List.has(acc, [\n                                    p1,\n                                    p2\n                                  ], pairEq)) {\n                              return acc;\n                            } else {\n                              return {\n                                      hd: [\n                                        p1,\n                                        p2\n                                      ],\n                                      tl: acc\n                                    };\n                            }\n                          })), (function (param) {\n                        var p1 = Data_Id$Coronate.fromString(param[0]);\n                        var p2 = Data_Id$Coronate.fromString(param[1]);\n                        var match = Belt_Map.get(pairData, p1);\n                        var match$1 = Belt_Map.get(pairData, p2);\n                        if (match !== undefined && match$1 !== undefined) {\n                          return [\n                                  match,\n                                  match$1\n                                ];\n                        }\n                        \n                      })), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  maxPriority ,\n  calcPairIdeal ,\n  setUpperHalves ,\n  setByePlayer ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Config$Coronate from \"./Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var data = Belt_Map.get(existingData, playerId);\n  var oldData = data !== undefined ? data : Data_Scoring$Coronate.createBlankScoreData(origRating, playerId);\n  var newResultsNoByes = Data_Id$Coronate.isDummy(oppId) ? oldData.resultsNoByes : ({\n        hd: result,\n        tl: oldData.resultsNoByes\n      });\n  var oldOppResults = oldData.opponentResults;\n  var oppResult_0 = [\n    oppId,\n    result\n  ];\n  var oppResult = {\n    hd: oppResult_0,\n    tl: oldOppResults\n  };\n  return {\n          colorScores: {\n            hd: Data_Scoring$Coronate.Color.toScore(color),\n            tl: oldData.colorScores\n          },\n          colors: {\n            hd: color,\n            tl: oldData.colors\n          },\n          id: oldData.id,\n          isDummy: Data_Id$Coronate.isDummy(playerId),\n          opponentResults: oppResult,\n          ratings: {\n            hd: newRating,\n            tl: oldData.ratings\n          },\n          firstRating: oldData.firstRating,\n          results: {\n            hd: result,\n            tl: oldData.results\n          },\n          resultsNoByes: newResultsNoByes,\n          adjustment: oldData.adjustment\n        };\n}\n\nfunction matches2ScoreData(matchList) {\n  return Belt_Array.reduce(matchList, Data_Id$Coronate.$$Map.make(undefined), (function (acc, match_) {\n                var match = match_.result;\n                if (match >= 3) {\n                  return acc;\n                }\n                var whiteData = makeScoreData(acc, match_.whiteId, match_.whiteOrigRating, match_.whiteNewRating, Data_Match$Coronate.Result.toScoreWhite(match_.result), match_.blackId, /* White */0);\n                var blackData = makeScoreData(acc, match_.blackId, match_.blackOrigRating, match_.blackNewRating, Data_Match$Coronate.Result.toScoreBlack(match_.result), match_.whiteId, /* Black */1);\n                return Belt_Map.set(Belt_Map.set(acc, match_.whiteId, whiteData), match_.blackId, blackData);\n              }));\n}\n\nfunction tournament2ScoreData(roundList, scoreAdjustments) {\n  return Belt_Map.map(matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(roundList)), (function (scoreData) {\n                var adjustment = Belt_Map.get(scoreAdjustments, scoreData.id);\n                if (adjustment !== undefined) {\n                  return {\n                          colorScores: scoreData.colorScores,\n                          colors: scoreData.colors,\n                          id: scoreData.id,\n                          isDummy: scoreData.isDummy,\n                          opponentResults: scoreData.opponentResults,\n                          ratings: scoreData.ratings,\n                          firstRating: scoreData.firstRating,\n                          results: scoreData.results,\n                          resultsNoByes: scoreData.resultsNoByes,\n                          adjustment: adjustment\n                        };\n                } else {\n                  return scoreData;\n                }\n              }));\n}\n\nfunction createPairingData(scoreData, playerData, avoidPairs) {\n  var avoidMap = Curry._1(Data_Config$Coronate.Pair.$$Set.toMap, avoidPairs);\n  return Belt_Map.reduce(playerData, Data_Id$Coronate.$$Map.make(undefined), (function (acc, key, data) {\n                var x = Belt_Map.get(scoreData, key);\n                var playerStats = x !== undefined ? x : Data_Scoring$Coronate.createBlankScoreData(undefined, key);\n                var x$1 = Belt_Map.get(avoidMap, key);\n                var newAvoidIds = x$1 !== undefined ? x$1 : /* [] */0;\n                var newData_id = data.id;\n                var newData_colorScores = Belt_List.map(playerStats.colorScores, Data_Scoring$Coronate.Score.toFloat);\n                var newData_colors = playerStats.colors;\n                var newData_opponents = Belt_List.map(playerStats.opponentResults, (function (param) {\n                        return param[0];\n                      }));\n                var newData_rating = data.rating;\n                var newData_score = Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.calcScore(playerStats.results, playerStats.adjustment));\n                var newData = {\n                  id: newData_id,\n                  avoidIds: newAvoidIds,\n                  colorScores: newData_colorScores,\n                  colors: newData_colors,\n                  halfPos: 0,\n                  isUpperHalf: false,\n                  opponents: newData_opponents,\n                  rating: newData_rating,\n                  score: newData_score\n                };\n                return Belt_Map.set(acc, key, newData);\n              }));\n}\n\nexport {\n  tournament2ScoreData ,\n  createPairingData ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Formality from \"re-formality/src/Formality.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Formality__ReactUpdate from \"re-formality/src/Formality__ReactUpdate.bs.js\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney.playerIds;\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: {\n                    hd: id,\n                    tl: playerIds\n                  },\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_List.keep(playerIds, (function (pId) {\n                          return !Data_Id$Coronate.eq(pId, id);\n                        })),\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_List.fromArray(Belt_Map.keysToArray(players)),\n                                      scoreAdjustments: tourney.scoreAdjustments,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: /* [] */0,\n                                      scoreAdjustments: tourney.scoreAdjustments,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (param) {\n                            var lastName = param.lastName;\n                            var id = param.id;\n                            var firstName = param.firstName;\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(id)\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + Data_Id$Coronate.toString(id)\n                                                    }, Utils$Coronate.$$String.concat({\n                                                          hd: \"Select\",\n                                                          tl: {\n                                                            hd: firstName,\n                                                            tl: {\n                                                              hd: lastName,\n                                                              tl: /* [] */0\n                                                            }\n                                                          }\n                                                        }, \" \"))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + Data_Id$Coronate.toString(id),\n                                                checked: Belt_List.has(playerIds, id, Data_Id$Coronate.eq),\n                                                type: \"checkbox\",\n                                                value: Data_Id$Coronate.toString(id),\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: {\n                                    hd: id,\n                                    tl: playerIds\n                                  },\n                                  scoreAdjustments: tourney.scoreAdjustments,\n                                  byeQueue: tourney.byeQueue,\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return matches.filter(function (match_) {\n                  return [\n                            match_.whiteId,\n                            match_.blackId\n                          ].includes(playerId);\n                }).reduce((function (acc, match_) {\n                  return acc.concat([\n                              match_.whiteId,\n                              match_.blackId\n                            ]);\n                }), []).includes(Data_Id$Coronate.dummy);\n}\n\nfunction errorNotification(param) {\n  if (param !== undefined && param.TAG) {\n    return React.createElement(Utils$Coronate.$$Notification.make, {\n                children: param._0,\n                kind: /* Error */2\n              });\n  } else {\n    return null;\n  }\n}\n\nvar validators = {\n  scoreAdjustment: {\n    strategy: /* OnFirstSuccessOrFirstBlur */3,\n    validate: (function (input) {\n        var x = Belt_Float.fromString(input.scoreAdjustment);\n        if (x !== undefined) {\n          return {\n                  TAG: /* Ok */0,\n                  _0: x\n                };\n        } else {\n          return {\n                  TAG: /* Error */1,\n                  _0: \"Score adjustment must be a number.\"\n                };\n        }\n      })\n  }\n};\n\nfunction initialState(input) {\n  return {\n          input: input,\n          fieldsStatuses: {\n            scoreAdjustment: /* Pristine */0\n          },\n          collectionsStatuses: undefined,\n          formStatus: /* Editing */0,\n          submissionStatus: /* NeverSubmitted */0\n        };\n}\n\nfunction validateForm(input, validators, fieldsStatuses) {\n  var match = fieldsStatuses.scoreAdjustment;\n  var match$1 = match ? match._0 : Curry._1(validators.scoreAdjustment.validate, input);\n  if (match$1.TAG) {\n    return {\n            TAG: /* Invalid */1,\n            fieldsStatuses: {\n              scoreAdjustment: /* Dirty */{\n                _0: match$1,\n                _1: /* Shown */0\n              }\n            },\n            collectionsStatuses: undefined\n          };\n  } else {\n    return {\n            TAG: /* Valid */0,\n            output: {\n              scoreAdjustment: match$1._0\n            },\n            fieldsStatuses: {\n              scoreAdjustment: /* Dirty */{\n                _0: match$1,\n                _1: /* Shown */0\n              }\n            },\n            collectionsStatuses: undefined\n          };\n  }\n}\n\nfunction useForm(initialInput, onSubmit) {\n  var memoizedInitialState = React.useMemo((function () {\n          return initialState(initialInput);\n        }), [initialInput]);\n  var match = Formality__ReactUpdate.useReducer(memoizedInitialState, (function (state, action) {\n          if (typeof action === \"number\") {\n            switch (action) {\n              case /* BlurScoreAdjustmentField */0 :\n                  var result = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.scoreAdjustment, validators.scoreAdjustment, (function (status) {\n                          return {\n                                  scoreAdjustment: status\n                                };\n                        }));\n                  if (result !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* Submit */1 :\n                  var match = state.formStatus;\n                  if (typeof match !== \"number\" && !match.TAG) {\n                    return /* NoUpdate */0;\n                  }\n                  var match$1 = validateForm(state.input, validators, state.fieldsStatuses);\n                  if (match$1.TAG) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: match$1.fieldsStatuses,\n                              collectionsStatuses: match$1.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: /* AttemptedToSubmit */1\n                            }\n                          };\n                  }\n                  var output = match$1.output;\n                  var error = state.formStatus;\n                  var tmp;\n                  tmp = typeof error === \"number\" || error.TAG !== /* SubmissionFailed */1 ? undefined : Caml_option.some(error._0);\n                  return {\n                          TAG: /* UpdateWithSideEffects */1,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: match$1.fieldsStatuses,\n                            collectionsStatuses: match$1.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* Submitting */0,\n                              _0: tmp\n                            },\n                            submissionStatus: /* AttemptedToSubmit */1\n                          },\n                          _1: (function (param) {\n                              var dispatch = param.dispatch;\n                              return Curry._2(onSubmit, output, {\n                                          notifyOnSuccess: (function (input) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmittedStatus */1,\n                                                          _0: input\n                                                        });\n                                            }),\n                                          notifyOnFailure: (function (error) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmissionFailedStatus */2,\n                                                          _0: error\n                                                        });\n                                            }),\n                                          reset: (function (param) {\n                                              return Curry._1(dispatch, /* Reset */4);\n                                            }),\n                                          dismissSubmissionResult: (function (param) {\n                                              return Curry._1(dispatch, /* DismissSubmissionResult */3);\n                                            })\n                                        });\n                            })\n                        };\n                  break;\n              case /* DismissSubmissionError */2 :\n                  var match$2 = state.formStatus;\n                  if (typeof match$2 === \"number\" || match$2.TAG !== /* SubmissionFailed */1) {\n                    return /* NoUpdate */0;\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* DismissSubmissionResult */3 :\n                  var match$3 = state.formStatus;\n                  if (typeof match$3 === \"number\") {\n                    if (match$3 === /* Editing */0) {\n                      return /* NoUpdate */0;\n                    }\n                    \n                  } else if (!match$3.TAG) {\n                    return /* NoUpdate */0;\n                  }\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: /* Editing */0,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* Reset */4 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: initialState(initialInput)\n                        };\n              \n            }\n          } else {\n            switch (action.TAG | 0) {\n              case /* UpdateScoreAdjustmentField */0 :\n                  var nextInput = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput, state.fieldsStatuses.scoreAdjustment, state.submissionStatus, validators.scoreAdjustment, (function (status) {\n                                    return {\n                                            scoreAdjustment: status\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* SetSubmittedStatus */1 :\n                  var input = action._0;\n                  if (input !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: input,\n                              fieldsStatuses: {\n                                scoreAdjustment: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: {\n                                scoreAdjustment: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* SetSubmissionFailedStatus */2 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* SubmissionFailed */1,\n                              _0: action._0\n                            },\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* MapSubmissionError */3 :\n                  var map = action._0;\n                  var error$1 = state.formStatus;\n                  if (typeof error$1 === \"number\") {\n                    return /* NoUpdate */0;\n                  }\n                  if (error$1.TAG) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* SubmissionFailed */1,\n                                _0: Curry._1(map, error$1._0)\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n                  var error$2 = error$1._0;\n                  if (error$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* Submitting */0,\n                                _0: Caml_option.some(Curry._1(map, Caml_option.valFromOption(error$2)))\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              \n            }\n          }\n        }));\n  var dispatch = match[1];\n  var state = match[0];\n  var match$1 = state.formStatus;\n  var tmp;\n  tmp = typeof match$1 === \"number\" || match$1.TAG ? false : true;\n  return {\n          updateScoreAdjustment: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateScoreAdjustmentField */0,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          blurScoreAdjustment: (function (param) {\n              return Curry._1(dispatch, /* BlurScoreAdjustmentField */0);\n            }),\n          scoreAdjustmentResult: Formality.exposeFieldResult(state.fieldsStatuses.scoreAdjustment),\n          input: state.input,\n          status: state.formStatus,\n          dirty: (function (param) {\n              var match = state.fieldsStatuses;\n              if (match.scoreAdjustment) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          valid: (function (param) {\n              var match = validateForm(state.input, validators, state.fieldsStatuses);\n              if (match.TAG) {\n                return false;\n              } else {\n                return true;\n              }\n            }),\n          submitting: tmp,\n          submit: (function (param) {\n              return Curry._1(dispatch, /* Submit */1);\n            }),\n          dismissSubmissionError: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionError */2);\n            }),\n          dismissSubmissionResult: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionResult */3);\n            }),\n          mapSubmissionError: (function (map) {\n              return Curry._1(dispatch, {\n                          TAG: /* MapSubmissionError */3,\n                          _0: map\n                        });\n            }),\n          reset: (function (param) {\n              return Curry._1(dispatch, /* Reset */4);\n            })\n        };\n}\n\nfunction PageTourneyPlayers$OptionsForm$More(Props) {\n  var setTourney = Props.setTourney;\n  var dialog = Props.dialog;\n  var tourney = Props.tourney;\n  var p = Props.p;\n  var scoreAdjustment = Belt_Option.mapWithDefault(Belt_Map.get(tourney.scoreAdjustments, p.id), \"0\", (function (prim) {\n          return String(prim);\n        }));\n  var form = useForm({\n        scoreAdjustment: scoreAdjustment\n      }, (function (output, callback) {\n          var scoreAdjustment = output.scoreAdjustment;\n          if (scoreAdjustment !== 0) {\n            Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: Belt_Map.set(tourney.scoreAdjustments, p.id, scoreAdjustment),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n          } else {\n            Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: Belt_Map.remove(tourney.scoreAdjustments, p.id),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n          }\n          Curry._1(callback.notifyOnSuccess, undefined);\n          return Curry._1(dialog.setFalse, undefined);\n        }));\n  return React.createElement(React.Fragment, undefined, React.createElement(\"button\", {\n                  className: \"button-micro button-primary\",\n                  onClick: (function (param) {\n                      return Curry._1(dialog.setFalse, undefined);\n                    })\n                }, \"close\"), React.createElement(\"h2\", undefined, Utils$Coronate.$$String.concat({\n                      hd: \"Options for\",\n                      tl: {\n                        hd: p.firstName,\n                        tl: {\n                          hd: p.lastName,\n                          tl: /* [] */0\n                        }\n                      }\n                    }, \" \")), React.createElement(\"form\", {\n                  onSubmit: (function ($$event) {\n                      $$event.preventDefault();\n                      return Curry._1(form.submit, undefined);\n                    })\n                }, React.createElement(\"h3\", undefined, React.createElement(\"label\", {\n                          className: \"title-30\",\n                          htmlFor: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment\"\n                        }, \"Score adjustment\")), React.createElement(\"p\", {\n                      className: \"caption-30\",\n                      id: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment-description\"\n                    }, \"Score adjustment will be added to this player's actual score.\\n              It can be negative.\"), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          \"aria-describedby\": Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment-description\",\n                          id: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment\",\n                          disabled: form.submitting,\n                          size: 3,\n                          step: 0.5,\n                          type: \"number\",\n                          value: form.input.scoreAdjustment,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurScoreAdjustment, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateScoreAdjustment, (function (_input, value) {\n                                            return {\n                                                    scoreAdjustment: value\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        }), \" \", React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          onClick: (function ($$event) {\n                              $$event.preventDefault();\n                              return Curry._2(form.updateScoreAdjustment, (function (_input, value) {\n                                            return {\n                                                    scoreAdjustment: value\n                                                  };\n                                          }), \"0\");\n                            })\n                        }, \"Reset\")), errorNotification(form.scoreAdjustmentResult), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined),\n                          type: \"submit\",\n                          value: \"Save\"\n                        }))));\n}\n\nfunction PageTourneyPlayers$OptionsForm(Props) {\n  var setTourney = Props.setTourney;\n  var tourney = Props.tourney;\n  var byeQueue = Props.byeQueue;\n  var p = Props.p;\n  var dialog = Hooks$Coronate.useBool(false);\n  return React.createElement(React.Fragment, undefined, React.createElement(\"button\", {\n                  className: \"button-micro\",\n                  disabled: byeQueue.includes(p.id),\n                  onClick: (function (param) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: tourney.playerIds,\n                                  scoreAdjustments: tourney.scoreAdjustments,\n                                  byeQueue: Belt_Array.concat(byeQueue, [p.id]),\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }, \"Bye signup\"), \" \", React.createElement(\"button\", {\n                  className: \"button-micro\",\n                  onClick: (function (param) {\n                      return Curry._1(dialog.setTrue, undefined);\n                    })\n                }, React.createElement(\"span\", {\n                      \"aria-hidden\": true\n                    }, React.createElement(ReactFeather.MoreHorizontal, {})), React.createElement(VisuallyHidden.default, {\n                      children: Utils$Coronate.$$String.concat({\n                            hd: \"More options for\",\n                            tl: {\n                              hd: p.firstName,\n                              tl: {\n                                hd: p.lastName,\n                                tl: /* [] */0\n                              }\n                            }\n                          }, \" \")\n                    })), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: dialog.setFalse,\n                  ariaLabel: Utils$Coronate.$$String.concat({\n                        hd: \"Options for\",\n                        tl: {\n                          hd: p.firstName,\n                          tl: {\n                            hd: p.lastName,\n                            tl: /* [] */0\n                          }\n                        }\n                      }, \" \"),\n                  children: React.createElement(PageTourneyPlayers$OptionsForm$More, {\n                        setTourney: setTourney,\n                        dialog: dialog,\n                        tourney: tourney,\n                        p: p\n                      })\n                }));\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (p) {\n                    return React.createElement(\"tr\", {\n                                key: Data_Id$Coronate.toString(p.id),\n                                className: Cn.$less$colon$great(Data_Player$Coronate.Type.toString(p.type_), \"player\")\n                              }, React.createElement(\"td\", undefined, p.firstName), React.createElement(\"td\", undefined, p.lastName), React.createElement(\"td\", undefined, React.createElement(PageTourneyPlayers$OptionsForm, {\n                                        setTourney: setTourney,\n                                        tourney: tourney,\n                                        byeQueue: byeQueue,\n                                        p: p\n                                      })));\n                  })));\n}\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var byeQueue = tourney.byeQueue;\n  var playerIds = tourney.playerIds;\n  var setTourney = tournament.setTourney;\n  var activePlayers = tournament.activePlayers;\n  var match = React.useState(function () {\n        if (playerIds) {\n          return false;\n        } else {\n          return true;\n        }\n      });\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney.roundList);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, {}), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, Belt_Array.map(byeQueue, (function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: Data_Id$Coronate.toString(pId),\n                                            className: Cn.$less$colon$great(\"buttons-on-hover\", Cn.on(\"disabled\", hasHadBye(matches, pId)))\n                                          }, Utils$Coronate.$$String.concat({\n                                                hd: Belt_Map.getExn(activePlayers, pId).firstName,\n                                                tl: {\n                                                  hd: Belt_Map.getExn(activePlayers, pId).lastName,\n                                                  tl: /* [] */0\n                                                }\n                                              }, \" \"), \" \", React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(setTourney, {\n                                                                id: tourney.id,\n                                                                name: tourney.name,\n                                                                date: tourney.date,\n                                                                playerIds: tourney.playerIds,\n                                                                scoreAdjustments: tourney.scoreAdjustments,\n                                                                byeQueue: byeQueue.filter(function (id) {\n                                                                      return !Data_Id$Coronate.eq(pId, id);\n                                                                    }),\n                                                                tieBreaks: tourney.tieBreaks,\n                                                                roundList: tourney.roundList\n                                                              });\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament.players,\n                          playersDispatch: tournament.playersDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Pairing$Coronate from \"../Data/Data_Pairing.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_Map.keep(pairData, (function (id, param) {\n          return Belt_Map.has(playerMap, id);\n        }));\n  var match = Data_Pairing$Coronate.setByePlayer(byeQueue, Data_Id$Coronate.dummy, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Data_Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? Belt_List.reverse(Belt_List.add(Belt_List.reverse(pairs), [\n              byePlayerData.id,\n              Data_Id$Coronate.dummy\n            ])) : pairs;\n  return Belt_List.map(pairsWithBye, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                return Data_Match$Coronate.scoreByeMatch({\n                            id: Data_Id$Coronate.random(undefined),\n                            whiteId: whiteId,\n                            blackId: blackId,\n                            whiteNewRating: Data_Player$Coronate.getMaybe(playerMap, whiteId).rating,\n                            blackNewRating: Data_Player$Coronate.getMaybe(playerMap, blackId).rating,\n                            whiteOrigRating: Data_Player$Coronate.getMaybe(playerMap, whiteId).rating,\n                            blackOrigRating: Data_Player$Coronate.getMaybe(playerMap, blackId).rating,\n                            result: /* NotSet */3\n                          }, byeValue);\n              }));\n}\n\nvar sortByName = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.player.firstName;\n    })\n};\n\nvar sortByIdeal = {\n  TAG: /* GetFloat */2,\n  _0: (function (x) {\n      return x.ideal;\n    })\n};\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n          return {\n                  player: player,\n                  ideal: 0.0\n                };\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var p1 = stagedPlayers[0];\n    if (p1 !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return !Data_Id$Coronate.eq(Caml_option.valFromOption(p1), id);\n      }\n    }\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      return !Data_Id$Coronate.eq(Caml_option.valFromOption(p2), id);\n    } else {\n      return true;\n    }\n  };\n  React.useEffect((function () {\n          var calcIdealOrNot = function (player) {\n            var id = stagedPlayers[0];\n            var selectedId;\n            if (id !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : Caml_option.some(Caml_option.valFromOption(id));\n            } else {\n              var id$1 = stagedPlayers[1];\n              selectedId = id$1 !== undefined ? Caml_option.some(Caml_option.valFromOption(id$1)) : undefined;\n            }\n            if (selectedId === undefined) {\n              return 0.0;\n            }\n            var selectedPlayer = Belt_Map.get(pairData, Caml_option.valFromOption(selectedId));\n            if (selectedPlayer !== undefined) {\n              if (player !== undefined) {\n                return Data_Pairing$Coronate.calcPairIdeal(selectedPlayer, player) / Data_Pairing$Coronate.maxPriority;\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n                  return {\n                          player: player,\n                          ideal: calcIdealOrNot(Belt_Map.get(pairData, player.id))\n                        };\n                }));\n          Curry._1(sortedDispatch, {\n                TAG: /* SetTable */2,\n                _0: table\n              });\n          \n        }), [\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_Map.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, Belt_Array.map(sorted.table, (function (param) {\n                          var player = param.player;\n                          return React.createElement(\"tr\", {\n                                      key: Data_Id$Coronate.toString(player.id)\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player.id),\n                                              onClick: (function (param) {\n                                                  var id = player.id;\n                                                  var p1 = stagedPlayers[0];\n                                                  if (p1 !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return ;\n                                                    }\n                                                    var p1$1 = Caml_option.valFromOption(p1);\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return [\n                                                                          Caml_option.some(p1$1),\n                                                                          Caml_option.some(id)\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2 = stagedPlayers[1];\n                                                  if (p2 === undefined) {\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return [\n                                                                          Caml_option.some(id),\n                                                                          undefined\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2$1 = Caml_option.valFromOption(p2);\n                                                  return Curry._1(setStagedPlayers, (function (param) {\n                                                                return [\n                                                                        Caml_option.some(id),\n                                                                        Caml_option.some(p2$1)\n                                                                      ];\n                                                              }));\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, {}), React.createElement(VisuallyHidden.default, {\n                                                  children: Utils$Coronate.$$String.concat({\n                                                        hd: \"Add\",\n                                                        tl: {\n                                                          hd: player.firstName,\n                                                          tl: {\n                                                            hd: player.lastName,\n                                                            tl: /* [] */0\n                                                          }\n                                                        }\n                                                      }, \" \")\n                                                }))), React.createElement(\"td\", undefined, player.firstName + (\" \" + player.lastName)), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param.ideal).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney.roundList;\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName;\n  if (white !== undefined) {\n    var player = Caml_option.valFromOption(white);\n    whiteName = Curry._1(getPlayer, player).firstName + (\" \" + Curry._1(getPlayer, player).lastName);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (black !== undefined) {\n    var player$1 = Caml_option.valFromOption(black);\n    blackName = Curry._1(getPlayer, player$1).firstName + (\" \" + Curry._1(getPlayer, player$1).lastName);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return [\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return [\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var white = stagedPlayers[0];\n    if (white === undefined) {\n      return ;\n    }\n    var black = stagedPlayers[1];\n    if (black === undefined) {\n      return ;\n    }\n    var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round, [Data_Match$Coronate.manualPair([\n                Curry._1(getPlayer, Caml_option.valFromOption(white)),\n                Curry._1(getPlayer, Caml_option.valFromOption(black))\n              ], byeValue)]);\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n    if (roundList$1 !== undefined) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            scoreAdjustments: tourney.scoreAdjustments,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks,\n            roundList: Caml_option.valFromOption(roundList$1)\n          });\n    }\n    return Curry._1(setStagedPlayers, (function (param) {\n                  return [\n                          undefined,\n                          undefined\n                        ];\n                }));\n  };\n  var p1 = stagedPlayers[0];\n  var matchIdeal;\n  if (p1 !== undefined) {\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      var match = Belt_Map.get(pairData, Caml_option.valFromOption(p1));\n      var match$1 = Belt_Map.get(pairData, Caml_option.valFromOption(p2));\n      if (match !== undefined && match$1 !== undefined) {\n        var ideal = Data_Pairing$Coronate.calcPairIdeal(match, match$1);\n        matchIdeal = Numeral.default(ideal / Data_Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, {}), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, {}), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return [\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, {}), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, {}), \" Match selected\")));\n}\n\nfunction PairPicker$PlayerInfo(Props) {\n  var player = Props.player;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, Caml_option.some(avoidPairs), getPlayer, players, origRating, newRating, undefined);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", match.score), React.createElement(\"p\", {\n                  id: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                }, \"Rating: \", match.rating), React.createElement(\"p\", undefined, \"Color balance: \" + match.colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  match.hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, match.opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState(function () {\n        return [\n                undefined,\n                undefined\n              ];\n      });\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(undefined);\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var byeQueue = tourney.byeQueue;\n  var setTourney = tournament.setTourney;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var activePlayers = tournament.activePlayers;\n  var match$2 = match$1[0];\n  var byeValue = match$2.byeValue;\n  var avoidPairs = match$2.avoidPairs;\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var dialog = Hooks$Coronate.useBool(false);\n  var pairData = React.useMemo((function () {\n          return Data_Pairing$Coronate.setUpperHalves(Data_Converters$Coronate.createPairingData(scoreData, activePlayers, avoidPairs));\n        }), [\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function () {\n          if (p1 !== undefined) {\n            var match = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p1));\n            if (match !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return [\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p2));\n            if (match$1 !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return [\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n          }\n          \n        }), [\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round === undefined) {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n  var round$1 = Caml_option.valFromOption(round);\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                width: \"720px\"\n              }\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: unmatchedCount === 0,\n                      onClick: (function (param) {\n                          var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round$1, Belt_List.toArray(autoPair(pairData, byeValue, unmatched, byeQueue)));\n                          var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                          if (roundList$1 !== undefined) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: tourney.name,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        scoreAdjustments: tourney.scoreAdjustments,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: Caml_option.valFromOption(roundList$1)\n                                      });\n                          }\n                          \n                        })\n                    }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setTrue, undefined);\n                        })\n                    }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PairPicker$SelectList, {\n                            pairData: pairData,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            unmatched: unmatchedWithDummy\n                          })\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null,\n                      style: {\n                        flexGrow: \"1\"\n                      }\n                    }, React.createElement(PairPicker$Stage, {\n                          getPlayer: getPlayer,\n                          pairData: pairData,\n                          roundId: roundId,\n                          stagedPlayers: stagedPlayers,\n                          setStagedPlayers: setStagedPlayers,\n                          setTourney: setTourney,\n                          byeValue: byeValue,\n                          tourney: tourney,\n                          round: round$1\n                        }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                          children: Belt_Array.map([\n                                p1,\n                                p2\n                              ], (function (id) {\n                                  if (id === undefined) {\n                                    return null;\n                                  }\n                                  var playerId = Caml_option.valFromOption(id);\n                                  return React.createElement(Utils$Coronate.Panel.make, {\n                                              children: React.createElement(PairPicker$PlayerInfo, {\n                                                    player: Curry._1(getPlayer, playerId),\n                                                    scoreData: scoreData,\n                                                    players: players,\n                                                    avoidPairs: avoidPairs,\n                                                    origRating: Curry._1(getPlayer, playerId).rating,\n                                                    newRating: undefined,\n                                                    getPlayer: getPlayer\n                                                  }),\n                                              key: Data_Id$Coronate.toString(playerId)\n                                            });\n                                }))\n                        }))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: dialog.setFalse,\n                  ariaLabel: \"Select players\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setFalse, undefined);\n                        })\n                    }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                      tourney: tourney,\n                      setTourney: setTourney,\n                      players: players,\n                      playersDispatch: tournament.playersDispatch\n                    })));\n}\n\nvar make = PairPicker;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as Data_Tournament$Coronate from \"../Data/Data_Tournament.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  if (roundCount !== Pervasives.neg_infinity) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney = Data_Tournament$Coronate.make(Data_Id$Coronate.random(undefined), \"\");\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var tourneyId$1 = Data_Id$Coronate.toString(tourneyId);\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney.roundList;\n  var playerIds = tourney.playerIds;\n  var name = tourney.name;\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var arePlayersLoaded = match$1.loaded;\n  var players = match$1.items;\n  var match$2 = React.useState(function () {\n        return /* NotLoaded */0;\n      });\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */5,\n                _0: name\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */5,\n                                _0: \"\"\n                              });\n                  });\n        }), [\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getItem(Db$Coronate.tournaments, tourneyId$1))), (function (value) {\n                      if (didCancel.contents) {\n                        return ;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), [tourneyId$1]);\n  React.useEffect((function () {\n          if (tourneyLoaded !== 1 || !Data_Id$Coronate.eq(Data_Id$Coronate.fromString(tourneyId$1), tourney.id)) {\n            \n          } else {\n            Map$LocalForage.setItem(Db$Coronate.tournaments, tourneyId$1, tourney);\n          }\n          \n        }), [\n        tourneyLoaded,\n        tourneyId$1,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_Map.keep(players, (function (id, param) {\n                  return Belt_List.has(playerIds, id, Data_Id$Coronate.eq);\n                }));\n          var roundCount = calcNumOfRounds(Belt_Map.size(activePlayers));\n          var isItOver = Data_Rounds$Coronate.size(roundList) >= roundCount;\n          var isNewRoundReady = Data_Rounds$Coronate.size(roundList) === 0 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, Data_Rounds$Coronate.size(roundList) - 1 | 0);\n          return Curry._1(children, {\n                      activePlayers: activePlayers,\n                      getPlayer: (function (param) {\n                          return Data_Player$Coronate.getMaybe(players, param);\n                        }),\n                      isItOver: isItOver,\n                      isNewRoundReady: isNewRoundReady,\n                      players: players,\n                      playersDispatch: match$1.dispatch,\n                      roundCount: roundCount,\n                      tourney: tourney,\n                      setTourney: setTourney\n                    });\n        }\n        break;\n    case /* Error */2 :\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\"\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\"\n            });\n}\n\nfunction useRoundData(roundId, param) {\n  var match = param.tourney;\n  var roundList = match.roundList;\n  var scoreAdjustments = match.scoreAdjustments;\n  var activePlayers = param.activePlayers;\n  var scoreData = React.useMemo((function () {\n          return Data_Converters$Coronate.tournament2ScoreData(roundList, scoreAdjustments);\n        }), [\n        roundList,\n        scoreAdjustments\n      ]);\n  var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n  var match$1 = Data_Rounds$Coronate.get(roundList, roundId);\n  var unmatched;\n  if (match$1 !== undefined && isThisTheLastRound) {\n    var matched = Data_Rounds$Coronate.Round.getMatched(Caml_option.valFromOption(match$1));\n    unmatched = Belt_Map.removeMany(activePlayers, matched);\n  } else {\n    unmatched = Data_Id$Coronate.$$Map.make(undefined);\n  }\n  var unmatchedCount = Belt_Map.size(unmatched);\n  var unmatchedWithDummy = unmatchedCount % 2 !== 0 ? Belt_Map.set(unmatched, Data_Id$Coronate.dummy, Data_Player$Coronate.dummy) : unmatched;\n  var activePlayersCount = Belt_Map.size(activePlayers);\n  return {\n          activePlayersCount: activePlayersCount,\n          scoreData: scoreData,\n          unmatched: unmatched,\n          unmatchedCount: unmatchedCount,\n          unmatchedWithDummy: unmatchedWithDummy\n        };\n}\n\nvar make = LoadTournament;\n\nexport {\n  make ,\n  useRoundData ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Ratings$Coronate from \"../Data/Data_Ratings.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\n\nvar winnerSelect = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* percent */-119887163,\n            VAL: 100.0\n          }),\n      tl: {\n        hd: Css.fontSize({\n              HASH: /* em */22632,\n              VAL: 1.0\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar table = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* percent */-119887163,\n            VAL: 100.0\n          }),\n      tl: {\n        hd: Css.selector(\" tr:not(:last-of-type)\", {\n              hd: Css.borderBottomStyle(/* solid */12956715),\n              tl: {\n                hd: Css.borderWidth({\n                      HASH: /* px */25096,\n                      VAL: 1\n                    }),\n                tl: {\n                  hd: Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n                  tl: /* [] */0\n                }\n              }\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar td = Curry._1(Css.style, {\n      hd: Css.padding2({\n            HASH: /* px */25096,\n            VAL: 8\n          }, {\n            HASH: /* px */25096,\n            VAL: 4\n          }),\n      tl: /* [] */0\n    });\n\nvar rowId = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* px */25096,\n            VAL: 20\n          }),\n      tl: {\n        hd: Css.padding({\n              HASH: /* px */25096,\n              VAL: 4\n            }),\n        tl: {\n          hd: Css.textAlign(/* center */98248149),\n          tl: /* [] */0\n        }\n      }\n    });\n\nvar controls = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* px */25096,\n            VAL: 72\n          }),\n      tl: /* [] */0\n    });\n\nvar matchResult = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* px */25096,\n            VAL: 140\n          }),\n      tl: /* [] */0\n    });\n\nvar playerResult = Curry._1(Css.style, {\n      hd: Css.width({\n            HASH: /* px */25096,\n            VAL: 32\n          }),\n      tl: {\n        hd: Css.textAlign(/* center */98248149),\n        tl: /* [] */0\n      }\n    });\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var player = Props.player;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, undefined, getPlayer, players, origRating, newRating, undefined);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"dd\", {\n                        \"aria-label\": \"Rating for \" + fullName\n                      }, match.rating),\n                  testId: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                }), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PageRound$MatchRow(Props) {\n  var isCompactOpt = Props.isCompact;\n  var pos = Props.pos;\n  var m = Props.m;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var classNameOpt = Props.className;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var dialog = Hooks$Coronate.useBool(false);\n  var whitePlayer = Curry._1(getPlayer, m.whiteId);\n  var blackPlayer = Curry._1(getPlayer, m.blackId);\n  var isDummyRound = Data_Id$Coronate.isDummy(m.whiteId) || Data_Id$Coronate.isDummy(m.blackId);\n  var whiteName = Utils$Coronate.$$String.concat({\n        hd: whitePlayer.firstName,\n        tl: {\n          hd: whitePlayer.lastName,\n          tl: /* [] */0\n        }\n      }, \" \");\n  var blackName = Utils$Coronate.$$String.concat({\n        hd: blackPlayer.firstName,\n        tl: {\n          hd: blackPlayer.lastName,\n          tl: /* [] */0\n        }\n      }, \" \");\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Curry._1(Css.style, {\n                hd: Css.color(Utils$Coronate.PhotonColors.yellow_70),\n                tl: /* [] */0\n              })\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = m.result;\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (m.result === newResult) {\n      return ;\n    }\n    var white = Belt_Map.getExn(players, m.whiteId);\n    var black = Belt_Map.getExn(players, m.blackId);\n    var match = newResult >= 3 ? [\n        m.whiteOrigRating,\n        m.blackOrigRating\n      ] : Data_Ratings$Coronate.calcNewRatings(m.whiteOrigRating, m.blackOrigRating, white.matchCount, black.matchCount, newResult);\n    var blackNewRating = match[1];\n    var whiteNewRating = match[0];\n    var white_firstName = white.firstName;\n    var white_id = white.id;\n    var white_lastName = white.lastName;\n    var white_matchCount = white.matchCount;\n    var white_type_ = white.type_;\n    var white$1 = {\n      firstName: white_firstName,\n      id: white_id,\n      lastName: white_lastName,\n      matchCount: white_matchCount,\n      rating: whiteNewRating,\n      type_: white_type_\n    };\n    var black_firstName = black.firstName;\n    var black_id = black.id;\n    var black_lastName = black.lastName;\n    var black_matchCount = black.matchCount;\n    var black_type_ = black.type_;\n    var black$1 = {\n      firstName: black_firstName,\n      id: black_id,\n      lastName: black_lastName,\n      matchCount: black_matchCount,\n      rating: blackNewRating,\n      type_: black_type_\n    };\n    var match$1 = m.result;\n    if (match$1 >= 3) {\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: white_id,\n            _1: {\n              firstName: white_firstName,\n              id: white_id,\n              lastName: white_lastName,\n              matchCount: white_matchCount + 1 | 0,\n              rating: whiteNewRating,\n              type_: white_type_\n            }\n          });\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: black_id,\n            _1: {\n              firstName: black_firstName,\n              id: black_id,\n              lastName: black_lastName,\n              matchCount: black_matchCount + 1 | 0,\n              rating: blackNewRating,\n              type_: black_type_\n            }\n          });\n    } else if (newResult === /* NotSet */3) {\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: white_id,\n            _1: {\n              firstName: white_firstName,\n              id: white_id,\n              lastName: white_lastName,\n              matchCount: white_matchCount - 1 | 0,\n              rating: whiteNewRating,\n              type_: white_type_\n            }\n          });\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: black_id,\n            _1: {\n              firstName: black_firstName,\n              id: black_id,\n              lastName: black_lastName,\n              matchCount: black_matchCount - 1 | 0,\n              rating: blackNewRating,\n              type_: black_type_\n            }\n          });\n    } else {\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: white_id,\n            _1: white$1\n          });\n      Curry._1(playersDispatch, {\n            TAG: /* Set */1,\n            _0: black_id,\n            _1: black$1\n          });\n    }\n    var newMatch_id = m.id;\n    var newMatch_whiteId = m.whiteId;\n    var newMatch_blackId = m.blackId;\n    var newMatch_whiteOrigRating = m.whiteOrigRating;\n    var newMatch_blackOrigRating = m.blackOrigRating;\n    var newMatch = {\n      id: newMatch_id,\n      whiteId: newMatch_whiteId,\n      blackId: newMatch_blackId,\n      whiteNewRating: whiteNewRating,\n      blackNewRating: blackNewRating,\n      whiteOrigRating: newMatch_whiteOrigRating,\n      blackOrigRating: newMatch_blackOrigRating,\n      result: newResult\n    };\n    Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n            return Curry._1(setTourney, {\n                        id: tourney.id,\n                        name: tourney.name,\n                        date: tourney.date,\n                        playerIds: tourney.playerIds,\n                        scoreAdjustments: tourney.scoreAdjustments,\n                        byeQueue: tourney.byeQueue,\n                        tieBreaks: tourney.tieBreaks,\n                        roundList: roundList\n                      });\n          }));\n    \n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: dialog.state,\n            onDismiss: (function (param) {\n                return Curry._1(dialog.setFalse, undefined);\n              }),\n            ariaLabel: \"Match information\",\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(dialog.setFalse, undefined);\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney.name), React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat({\n                    hd: \"Round\",\n                    tl: {\n                      hd: String(roundId + 1 | 0),\n                      tl: {\n                        hd: \"match\",\n                        tl: {\n                          hd: String(pos + 1 | 0),\n                          tl: /* [] */0\n                        }\n                      }\n                    }\n                  }, \" \")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.whiteId),\n                          origRating: m.whiteOrigRating,\n                          newRating: m.whiteNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.blackId),\n                          origRating: m.blackOrigRating,\n                          newRating: m.blackNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.$less$colon$great(controls, \"data__input\")\n        }, Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n                return !Data_Id$Coronate.eq(id, m.id);\n              })) ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  return Caml_option.some(m.id);\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, {}), React.createElement(VisuallyHidden.default, {\n                    children: Utils$Coronate.$$String.concat({\n                          hd: \"Edit match for\",\n                          tl: {\n                            hd: whiteName,\n                            tl: {\n                              hd: \"versus\",\n                              tl: {\n                                hd: blackName,\n                                tl: /* [] */0\n                              }\n                            }\n                          }\n                        }, \" \")\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  \n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, {})), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(dialog.setTrue, undefined);\n                })\n            }, React.createElement(ReactFeather.Info, {}), React.createElement(VisuallyHidden.default, {\n                  children: Utils$Coronate.$$String.concat({\n                        hd: \"View information for match:\",\n                        tl: {\n                          hd: whiteName,\n                          tl: {\n                            hd: \"versus\",\n                            tl: {\n                              hd: blackName,\n                              tl: /* [] */0\n                            }\n                          }\n                        }\n                      }, \" \")\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.$less$colon$great(className, Belt_Option.mapWithDefault(selectedMatch, \"\", (function (id) {\n                          if (Data_Id$Coronate.eq(m.id, id)) {\n                            return \"selected\";\n                          } else {\n                            return \"buttons-on-hover\";\n                          }\n                        })))\n            }, React.createElement(\"th\", {\n                  className: Cn.$less$colon$great(rowId, \"table__number\"),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: Cn.$less$colon$great(\"table__player row__player\", Data_Player$Coronate.Type.toString(whitePlayer.type_)),\n                        id: \"match-\" + (String(pos) + \"-white\")\n                      }, whiteName),\n                  testId: \"match-\" + (String(pos) + \"-white\")\n                }), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: Cn.$less$colon$great(\"table__player row__player\", Data_Player$Coronate.Type.toString(blackPlayer.type_)),\n                        id: \"match-\" + (String(pos) + \"-black\")\n                      }, blackName),\n                  testId: \"match-\" + (String(pos) + \"-black\")\n                }), React.createElement(\"td\", {\n                  className: Cn.$less$colon$great(matchResult, \"data__input row__controls\")\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Data_Match$Coronate.Result.toString(m.result),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nfunction PageRound$RoundTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  return React.createElement(\"table\", {\n              className: table\n            }, matches.length === 0 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", roundId + 1 | 0), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, Belt_Array.mapWithIndex(matches, (function (pos, m) {\n                        var tmp = {\n                          isCompact: isCompact,\n                          pos: pos,\n                          m: m,\n                          roundId: roundId,\n                          setSelectedMatch: setSelectedMatch,\n                          scoreData: scoreData,\n                          tournament: tournament,\n                          className: td,\n                          key: Data_Id$Coronate.toString(m.id)\n                        };\n                        if (selectedMatch !== undefined) {\n                          tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n                        }\n                        return React.createElement(PageRound$MatchRow, tmp);\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var match = React.useState(function () {\n        \n      });\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var newRound = Data_Rounds$Coronate.Round.moveMatch(round, matchId, direction);\n    if (newRound === undefined) {\n      return ;\n    }\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, Caml_option.valFromOption(newRound));\n    if (roundList$1 !== undefined) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Caml_option.valFromOption(roundList$1)\n                });\n    }\n    \n  };\n  var matches = Data_Rounds$Coronate.get(tourney.roundList, roundId);\n  if (matches === undefined) {\n    return React.createElement(Pages$Coronate.NotFound.make, {});\n  }\n  var matches$1 = Caml_option.valFromOption(matches);\n  var tmp = {\n    roundId: roundId,\n    matches: Data_Rounds$Coronate.Round.toArray(matches$1),\n    setSelectedMatch: setSelectedMatch,\n    tournament: tournament,\n    scoreData: scoreData\n  };\n  if (selectedMatch !== undefined) {\n    tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n  }\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match_ = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match_ !== undefined && match_.result !== /* NotSet */3) {\n                                    Belt_List.forEach({\n                                          hd: [\n                                            match_.whiteId,\n                                            match_.whiteOrigRating\n                                          ],\n                                          tl: {\n                                            hd: [\n                                              match_.blackId,\n                                              match_.blackOrigRating\n                                            ],\n                                            tl: /* [] */0\n                                          }\n                                        }, (function (param) {\n                                            var player = Belt_Map.get(players, param[0]);\n                                            if (player !== undefined) {\n                                              return Curry._1(playersDispatch, {\n                                                          TAG: /* Set */1,\n                                                          _0: player.id,\n                                                          _1: {\n                                                            firstName: player.firstName,\n                                                            id: player.id,\n                                                            lastName: player.lastName,\n                                                            matchCount: player.matchCount - 1 | 0,\n                                                            rating: param[1],\n                                                            type_: player.type_\n                                                          }\n                                                        });\n                                            }\n                                            \n                                          }));\n                                  }\n                                  var newRound = Data_Rounds$Coronate.Round.removeMatchById(matches$1, __x);\n                                  var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                  if (roundList$1 !== undefined) {\n                                    Curry._1(setTourney, {\n                                          id: tourney.id,\n                                          name: tourney.name,\n                                          date: tourney.date,\n                                          playerIds: tourney.playerIds,\n                                          scoreAdjustments: tourney.scoreAdjustments,\n                                          byeQueue: tourney.byeQueue,\n                                          tieBreaks: tourney.tieBreaks,\n                                          roundList: Caml_option.valFromOption(roundList$1)\n                                        });\n                                  }\n                                  return Curry._1(setSelectedMatch, (function (param) {\n                                                \n                                              }));\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Trash2, {}), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match_ = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match_ === undefined) {\n                                    return ;\n                                  }\n                                  var newMatch = Data_Match$Coronate.swapColors(match_);\n                                  Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                          return Curry._1(setTourney, {\n                                                      id: tourney.id,\n                                                      name: tourney.name,\n                                                      date: tourney.date,\n                                                      playerIds: tourney.playerIds,\n                                                      scoreAdjustments: tourney.scoreAdjustments,\n                                                      byeQueue: tourney.byeQueue,\n                                                      tieBreaks: tourney.tieBreaks,\n                                                      roundList: roundList\n                                                    });\n                                        }));\n                                  \n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Repeat, {}), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, -1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowUp, {}), \" Move up\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, 1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowDown, {}), \" Move down\")), Data_Rounds$Coronate.Round.size(matches$1) === 0 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, tmp));\n}\n\nfunction PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var match = LoadTournament$Coronate.useRoundData(roundId, tournament);\n  var unmatchedCount = match.unmatchedCount;\n  var scoreData = match.scoreData;\n  var activePlayersCount = match.activePlayersCount;\n  var initialTab = unmatchedCount === activePlayersCount ? 1 : 0;\n  var match$1 = React.useState(function () {\n        return initialTab;\n      });\n  var setOpenTab = match$1[1];\n  React.useEffect((function () {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          \n        }), [\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, {}), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, {}), Utils$Coronate.$$String.concat({\n                          hd: \" Unmatched players (\",\n                          tl: {\n                            hd: String(unmatchedCount),\n                            tl: {\n                              hd: \")\",\n                              tl: /* [] */0\n                            }\n                          }\n                        }, \"\"))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, unmatchedCount !== 0 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: match.unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: match.unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar make = PageRound;\n\nexport {\n  RoundTable ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = String(date.getFullYear());\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var month = rawMonth < 9.0 ? \"0\" + String(rawMonth + 1.0) : String(rawMonth + 1.0);\n  var day = rawDate < 10.0 ? \"0\" + String(rawDate) : String(rawDate);\n  return Utils$Coronate.$$String.concat({\n              hd: year,\n              tl: {\n                hd: month,\n                tl: {\n                  hd: day,\n                  tl: /* [] */0\n                }\n              }\n            }, \"-\");\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var date = tourney.date;\n  var name = tourney.name;\n  var setTourney = tournament.setTourney;\n  var match = React.useState(function () {\n        return /* NotEditing */2;\n      });\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            \n          }));\n    \n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          \n        }), [editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to .\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = Utils$Coronate.$$String.split(rawDate, \"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = [\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = [\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Belt_Float.fromString(match$1[0]);\n    var month$1 = Belt_Float.fromString(match$1[1]);\n    var date = Belt_Float.fromString(match$1[2]);\n    if (year$1 !== undefined && month$1 !== undefined && date !== undefined) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: new Date(year$1, month$1 - 1.0, date),\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n    \n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, {}), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: $$event.currentTarget.value,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        scoreAdjustments: tourney.scoreAdjustments,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: tourney.roundList\n                                      });\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, {}))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, {}), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, {}))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Router$Coronate.HashLink.make, {\n                      children: \"app options\",\n                      to_: /* Options */4\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Scoring$Coronate from \"../Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nvar table = Curry._1(Css.style, {\n      hd: Css.borderCollapse(/* collapse */-996847251),\n      tl: {\n        hd: Css.unsafe(\"width\", \"min-content\"),\n        tl: /* [] */0\n      }\n    });\n\nvar topHeader = Curry._1(Css.style, {\n      hd: Css.verticalAlign(/* bottom */-445061397),\n      tl: /* [] */0\n    });\n\nvar compact = Curry._1(Css.style, /* [] */0);\n\nvar row = Curry._1(Css.style, {\n      hd: Css.selector(\":nth-of-type(even)\", {\n            hd: Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            tl: /* [] */0\n          }),\n      tl: {\n        hd: Css.selector(\":nth-of-type(odd)\", {\n              hd: Css.backgroundColor(Utils$Coronate.PhotonColors.grey_20),\n              tl: /* [] */0\n            }),\n        tl: /* [] */0\n      }\n    });\n\nvar rowTd = Curry._1(Css.style, {\n      hd: Css.borderWidth({\n            HASH: /* px */25096,\n            VAL: 1\n          }),\n      tl: {\n        hd: Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n        tl: {\n          hd: Css.borderStyle(/* solid */12956715),\n          tl: /* [] */0\n        }\n      }\n    });\n\nvar rowTh = Curry._1(Css.style, {\n      hd: Css.borderBottomStyle(/* solid */12956715),\n      tl: {\n        hd: Css.borderWidth({\n              HASH: /* px */25096,\n              VAL: 1\n            }),\n        tl: {\n          hd: Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n          tl: {\n            hd: Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nvar playerName = Curry._1(Css.style, {\n      hd: Css.textAlign(/* left */-944764921),\n      tl: {\n        hd: Css.color(Utils$Coronate.PhotonColors.grey_90),\n        tl: /* [] */0\n      }\n    });\n\nvar rank = Curry._1(Css.style, {\n      hd: Css.textAlign(/* center */98248149),\n      tl: {\n        hd: Css.color(Utils$Coronate.PhotonColors.grey_90),\n        tl: /* [] */0\n      }\n    });\n\nvar number = Curry._1(Css.style, {\n      hd: Css.padding({\n            HASH: /* px */25096,\n            VAL: 4\n          }),\n      tl: /* [] */0\n    });\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var sizeOpt = Props.size;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var size = sizeOpt !== undefined ? sizeOpt : /* Expanded */1;\n  var tieBreaks = tourney.tieBreaks;\n  var tieBreakNames = Belt_Array.map(tieBreaks, Data_Scoring$Coronate.TieBreak.toPrettyString);\n  var standingTree = Data_Scoring$Coronate.createStandingTree(Belt_List.keep(Data_Scoring$Coronate.createStandingList(Data_Converters$Coronate.tournament2ScoreData(tourney.roundList, tourney.scoreAdjustments), tieBreaks), (function (param) {\n              return !Data_Id$Coronate.isDummy(param.id);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.$less$colon$great(table, Cn.on(compact, size ? false : true))\n            }, React.createElement(\"caption\", {\n                  className: Cn.$less$colon$great(Cn.on(\"title-30\", size ? false : true), Cn.on(\"title-40\", !(\n                            size ? false : true\n                          )))\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), size ? Belt_Array.mapWithIndex(tieBreakNames, (function (i, name) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })) : null)), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingTree)), (function (rank$1, standingsFlat) {\n                        return Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingsFlat)), (function (i, standing) {\n                                      return React.createElement(\"tr\", {\n                                                  key: Data_Id$Coronate.toString(standing.id),\n                                                  className: row\n                                                }, i === 0 ? React.createElement(\"th\", {\n                                                        className: Cn.$less$colon$great(Cn.$less$colon$great(Cn.$less$colon$great(\"table__number\", number), rank), rowTh),\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, rank$1 + 1 | 0) : null, size ? React.createElement(Utils$Coronate.TestId.make, {\n                                                        children: React.createElement(\"th\", {\n                                                              className: Cn.$less$colon$great(rowTh, playerName),\n                                                              scope: \"row\"\n                                                            }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName),\n                                                        testId: \"rank-\" + (String(rank$1 + 1 | 0) + (\".\" + String(i)))\n                                                      }) : React.createElement(\"td\", {\n                                                        className: Cn.$less$colon$great(rowTd, playerName)\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), React.createElement(\"td\", {\n                                                      className: Cn.$less$colon$great(Cn.$less$colon$great(number, rowTd), \"table__number\")\n                                                    }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, standing.score).format(\"1/2\")), size ? Belt_Array.map(Belt_List.toArray(standing.tieBreaks), (function (param) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Data_Scoring$Coronate.TieBreak.toString(param[0]),\n                                                                      className: Cn.$less$colon$great(rowTd, \"table__number\")\n                                                                    }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, param[1]).format(\"1/2\"));\n                                                        })) : null);\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney.tieBreaks;\n  var match = React.useState(function () {\n        \n      });\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            scoreAdjustments: tourney.scoreAdjustments,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks.filter(function (tbId) {\n                  return !Data_Scoring$Coronate.TieBreak.eq(defaultId(id), tbId);\n                }),\n            roundList: tourney.roundList\n          });\n      return Curry._1(setSelectedTb, (function (param) {\n                    \n                  }));\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks.concat([defaultId(id)]),\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb === undefined) {\n      return ;\n    }\n    var index = tieBreaks.indexOf(selectedTb);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: tourney.date,\n                playerIds: tourney.playerIds,\n                scoreAdjustments: tourney.scoreAdjustments,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: Utils$Coronate.$$Array.swap(tourney.tieBreaks, index, index + direction | 0),\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, {}), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, {}), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.$less$colon$great(\"button-micro\", Cn.onSome(\"button-primary\", selectedTb)),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            \n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(tieBreaks, (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak),\n                                            className: Cn.mapSome(selectedTb, (function (x) {\n                                                    if (x === tieBreak) {\n                                                      return \"selected\";\n                                                    } else {\n                                                      return \"\";\n                                                    }\n                                                  }))\n                                          }, React.createElement(\"td\", undefined, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          if (Data_Scoring$Coronate.TieBreak.eq(selectedTb, tieBreak)) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          \n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, selectedTb !== undefined && Data_Scoring$Coronate.TieBreak.eq(selectedTb, tieBreak) ? \"Done\" : \"Edit\")));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map([\n                              /* Median */0,\n                              /* Solkoff */1,\n                              /* Cumulative */2,\n                              /* CumulativeOfOpposition */3,\n                              /* MostBlack */4\n                            ], (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: tieBreaks.includes(tieBreak) ? \"disabled\" : \"enabled\"\n                                                  }, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak))), React.createElement(\"td\", undefined, tieBreaks.includes(tieBreak) ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, {}), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, {}), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament.setTourney\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (Data_Id$Coronate.eq(player1Id, player2Id)) {\n    return React.createElement(ReactFeather.X, {\n                className: \"disabled\"\n              });\n  }\n  var scoreData$1 = Belt_Map.get(scoreData, player1Id);\n  if (scoreData$1 === undefined) {\n    return null;\n  }\n  var result = Data_Scoring$Coronate.oppResultsToSumById(scoreData$1, player2Id);\n  if (result !== undefined) {\n    return Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, Caml_option.valFromOption(result)).format(\"1/2\");\n  } else {\n    return null;\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_Map.getExn(scoreData, playerId).firstRating;\n  var match = Belt_Map.getExn(scoreData, playerId).ratings;\n  var lastRating = match ? match.hd : firstRating;\n  var change = Numeral.default(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: Cn.$less$colon$great(rowTd, \"table__number\")\n                }, lastRating), React.createElement(\"td\", {\n                  className: Cn.$less$colon$great(rowTd, \"table__number body-10\")\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var param = Props.tournament;\n  var match = param.tourney;\n  var getPlayer = param.getPlayer;\n  var scoreData = Data_Converters$Coronate.tournament2ScoreData(match.roundList, match.scoreAdjustments);\n  var standings = Data_Scoring$Coronate.createStandingList(scoreData, match.tieBreaks);\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, rank + 1 | 0);\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.$less$colon$great(rowTh, rank),\n                                        scope: \"col\"\n                                      }, index + 1 | 0), React.createElement(\"th\", {\n                                        className: Cn.$less$colon$great(rowTh, playerName),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.$less$colon$great(rowTd, \"table__number\")\n                                                    }, getXScore(scoreData, standing.id, opponent.id));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.$less$colon$great(rowTd, \"table__number\")\n                                      }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, standing.score).format(\"1/2\")), getRatingChangeTds(scoreData, standing.id));\n                      }))));\n}\n\nvar make = PageTourneyScores;\n\nvar Crosstable = {\n  make: PageTourneyScores$Crosstable\n};\n\nexport {\n  make ,\n  ScoreTable ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney.roundList);\n  var lastRound = Data_Rounds$Coronate.get(tourney.roundList, lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = Caml_option.valFromOption(lastRound);\n    tmp = Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: Data_Rounds$Coronate.Round.toArray(matches),\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: tmp\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                            size: /* Compact */0,\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament.isNewRoundReady ? (\n      tournament.isItOver ? [\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : [\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : [\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", Data_Rounds$Coronate.size(tournament.tourney.roundList), React.createElement(\"small\", undefined, \" out of \"), tournament.roundCount), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Registered players: \", Belt_Map.size(tournament.activePlayers)));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var isItOver = tournament.isItOver;\n  var activePlayers = tournament.activePlayers;\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (!window.confirm(\"Are you sure you want to delete the last round?\")) {\n      return ;\n    }\n    ReasonReactRouter.push(\"#/tourneys/\" + Data_Id$Coronate.toString(tourney.id));\n    var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n    var round = Data_Rounds$Coronate.get(roundList, lastRoundId);\n    if (round !== undefined) {\n      Belt_Array.forEach(Data_Rounds$Coronate.Round.toArray(Caml_option.valFromOption(round)), (function (match_) {\n              if (match_.result >= 3) {\n                return ;\n              } else {\n                return Belt_List.forEach({\n                            hd: [\n                              match_.whiteId,\n                              match_.whiteOrigRating\n                            ],\n                            tl: {\n                              hd: [\n                                match_.blackId,\n                                match_.blackOrigRating\n                              ],\n                              tl: /* [] */0\n                            }\n                          }, (function (param) {\n                              var player = Belt_Map.get(players, param[0]);\n                              if (player === undefined) {\n                                return ;\n                              }\n                              var matchCount = player.matchCount - 1 | 0;\n                              return Curry._1(playersDispatch, {\n                                          TAG: /* Set */1,\n                                          _0: player.id,\n                                          _1: {\n                                            firstName: player.firstName,\n                                            id: player.id,\n                                            lastName: player.lastName,\n                                            matchCount: matchCount,\n                                            rating: param[1],\n                                            type_: player.type_\n                                          }\n                                        });\n                            }));\n              }\n            }));\n    }\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.delLastRound(roundList)\n        });\n    if (Data_Rounds$Coronate.size(roundList) === 0) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* TournamentList */1,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Setup */3\n                              },\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Players */0\n                              },\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Status */4\n                              },\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Crosstable */2\n                              },\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Scores */1\n                              },\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, Belt_Array.mapWithIndex(Data_Rounds$Coronate.toArray(roundList), (function (id, param) {\n                            return React.createElement(\"li\", {\n                                        key: String(id)\n                                      }, React.createElement(Router$Coronate.HashLink.make, {\n                                            children: null,\n                                            to_: {\n                                              TAG: /* Tournament */0,\n                                              _0: tourney.id,\n                                              _1: /* Round */{\n                                                _0: id\n                                              }\n                                            },\n                                            onDragStart: noDraggy\n                                          }, id + 1 | 0, Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id) ? React.createElement(\"span\", {\n                                                  className: Cn.$less$colon$great(\"sidebar__hide-on-close\", \"caption-20\")\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, {})) : React.createElement(\"span\", {\n                                                  className: Cn.$less$colon$great(\"sidebar__hide-on-close\", \"caption-20\")\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, {}))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament.isNewRoundReady,\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: Data_Rounds$Coronate.size(roundList) === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var subPage = Props.subPage;\n  var windowDispatch = Props.windowDispatch;\n  var tmp = {\n    children: (function (tournament) {\n        var tmp;\n        if (typeof subPage === \"number\") {\n          switch (subPage) {\n            case /* Players */0 :\n                tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Scores */1 :\n                tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Crosstable */2 :\n                tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Setup */3 :\n                tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Status */4 :\n                tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            \n          }\n        } else {\n          tmp = React.createElement(PageRound$Coronate.make, {\n                roundId: subPage._0,\n                tournament: tournament\n              });\n        }\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: tmp,\n                    footerFunc: (function (param) {\n                        return React.createElement(PageTourney$Footer, {\n                                    tournament: tournament\n                                  });\n                      }),\n                    sidebarFunc: (function (param) {\n                        return React.createElement(PageTourney$Sidebar, {\n                                    tournament: tournament\n                                  });\n                      })\n                  });\n      }),\n    tourneyId: tourneyId\n  };\n  if (windowDispatch !== undefined) {\n    tmp.windowDispatch = Caml_option.valFromOption(windowDispatch);\n  }\n  return React.createElement(LoadTournament$Coronate.make, tmp);\n}\n\nvar make = PageTourney;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nvar dateSort = {\n  TAG: /* GetDate */3,\n  _0: (function (x) {\n      return x.date;\n    })\n};\n\nvar nameSort = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.name;\n    })\n};\n\nfunction PageTournamentList(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var dispatch = match.dispatch;\n  var tourneys = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState(function () {\n        return \"\";\n      });\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var dialog = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */5,\n                _0: \"Tournament list\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */5,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, {\n                TAG: /* SetTable */2,\n                _0: Belt_Map.valuesToArray(tourneys)\n              });\n          \n        }), [\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Data_Id$Coronate.random(undefined);\n    Curry._1(dispatch, {\n          TAG: /* Set */1,\n          _0: id,\n          _1: Data_Tournament$Coronate.make(id, newTourneyName)\n        });\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(dialog.setFalse, undefined);\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(dialog.setTrue, undefined);\n                              })\n                          }, React.createElement(ReactFeather.Plus, {}), \" Add tournament\")), Belt_Map.isEmpty(tourneys) ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, Belt_Array.map(sorted.table, (function (param) {\n                                    var name = param.name;\n                                    var id = param.id;\n                                    return React.createElement(\"tr\", {\n                                                key: Data_Id$Coronate.toString(id),\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                                                        children: name,\n                                                        to_: {\n                                                          TAG: /* Tournament */0,\n                                                          _0: id,\n                                                          _1: /* Players */0\n                                                        }\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: param.date\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + name + \"\",\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + name,\n                                                        onClick: (function (param) {\n                                                            var message = \"Are you sure you want to delete \" + name + \"?\";\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, {\n                                                                          TAG: /* Del */0,\n                                                                          _0: id\n                                                                        });\n                                                            }\n                                                            \n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, {}))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: dialog.state,\n                        onDismiss: dialog.setFalse,\n                        ariaLabel: \"Create new tournament\",\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(dialog.setFalse, undefined);\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/legacy/ReactDOMRe.bs.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nfunction Index$App(Props) {\n  var url = Router$Coronate.useHashUrl(undefined);\n  return React.createElement(Window$Coronate.make, {\n              children: (function (windowDispatch) {\n                  var tmp;\n                  if (typeof url === \"number\") {\n                    switch (url) {\n                      case /* Index */0 :\n                          tmp = React.createElement(Pages$Coronate.Splash.make, {});\n                          break;\n                      case /* TournamentList */1 :\n                          tmp = React.createElement(PageTournamentList$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* PlayerList */2 :\n                          tmp = React.createElement(PagePlayers$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* TimeCalculator */3 :\n                          tmp = React.createElement(Pages$Coronate.TimeCalculator.make, {});\n                          break;\n                      case /* Options */4 :\n                          tmp = React.createElement(PageOptions$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* NotFound */5 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.NotFound.make, {})\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = url.TAG ? React.createElement(PagePlayers$Coronate.make, {\n                            id: url._0,\n                            windowDispatch: windowDispatch\n                          }) : React.createElement(PageTourney$Coronate.make, {\n                            tourneyId: url._0,\n                            subPage: url._1,\n                            windowDispatch: windowDispatch\n                          });\n                  }\n                  return React.createElement(\"main\", {\n                              className: \"app__main\"\n                            }, tmp);\n                }),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: Index$App\n};\n\nfunction init(param) {\n  return ReactDOMRe.renderToElementWithId(React.createElement(Index$App, {}), \"root\");\n}\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  \n}\n\nvar ServiceWorker$1 = {\n  unregister: unregister\n};\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  init ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}