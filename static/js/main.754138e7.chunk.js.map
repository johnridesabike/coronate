{"version":3,"sources":["components/tournament/scores.module.css","serviceWorker.js","side-effects.js","data-types/types.js","data-types/constants.js","data-types/factories.js","data-types/index.js","pairing-scoring/ratings.js","pairing-scoring/helpers.js","pairing-scoring/scoring.js","pairing-scoring/factories.js","pairing-scoring/pairing.js","components/icons.jsx","hooks/reducers/generic-db-reducer.js","hooks/reducers/options-reducer.js","hooks/reducers/players-reducer.js","hooks/reducers/match-functions.js","hooks/reducers/tournament-reducer.js","demo-data/index.js","hooks/db.js","hooks/tournament-provider.jsx","hooks/hooks.js","components/tournament/crosstable.jsx","components/utility.jsx","components/new-player.jsx","components/tournament/player-select/selecting.jsx","components/tournament/player-select/index.jsx","components/tournament/pair-picker/player-info.jsx","components/tournament/pair-picker/select-list.jsx","components/tournament/pair-picker/stage.jsx","components/tournament/pair-picker/index.jsx","components/404.jsx","components/tournament/round/player-match-info.jsx","components/tournament/round/match-row.jsx","components/tournament/round/round-table.jsx","components/tournament/round/round.jsx","components/tournament/round/index.jsx","components/tournament/scores.jsx","components/tournament/header.jsx","components/tournament/options.jsx","components/tournament/sidebar.jsx","components/tournament/status.jsx","components/tournament/tournament.jsx","components/sidebar-default.jsx","components/tournament/tournament-list.jsx","components/tournament/index.jsx","electron-utils.js","components/caution/index.jsx","components/options.jsx","components/players/player-list.jsx","components/players/player-profile.jsx","components/players/index.jsx","components/splash.jsx","components/windows-controls.jsx","App.jsx","index.jsx","components/tournament/round/round.module.css","components/splash.module.css","components/windows-controls.module.css","components/tournament/tournament.module.css","components/players/index.module.css","components/caution/index.module.css","components/utility.module.css"],"names":["module","exports","table","topHeader","row","compact","playerName","rank","Boolean","window","location","hostname","match","numeral","register","format","value","roundingFunction","whole","Math","floor","remainder","fraction","String","regexps","unformat","Number","Id","t","refinement","id","test","AvoidPair","tuple","Player","interface","firstName","lastName","matchCount","rating","type","PlayerStats","avoidList","list","colorBalance","dueColor","maybe","hasHadBye","isDueBye","opponentHistory","profile","score","upperHalf","Match","newRating","origRating","playerIds","result","RoundList","Tournament","byeQueue","date","Date","name","roundList","tieBreaks","ScoreCalulator","func","Standing","WHITE","BLACK","DUMMY_ID","createMatch","importObj","nanoid","createPlayer","arguments","length","undefined","dummyPlayer","missingPlayer","kFactor","isNotDummy","playerId","getPlayerMaybe","playerDict","dict","player","isNotBye","includes","getMatchesByPlayer","matchList","filter","getMatchesByPlayerNoByes","getMatchDetailsForPlayer","index","indexOf","color","rounds2Matches","roundId","slice","reduce","acc","round","concat","getAllPlayersFromMatches","allPlayers","Array","from","Set","getUnmatched","tourney","players","matchedIds","Object","values","assoc","isRoundComplete","unmatched","results","map","keys","getPlayerAvoidList","pair","accumulator","getDueColor","lastMatch","last","getPlayersByOpponent","opponentId","getOpponentScores","opponent","getPlayerScore","of","scoreList","getPlayerScoreList","sum","getCumulativeScore","getPlayerScoreListNoByes","getCumulativeOfOpponentScore","oppScores","getColorBalanceScore","colorList","tieBreakMethods","0","scores","pipe","sort","a","b","init","tail","1","2","3","4","createStandingList","methods","selectedTieBreaks","i","tieBreakNames","m","standings","_ref","sortFuncList","key","descend","path","prop","sortWith","createStandingTree","_createStandingList","_createStandingList2","slicedToArray","standingsFlat","standing","orig","standing1","standing2","prevStanding","append","over","lensIndex","createPlayerStats","_ref2","matches","freeze","priority","condition","avoidMeetingTwice","sameScores","divider","differentHalf","differentDueColor","maxPriority","add","calcPairIdeal","player1","player2","metBefore","mustAvoid","abs","setUpperHalves","playerStatsList","splitInHalf","splitAt","ignore","src","isUpperHalf","view","setByePlayer","hasNotHadBye","p","nextByeSignup","indexOfDueBye","findLastIndex","sortPlayersForPairing","simpleIcon","icon","props","react_default","createElement","assign","dangerouslySetInnerHTML","__html","svg","aria-label","title","role","style","fill","hex","icons","Activity","Alert","ArrowDown","ArrowLeft","ArrowUp","Award","Check","CheckCircle","ChevronDown","ChevronLeft","ChevronRight","ChevronUp","Circle","Download","Edit","Help","Info","Javascript","Layers","List","Logo","height","viewBox","width","xmlns","cx","cy","fillRule","r","strokeWidth","clipPath","d","Plus","React","ReactIcon","Repeat","Settings","Sidebar","Trash","UserMinus","UserPlus","Users","X","ActionLoadState","state","Any","ActionDelItem","ActionAddItem","item","ActionAddTourney","AdctionAddPlayer","ActionSetPlayer","ActionTypes","union","genericDbReducer","action","nextId","console","warn","dissoc","lensProp","mergeLeft","Error","dispatch","x","ADD_ITEM","ADD_PLAYER","ADD_TOURNEY","DEL_ITEM","LOAD_STATE","SET_PLAYER","ActionSetOption","option","ActionAvoidPair","ActionAvoidSingle","optionsReducer","ADD_AVOID_PAIR","DEL_AVOID_PAIR","DEL_AVOID_SINGLE","SET_OPTION","ActionAddPlayer","ActionDelPlayer","ActionSetMatchcount","ActionSetRating","playersReducer","lensPath","set","DEL_PLAYER","SET_PLAYER_MATCHCOUNT","SET_PLAYER_RATING","autoPair","byeValue","pairs","curry","potentialMatches","playerMatches","reducedResults","blossom","p1Index","p2Index","p1Id","p2Id","p1","p2","matched","pair1","pair2","reverse","byePlayer","pairPlayers","getPlayer","idsPair","ActionAddRound","ActionDelLastRound","ActionAddRemoveTieBreak","ActionMoveTieBreak","newIndex","oldIndex","ActionSetTourneyPlayers","ActionSetByeQueue","ActionAutoPair","ActionManualPair","ActionSetMatchResult","matchId","ActionEditMatch","ActionMoveMatch","ActionSetName","ActionSetDate","ActionUpdateByeScores","tournamentReducer","remove","move","__","manualPair","findIndex","propEq","mergeRight","log","ADD_ROUND","ADD_TIEBREAK","AUTO_PAIR","DEL_LAST_ROUND","DEL_MATCH","DEL_TIEBREAK","MANUAL_PAIR","MOVE_MATCH","MOVE_TIEBREAK","SET_BYE_QUEUE","SET_DATE","SET_MATCH_RESULT","SET_NAME","SET_STATE","SET_TOURNEY_PLAYERS","SWAP_COLORS","UPDATE_BYE_SCORES","demo_data","options","tournaments","fromJSON","setItemsPrototype","localForage","removeItemsPrototype","optionsStore","createInstance","storeName","playerStore","tourneyStore","useAllItemsFromDb","store","_useReducer","useReducer","_useReducer2","items","_useState","useState","_useState2","isLoaded","setIsLoaded","useEffect","document","body","cursor","getItems","then","_config","catch","setItems","deleted","difference","removeItems","useAllPlayersDb","useAllTournamentsDb","useOptionsDb","_useReducer3","defaultOptions","_useReducer4","_useState3","_useState4","iterate","TournamentContext","createContext","useTournament","useContext","TournamentProvider","children","tourneyId","tourneyDispatch","playersDispatch","isTourneyLoaded","setIsTourneyLoaded","isPlayersLoaded","setIsPlayersLoaded","_useState5","_useState6","isDbError","setIsDbError","getItem","allTheIds","unChangedPlayers","symmetricDifference","error","setItem","activePlayers","Provider","useSortedTable","origTable","defaultKey","defaultDescend","setTable","setKey","isDescending","setIsDescending","direction","ascend","toggleDirection","useDocumentTitle","origTitle","Crosstable","_useTournament","oppResults","defaultTo","opponentScores","getRatingChangeTds","_getPerformanceRating","firstMatch","getPerformanceRatings","_getPerformanceRating2","firstRating","lastRating","change","Fragment","className","colSpan","scope","index2","player1Id","player2Id","getXScore","Panel","_ref4","styles","panel","objectSpread","PanelContainer","panels","DateFormat","dateFormat","Intl","DateTimeFormat","day","month","year","cleanProps","omit","dateTime","toISOString","Notification","_ref5","success","warning","_ref6","tooltip","PlaceholderButton","aria-hidden","disabled","SortLabel","_ref7","label","sortKey","data","utility_PlaceholderButton","onClick","findById","NewPlayer","newPlayerDefault","newPlayerData","setNewPlayerdata","updateField","event","preventDefault","_event$currentTarget","currentTarget","prevState","onSubmit","htmlFor","required","onChange","Selecting","_useAllPlayersDb","_useAllPlayersDb2","allPlayersDispatch","togglePlayer","target","checked","pId","PlayerList","PlayerSelect","isSelecting","setIsSelecting","flexShrink","dialog_es","isOpen","PlayerInfo","_useOptionsDb","_createPlayerStats","avoidPairs","prettyBalance","opId","SelectList","stagedPlayers","setStagedPlayers","unmatchedCount","unmatchedWithDummy","selectPlayer","visually_hidden_es","Stage","_stagedPlayers","white","black","unstage","react","every","PairPicker","isModalOpen","setIsModalOpen","statsList","useMemo","matchIdeal","ideal","flexGrow","NotFound","data-testid","PlayerMatchInfo","playerData","MatchRow","pos","selectedMatch","setSelectedMatch","openModal","setOpenModal","resultCode","whitePlayer","blackPlayer","whiteName","blackName","ResultDisplay","setMatchResult","origRatings","matchCounts","whiteElo","EloRank","blackElo","scoreExpected","getExpected","updateRating","calcNewRatings","rowId","playerResult","matchResult","winnerSelect","onBlur","controls","RoundTable","tbody","Round","_404","moveMatch","forEach","unMatch","Index","openTab","setOpenTab","tabs_es","ScoreTable","_createStandingTree","_createStandingTree2","standingTree","tbMethods","rowSpan","dashify","j","SelectTieBreaks","_useTournament2","selectedTb","setSelectedTb","toggleTb","defaultId","moveTb","marginTop","Scores","Header","isEditingName","setIsEditingName","isEditingDate","setIsEditingDate","dateInput","getFullYear","getMonth","getDate","_event$currentTarget$","split","_event$currentTarget$2","rawYear","rawMonth","rawDay","Options","alert","es","to","isComplete","isNewRoundReady","roundCount","playerCount","ceil","log2","isFinite","calcNumOfRounds","isItOver","tooltipText","tooltipWarn","_delLastRound","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","confirm","navigate","stop","apply","this","Status","lastRound","lastRoundId","textAlign","justifyContent","tournament","header","sidebar","contentFrame","tournament_scores","default","HasSidebar","sidebar_default_Sidebar","TournamentList","_useAllTournamentsDb","_useAllTournamentsDb2","tourneys","sorted","newTourneyName","setNewTourneyName","isFormOpen","setIsFormOpen","message","deleteTournament","placeholder","TournamentIndex","electron","require","ifElectron","fn","macOSDoubleClick","doubleClickAction","remote","systemPreferences","getUserDefault","win","getCurrentWindow","minimize","isMaximized","unmaximize","maximize","toggleMaximize","Caution","caution","caution__text","caution__link","href","tourneysDispatch","text","setText","_useOptionsDb2","optionsDispatch","exportData","loadData","JSON","stringify","download","encodeURIComponent","reader","FileReader","onload","ev","parse","readAsText","files","demoData","cols","rows","spellCheck","delPlayer","PlayerProfile","singAvoidList","setSingAvoidList","unAvoided","selectedAvoider","setSelectedAvoider","handleChange","playerInfo","defaultValue","readOnly","arial-label","PlayerProfileWrapper","Players","childProps","basepath","player_list_PlayerList","Splash","splash","hint","Promise","all","titleIcon","titleText","subtitle","footer","fontSize","Close","Maximize","Minimize","Restore","Controls","setIsMaximized","on","container","winButton","windows_controls_Minimize","windows_controls_Restore","windows_controls_Maximize","close","windows_controls_Close","source","createHashSource","history","createHistory","App","isSidebarOpen","setIsSidebarOpen","isFullScreen","setIsFullScreen","isWindowBlur","setIsWindowBlur","isFocused","classNames","open-sidebar","closed-sidebar","window-blur","traffic-light-padding","navigator","appVersion","onDoubleClick","pathname","left","marginLeft","marginRight","position","right","tournament_Tournament","options_Options","ReactDOM","render","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.754138e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"scores_table__22BFZ\",\"topHeader\":\"scores_topHeader__2RVRR\",\"row\":\"scores_row__bmBzX\",\"compact\":\"scores_compact__1-hlH\",\"playerName\":\"scores_playerName__3ghv9\",\"rank\":\"scores_rank__3AxBb\"};","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import numeral from \"numeral\";\n\n// let's make a custom numeral format. I don't really know how this works.\nnumeral.register(\"format\", \"fraction\", {\n    // eslint-disable-next-line no-unused-vars\n    format: function (value, format, roundingFunction) {\n        const whole = Math.floor(value);\n        const remainder = value - whole;\n        const fraction = (function () {\n            switch (remainder) {\n            case 0.25:\n                return \"\";\n            case 0.5:\n                return \"\";\n            case 0.75:\n                return \"\";\n            default:\n                return \"\";\n            }\n        }());\n        const stringedWhole = (\n            (whole === 0 && remainder)\n            ? \"\"\n            : String(whole)\n        );\n        return stringedWhole + fraction;\n    },\n    regexps: {\n        format: /(1\\/2)/,\n        unformat: /(1\\/2)/\n    },\n    unformat: function (value) {\n        // TODO: This doesn't do anything currently\n        return Number(value);\n    }\n});\n","import t from \"tcomb\";\n\nconst Id = t.refinement(\n    t.String,\n    (id) => /^[A-Za-z0-9_-]{21}$/.test(id),\n    \"NanoId\"\n);\nexport {Id};\n\nconst AvoidPair = t.tuple([Id, Id], \"AvoidPair\");\nexport {AvoidPair};\n\nconst Player = t.interface(\n    {\n        firstName: t.String,\n        id: Id,\n        lastName: t.String,\n        matchCount: t.Number,\n        rating: t.Number,\n        type: t.String // used for CSS styling etc\n    },\n    \"Player\"\n);\nexport {Player};\n\nconst PlayerStats = t.interface(\n    {\n        avoidList: t.list(Id),\n        colorBalance: t.Number,\n        dueColor: t.maybe(t.Number),\n        hasHadBye: t.Boolean,\n        id: Id,\n        isDueBye: t.Boolean,\n        opponentHistory: t.list(Id),\n        profile: Player,\n        rating: t.Number,\n        score: t.Number,\n        upperHalf: t.Boolean\n    },\n    \"PlayerStats\"\n);\nexport {PlayerStats};\n\nconst Match = t.interface(\n    {\n        id: Id,\n        newRating: t.tuple([t.Number, t.Number]),\n        origRating: t.tuple([t.Number, t.Number]),\n        playerIds: t.tuple([Id, Id]),\n        result: t.tuple([t.Number, t.Number])\n    },\n    \"Match\"\n);\nexport {Match};\n\nconst RoundList = t.list(t.list(Match), \"Round list\");\nexport {RoundList};\n\nconst Tournament = t.interface(\n    {\n        byeQueue: t.list(t.String),\n        date: Date,\n        id: Id,\n        name: t.String,\n        playerIds: t.list(t.String),\n        roundList: RoundList,\n        tieBreaks: t.list(t.Number)\n    },\n    \"Tournament\"\n);\nexport {Tournament};\n\nconst ScoreCalulator = t.func(\n    [Id, t.list(Match)],\n    t.Number,\n    \"ScoreCalulator\"\n);\nexport {ScoreCalulator};\n\nconst Standing = t.interface(\n    {\n        id: Id,\n        score: t.Number,\n        tieBreaks: t.list(t.Number)\n    },\n    \"Standing\"\n);\nexport {Standing};\n","/**\n * These define the array indices used in `Match` objects.\n * @example: `[WhitePlayer, BlackPlayer1]`, `[WhiteScore, BlackScore]`\n */\nconst WHITE = 0;\nconst BLACK = 1;\n/**\n * Used in by matches to indicate a dummy player. Used with the\n * `getPlayerMaybe()` method to return a dummy player profile.\n * Conforms to the NanoID regex.\n */\nconst DUMMY_ID = \"________DUMMY________\";\n\nexport {BLACK, DUMMY_ID, WHITE};\n","// These factories are mainly useful as a shortcut for default values.\nimport {Match, Player, Tournament} from \"./types\";\nimport nanoid from \"nanoid\";\n\nexport function createMatch(importObj) {\n    return Match({\n        id: importObj.id || nanoid(),\n        newRating: importObj.newRating,\n        origRating: importObj.origRating,\n        playerIds: importObj.playerIds,\n        result: importObj.result || [0, 0]\n    });\n}\n\nexport function createPlayer(importObj = {}) {\n    return Player({\n        firstName: importObj.firstName,\n        id: importObj.id || nanoid(),\n        lastName: importObj.lastName,\n        matchCount: importObj.matchCount || 0,\n        rating: importObj.rating || 0,\n        type: importObj.type || \"person\" // used for CSS styling etc.\n    });\n}\n\n// eslint-disable-next-line complexity\nexport function createTournament(importObj) {\n    return Tournament({\n        byeQueue: importObj.byeQueue || [],\n        date: importObj.date || new Date(),\n        id: importObj.id || nanoid(),\n        name: importObj.name,\n        playerIds: importObj.playerIds || [],\n        roundList: importObj.roundList || [],\n        tieBreaks: importObj.tieBreaks || [0, 1, 2, 3]\n    });\n}\n","import {\n    AvoidPair,\n    Id,\n    Match,\n    Player,\n    PlayerStats,\n    RoundList,\n    ScoreCalulator,\n    Standing,\n    Tournament\n} from \"./types\";\nimport {BLACK, DUMMY_ID, WHITE} from \"./constants\";\nimport {createMatch, createPlayer, createTournament} from \"./factories\";\n\n/**\n * The dummy player profile data to display in bye matches.\n */\nconst dummyPlayer = createPlayer({\n    firstName: \"Bye\",\n    id: DUMMY_ID,\n    lastName: \"Player\",\n    type: \"dummy\"\n});\n/**\n * When `getPlayerMaybe()` can't find a profile, it outputs this instead.\n */\nconst missingPlayer = (id) => createPlayer({\n    firstName: \"Anonymous\",\n    id: id,\n    lastName: \"Player\",\n    type: \"missing\"\n});\n\nexport {\n    AvoidPair,\n    BLACK,\n    DUMMY_ID,\n    Id,\n    Match,\n    Player,\n    PlayerStats,\n    RoundList,\n    ScoreCalulator,\n    Standing,\n    Tournament,\n    WHITE,\n    createMatch,\n    createPlayer,\n    createTournament,\n    dummyPlayer,\n    missingPlayer\n};\n","import {BLACK, WHITE} from \"../data-types\";\nimport EloRank from \"elo-rank\";\nimport t from \"tcomb\";\n\nexport function kFactor(matchCount) {\n    const ne = t.Number(matchCount) || 1;\n    return (800 / ne);\n}\n\nexport function calcNewRatings(origRatings, matchCounts, result) {\n    t.tuple([t.Number, t.Number])(origRatings);\n    t.tuple([t.Number, t.Number])(matchCounts);\n    t.tuple([t.Number, t.Number])(result);\n    const whiteElo = new EloRank(kFactor(matchCounts[WHITE]));\n    const blackElo = new EloRank(kFactor(matchCounts[BLACK]));\n    const FLOOR = 100;\n    const scoreExpected = [\n        whiteElo.getExpected(origRatings[WHITE], origRatings[BLACK]),\n        blackElo.getExpected(origRatings[BLACK], origRatings[WHITE])\n    ];\n    const newRating = [\n        whiteElo.updateRating(\n            scoreExpected[WHITE],\n            result[WHITE],\n            origRatings[WHITE]\n        ),\n        blackElo.updateRating(\n            scoreExpected[BLACK],\n            result[BLACK],\n            origRatings[BLACK]\n        )\n    ];\n    return newRating.map((rating) => (rating < FLOOR) ? FLOOR : rating);\n}\n","import {\n    AvoidPair,\n    DUMMY_ID,\n    Id,\n    Match,\n    Player,\n    RoundList,\n    Standing,\n    Tournament,\n    dummyPlayer,\n    missingPlayer\n} from \"../data-types\";\nimport {assoc} from \"ramda\";\nimport t from \"tcomb\";\n/*******************************************************************************\n * Player functions\n ******************************************************************************/\nconst isNotDummy = (playerId) => playerId !== DUMMY_ID;\nexport {isNotDummy};\n\nexport function areScoresEqual(standing1, standing2) {\n    Standing(standing1);\n    Standing(standing2);\n    // Check if any of them aren't equal\n    if (standing1.score !== standing2.score) {\n        return false;\n    }\n    // Check if any tie-break values are not equal\n    return !(\n        standing1.tieBreaks.reduce(\n            (acc, value, i) => acc.concat(value !== standing2.tieBreaks[i]),\n            []\n        ).includes(true)\n    );\n}\n\n/**\n * Retrive a specific player from a list or object.\n * @param playerList This can either be typed as `[Player1, Player1]` or\n * `{\"1\": Player, \"2\": Player}`, where `Player1.id` equals its dict key.\n * @param id the `id` property of the desired `Player` object.\n * @returns The desired Player object.\n */\nexport function getPlayerById(playerList, id) {\n    t.union([\n        t.list(Player),\n        t.dict(Id, Player)\n    ])(playerList);\n    if (id === DUMMY_ID) {\n        return dummyPlayer;\n    }\n    const player = (playerList.filter)\n        ? playerList.filter((p) => p.id === id)[0]\n        : playerList[id];\n    return (player) ? player : missingPlayer(id);\n}\n\n/**\n * A replacement for `getPlayerById`, with an emphasis on the indented feature\n * of *maybe* getting a player, *maybe* getting a `dummyPlayer`, or *maybe*\n * getting a missing (deleted) player.\n */\nexport function getPlayerMaybe(playerDict, id) {\n    t.dict(Id, Player)(playerDict);\n    Id(id);\n    if (id === DUMMY_ID) {\n        return dummyPlayer;\n    }\n    const player = playerDict[id];\n    return (player) ? player : missingPlayer(id);\n}\n\n/*******************************************************************************\n * Match functions\n ******************************************************************************/\nconst isNotBye = (match) => !match.playerIds.includes(DUMMY_ID);\nexport {isNotBye};\n\nexport function getMatchesByPlayer(playerId, matchList) {\n    t.list(Match)(matchList);\n    return matchList.filter((match) => match.playerIds.includes(playerId));\n}\n\nexport function getMatchesByPlayerNoByes(playerId, matchList) {\n    t.list(Match)(matchList);\n    return matchList.filter(\n        (match) => match.playerIds.includes(playerId) && isNotBye(match)\n    );\n}\n\nexport function getMatchDetailsForPlayer(playerId, match) {\n    Id(playerId);\n    Match(match);\n    const index = match.playerIds.indexOf(playerId);\n    return {\n        color: index,\n        newRating: match.newRating[index],\n        origRating: match.origRating[index],\n        result: match.result[index]\n    };\n}\n\n/**\n * Flatten a list of rounds to a list of matches.\n */\nexport function rounds2Matches(roundList, roundId = null) {\n    RoundList(roundList);\n    t.maybe(t.Number)(roundId);\n    const rounds = (\n        (roundId === null)\n        ? roundList\n        : roundList.slice(0, roundId + 1)\n    );\n    return rounds.reduce((acc, round) => acc.concat(round), []);\n}\n\nexport function getAllPlayersFromMatches(matchList) {\n    t.list(Match)(matchList);\n    const allPlayers = matchList.reduce(\n        (acc, match) => acc.concat(match.playerIds),\n        []\n    );\n    return Array.from(new Set(allPlayers));\n}\n\n/**\n * Get a list of all of a player's scores from each match.\n */\nexport function getPlayerScoreList(playerId, matchList) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    return getMatchesByPlayer(\n        playerId,\n        matchList,\n    ).map(\n        (match) => getMatchDetailsForPlayer(playerId, match).result\n    );\n}\n\nexport function getPlayerScoreListNoByes(playerId, matchList) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    return getMatchesByPlayerNoByes(\n        playerId,\n        matchList\n    ).map(\n        (match) => getMatchDetailsForPlayer(playerId, match).result\n    );\n}\n\n/*******************************************************************************\n * Round functions\n ******************************************************************************/\nexport function calcNumOfRounds(playerCount) {\n    const roundCount = Math.ceil(Math.log2(playerCount));\n    return (Number.isFinite(roundCount)) ? roundCount : 0;\n}\n/**\n * This creates a filtered version of `players` with only the players that are\n * not matched for the specified round.\n */\nexport function getUnmatched(tourney, players, roundId) {\n    Tournament(tourney);\n    t.dict(Id, Player)(players);\n    t.Number(roundId);\n    const matchList = tourney.roundList[roundId] || [];\n    const matchedIds = matchList.reduce(\n        (acc, match) => acc.concat(match.playerIds),\n        []\n    );\n    const unmatched = Object.values(players).reduce(\n        (acc, player) => (\n            (matchedIds.includes(player.id))\n            ? acc\n            : assoc(player.id, player, acc)\n        ),\n        {}\n    );\n    return unmatched;\n}\n\nexport function isRoundComplete(tourney, players, roundId) {\n    const unmatched = getUnmatched(tourney, players, roundId);\n    const results = tourney.roundList[roundId].map(\n        (match) => match.result[0] + match.result[1]\n    );\n    return Object.keys(unmatched).length === 0 && !results.includes(0);\n}\n\n/*******************************************************************************\n * Avoid list functions\n ******************************************************************************/\nexport function getPlayerAvoidList(playerId, avoidList) {\n    t.list(AvoidPair)(avoidList);\n    Id(playerId);\n    return avoidList.filter( // get pairings with the player\n        (pair) => pair.includes(playerId)\n    ).reduce( // Flatten the array\n        (accumulator, pair) => pair.concat(accumulator),\n        []\n    ).filter( // filter out the player's id\n        (id) => id !== playerId\n    );\n}\n\n// TODO: This isn't currently in use, but it probably should be.\nexport function cleanAvoidList(avoidList, playerList) {\n    t.list(AvoidPair)(avoidList);\n    t.list(Player)(playerList);\n    const ids = playerList.map((p) => p.id);\n    return avoidList.filter(\n        (pairs) => (ids.includes(pairs[0]) && ids.includes(pairs[1]))\n    );\n}\n","import {\n    BLACK,\n    DUMMY_ID,\n    Id,\n    Match,\n    ScoreCalulator,\n    WHITE\n} from \"../data-types\";\nimport {\n    getMatchDetailsForPlayer,\n    getMatchesByPlayer,\n    getMatchesByPlayerNoByes,\n    getPlayerScoreList,\n    getPlayerScoreListNoByes,\n    isNotDummy\n} from \"./helpers\";\nimport {\n    init,\n    last,\n    pipe,\n    sort,\n    sum,\n    tail\n} from \"ramda\";\n// import {firstBy} from \"thenby\";\nimport t from \"tcomb\";\n\nexport function getDueColor(playerId, matchList) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    const lastMatch = last(getMatchesByPlayer(playerId, matchList));\n    if (!lastMatch) {\n        return null;\n    }\n    const {color} = getMatchDetailsForPlayer(playerId, lastMatch);\n    return (color === WHITE) ? BLACK : WHITE;\n}\n\nexport function hasHadBye(playerId, matchList) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    return getMatchesByPlayer(\n        playerId,\n        matchList\n    ).reduce(\n        (acc, match) => acc.concat(match.playerIds),\n        []\n    ).includes(DUMMY_ID);\n}\n\nexport function getPlayersByOpponent(opponentId, matchList) {\n    Id(opponentId);\n    t.list(Match)(matchList);\n    return getMatchesByPlayer(\n        opponentId,\n        matchList\n    ).reduce(\n        (acc, match) => acc.concat(match.playerIds),\n        []\n    ).filter(\n        (playerId) => playerId !== opponentId\n    );\n}\n\n/**\n * Used for `modifiedMedian` and `solkoff`.\n */\nfunction getOpponentScores(playerId, matchList) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    const scores = getPlayersByOpponent(\n        playerId,\n        matchList\n    ).filter(\n        isNotDummy\n    ).map(\n        (opponent) => getPlayerScore(opponent, matchList)\n    );\n    return scores;\n}\n\n/*******************************************************************************\n * The main scoring methods\n ******************************************************************************/\nconst getPlayerScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getPlayerScore(playerId, matchList) {\n        const scoreList = getPlayerScoreList(playerId, matchList);\n        return sum(scoreList);\n    }\n);\nexport {getPlayerScore};\n\n/**\n * The player's cumulative score.\n */\nconst getCumulativeScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getCumulativeScore(playerId, matchList) {\n        const scoreList = getPlayerScoreListNoByes(\n            playerId,\n            matchList\n        ).reduce( // turn the regular score list into a \"running\" score list\n            (acc, score) => acc.concat([last(acc) + score]),\n            [0]\n        );\n        return sum(scoreList);\n    }\n);\n\n/**\n * Get the cumulative scores of a player's opponents.\n */\nconst getCumulativeOfOpponentScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getCumulativeOfOpponentScore(playerId, matchList) {\n        const oppScores = getPlayersByOpponent(\n            playerId,\n            matchList\n        ).filter(\n            isNotDummy\n        ).map(\n            (id) => getCumulativeScore(id, matchList)\n        );\n        return sum(oppScores);\n    }\n);\n\n/**\n * Calculate a player's color balance. A negative number means they played as\n * white more. A positive number means they played as black more.\n */\nconst getColorBalanceScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getColorBalanceScore(playerId, matchList) {\n        const colorList = getMatchesByPlayerNoByes(\n            playerId,\n            matchList\n        ).reduce(\n            (acc, match) => (\n                (match.playerIds[WHITE] === playerId)\n                ? acc.concat(-1) // White = -1\n                : acc.concat(1) // Black = +1\n            ),\n            [0]\n        );\n        return sum(colorList);\n    }\n);\nexport {getColorBalanceScore};\n\n/**\n * Gets the modified median factor defined in USCF  34E1\n */\nconst getModifiedMedianScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getModifiedMedianScore(playerId, matchList) {\n        const scores = getOpponentScores(playerId, matchList);\n        return pipe(\n            sort((a, b) => a - b),\n            init,\n            tail,\n            sum\n        )(scores);\n    }\n);\n\nconst getSolkoffScore = ScoreCalulator.of(\n    // named functions are better for debugging\n    function _getSolkoffScore(playerId, matchList) {\n        const scoreList = getOpponentScores(playerId, matchList);\n        return sum(scoreList);\n    }\n);\n\nconst tieBreakMethods = {\n    0: {\n        func: getModifiedMedianScore,\n        id: 0,\n        name: \"Modified median\"\n    },\n    1: {\n        func: getSolkoffScore,\n        id: 1,\n        name: \"Solkoff\"\n    },\n    2: {\n        func: getCumulativeScore,\n        id: 2,\n        name: \"Cumulative score\"\n    },\n    3: {\n        func: getCumulativeOfOpponentScore,\n        id: 3,\n        name: \"Cumulative of opposition\"\n    },\n    4: {\n        func: getColorBalanceScore,\n        id: 4,\n        name: \"Most black\"\n    }\n};\nObject.freeze(tieBreakMethods);\nexport {tieBreakMethods};\n","import {\n    AvoidPair,\n    Id,\n    Match,\n    Player,\n    PlayerStats,\n    RoundList,\n    Standing\n} from \"../data-types\";\nimport {\n    add,\n    append,\n    defaultTo,\n    descend,\n    last,\n    lensIndex,\n    lensProp,\n    over,\n    path,\n    pipe,\n    prop,\n    sortWith\n} from \"ramda\";\nimport {\n    areScoresEqual,\n    getAllPlayersFromMatches,\n    getMatchDetailsForPlayer,\n    getMatchesByPlayer,\n    getPlayerAvoidList,\n    isNotDummy,\n    rounds2Matches\n} from \"./helpers\";\nimport {\n    getColorBalanceScore,\n    getDueColor,\n    getPlayerScore,\n    getPlayersByOpponent,\n    hasHadBye,\n    tieBreakMethods\n} from \"./scoring\";\nimport t from \"tcomb\";\n/**\n * Sort the standings by score, see USCF tie-break rules from  34.\n * TODO: this needs performance improvements.\n * @returns {[Standing[], string[]]} The the list of the standings and a list\n * of the methods used. Each standing has a `tieBreaks` property which lists the\n * score associated with each method. The order of these coresponds to the order\n * of the method names in the second list.\n */\nexport function createStandingList(methods, roundList, roundId) {\n    t.list(t.Number)(methods);\n    t.list(t.Array)(roundList);\n    t.maybe(t.Number)(roundId);\n    const matchList = rounds2Matches(roundList, roundId);\n    const selectedTieBreaks = methods.map((i) => tieBreakMethods[i]);\n    const tieBreakNames = selectedTieBreaks.map((m) => m.name);\n    // Get a flat list of all of the players and their scores.\n    const standings = getAllPlayersFromMatches(\n        matchList\n    ).map(\n        (id) => Standing({\n            id,\n            score: getPlayerScore(id, matchList),\n            tieBreaks: selectedTieBreaks.map(({func}) => func(id, matchList))\n        })\n    );\n    // create a list of functions to pass to `sortWith`. This will sort by\n    // scores and then by each tiebreak value.\n    const sortFuncList = Object.keys(selectedTieBreaks).reduce(\n        (acc, key) => acc.concat([descend(path([\"tieBreaks\", key]))]),\n        [descend(prop(\"score\"))]\n    );\n    const standingsSorted = sortWith(sortFuncList, standings);\n    return [standingsSorted, tieBreakNames];\n}\n\n/**\n * Sort the standings by score, see USCF tie-break rules from  34.\n * example: `[[Dale, Audrey], [Pete], [Bob]]`\n * Dale and Audrey are tied for first, Pete is 2nd, Bob is 3rd.\n * @returns {[Standing[][], string[]]} The standings and the list of method used\n */\nexport function createStandingTree(methods, roundList, roundId = null) {\n    t.list(t.Number)(methods);\n    RoundList(roundList);\n    t.maybe(t.Number)(roundId);\n    const [\n        standingsFlat,\n        tieBreakNames\n    ] = createStandingList(methods, roundList, roundId);\n    const standingsFlatNoByes = standingsFlat.filter(isNotDummy);\n    const standingsTree = standingsFlatNoByes.reduce(\n        /** @param {Standing[][]} acc*/\n        function assignStandingsToTree(acc, standing, i, orig) {\n            const prevStanding = orig[i - 1];\n            const isNewRank = (\n                // Always make a new rank for the first player\n                (i === 0) ? true : !areScoresEqual(standing, prevStanding)\n            );\n            if (isNewRank) {\n                return append([standing], acc);\n            }\n            // If this player has the same score as the last, list them together\n            return over(lensIndex(acc.length - 1), append(standing), acc);\n        },\n        []\n    );\n    return [standingsTree, tieBreakNames];\n}\n\n/**\n * @returns {PlayerStats}\n */\nexport function createPlayerStats({\n    avoidList,\n    id,\n    players,\n    roundList,\n    roundId\n}) {\n    Id(id);\n    t.Number(roundId);\n    t.dict(Id, Player)(players);\n    t.list(AvoidPair)(avoidList);\n    RoundList(roundList);\n    const matches = rounds2Matches(roundList, roundId);\n    return PlayerStats({\n        avoidList: getPlayerAvoidList(id, avoidList),\n        colorBalance: getColorBalanceScore(id, matches),\n        dueColor: getDueColor(id, matches),\n        hasHadBye: hasHadBye(id, matches),\n        id: id, // is this shortcut necessary?\n        isDueBye: false,\n        opponentHistory: getPlayersByOpponent(id, matches),\n        profile: players[id],\n        rating: players[id].rating, // is this shortcut necessary?\n        score: getPlayerScore(id, matches),\n        upperHalf: false\n    });\n}\n\n/**\n * NOTE: these params are flipped. Should others be flipped too?\n * @returns {Object.<string, number>} {opponentId: result}\n */\nfunction getResultsByOpponent(matchList, playerId) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    const matches = getMatchesByPlayer(playerId, matchList);\n    return matches.reduce(\n        function (acc, match) {\n            const opponent = match.playerIds.filter(\n                (id) => id !== playerId\n            )[0];\n            const {result} = getMatchDetailsForPlayer(playerId, match);\n            // This sets a default result of 0 and then adds the existing\n            // result. Most of the time, this would be the same as using\n            // `set()` with the result, but if two players play each other\n            // multiple times then the total results will be displayed.\n            return over(\n                lensProp(opponent),\n                pipe(defaultTo(0), add(result)),\n                acc\n            );\n        },\n        {}\n    );\n}\nexport {getResultsByOpponent};\n\n/**\n * NOTE: these params are flipped. Should others be flipped too?\n */\nfunction getPerformanceRatings(matchList, playerId) {\n    Id(playerId);\n    t.list(Match)(matchList);\n    const matches = getMatchesByPlayer(playerId, matchList);\n    const firstMatch = matches[0];\n    const lastMatch = last(matches);\n    return [\n        getMatchDetailsForPlayer(playerId, firstMatch).origRating,\n        getMatchDetailsForPlayer(playerId, lastMatch).newRating\n    ];\n}\nexport {getPerformanceRatings};\n","// This file is a work in progress. The weighting for the ratings needs to be\n// tweaked a lot, and the pairing function itself needs to be cleaned up and\n// made more reusable.\nimport {\n    AvoidPair,\n    DUMMY_ID,\n    Id,\n    Player,\n    PlayerStats,\n    RoundList\n} from \"../data-types\";\nimport {\n    add,\n    assoc,\n    curry,\n    descend,\n    filter,\n    findLastIndex,\n    lensIndex,\n    map,\n    over,\n    pipe,\n    prop,\n    reverse,\n    sortWith,\n    splitAt,\n    view\n} from \"ramda\";\nimport blossom from \"edmonds-blossom\";\nimport {createPlayerStats} from \"./factories\";\nimport t from \"tcomb\";\n\nconst priority = (value) => (condition) => condition ? value : 0;\nconst divisiblePriority = (value) => (divider) => value / divider;\n\n// TODO: These probably need to be tweaked a lot.\n/**\n * @constant avoidMeetingTwicePriority The weight given to avoid players\n * meeting twice. This same weight is given to avoid matching players on each\n * other's \"avoid\" list. This is the highest priority. (USCF  27A1)\n */\nconst avoidMeetingTwice = priority(20);\n/**\n * @constant sameScoresPriority The weight given to match players with\n * equal scores. This gets divided against the difference between each players'\n * scores, plus one. For example, players with scores `1` and `3` would have\n * this priority divided by `3`. Players with scores `0` and `3` would have this\n * priority divided by `4`. Players with equal scores would divide it by `1`,\n * leaving it unchanged. (USCF  27A2)\n */\nconst sameScores = divisiblePriority(16);\n\n/**\n * @constant differentHalfPriority The weight given to match players in lower\n * versus upper halves. This is only applied to players being matched within\n * the same score group. (USCF  27A3)\n */\nconst differentHalf = priority(2);\n/**\n * @constant differentDueColorPriority The weight given to match players with\n * opposite due colors. (USCF  27A4 and  27A5)\n */\nconst differentDueColor = priority(1);\n\nconst maxPriority = pipe(\n    add(differentHalf(true)),\n    add(differentDueColor(true)),\n    add(sameScores(1)),\n    add(avoidMeetingTwice(true))\n)(0);\nexport {maxPriority};\n\n/**\n * @returns {number}\n */\nexport function calcPairIdeal(player1, player2) {\n    PlayerStats(player1);\n    PlayerStats(player2);\n    if (player1.id === player2.id) {\n        return 0;\n    }\n    const metBefore = player1.opponentHistory.includes(player2.id);\n    const mustAvoid = player1.avoidList.includes(player2.id);\n    return pipe(\n        add(differentHalf(\n            player1.upperHalf !== player2.upperHalf\n            && player1.score === player2.score\n        )),\n        add(differentDueColor(\n            player1.dueColor === null\n            || player1.dueColor !== player2.dueColor\n        )),\n        add(sameScores(Math.abs(player1.score - player2.score) + 1)),\n        add(avoidMeetingTwice(!metBefore && !mustAvoid))\n    )(0);\n}\n\n/**\n * Determine which players are in the upper and lower halves of their score\n * groups.\n * This function does not sort the list. The list should be sorted first.\n */\nexport function setUpperHalves(playerStatsList) {\n    t.list(PlayerStats)(playerStatsList);\n    const splitInHalf = (list) => splitAt(list.length / 2, list);\n    return playerStatsList.reduce(\n        function (acc, player, ignore, src) {\n            const upperHalfIds = pipe(\n                filter((a) => a.score === player.score),\n                splitInHalf,\n                view(lensIndex(0)),\n                map((a) => a.id)\n            )(src);\n            const isUpperHalf = upperHalfIds.includes(player.id);\n            return acc.concat([assoc(\"upperHalf\", isUpperHalf, player)]);\n        },\n        []\n    );\n}\n\nfunction setByePlayer(byeQueue, playerStatsList) {\n    t.list(t.Number)(byeQueue);\n    t.list(PlayerStats)(playerStatsList);\n    // if the list is even, just return it.\n    if (playerStatsList.length % 2 === 0) {\n        return playerStatsList;\n    }\n    const hasNotHadBye = playerStatsList.filter(\n        (p) => !p.hasHadBye\n    ).map((p) => p.id);\n    const nextByeSignup = byeQueue.filter((id) => hasNotHadBye.includes(id))[0];\n    const indexOfDueBye = (nextByeSignup)\n        // Assign the bye to the next person who signed up.\n        ? findLastIndex((p) => p.id === nextByeSignup, playerStatsList)\n        // Assign a bye to the lowest-rated player in the lowest score group.\n        // Because the list is sorted, the last player is the lowest.\n        // (USCF  29L2.)\n        : findLastIndex((p) => !p.hasHadBye, playerStatsList);\n    // In the impossible situation that *everyone* has played a bye round\n    // previously, then just pick the last player.\n    const index = (indexOfDueBye === -1)\n        ? playerStatsList.length - 1\n        : indexOfDueBye;\n    return over(\n        lensIndex(index),\n        assoc(\"isDueBye\", true),\n        playerStatsList\n    );\n}\n\n/**\n * Sort the data so matchups default to order by score and rating.\n */\nexport function sortPlayersForPairing(playerStatsList) {\n    t.list(PlayerStats)(playerStatsList);\n    return sortWith(\n        [descend(prop(\"score\")), descend(prop(\"rating\"))],\n        playerStatsList\n    );\n    // return sort(\n    //     firstBy(\n    //         (a, b) => b.score - a.score\n    //     ).thenBy(\n    //         (a, b) => b.rating - a.rating\n    //     ),\n    //     playerStatsList\n    // );\n}\n\n/**\n * Creates pairings according to the rules specified in USCF  27,  28,\n * and  29. This is a work in progress and does not account for all of the\n * rules yet.\n */\nexport default function pairPlayers({\n    players,\n    roundId,\n    roundList,\n    avoidList,\n    byeQueue\n}) {\n    t.Number(roundId);\n    t.dict(Id, Player)(players);\n    t.list(t.Number)(byeQueue);\n    RoundList(roundList);\n    t.list(AvoidPair)(avoidList);\n    const playerIds = Object.keys(players);\n    const playerStatsList = pipe(\n        map((id) => (\n            createPlayerStats({\n                avoidList,\n                id,\n                players,\n                roundId,\n                roundList\n            })\n        )),\n        sortPlayersForPairing,\n        setUpperHalves,\n        curry(setByePlayer)(byeQueue)\n    )(playerIds);\n    // Turn the data into blossom-compatible input.\n    const potentialMatches = playerStatsList.filter(\n        (p) => !p.isDueBye\n    ).reduce(\n        function (acc, player1, ignore, src) {\n            const playerMatches = src.map(\n                (player2) => [\n                    playerIds.indexOf(player1.id),\n                    playerIds.indexOf(player2.id),\n                    calcPairIdeal(player1, player2)\n                ]\n            );\n            return acc.concat(playerMatches);\n        },\n        []\n    );\n    // Feed all of the potential matches to Edmonds-blossom and let the\n    // algorithm work its magic. This returns an array where each index is the\n    // ID of one player and each value is the ID of the matched player.\n    const blossomResults = blossom(potentialMatches);\n    // Translate those IDs into actual pairs of player Ids.\n    const reducedResults = blossomResults.reduce(\n        function (acc, p1Index, p2Index) {\n            // Filter out unmatched players. Blossom will automatically include\n            // their missing IDs in its results.\n            if (p1Index !== -1) {\n                // Translate the indices into ID strings\n                const p1Id = playerIds[p1Index];\n                const p2Id = playerIds[p2Index];\n                const p1 = playerStatsList.filter((p) => p.id === p1Id)[0];\n                const p2 = playerStatsList.filter((p) => p.id === p2Id)[0];\n                // const ideal = potentialMatches.filter(\n                //     (pair) => pair[0] === p1Id && pair[1] === p2Id\n                // )[0][2];\n                // Blossom returns a lot of redundant matches. Check that this\n                // matchup wasn't already added.\n                const matched = acc.map((pair) => pair[0]);\n                if (!matched.includes(p1) && !matched.includes(p2)) {\n                    return acc.concat([[p1, p2]]);\n                }\n            }\n            return acc;\n        },\n        []\n    );\n    // Sort by net score and rating for board placement.\n    const sortedResults = sortWith(\n        [\n            (pair1, pair2) => (\n                pair2[0].score + pair2[1].score\n                - pair1[0].score - pair1[1].score\n            ),\n            (pair1, pair2) => (\n                pair2[0].rating + pair2[1].rating\n                - pair1[0].rating - pair1[1].rating\n            )\n        ],\n        reducedResults\n    );\n    // const sortedResults = sort(\n    //     firstBy(\n    //         (pair1, pair2) => (\n    //             pair2[0].score + pair2[1].score\n    //             - pair1[0].score - pair1[1].score\n    //         )\n    //     ).thenBy(\n    //         (pair1, pair2) => (\n    //             pair2[0].rating + pair2[1].rating\n    //             - pair1[0].rating - pair1[1].rating\n    //         )\n    //     ),\n    //     reducedResults\n    // );\n    const matches = sortedResults.map(\n        function (pair) {\n            const player1 = pair[0];\n            const player2 = pair[1];\n            const match = [player1.id, player2.id];\n            if (player1.colorBalance < player2.colorBalance) {\n                return reverse(match);\n            }\n            return match;\n        }\n    );\n    // The bye match always gets added last so the the numbering isn't affected.\n    const byePlayer = playerStatsList.filter((p) => p.isDueBye)[0];\n    if (byePlayer) {\n        return matches.concat([[byePlayer.id, DUMMY_ID]]);\n    }\n    return matches;\n}\n","/* eslint-disable max-len */\nimport Activity from \"react-feather/dist/icons/activity\";\nimport Alert from \"react-feather/dist/icons/alert-triangle\";\nimport ArrowDown from \"react-feather/dist/icons/arrow-down\";\nimport ArrowLeft from \"react-feather/dist/icons/arrow-left\";\nimport ArrowUp from \"react-feather/dist/icons/arrow-up\";\nimport Award from \"react-feather/dist/icons/award\";\nimport Check from \"react-feather/dist/icons/check\";\nimport CheckCircle from \"react-feather/dist/icons/check-circle\";\nimport ChevronDown from \"react-feather/dist/icons/chevron-down\";\nimport ChevronLeft from \"react-feather/dist/icons/chevron-left\";\nimport ChevronRight from \"react-feather/dist/icons/chevron-right\";\nimport ChevronUp from \"react-feather/dist/icons/chevron-up\";\nimport Circle from \"react-feather/dist/icons/circle\";\nimport Download from \"react-feather/dist/icons/download\";\nimport Edit from \"react-feather/dist/icons/edit\";\nimport Help from \"react-feather/dist/icons/help-circle\";\nimport Info from \"react-feather/dist/icons/info\";\nimport Javascript from \"simple-icons/icons/javascript\";\nimport Layers from \"react-feather/dist/icons/layers\";\nimport List from \"react-feather/dist/icons/list\";\nimport Plus from \"react-feather/dist/icons/plus\";\nimport React from \"react\";\nimport ReactIcon from \"simple-icons/icons/react\";\nimport Repeat from \"react-feather/dist/icons/repeat\";\nimport Settings from \"react-feather/dist/icons/settings\";\nimport Sidebar from \"react-feather/dist/icons/sidebar\";\nimport Trash from \"react-feather/dist/icons/trash-2\";\nimport UserMinus from \"react-feather/dist/icons/user-minus\";\nimport UserPlus from \"react-feather/dist/icons/user-plus\";\nimport Users from \"react-feather/dist/icons/users\";\nimport X from \"react-feather/dist/icons/x\";\n\n/**\n * This converts a specified `simple-icons` icon into a React component.\n */\nconst simpleIcon = (icon) => (props) => (\n    <span\n        dangerouslySetInnerHTML={{__html: icon.svg}}\n        aria-label={icon.title}\n        role=\"img\"\n        style={{fill: \"#\" + icon.hex}}\n        {...props}\n    />\n);\n\nconst Logo = (props) => (\n    <svg height=\"1024\" viewBox=\"0 0 1024 1024\" width=\"1024\" xmlns=\"http://www.w3.org/2000/svg\">\n        <defs>\n            <clipPath id=\"a\">\n                <circle cx=\"512\" cy=\"544\" fill=\"#363959\" fillRule=\"evenodd\" r=\"480\" strokeWidth=\"16.307\"/>\n            </clipPath>\n        </defs>\n        <path clipPath=\"url(#a)\" d=\"M0 0h1024v1024H0z\" fill=\"#363959\" fillRule=\"evenodd\"/>\n        <path clipPath=\"url(#a)\" d=\"M448 256L225.758 942.867h333.26l-31.637 97.37h192l8.012-24.66h.033l158.345-487.34h-4.242l69.768-215.63-484.762-29.32z\" fill=\"#0d7758\"/>\n        <g fillRule=\"evenodd\">\n            <path d=\"M709.574 146.473H688.49V107.54H663.73c-6.685 0-10.039-3.258-10.039-9.847v-.3c0-6.492 3.354-9.738 10.039-9.738h24.749V62.403c0-7.008 3.557-10.446 10.661-10.446 6.888 0 10.434 3.438 10.434 10.446v25.252h25.563c6.493 0 9.74 3.234 9.74 9.739v.3c0 6.588-3.247 9.834-9.74 9.834l-25.36.312zM532.39 454.6l-9.74-55.584c-.203 0-.502-.395-.91-1.21-1.018-1.425-3.857-3.246-8.517-5.474-4.564-2.336-10.038-6.193-16.124-11.764a503.005 503.005 0 0 1-20.388-17.849 101.93 101.93 0 0 1-13.177-14.818c-12.087-16.615-18.891-36.716-20.21-60.339-2.036-22.724 7.2-45.449 27.589-68.065 20.592-22.521 48.48-33.159 83.47-31.745 13.082.814 28.511 3.953 46.049 9.535 5.786 2.336 11.667 4.672 17.753 6.9l17.945 6.996c3.15 1.63 5.99 3.246 8.325 4.768a52.469 52.469 0 0 1-1.521-12.47c0-15.418 5.474-28.607 16.531-39.556 10.949-10.853 24.234-16.435 39.651-16.639 15.417 0 28.606 5.582 39.555 16.531C749.524 174.78 755 187.956 755 203.17c0 3.15-.407 7.307-1.21 12.482 2.731-1.725 5.474-3.246 8.014-4.468 9.128-3.953 21.083-8.625 35.997-13.896 17.047-5.774 32.356-9.02 46.048-9.835 34.991-1.629 62.783 9.02 83.172 31.745 19.98 22.617 29.313 45.341 27.887 68.054-1.521 23.635-8.421 43.724-20.484 60.35-3.953 5.38-8.422 10.339-13.393 15.01a485.156 485.156 0 0 1-19.885 17.646c-6.481 5.582-12.063 9.535-16.627 11.763-4.553 2.229-7.188 4.157-8.014 5.475a3.522 3.522 0 0 1-.6.922c-.203.204-.31.408-.31.6l-9.536 55.894 19.682 73.325c-9.943 8.924-32.152 16.231-66.533 22.005-34.488 5.786-74.342 8.625-119.48 8.625-45.94 0-86.418-3.042-121.205-9.032-34.884-6.085-56.793-13.692-65.718-22.712z\" fill=\"#14b184\"/>\n            <path d=\"M699.14 250.128a27.492 27.492 0 0 0-1.533-5.067 67.155 67.155 0 0 0-2.935-8.625c-.611-1.318-1.426-3.043-2.336-5.163a108.148 108.148 0 0 1-3.043-6.708c-.599-1.414-1.318-3.235-2.228-5.463-.815-2.336-1.63-4.468-2.24-6.397a20.784 20.784 0 0 1-.803-5.678c0-10.446 4.972-15.716 15.106-15.716 10.542 0 15.729 5.163 15.729 15.417 0 2.635-.408 4.456-1.126 5.678-2.84 7.499-4.253 11.56-4.457 12.17a425.588 425.588 0 0 0-5.678 11.56c-1.425 3.235-2.336 6.086-2.635 8.626-.611 1.21-1.018 2.228-1.222 3.138a25.37 25.37 0 0 1-.599 2.228zM665.862 352.67c-24.75.407-47.366 1.63-67.958 3.857-20.484 2.132-36.297 5.271-47.665 9.224a227.28 227.28 0 0 0-20.592-22.21 395.396 395.396 0 0 1-20.688-20.89c-9.943-10.147-14.807-21.204-14.807-33.267 0-14.914 2.432-25.755 7.404-32.655 5.27-8.026 13.596-13.896 24.653-17.753a101.655 101.655 0 0 1 33.565-5.786c14.303 0 27.888 3.15 40.97 9.535 12.889 6.708 21.406 12.075 25.563 16.028 13.488 13.692 24.042 28.51 31.54 44.527 2.54 5.99 4.469 14.303 5.787 24.845 1.317 10.661 2.036 18.771 2.228 24.557zm33.266-51.726c1.426-5.582 2.54-9.428 3.546-11.56 2.036-7.703 4.264-14.303 6.9-19.682 1.114-3.342 2.839-7.187 5.175-11.656 2.228-4.468 4.672-9.643 7.307-15.32 1.521-3.355 3.235-7.5 4.971-12.375 1.821-4.864 3.642-9.632 5.367-14.4 1.63-3.952 2.432-8.217 2.432-12.781 0-9.74-3.546-17.945-10.446-24.749-6.888-6.888-15.31-10.338-25.252-10.338-23.527 0-35.398 11.86-35.398 35.398 0 4.552.814 8.817 2.431 12.77 4.373 12.89 7.715 21.802 10.05 26.786 2.636 5.678 4.972 10.853 7.188 15.309 2.145 4.468 4.073 8.314 5.583 11.668 2.635 6.588 4.767 13.08 6.588 19.67.42 1.114 1.534 4.97 3.558 11.26zm-10.65 74.546c0-7.906-.203-18.867-.598-32.763-.408-13.991-1.93-25.66-4.469-34.979-8.11-26.474-20.388-47.88-36.92-64.1-8.517-8.326-21.502-16.136-39.147-23.24-20.185-7.906-39.352-11.86-57.405-11.86-31.241 0-54.469 11.153-69.479 33.578-8.517 11.86-12.781 26.774-12.781 44.515 0 19.478 4.767 35.398 14.207 47.88 4.971 7.092 14.495 15.92 28.594 26.474 14.004 10.446 25.97 20.173 35.602 29.11 17.25-3.762 36.716-7.008 58.423-9.847 21.706-2.743 49.701-4.36 83.974-4.768zM853.6 516.066l-8.828-35.1c-38.633-8.816-87.22-13.284-145.643-13.284-57.811 0-106.183 4.468-145.032 13.297l-9.427 35.386c37.614-11.452 89.149-17.238 154.77-17.238 31.434 0 60.747 1.63 87.628 4.768 26.977 3.138 49.187 7.2 66.532 12.17zm-7.702-88.85c-36.417-10.038-85.004-15.105-145.547-15.105-61.058 0-110.149 5.163-147.368 15.417l4.456 30.02c37.435-9.74 84.993-14.615 142.912-14.615 57.608 0 104.566 4.768 140.779 14.303zm-136.12-51.414c34.081.599 62.077 2.324 83.879 5.067 21.706 2.743 41.388 6.085 58.817 9.835 10.865-10.746 22.928-20.892 36.213-30.631s22.617-18.053 27.996-24.953c9.44-12.877 14.207-28.905 14.207-48.168 0-17.55-4.265-32.356-12.782-44.227-15.213-22.4-38.549-33.565-69.778-33.565-18.257 0-37.232 3.953-57.105 11.859-18.053 7.104-31.026 14.818-39.256 23.12-16.83 16.34-29.11 37.734-36.812 64.208-2.947 9.128-4.564 20.688-4.875 34.788-.312 14.099-.504 24.952-.504 32.667zm21.707-23.12c0-5.786.718-13.896 1.916-24.557 1.33-10.542 3.355-18.868 6.098-24.845 7.403-16.028 17.849-30.835 31.54-44.527 3.954-3.953 12.483-9.332 25.564-16.028a91.7 91.7 0 0 1 41.28-9.535c11.141 0 22.102 1.928 33.159 5.786 10.961 3.857 19.275 9.739 24.749 17.753 4.971 6.696 7.51 17.537 7.51 32.655 0 11.86-4.875 22.916-14.614 33.266a483.36 483.36 0 0 1-20.484 19.778c-7.307 6.588-14.399 14.399-21.083 23.323-11.476-3.953-27.493-7.092-47.989-9.224-20.484-2.228-43.005-3.45-67.646-3.857z\" fill=\"#f9f9fa\"/>\n        </g>\n        <path clipPath=\"url(#a)\" d=\"M64 384l-222.242 686.867h525.291l134.722-414.63h-4.242l69.768-215.63-484.762-29.32z\" fill=\"#c00043\"/>\n        <g fillRule=\"evenodd\">\n            <path d=\"M323.837 270.64h-21.295v-39.324h-25.01c-6.751 0-10.139-3.291-10.139-9.946v-.302c0-6.558 3.388-9.837 10.14-9.837h24.997v-25.506c0-7.078 3.593-10.55 10.768-10.55 6.958 0 10.539 3.472 10.539 10.55v25.506h25.82c6.558 0 9.837 3.267 9.837 9.837v.302c0 6.655-3.279 9.934-9.837 9.934l-25.614.314zM144.874 581.86l-9.837-56.141c-.205 0-.508-.4-.92-1.222-1.028-1.44-3.895-3.28-8.602-5.53-4.61-2.36-10.14-6.255-16.286-11.881a508.056 508.056 0 0 1-20.593-18.029 102.954 102.954 0 0 1-13.31-14.967c-12.208-16.782-19.08-37.084-20.411-60.945-2.057-22.952 7.272-45.905 27.865-68.749 20.799-22.747 48.966-33.49 84.309-32.063 13.212.823 28.796 3.993 46.51 9.631 5.844 2.36 11.785 4.719 17.931 6.97L249.655 336c3.182 1.646 6.05 3.28 8.41 4.816a52.996 52.996 0 0 1-1.537-12.596c0-15.572 5.53-28.893 16.697-39.952 11.059-10.962 24.477-16.6 40.05-16.806 15.571 0 28.893 5.638 39.951 16.697 10.963 11.071 16.492 24.38 16.492 39.747 0 3.182-.411 7.38-1.222 12.607 2.759-1.742 5.53-3.278 8.095-4.513 9.22-3.992 21.295-8.711 36.358-14.035 17.218-5.832 32.68-9.11 46.51-9.934 35.343-1.645 63.414 9.111 84.007 32.064 20.182 22.844 29.607 45.796 28.168 68.737-1.537 23.872-8.506 44.163-20.69 60.957-3.993 5.432-8.506 10.442-13.528 15.16a490.027 490.027 0 0 1-20.085 17.823c-6.546 5.638-12.184 9.631-16.794 11.882-4.598 2.25-7.26 4.198-8.094 5.529a3.557 3.557 0 0 1-.605.932c-.206.205-.315.411-.315.605l-9.63 56.456 19.878 74.06c-10.042 9.014-32.474 16.395-67.2 22.227-34.834 5.844-75.089 8.712-120.68 8.712-46.401 0-87.285-3.074-122.422-9.123-35.234-6.147-57.363-13.83-66.377-22.94z\" fill=\"#ff0059\"/>\n            <path d=\"M313.298 375.336a27.768 27.768 0 0 0-1.548-5.118 67.83 67.83 0 0 0-2.965-8.712c-.617-1.33-1.44-3.073-2.36-5.215a109.234 109.234 0 0 1-3.072-6.776c-.605-1.427-1.331-3.266-2.25-5.517-.824-2.36-1.646-4.513-2.263-6.461a20.993 20.993 0 0 1-.811-5.735c0-10.55 5.021-15.875 15.257-15.875 10.648 0 15.887 5.215 15.887 15.572 0 2.662-.412 4.501-1.138 5.736-2.867 7.574-4.295 11.675-4.5 12.293a429.86 429.86 0 0 0-5.736 11.676c-1.44 3.266-2.36 6.146-2.662 8.711-.617 1.222-1.028 2.25-1.234 3.17-.205.92-.411 1.646-.605 2.25zm-33.612 103.57c-24.997.412-47.841 1.646-68.64 3.897-20.69 2.154-36.661 5.324-48.144 9.316a229.563 229.563 0 0 0-20.799-22.432 399.366 399.366 0 0 1-20.895-21.101c-10.043-10.249-14.955-21.416-14.955-33.6 0-15.064 2.456-26.014 7.477-32.984 5.324-8.106 13.733-14.035 24.9-17.93a102.676 102.676 0 0 1 33.903-5.845c14.447 0 28.168 3.182 41.38 9.631 13.02 6.776 21.622 12.196 25.82 16.19 13.625 13.829 24.284 28.796 31.859 44.973 2.565 6.05 4.513 14.447 5.844 25.094 1.33 10.769 2.056 18.96 2.25 24.804zm33.6-52.244c1.44-5.639 2.565-9.523 3.582-11.676 2.057-7.78 4.307-14.447 6.969-19.88 1.125-3.376 2.868-7.26 5.227-11.773 2.25-4.513 4.719-9.74 7.38-15.475 1.537-3.388 3.267-7.574 5.022-12.499 1.839-4.912 3.678-9.727 5.42-14.543 1.646-3.993 2.457-8.3 2.457-12.91 0-9.837-3.582-18.125-10.551-24.998-6.957-6.957-15.463-10.441-25.506-10.441-23.763 0-35.754 11.978-35.754 35.753 0 4.598.823 8.906 2.457 12.898 4.416 13.02 7.792 22.021 10.151 27.055 2.662 5.735 5.021 10.962 7.26 15.463 2.165 4.513 4.113 8.397 5.638 11.785 2.662 6.654 4.816 13.212 6.655 19.867.423 1.125 1.548 5.021 3.593 11.374zm-10.756 75.294c0-7.985-.206-19.056-.605-33.092-.412-14.132-1.948-25.917-4.513-35.33-8.192-26.74-20.593-48.361-37.29-64.744-8.603-8.41-21.72-16.298-39.542-23.473-20.387-7.986-39.746-11.978-57.98-11.978-31.556 0-55.016 11.264-70.177 33.914-8.603 11.979-12.91 27.043-12.91 44.962 0 19.673 4.815 35.754 14.35 48.361 5.021 7.163 14.64 16.08 28.881 26.74 14.144 10.55 26.232 20.375 35.96 29.402 17.423-3.8 37.085-7.079 59.009-9.946 21.924-2.77 50.2-4.404 84.817-4.816zm166.779 141.987l-8.918-35.451c-39.02-8.905-88.096-13.418-147.105-13.418-58.392 0-107.25 4.513-146.488 13.43l-9.522 35.742c37.992-11.567 90.044-17.411 156.325-17.411 31.749 0 61.356 1.645 88.507 4.815 27.248 3.17 49.68 7.272 67.2 12.293zm-7.78-89.741c-36.783-10.14-85.858-15.258-147.009-15.258-61.67 0-111.254 5.215-148.847 15.572l4.501 30.322c37.81-9.837 85.846-14.762 144.346-14.762 58.187 0 105.616 4.816 142.193 14.447zM324.043 502.27c34.423.605 62.699 2.347 84.72 5.118 21.924 2.77 41.804 6.147 59.408 9.934 10.974-10.854 23.159-21.102 36.577-30.939 13.418-9.836 22.844-18.234 28.276-25.203 9.535-13.007 14.35-29.196 14.35-48.652 0-17.725-4.307-32.68-12.91-44.67-15.366-22.627-38.936-33.903-70.48-33.903-18.439 0-37.604 3.992-57.677 11.978-18.234 7.175-31.338 14.967-39.65 23.352-17 16.504-29.402 38.113-37.182 64.853-2.976 9.22-4.61 20.896-4.924 35.137-.315 14.24-.508 25.203-.508 32.995zm21.924-23.352c0-5.844.726-14.035 1.936-24.804 1.343-10.647 3.388-19.056 6.158-25.094 7.478-16.19 18.029-31.144 31.858-44.974 3.993-3.993 12.608-9.425 25.82-16.189a92.621 92.621 0 0 1 41.695-9.63c11.253 0 22.324 1.947 33.491 5.843 11.071 3.896 19.468 9.837 24.998 17.931 5.021 6.764 7.586 17.714 7.586 32.984 0 11.978-4.924 23.146-14.761 33.6a488.213 488.213 0 0 1-20.69 19.976c-7.38 6.655-14.544 14.543-21.295 23.557-11.592-3.992-27.768-7.162-48.47-9.316-20.69-2.25-43.438-3.485-68.326-3.896z\" fill=\"#f9f9fa\"/>\n        </g>\n        <path clipPath=\"url(#a)\" d=\"M256 640L33.758 1326.867h525.291l134.722-414.63h-4.242l69.768-215.63-484.762-29.32z\" fill=\"#07a2ff\"/>\n        <g fillRule=\"evenodd\">\n            <path d=\"M515.837 526.64h-21.295v-39.324h-25.01c-6.751 0-10.139-3.291-10.139-9.946v-.302c0-6.558 3.388-9.837 10.14-9.837h24.997v-25.506c0-7.078 3.593-10.55 10.768-10.55 6.958 0 10.539 3.472 10.539 10.55v25.506h25.82c6.558 0 9.837 3.267 9.837 9.837v.302c0 6.655-3.279 9.934-9.837 9.934l-25.614.314zM336.874 837.86l-9.837-56.141c-.205 0-.508-.4-.92-1.222-1.028-1.44-3.895-3.28-8.602-5.53-4.61-2.36-10.14-6.255-16.286-11.881a508.056 508.056 0 0 1-20.593-18.029 102.954 102.954 0 0 1-13.31-14.967c-12.208-16.782-19.08-37.084-20.411-60.945-2.057-22.952 7.272-45.905 27.865-68.749 20.799-22.747 48.966-33.49 84.309-32.063 13.212.823 28.796 3.993 46.51 9.631 5.844 2.36 11.785 4.719 17.931 6.97L441.655 592c3.182 1.646 6.05 3.28 8.41 4.816a52.996 52.996 0 0 1-1.537-12.596c0-15.572 5.53-28.893 16.697-39.952 11.059-10.962 24.477-16.6 40.05-16.806 15.571 0 28.893 5.638 39.952 16.697 10.962 11.071 16.491 24.38 16.491 39.747 0 3.182-.411 7.38-1.222 12.607 2.759-1.742 5.53-3.278 8.095-4.513 9.22-3.992 21.295-8.711 36.358-14.035 17.218-5.832 32.68-9.11 46.51-9.934 35.343-1.645 63.414 9.111 84.007 32.064 20.182 22.844 29.607 45.796 28.168 68.737-1.537 23.872-8.506 44.163-20.69 60.957-3.993 5.432-8.506 10.442-13.528 15.16a490.027 490.027 0 0 1-20.085 17.823c-6.546 5.638-12.184 9.631-16.794 11.882-4.598 2.25-7.26 4.198-8.094 5.529a3.557 3.557 0 0 1-.605.932c-.206.205-.315.411-.315.605l-9.63 56.456 19.878 74.06c-10.042 9.014-32.474 16.395-67.2 22.227-34.834 5.844-75.089 8.712-120.68 8.712-46.401 0-87.285-3.074-122.422-9.123-35.233-6.147-57.363-13.83-66.377-22.94z\" fill=\"#47baff\"/>\n            <path d=\"M505.298 631.336a27.768 27.768 0 0 0-1.548-5.118 67.83 67.83 0 0 0-2.965-8.712c-.617-1.33-1.44-3.073-2.36-5.215a109.234 109.234 0 0 1-3.072-6.776c-.605-1.427-1.331-3.266-2.25-5.517-.824-2.36-1.646-4.513-2.263-6.461a20.993 20.993 0 0 1-.811-5.735c0-10.55 5.021-15.875 15.257-15.875 10.648 0 15.887 5.215 15.887 15.572 0 2.662-.412 4.501-1.138 5.736-2.867 7.574-4.295 11.675-4.5 12.293a429.86 429.86 0 0 0-5.736 11.676c-1.44 3.266-2.359 6.146-2.662 8.711-.617 1.222-1.028 2.25-1.234 3.17-.205.92-.411 1.646-.605 2.25zm-33.612 103.57c-24.997.412-47.841 1.646-68.64 3.897-20.69 2.154-36.661 5.324-48.144 9.316a229.563 229.563 0 0 0-20.799-22.432 399.366 399.366 0 0 1-20.895-21.101c-10.043-10.249-14.955-21.416-14.955-33.6 0-15.064 2.456-26.014 7.477-32.984 5.324-8.106 13.733-14.035 24.9-17.93a102.676 102.676 0 0 1 33.903-5.845c14.447 0 28.168 3.182 41.38 9.631 13.02 6.776 21.622 12.196 25.82 16.19 13.625 13.829 24.284 28.796 31.859 44.973 2.565 6.05 4.513 14.447 5.844 25.094 1.33 10.769 2.057 18.96 2.25 24.804zm33.6-52.244c1.44-5.639 2.565-9.523 3.582-11.676 2.057-7.78 4.307-14.447 6.969-19.88 1.125-3.376 2.868-7.26 5.227-11.773 2.25-4.513 4.719-9.74 7.38-15.475 1.537-3.388 3.267-7.574 5.022-12.499 1.839-4.912 3.678-9.727 5.42-14.543 1.646-3.993 2.457-8.3 2.457-12.91 0-9.837-3.582-18.125-10.551-24.998-6.957-6.957-15.463-10.441-25.506-10.441-23.763 0-35.754 11.978-35.754 35.753 0 4.598.823 8.906 2.457 12.898 4.416 13.02 7.792 22.021 10.151 27.055 2.662 5.735 5.021 10.962 7.26 15.463 2.165 4.513 4.113 8.397 5.638 11.785 2.662 6.654 4.816 13.212 6.655 19.867.423 1.125 1.548 5.021 3.593 11.374zm-10.756 75.294c0-7.985-.206-19.056-.605-33.092-.412-14.132-1.948-25.917-4.513-35.33-8.192-26.74-20.593-48.361-37.29-64.744-8.603-8.41-21.72-16.298-39.542-23.473-20.387-7.986-39.746-11.978-57.98-11.978-31.556 0-55.016 11.264-70.177 33.914-8.603 11.979-12.91 27.043-12.91 44.962 0 19.673 4.816 35.754 14.35 48.361 5.021 7.163 14.64 16.08 28.881 26.74 14.144 10.55 26.232 20.375 35.96 29.402 17.423-3.8 37.085-7.079 59.009-9.946 21.924-2.77 50.2-4.404 84.817-4.816zm166.779 141.987l-8.918-35.451c-39.02-8.905-88.096-13.418-147.105-13.418-58.392 0-107.25 4.513-146.488 13.43l-9.522 35.742c37.992-11.567 90.044-17.411 156.325-17.411 31.749 0 61.356 1.645 88.507 4.815 27.248 3.17 49.68 7.272 67.2 12.293zm-7.78-89.741c-36.783-10.14-85.858-15.258-147.009-15.258-61.67 0-111.254 5.215-148.847 15.572l4.501 30.322c37.81-9.837 85.846-14.762 144.346-14.762 58.187 0 105.616 4.816 142.193 14.447zM516.043 758.27c34.423.605 62.699 2.347 84.72 5.118 21.924 2.77 41.804 6.147 59.408 9.934 10.974-10.854 23.159-21.102 36.577-30.939 13.418-9.836 22.844-18.234 28.276-25.203 9.535-13.007 14.35-29.196 14.35-48.652 0-17.725-4.307-32.68-12.91-44.67-15.366-22.627-38.936-33.903-70.48-33.903-18.439 0-37.604 3.992-57.677 11.978-18.234 7.175-31.338 14.967-39.65 23.352-17 16.504-29.402 38.113-37.182 64.853-2.976 9.22-4.61 20.896-4.924 35.137-.315 14.24-.508 25.203-.508 32.995zm21.924-23.352c0-5.844.726-14.035 1.936-24.804 1.343-10.647 3.388-19.056 6.158-25.094 7.478-16.19 18.029-31.144 31.858-44.974 3.993-3.993 12.608-9.425 25.82-16.189a92.621 92.621 0 0 1 41.695-9.63c11.253 0 22.324 1.947 33.491 5.843 11.071 3.896 19.468 9.837 24.998 17.931 5.021 6.764 7.586 17.714 7.586 32.984 0 11.978-4.924 23.146-14.761 33.6a488.213 488.213 0 0 1-20.69 19.976c-7.38 6.655-14.544 14.543-21.295 23.557-11.592-3.992-27.768-7.162-48.47-9.316-20.69-2.25-43.438-3.485-68.326-3.896z\" fill=\"#f9f9fa\"/>\n        </g>\n    </svg>\n);\n\nexport default {\n    Activity,\n    Alert,\n    ArrowDown,\n    ArrowLeft,\n    ArrowUp,\n    Award,\n    Check,\n    CheckCircle,\n    ChevronDown,\n    ChevronLeft,\n    ChevronRight,\n    ChevronUp,\n    Circle,\n    Download,\n    Edit,\n    Help,\n    Info,\n    Javascript: simpleIcon(Javascript),\n    Layers,\n    List,\n    Logo,\n    Plus,\n    React: simpleIcon(ReactIcon),\n    Repeat,\n    Settings,\n    Sidebar,\n    Trash,\n    UserMinus,\n    UserPlus,\n    Users,\n    X\n};\n","import {Id, createPlayer, createTournament} from \"../../data-types\";\nimport {\n    assoc,\n    dissoc,\n    lensProp,\n    mergeLeft,\n    over\n} from \"ramda\";\nimport nanoid from \"nanoid\";\nimport t from \"tcomb\";\n\nconst ActionLoadState = t.interface({\n    state: t.Any\n});\nconst ActionDelItem = t.interface({\n    id: t.String\n});\nconst ActionAddItem = t.interface({\n    item: t.Any\n});\nconst ActionAddTourney = t.interface({\n    name: t.String\n});\nconst AdctionAddPlayer = t.interface({\n    firstName: t.String,\n    lastName: t.String,\n    rating: t.Number\n});\n// This is copied from players-reducer.js since the profile editor uses it\n// TODO: unify those\nconst ActionSetPlayer = t.interface({\n    firstName: t.String,\n    id: Id,\n    lastName: t.String,\n    matchCount: t.Number,\n    rating: t.Number\n});\nconst ActionTypes = t.union([\n    ActionLoadState,\n    ActionDelItem,\n    ActionAddItem,\n    AdctionAddPlayer,\n    ActionAddTourney,\n    ActionSetPlayer\n]);\nActionTypes.dispatch = function (x) {\n    const typeToConstructor = {\n        \"ADD_ITEM\": ActionAddItem,\n        \"ADD_PLAYER\": AdctionAddPlayer,\n        \"ADD_TOURNEY\": ActionAddTourney,\n        \"DEL_ITEM\": ActionDelItem,\n        \"LOAD_STATE\": ActionLoadState,\n        \"SET_PLAYER\": ActionSetPlayer\n    };\n    return typeToConstructor[x.type];\n};\n\n// eslint-disable-next-line complexity\nexport default function genericDbReducer(state, action) {\n    ActionTypes(action);\n    const nextId = nanoid();\n    switch (action.type) {\n    case \"ADD_ITEM\":\n        console.warn(\"Use a more specific action instead, please.\");\n        return assoc(nextId, action.item, state);\n    case \"ADD_TOURNEY\":\n        return assoc(\n            nextId,\n            createTournament({id: nextId, name: action.name}),\n            state\n        );\n    case \"ADD_PLAYER\":\n        return assoc(\n            nextId,\n            createPlayer({\n                firstName: action.firstName,\n                id: nextId,\n                lastName: action.lastName,\n                rating: action.rating\n            }),\n            state\n        );\n    case \"DEL_ITEM\":\n        // If using the player DB, be sure to delete avoid-pairs too.\n        return dissoc(action.id, state);\n    case \"SET_PLAYER\":\n        // This is copied from players-reducer since the profile editor uses it\n        return over(\n            lensProp(action.id),\n            mergeLeft(\n                {\n                    firstName: action.firstName,\n                    lastName: action.lastName,\n                    matchCount: action.matchCount,\n                    rating: action.rating\n                }\n            ),\n            state\n        );\n    case \"LOAD_STATE\":\n        return action.state;\n    default:\n        throw new Error(\"Unexpected action type\");\n    }\n}\n","import {AvoidPair, Id} from \"../../data-types\";\nimport {append, assoc, filter, lensProp, over} from \"ramda\";\nimport t from \"tcomb\";\n\nconst ActionLoadState = t.interface({\n    state: t.Any\n});\nconst ActionSetOption = t.interface({\n    option: t.String,\n    value: t.union([\n        t.Number,\n        t.list(AvoidPair)\n    ])\n});\nconst ActionAvoidPair = t.interface({\n    pair: AvoidPair\n});\nconst ActionAvoidSingle = t.interface({\n    id: Id\n});\nconst ActionTypes = t.union([\n    ActionLoadState,\n    ActionAvoidPair,\n    ActionAvoidSingle\n]);\nActionTypes.dispatch = function (x) {\n    const typeToConstructor = {\n        \"ADD_AVOID_PAIR\": ActionAvoidPair,\n        \"DEL_AVOID_PAIR\": ActionAvoidPair,\n        \"DEL_AVOID_SINGLE\": ActionAvoidSingle,\n        \"LOAD_STATE\": ActionLoadState,\n        \"SET_OPTION\": ActionSetOption\n    };\n    return typeToConstructor[x.type];\n};\n\n// eslint-disable-next-line complexity\nexport default function optionsReducer(state, action) {\n    ActionTypes(action);\n    switch (action.type) {\n    case \"ADD_AVOID_PAIR\":\n        return over(\n            lensProp(\"avoidPairs\"),\n            append(action.pair),\n            state\n        );\n    case \"DEL_AVOID_PAIR\":\n        return over(\n            lensProp(\"avoidPairs\"),\n            filter((pair) => !(\n                pair.includes(action.pair[0]) && pair.includes(action.pair[1])\n            )),\n            state\n        );\n    case \"DEL_AVOID_SINGLE\":\n        // call this when you delete a player ID\n        // TODO: make the avoidPairs list smartly auto-clean itself\n        return over(\n            lensProp(\"avoidPairs\"),\n            filter((pair) => !pair.includes(action.id)),\n            state\n        );\n    case \"SET_OPTION\":\n        return assoc(\n            action.option,\n            action.value,\n            state\n        );\n    case \"LOAD_STATE\":\n        return action.state;\n    default:\n        throw new Error(\"Unexpected action type.\");\n    }\n}\n\n","import {Id, createPlayer} from \"../../data-types\";\nimport {\n    assoc,\n    dissoc,\n    lensPath,\n    lensProp,\n    mergeLeft,\n    over,\n    set\n} from \"ramda\";\nimport nanoid from \"nanoid\";\nimport t from \"tcomb\";\n\nconst ActionSetPlayer = t.interface({\n    firstName: t.String,\n    id: Id,\n    lastName: t.String,\n    matchCount: t.Number,\n    rating: t.Number\n});\nconst ActionAddPlayer = t.interface({\n    firstName: t.String,\n    lastName: t.String,\n    rating: t.Number\n});\nconst ActionDelPlayer = t.interface({\n    id: Id\n});\nconst ActionSetMatchcount = t.interface({\n    id: Id,\n    matchCount: t.Number\n});\nconst ActionSetRating = t.interface({\n    id: Id,\n    rating: t.Number\n});\nconst ActionLoadState = t.interface({state: t.Any});\nconst ActionTypes = t.union([\n    ActionSetPlayer,\n    ActionAddPlayer,\n    ActionDelPlayer,\n    ActionSetMatchcount,\n    ActionSetRating,\n    ActionLoadState\n]);\nActionTypes.dispatch = function (x) {\n    const typeToConstructor = {\n        \"ADD_PLAYER\": ActionAddPlayer,\n        \"DEL_PLAYER\": ActionDelPlayer,\n        \"LOAD_STATE\": ActionLoadState,\n        \"SET_PLAYER\": ActionSetPlayer,\n        \"SET_PLAYER_MATCHCOUNT\": ActionSetMatchcount,\n        \"SET_PLAYER_RATING\": ActionSetRating\n    };\n    return typeToConstructor[x.type];\n};\n\n// eslint-disable-next-line complexity\nexport default function playersReducer(state, action) {\n    ActionTypes(action);\n    const nextId = nanoid();\n    switch (action.type) {\n    case \"ADD_PLAYER\":\n        return assoc(\n            nextId,\n            createPlayer({\n                firstName: action.firstName,\n                id: nextId,\n                lastName: action.lastName,\n                rating: action.rating\n            }),\n            state\n        );\n    case \"SET_PLAYER\":\n        return over(\n            lensProp(action.id),\n            mergeLeft(\n                {\n                    firstName: action.firstName,\n                    lastName: action.lastName,\n                    matchCount: action.matchCount,\n                    rating: action.rating\n                }\n            ),\n            state\n        );\n    case \"DEL_PLAYER\":\n        // You should delete all avoid-pairs with the id too.\n        return dissoc(\n            lensPath(action.id),\n            state\n        );\n    case \"SET_PLAYER_MATCHCOUNT\":\n        return set(\n            lensPath([action.id, \"matchCount\"]),\n            action.matchCount,\n            state\n        );\n    case \"SET_PLAYER_RATING\":\n        return set(\n            lensPath([action.id, \"rating\"]),\n            action.rating,\n            state\n        );\n    case \"LOAD_STATE\":\n        return action.state;\n    default:\n        throw new Error(\"Unexpected action type\");\n    }\n}\n","// TODO: this file needs to be replaced with something more organized.\nimport {\n    AvoidPair,\n    BLACK,\n    DUMMY_ID,\n    Id,\n    Player,\n    Tournament,\n    WHITE,\n    createMatch\n} from \"../../data-types\";\nimport {getPlayerMaybe, pairPlayers} from \"../../pairing-scoring\";\nimport {assoc} from \"ramda\";\nimport t from \"tcomb\";\n\nexport function autoPair({\n    avoidList,\n    byeValue,\n    players,\n    roundId,\n    tourney\n}) {\n    t.list(AvoidPair)(avoidList);\n    t.Number(byeValue);\n    Tournament(tourney);\n    t.dict(Id, Player)(players);\n    t.Number(roundId);\n    const roundList = tourney.roundList;\n    const pairs = pairPlayers({\n        avoidList: avoidList,\n        byeQueue: tourney.byeQueue,\n        players,\n        roundId,\n        roundList\n    });\n    const getPlayer = (id) => getPlayerMaybe(players, id); // curry\n    const newMatchList = pairs.map(\n        (idsPair) => (\n            createMatch({\n                newRating: [\n                    getPlayer(idsPair[WHITE]).rating,\n                    getPlayer(idsPair[BLACK]).rating\n                ],\n                origRating: [\n                    getPlayer(idsPair[WHITE]).rating,\n                    getPlayer(idsPair[BLACK]).rating\n                ],\n                playerIds: [idsPair[WHITE], idsPair[BLACK]]\n            })\n        )\n    );\n    return newMatchList.reduce(\n        // Set match results for bye matches\n        function (acc, match) {\n            if (match.playerIds[WHITE] === DUMMY_ID) {\n                return acc.concat([assoc(\"result\", [0, byeValue], match)]);\n            }\n            if (match.playerIds[BLACK] === DUMMY_ID) {\n                return acc.concat([assoc(\"result\", [byeValue, 0], match)]);\n            }\n            return acc.concat([match]);\n        },\n        []\n    );\n}\n\nexport function manualPair(pair, byeValue) {\n    t.tuple([Player, Player])(pair);\n    const match = createMatch({\n        newRating: [pair[WHITE].rating, pair[BLACK].rating],\n        origRating: [pair[WHITE].rating, pair[BLACK].rating],\n        playerIds: [pair[WHITE].id, pair[BLACK].id]\n    });\n    if (pair[WHITE].id === DUMMY_ID) {\n        return assoc(\"result\", [0, byeValue], match);\n    }\n    if (pair[BLACK].id === DUMMY_ID) {\n        return assoc(\"result\", [byeValue, 0], match);\n    }\n    return match;\n}\n","import {AvoidPair, BLACK, DUMMY_ID, Id, Player, WHITE} from \"../../data-types\";\nimport {\n    __,\n    append,\n    assoc,\n    concat,\n    filter,\n    findIndex,\n    lensPath,\n    lensProp,\n    map,\n    mergeRight,\n    move,\n    over,\n    pipe,\n    propEq,\n    remove,\n    reverse,\n    set\n} from \"ramda\";\nimport {autoPair, manualPair} from \"./match-functions\";\nimport t from \"tcomb\";\n\nconst ActionAddRound = t.interface({});\nconst ActionDelLastRound = t.interface({});\nconst ActionAddRemoveTieBreak = t.interface({\n    id: t.Number\n});\nconst ActionMoveTieBreak = t.interface({\n    newIndex: t.Number,\n    oldIndex: t.Number\n});\nconst ActionSetTourneyPlayers = t.interface({\n    playerIds: t.list(Id)\n});\nconst ActionSetByeQueue = t.interface({\n    byeQueue: t.list(Id)\n});\nconst ActionAutoPair = t.interface({\n    avoidList: t.list(AvoidPair),\n    byeValue: t.Number,\n    players: t.dict(Id, Player),\n    roundId: t.Number\n});\nconst ActionManualPair = t.interface({\n    byeValue: t.Number,\n    pair: t.tuple([Player, Player]),\n    roundId: t.Number\n});\nconst ActionSetMatchResult = t.interface({\n    matchId: t.String,\n    newRating: t.tuple([t.Number, t.Number]),\n    result: t.tuple([t.Number, t.Number]),\n    roundId: t.Number\n});\nconst ActionEditMatch = t.interface({\n    matchId: t.String,\n    roundId: t.Number\n});\nconst ActionMoveMatch = t.interface({\n    newIndex: t.Number,\n    oldIndex: t.Number,\n    roundId: t.Number\n});\nconst ActionSetName = t.interface({\n    name: t.String\n});\nconst ActionSetDate = t.interface({\n    date: Date\n});\nconst ActionUpdateByeScores = t.interface({\n    value: t.Number\n});\nconst ActionLoadState = t.interface({\n    state: t.Any\n});\nconst ActionTypes = t.union([\n    ActionAddRound,\n    ActionDelLastRound,\n    ActionAddRemoveTieBreak,\n    ActionAddRemoveTieBreak,\n    ActionMoveTieBreak,\n    ActionSetName,\n    ActionSetTourneyPlayers,\n    ActionSetByeQueue,\n    ActionSetDate,\n    ActionAutoPair,\n    ActionManualPair,\n    ActionSetMatchResult,\n    ActionEditMatch,\n    ActionMoveMatch,\n    ActionUpdateByeScores\n]);\nActionTypes.dispatch = function (action) {\n    const typeToConstructor = {\n        \"ADD_ROUND\": ActionAddRound,\n        \"ADD_TIEBREAK\": ActionAddRemoveTieBreak,\n        \"AUTO_PAIR\": ActionAutoPair,\n        \"DEL_LAST_ROUND\": ActionDelLastRound,\n        \"DEL_MATCH\": ActionEditMatch,\n        \"DEL_TIEBREAK\": ActionAddRemoveTieBreak,\n        \"MANUAL_PAIR\": ActionManualPair,\n        \"MOVE_MATCH\": ActionMoveMatch,\n        \"MOVE_TIEBREAK\": ActionMoveTieBreak,\n        \"SET_BYE_QUEUE\": ActionSetByeQueue,\n        \"SET_DATE\": ActionSetDate,\n        \"SET_MATCH_RESULT\": ActionSetMatchResult,\n        \"SET_NAME\": ActionSetName,\n        \"SET_STATE\": ActionLoadState,\n        \"SET_TOURNEY_PLAYERS\": ActionSetTourneyPlayers,\n        \"SWAP_COLORS\": ActionEditMatch,\n        \"UPDATE_BYE_SCORES\": ActionUpdateByeScores\n    };\n    return typeToConstructor[action.type];\n};\n\n// eslint-disable-next-line complexity\nexport default function tournamentReducer(state, action) {\n    ActionTypes(action);\n    switch (action.type) {\n    case \"ADD_ROUND\":\n        return over(\n            lensProp(\"roundList\"),\n            append([]),\n            state\n        );\n    case \"DEL_LAST_ROUND\":\n        return over(\n            lensProp(\"roundList\"),\n            remove(-1, 1),\n            state\n        );\n    case \"ADD_TIEBREAK\":\n        return over(\n            lensProp(\"tieBreaks\"),\n            append(action.id),\n            state\n        );\n    case \"DEL_TIEBREAK\":\n        return over(\n            lensProp(\"tieBreaks\"),\n            filter((id) => id !== action.id),\n            state\n        );\n    case \"MOVE_TIEBREAK\":\n        return over(\n            lensProp(\"tieBreaks\"),\n            move(action.oldIndex, action.newIndex),\n            state\n        );\n    case \"SET_TOURNEY_PLAYERS\":\n        return assoc(\n            \"playerIds\",\n            action.playerIds,\n            state\n        );\n    case \"SET_BYE_QUEUE\":\n        return assoc(\n            \"byeQueue\",\n            action.byeQueue,\n            state\n        );\n    case \"SET_NAME\":\n        return assoc(\n            \"name\",\n            action.name,\n            state\n        );\n    case \"AUTO_PAIR\":\n        return over(\n            lensPath([\"roundList\", action.roundId]),\n            concat(\n                __,\n                autoPair({\n                    avoidList: action.avoidList,\n                    byeValue: action.byeValue,\n                    players: action.players,\n                    roundId: action.roundId,\n                    tourney: state\n                })\n            ),\n            state\n        );\n    case \"MANUAL_PAIR\":\n        return over(\n            lensPath([\"roundList\", action.roundId]),\n            append(manualPair(action.pair, action.byeValue)),\n            state\n        );\n    case \"SET_DATE\":\n        return assoc(\n            \"date\",\n            action.date,\n            state\n        );\n    case \"SET_MATCH_RESULT\":\n        return pipe(\n            set(\n                lensPath([\n                    \"roundList\",\n                    action.roundId,\n                    findIndex(\n                        propEq(\"id\", action.matchId),\n                        state.roundList[action.roundId]\n                    ),\n                    \"result\"\n                ]),\n                action.result\n            ),\n            set(\n                lensPath([\n                    \"roundList\",\n                    action.roundId,\n                    findIndex(\n                        propEq(\"id\", action.matchId),\n                        state.roundList[action.roundId]\n                    ),\n                    \"newRating\"\n                ]),\n                action.newRating,\n            ),\n        )(state);\n    case \"DEL_MATCH\":\n        return over(\n            lensPath([\"roundList\", action.roundId]),\n            filter((match) => match.id !== action.matchId),\n            state\n        );\n    case \"SWAP_COLORS\":\n        return over(\n            lensPath([\n                \"roundList\",\n                action.roundId,\n                findIndex(\n                    propEq(\"id\", action.matchId),\n                    state.roundList[action.roundId]\n                )\n            ]),\n            (match) => mergeRight(\n                match,\n                {\n                    newRating: reverse(match.newRating),\n                    origRating: reverse(match.origRating),\n                    playerIds: reverse(match.playerIds),\n                    result: reverse(match.result)\n                }\n            ),\n            state\n        );\n    case \"MOVE_MATCH\":\n        return over(\n            lensPath([\"roundList\", action.roundId]),\n            move(action.oldIndex, action.newIndex),\n            state\n        );\n    case \"UPDATE_BYE_SCORES\":\n        return assoc(\n            \"roundList\",\n            map(\n                map(\n                    function (match) {\n                        if (match.playerIds[WHITE] === DUMMY_ID) {\n                            return assoc(\"result\", [0, action.value], match);\n                        } else if (match.playerIds[BLACK] === DUMMY_ID) {\n                            return assoc(\"result\", [action.value, 0], match);\n                        } else {\n                            return match;\n                        }\n                    }\n                ),\n                state.roundList\n            ),\n            state\n        );\n    case \"SET_STATE\":\n        console.log(\"setting state:\", action.state);\n        return action.state;\n    default:\n        throw new Error(\"Unexpected action type \" + action.type);\n    }\n}\n","import {Id, Player, Tournament} from \"../data-types\";\nimport fromJSON from \"tcomb/lib/fromJSON\";\nimport options from \"./options.json\";\nimport players from \"./players.json\";\nimport t from \"tcomb\";\nimport tournaments from \"./tournaments.json\";\n\nexport default {\n    options,\n    players: t.dict(Id, Player)(players),\n    tournaments: fromJSON(tournaments, t.dict(t.String, Tournament))\n};\n","import \"localforage-getitems\";\nimport {genericDbReducer, optionsReducer} from \"./reducers\";\nimport {useEffect, useReducer, useState} from \"react\";\nimport defaultOptions from \"./default-options.json\";\nimport demoData from \"../demo-data\";\nimport {difference} from \"ramda\";\nimport localForage from \"localforage\";\nimport {extendPrototype as removeItemsPrototype} from \"localforage-removeitems\";\nimport {extendPrototype as setItemsPrototype} from \"localforage-setitems\";\n\n/*******************************************************************************\n * Initialize the databases\n ******************************************************************************/\nsetItemsPrototype(localForage);\nremoveItemsPrototype(localForage);\nconst DATABASE_NAME = \"Chessahoochee\";\nconst optionsStore = localForage.createInstance({\n    name: DATABASE_NAME,\n    storeName: \"Options\"\n});\nconst playerStore = localForage.createInstance({\n    name: DATABASE_NAME,\n    storeName: \"Players\"\n});\nconst tourneyStore = localForage.createInstance({\n    name: DATABASE_NAME,\n    storeName: \"Tournaments\"\n});\n\nexport {optionsStore, playerStore, tourneyStore};\n\nexport function loadDemoDB() {\n    document.body.style.cursor = \"wait\";\n    Promise.all([\n        optionsStore.setItems(demoData.options),\n        playerStore.setItems(demoData.players),\n        tourneyStore.setItems(demoData.tournaments)\n    ]).then(function () {\n        window.alert(\"Demo data loaded!\");\n        document.body.style.cursor = \"auto\";\n    });\n}\n\n/*******************************************************************************\n * Generic database hooks\n ******************************************************************************/\nfunction useAllItemsFromDb(store) {\n    const [items, dispatch] = useReducer(genericDbReducer, {});\n    const [isLoaded, setIsLoaded] = useState(false);\n    useEffect(\n        function loadItemsFromDb() {\n            document.body.style.cursor = \"wait\";\n            store.getItems().then(function (results) {\n                console.log(\"loaded items from\", store._config.storeName);\n                dispatch({state: results, type: \"LOAD_STATE\"});\n                setIsLoaded(true);\n                document.body.style.cursor = \"auto\";\n            }).catch(function () {\n                document.body.style.cursor = \"auto\";\n            });\n        },\n        [store]\n    );\n    useEffect(\n        function saveChangesToDb() {\n            if (!isLoaded) {\n                return;\n            }\n            store.setItems(items).then(function () {\n                console.log(\"saved items to\", store._config.storeName);\n            });\n            store.keys().then(function (keys) {\n                const deleted = difference(keys, Object.keys(items));\n                if (deleted.length > 0 ) {\n                    store.removeItems(deleted).then(function () {\n                        console.log(\"Deleted \" + deleted.length + \" items.\");\n                    });\n                }\n            });\n        },\n        [store, items, isLoaded]\n    );\n    return [items, dispatch];\n}\n\n/*******************************************************************************\n * Player & tournament wrapper hooks\n ******************************************************************************/\nexport function useAllPlayersDb() {\n    return useAllItemsFromDb(playerStore);\n}\n\nexport function useAllTournamentsDb() {\n    return useAllItemsFromDb(tourneyStore);\n}\n\n/*******************************************************************************\n * Options database hooks\n ******************************************************************************/\nexport function useOptionsDb() {\n    const [options, dispatch] = useReducer(optionsReducer, defaultOptions);\n    const [isLoaded, setIsLoaded] = useState(false);\n    useEffect(\n        function initOptionsFromDb() {\n            // I don't remember why I used `iterate()` instead of `getItems()`.\n            optionsStore.iterate(function (value, key) {\n                dispatch({option: key, type: \"SET_OPTION\", value: value});\n            }).then(function () {\n                setIsLoaded(true);\n            });\n        },\n        []\n    );\n    useEffect(\n        function writeChangesToDb() {\n            if (!isLoaded) {\n                return;\n            }\n            optionsStore.setItems(options);\n        },\n        [options, isLoaded]\n    );\n    return [options, dispatch];\n}\n","import React, {\n    createContext,\n    useContext,\n    useEffect,\n    useReducer,\n    useState\n} from \"react\";\nimport {filter, symmetricDifference} from \"ramda\";\nimport {\n    getAllPlayersFromMatches,\n    getPlayerMaybe,\n    rounds2Matches\n} from \"../pairing-scoring\";\nimport {playerStore, tourneyStore} from \"./db\";\nimport {playersReducer, tournamentReducer} from \"./reducers\";\nimport PropTypes from \"prop-types\";\n\nconst TournamentContext = createContext(null);\n\nexport function useTournament() {\n    const state = useContext(TournamentContext);\n    return state;\n}\n\nexport function TournamentProvider({children, tourneyId}) {\n    const [tourney, tourneyDispatch] = useReducer(tournamentReducer, {});\n    const [players, playersDispatch] = useReducer(playersReducer, {});\n    const [isTourneyLoaded, setIsTourneyLoaded] = useState(false);\n    const [isPlayersLoaded, setIsPlayersLoaded] = useState(false);\n    const [isDbError, setIsDbError] = useState(false);\n    useEffect(\n        function initTourneyFromDb() {\n            document.body.style.cursor = \"wait\";\n            tourneyStore.getItem(tourneyId).then(function (value) {\n                console.log(\"loaded:\", tourneyId);\n                if (!value) {\n                    setIsDbError(true);\n                }\n                tourneyDispatch({state: value || {}, type: \"SET_STATE\"});\n                setIsTourneyLoaded(true);\n                document.body.style.cursor = \"auto\";\n            }).catch(function () {\n                setIsDbError(true);\n                document.body.style.cursor = \"auto\";\n            });\n        },\n        [tourneyId]\n    );\n    useEffect(\n        function hydrateTourneyPlayersFromDb() {\n            if (!tourney.roundList || !tourney.playerIds) {\n                return; // the tournament hasn't been loaded yet\n            }\n            // Include players who have played matches but left the tournament,\n            // as well as players who are registered but havne't played yet.\n            const allTheIds = getAllPlayersFromMatches(\n                rounds2Matches(tourney.roundList)\n            ).concat(\n                tourney.playerIds\n            );\n            // If there are no ids, update the player state and exit early.\n            if (allTheIds.length === 0) {\n                // This check prevents an infinite loop & memory leak.\n                if (Object.keys(players).length !== 0) {\n                    playersDispatch({state: {}, type: \"LOAD_STATE\"});\n                }\n                setIsPlayersLoaded(true);\n                return;\n            }\n            document.body.style.cursor = \"wait\";\n            playerStore.getItems(allTheIds).then(function (values) {\n                // This safeguards against trying to fetch dummy IDs or IDs from\n                // deleted players. If we updated without this condition, then\n                // this `useEffect` would trigger an infinite loop and a memory\n                // leak.\n                const unChangedPlayers = symmetricDifference(\n                    Object.keys(values),\n                    Object.keys(players)\n                );\n                console.log(\"unchanged players:\", unChangedPlayers);\n                if (unChangedPlayers.length !== 0) {\n                    console.log(\"hydrated player data\");\n                    playersDispatch({state: values, type: \"LOAD_STATE\"});\n                }\n                setIsPlayersLoaded(true);\n                document.body.style.cursor = \"auto\";\n            }).catch(function (error) {\n                console.error(\"Couldn't load ids:\", allTheIds);\n                console.error(error);\n                document.body.style.cursor = \"auto\";\n            });\n        },\n        [tourney.roundList, players, tourney.playerIds]\n    );\n    useEffect(\n        function saveTourneyToDb() {\n            if (\n                !isTourneyLoaded\n                // The tourney length is 0 when it wasn't found in the DB\n                || Object.keys(tourney).length === 0\n                // I don't know why, but this happens sometimes with a bad URL\n                || tourneyId !== tourney.id\n            ) {\n                return;\n            }\n            tourneyStore.setItem(tourneyId, tourney).catch(function (error) {\n                console.log(\"error saving tourney:\", tourneyId, error);\n            });\n        },\n        [tourneyId, tourney, isTourneyLoaded]\n    );\n    useEffect(\n        function savePlayersToDb() {\n            if (!isPlayersLoaded) {\n                return;\n            }\n            playerStore.setItems(players).then(function (values) {\n                console.log(\"saved player changes to DB:\", values);\n            }).catch(function (error) {\n                console.log(\"couldn't save players to DB:\", error);\n            });\n        },\n        [players, isPlayersLoaded]\n    );\n    const getPlayer = (id) => getPlayerMaybe(players, id); // curry\n    // `players` includes players in past matches who may have left\n    // `activePlayers` is only players to be matched in future matches.\n    const activePlayers = filter(\n        (p) => tourney.playerIds.includes(p.id),\n        players\n    );\n    if (isDbError) {\n        return <div>Error: tournament not found.</div>;\n    }\n    if (!isTourneyLoaded || !isPlayersLoaded) {\n        return <div>Loading...</div>;\n    }\n    return (\n        <TournamentContext.Provider\n            value={{\n                activePlayers,\n                getPlayer,\n                players,\n                playersDispatch,\n                tourney,\n                tourneyDispatch\n            }}\n        >\n            {children}\n        </TournamentContext.Provider>\n    );\n}\nTournamentProvider.propTypes = {\n    children: PropTypes.node.isRequired,\n    tourneyId: PropTypes.string.isRequired\n};\n","import {ascend, descend, prop, sort} from \"ramda\";\nimport {useEffect, useState} from \"react\";\n\nexport function useSortedTable(origTable, defaultKey, defaultDescend = true) {\n    const [table, setTable] = useState(origTable);\n    const [key, setKey] = useState(defaultKey);\n    const [isDescending, setIsDescending] = useState(defaultDescend);\n    function toggleDirection() {\n        setIsDescending(!isDescending);\n    }\n    useEffect(\n        function () {\n            const direction = (isDescending) ? descend : ascend;\n            setTable(sort(direction(prop(key)), origTable));\n        },\n        [origTable, key, isDescending]\n    );\n    return {\n        isDescending,\n        key,\n        setIsDescending,\n        setKey,\n        setTable,\n        table,\n        toggleDirection\n    };\n}\n\nexport function useDocumentTitle(title) {\n    useEffect(\n        function () {\n            const origTitle = document.title;\n            document.title = \"Chessahoochee: \" + title;\n            return function () {\n                document.title = origTitle;\n            };\n        },\n        [title]\n    );\n}\n","import {\n    createStandingList,\n    getPerformanceRatings,\n    getResultsByOpponent,\n    rounds2Matches\n} from \"../../pairing-scoring\";\nimport Icons from \"../icons\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport {assoc} from \"ramda\";\nimport numeral from \"numeral\";\nimport style from \"./scores.module.css\";\nimport {useTournament} from \"../../hooks\";\n\nexport default function Crosstable(props) {\n    const {tourney, getPlayer} = useTournament();\n    const {tieBreaks, roundList} = tourney;\n    const matches = rounds2Matches(roundList);\n    const oppResults = (id) => getResultsByOpponent(matches, id); // curry\n    const [standings] = createStandingList(tieBreaks, roundList);\n    const opponentScores = standings.reduce(\n        (acc, {id}) => assoc(id, oppResults(id), acc),\n        {}\n    );\n\n    function getXScore(player1Id, player2Id) {\n        if (player1Id === player2Id) {\n            return <Icons.X className=\"disabled\" />;\n        }\n        const result = opponentScores[player1Id][player2Id];\n        if (result === undefined) {\n            return null;\n        }\n        return numeral(result).format(\"1/2\");\n    }\n\n    function getRatingChangeTds(playerId) {\n        const [\n            firstRating,\n            lastRating\n        ] = getPerformanceRatings(matches, playerId);\n        const change = numeral(lastRating - firstRating).format(\"+0\");\n        return (\n            <>\n            <td className=\"table__number\">\n                {lastRating}\n            </td>\n            <td className=\"table__number body-10\">\n                ({change})\n            </td>\n            </>\n        );\n    }\n\n    return (\n        <table className={style.table}>\n            <caption>Crosstable</caption>\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Name</th>\n                    {/* Display a rank as a shorthand for each player. */}\n                    {Object.keys(standings).map((rank) =>\n                        <th key={rank}>\n                            {Number(rank) + 1}\n                        </th>\n                    )}\n                    <th>Score</th>\n                    <th colSpan={2}>Rating</th>\n                </tr>\n            </thead>\n            <tbody>\n                {/* Output a row for each player */}\n                {standings.map((standing, index)=>\n                    <tr key={index} className={style.row}>\n                        <th className={style.rank} scope=\"col\">\n                            {index + 1}\n                        </th>\n                        <th className={style.playerName} scope=\"row\">\n                            {getPlayer(standing.id).firstName}&nbsp;\n                            {getPlayer(standing.id).lastName}\n                        </th>\n                        {/* Output a cell for each other player */}\n                        {standings.map((opponent, index2) =>\n                            <td\n                                key={index2}\n                                className=\"table__number\"\n                            >\n                                {getXScore(standing.id, opponent.id)}\n                            </td>\n                        )}\n                        {/* Output their score and rating change */}\n                        <td className=\"table__number\">\n                            {numeral(standing.score).format(\"1/2\")}\n                        </td>\n                        {getRatingChangeTds(standing.id)}\n                    </tr>\n                )}\n            </tbody>\n        </table>\n    );\n}\nCrosstable.propTypes = {\n    tourneyId: PropTypes.string\n};\n","import Icons from \"./icons\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport {omit} from \"ramda\";\nimport styles from \"./utility.module.css\";\n// import {usePlayers} from \"../state\";\n\nexport const Button = ({children, action}) => (\n    <button onClick={action}>\n        {children}\n    </button>\n);\nButton.propTypes = {\n    action: PropTypes.func.isRequired,\n    children: PropTypes.node.isRequired\n};\n\nexport const BackButton = ({action}) => (\n    <Button action={action}>&lt; Back</Button>\n);\nBackButton.propTypes = {\n    action: PropTypes.func.isRequired\n};\n\nexport const OpenButton = ({action}) => (\n    <Button action={action}>Open &gt;</Button>\n);\nOpenButton.propTypes = {\n    action: PropTypes.func.isRequired\n};\n\nexport function Panel({children, style}) {\n    return (\n        <div className={styles.panel} style={{...style}}>\n            {children}\n        </div>\n    );\n}\nPanel.propTypes = {\n    children: PropTypes.node.isRequired,\n    style: PropTypes.object\n};\n\nexport function PanelContainer(props) {\n    return (\n        <div {...props} className={styles.panels + \" \" + props.className}>\n            {props.children}\n            {/* {React.Children.map(props.children, (child) => child)} */}\n        </div>\n    );\n}\nPanelContainer.propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string\n};\n\nexport function DateFormat(props) {\n    const dateFormat = new Intl.DateTimeFormat(\n        \"en-US\",\n        {\n            day: \"2-digit\",\n            month: \"short\",\n            year: \"numeric\"\n        }\n    );\n    const cleanProps = omit([\"date\"], props);\n    return (\n        <time dateTime={props.date.toISOString()} {...cleanProps}>\n            {dateFormat.format(props.date)}\n        </time>\n    );\n}\nDateFormat.propTypes = {\n    date: PropTypes.instanceOf(Date)\n};\n\nexport function Notification(props) {\n    const [icon, className] = (function () {\n        if (props.success) {\n            return [<Icons.Check />, \"notification__success\"];\n        } else if (props.warning) {\n            return [<Icons.Alert />, \"notification__warning\"];\n        } else if (props.error) {\n            return [<Icons.X />, \"notification__error\"];\n        } else {\n            return [<Icons.Info />, \"notification__generic\"];\n        }\n    }());\n    const cleanProps = omit([\"warning\", \"error\", \"success\", \"tooltip\"], props);\n    return (\n        <div\n            {...cleanProps}\n            className={\"notification \" + className + \" \" + props.className}\n        >\n            <div\n                aria-label={props.tooltip}\n                className=\"notification__icon\"\n                title={props.tooltip}\n            >\n                {icon}\n            </div>\n            <div className=\"notification__text\">\n                {props.children}\n            </div>\n        </div>\n    );\n}\nNotification.propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    error: PropTypes.bool,\n    success: PropTypes.bool,\n    tooltip: PropTypes.string,\n    warning: PropTypes.bool\n};\n\n/**\n * This just creates empty space to balance the layout, e.g. if there's a button\n * on one side of a label that's offsetting it.\n */\nconst PlaceholderButton = () => (\n    <button\n        className=\"button-ghost placeholder\"\n        aria-hidden\n        disabled\n    />\n);\nexport {PlaceholderButton};\n\nexport function SortLabel({label, sortKey, data}) {\n    function toggleDirAndSetKey() {\n        data.setKey(sortKey);\n        data.toggleDirection();\n    }\n    function setKeyOrToggleDir() {\n        if (data.key === sortKey) {\n            data.toggleDirection();\n        } else {\n            data.setKey(sortKey);\n        }\n    }\n    return (\n        <span className=\"buttons-on-hover\">\n            <PlaceholderButton />\n            <button\n                className=\"button-micro dont-hide button-text-ghost title-20\"\n                onClick={setKeyOrToggleDir}\n            >\n                {label}\n            </button>\n            <button\n                className={\n                    (data.key === sortKey)\n                    ? \"dont-hide button-ghost\"\n                    : \"button-ghost\"}\n                onClick={toggleDirAndSetKey}\n            >\n                {(data.isDescending)\n                    ? <Icons.ChevronUp />\n                    : <Icons.ChevronDown />}\n            </button>\n        </span>\n    );\n}\nSortLabel.propTypes = {\n    data: PropTypes.object.isRequired,\n    label: PropTypes.string.isRequired,\n    sortKey: PropTypes.string.isRequired\n};\n\n/*******************************************************************************\n * Non-JSX functions\n ******************************************************************************/\nexport function findById(id, list) {\n    return list.filter((x) => x.id === id)[0];\n}\n\nexport function findIndexById(id, list) {\n    return list.indexOf(findById(id, list));\n}\n","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {assoc} from \"ramda\";\n\nexport default function NewPlayer({dispatch}) {\n    const newPlayerDefault = {firstName: \"\", lastName: \"\", rating: 1200};\n    const [newPlayerData, setNewPlayerdata] = useState(newPlayerDefault);\n\n    const handleSubmit = function (event) {\n        event.preventDefault();\n        const {firstName, lastName, rating} = newPlayerData;\n        setNewPlayerdata(newPlayerDefault);\n        dispatch({\n            firstName,\n            lastName,\n            rating: Number(rating),\n            type: \"ADD_PLAYER\"\n        });\n    };\n\n    const updateField = function (event) {\n        event.preventDefault();\n        const {name, value} = event.currentTarget;\n        setNewPlayerdata((prevState) => assoc(name, value, prevState));\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <fieldset>\n                <legend>Register a new player</legend>\n                <p>\n                    <label htmlFor=\"firstName\">First name</label>\n                    <input\n                        name=\"firstName\"\n                        type=\"text\"\n                        value={newPlayerData.firstName}\n                        required\n                        onChange={updateField}\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"lastName\">Last name</label>\n                    <input\n                        name=\"lastName\"\n                        type=\"text\"\n                        value={newPlayerData.lastName}\n                        required\n                        onChange={updateField}\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"rating\">Rating</label>\n                    <input\n                        name=\"rating\"\n                        type=\"number\"\n                        value={newPlayerData.rating}\n                        required\n                        onChange={updateField}\n                    />\n                </p>\n                <p>\n                    <input type=\"submit\" value=\"Add\"/>\n                </p>\n            </fieldset>\n        </form>\n    );\n}\nNewPlayer.propTypes = {\n    dispatch: PropTypes.func.isRequired\n};\n","import {useAllPlayersDb, useTournament} from \"../../../hooks\";\nimport NewPlayer from \"../../new-player\";\nimport React from \"react\";\n\nexport default function Selecting(props) {\n    const {tourney, tourneyDispatch} = useTournament();\n    const [players, allPlayersDispatch] = useAllPlayersDb();\n\n    function togglePlayer(event) {\n        const id = event.target.value;\n        if (event.target.checked) {\n            tourneyDispatch({\n                playerIds: tourney.playerIds.concat([id]),\n                type: \"SET_TOURNEY_PLAYERS\"\n            });\n        } else {\n            tourneyDispatch({\n                playerIds: tourney.playerIds.filter((pId) => pId !== id),\n                type: \"SET_TOURNEY_PLAYERS\"\n            });\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"toolbar\">\n                <button\n                    className=\"button-micro\"\n                    onClick={() => tourneyDispatch({\n                        playerIds: Object.keys(players),\n                        type: \"SET_TOURNEY_PLAYERS\"\n                    })}\n                >\n                    Select all\n                </button>\n                <button\n                    className=\"button-micro\"\n                    onClick={() => tourneyDispatch({\n                        playerIds: [],\n                        type: \"SET_TOURNEY_PLAYERS\"\n                    })}\n                >\n                    Select none\n                </button>\n            </div>\n            <table>\n                <caption>Select players</caption>\n                <thead>\n                    <tr>\n                        <th>First name</th>\n                        <th>Last name</th>\n                        <th>Select</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.values(players).map(({id, firstName, lastName}) =>\n                        <tr key={id}>\n                            <td>{firstName}</td>\n                            <td>{lastName}</td>\n                            <td>\n                                <input\n                                    checked={tourney.playerIds.includes(id)}\n                                    type=\"checkbox\"\n                                    value={id}\n                                    onChange={togglePlayer}\n                                />\n                            </td>\n                        </tr>\n                    )}\n                </tbody>\n            </table>\n            <NewPlayer dispatch={allPlayersDispatch}/>\n        </div>\n    );\n}\nSelecting.propTypes = {};\n","import {Panel, PanelContainer} from \"../../utility\";\nimport React, {useState} from \"react\";\nimport {hasHadBye, rounds2Matches} from \"../../../pairing-scoring\";\nimport {Dialog} from \"@reach/dialog\";\nimport Icons from \"../../icons\";\nimport PropTypes from \"prop-types\";\nimport Selecting from \"./selecting\";\nimport {useTournament} from \"../../../hooks\";\n\nfunction PlayerList({players, dispatch, byeQueue}) {\n    return (\n        <>\n        {Object.values(players).map((p) => (\n            <tr key={p.id} className={p.type + \" player\"}>\n                <td>{p.firstName}</td>\n                <td>{p.lastName}</td>\n                <td>\n                    <button\n                        className=\"button-micro\"\n                        disabled={byeQueue.includes(p.id)}\n                        onClick={() =>\n                            dispatch({\n                                byeQueue:\n                                    byeQueue.concat([p.id]),\n                                type: \"SET_BYE_QUEUE\"\n                            })\n                        }\n                    >\n                        Bye signup\n                    </button>\n                </td>\n            </tr>\n        )\n        )}\n        </>\n    );\n}\nPlayerList.propTypes = {\n    byeQueue: PropTypes.arrayOf(PropTypes.string).isRequired,\n    dispatch: PropTypes.func.isRequired,\n    players: PropTypes.object.isRequired\n};\n\nexport default function PlayerSelect(props) {\n    const {tourney, tourneyDispatch, activePlayers} = useTournament();\n    const {playerIds, roundList, byeQueue} = tourney;\n    const dispatch = tourneyDispatch;\n    const [isSelecting, setIsSelecting] = useState(playerIds.length === 0);\n    const matches = rounds2Matches(roundList);\n    return (\n        <div className=\"content-area\">\n            <div className=\"toolbar\">\n                <button onClick={() => setIsSelecting(true)}>\n                    <Icons.Edit /> Edit player roster\n                </button>\n            </div>\n            <PanelContainer>\n                <Panel style={{flexShrink: \"0\"}}>\n                    <table>\n                        <caption>Current roster</caption>\n                        <thead>\n                            <tr>\n                                <th colSpan={2}>Name</th>\n                                <th>Options</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"content\">\n                            <PlayerList\n                                byeQueue={byeQueue}\n                                dispatch={dispatch}\n                                players={activePlayers}\n                            />\n                        </tbody>\n                    </table>\n                </Panel>\n                <Panel>\n                    <h3>Bye queue</h3>\n                    {byeQueue.length === 0 &&\n                        <p>No players have signed up for a bye round.</p>\n                    }\n                    <ol>\n                        {byeQueue.map((pId) => (\n                            <li\n                                key={pId}\n                                className={\n                                    (hasHadBye(pId, matches))\n                                    ? \"disabled buttons-on-hover\"\n                                    : \"buttons-on-hover\"\n                                }\n                            >\n                                {activePlayers[pId].firstName}{\" \"}\n                                {activePlayers[pId].lastName}{\" \"}\n                                <button\n                                    className=\"button-micro\"\n                                    onClick={() =>\n                                        dispatch({\n                                            byeQueue: byeQueue.filter(\n                                                (id) => pId !== id\n                                            ),\n                                            type: \"SET_BYE_QUEUE\"\n                                        })\n                                    }\n                                >\n                                    Remove\n                                </button>\n                            </li>\n                        ))}\n                    </ol>\n                </Panel>\n                <Dialog isOpen={isSelecting}>\n                    <button\n                        className=\"button-micro button-primary\"\n                        onClick={() => setIsSelecting(false)}\n                    >\n                        Done\n                    </button>\n                    <Selecting />\n                </Dialog>\n            </PanelContainer>\n        </div>\n    );\n}\nPlayerSelect.propTypes = {};\n","// this component should eventually replace player-match-info.jsx\nimport {useOptionsDb, useTournament} from \"../../../hooks\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport {createPlayerStats} from \"../../../pairing-scoring\";\n\nexport default function PlayerInfo({playerId, roundId}) {\n    const {tourney, players} = useTournament();\n    const [options] = useOptionsDb();\n    const {\n        profile,\n        rating,\n        score,\n        colorBalance,\n        hasHadBye,\n        opponentHistory,\n        avoidList\n    } = createPlayerStats({\n        avoidList: options.avoidPairs,\n        id: playerId,\n        players,\n        roundId,\n        roundList: tourney.roundList\n    });\n    const prettyBalance = (function () {\n        if (colorBalance < 0) {\n            return \"White +\" + Math.abs(colorBalance);\n        } else if (colorBalance > 0) {\n            return \"Black +\" + colorBalance;\n        } else {\n            return \"Even\";\n        }\n    }());\n    return (\n        <dl className=\"player-card\">\n            <h3>\n                {profile.firstName} {profile.lastName}\n            </h3>\n            <p>Score: {score}</p>\n            <p>Rating: {rating}</p>\n            <p>Color balance: {prettyBalance}</p>\n            <p>Has had a bye round: {hasHadBye ? \"Yes\" : \"No\"}</p>\n            <p>Opponent history:</p>\n            <ol>\n                {opponentHistory.map((opId) => (\n                    <li key={opId}>\n                        {players[opId].firstName}{\" \"}\n                        {players[opId].lastName}\n                    </li>\n                ))}\n            </ol>\n            <p>\n                Players to avoid:\n            </p>\n            <ol>\n                {avoidList.map((pId) => (\n                    <li key={pId}>\n                        {players[pId].firstName} {players[pId].lastName}\n                    </li>\n                ))}\n            </ol>\n        </dl>\n    );\n}\nPlayerInfo.propTypes = {\n    playerId: PropTypes.string,\n    roundId: PropTypes.number\n};\n","import {BLACK, DUMMY_ID, WHITE, dummyPlayer} from \"../../../data-types\";\nimport {assoc, lensIndex, set} from \"ramda\";\nimport Hidden from \"@reach/visually-hidden\";\nimport Icons from \"../../icons\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport {getUnmatched} from \"../../../pairing-scoring\";\nimport {useTournament} from \"../../../hooks\";\n\nexport default function SelectList({roundId, stagedPlayers, setStagedPlayers}) {\n    const {tourney, activePlayers} = useTournament();\n    // only use unmatched players if this is the last round.\n    const unmatched = (roundId === tourney.roundList.length - 1)\n        ? getUnmatched(tourney, activePlayers, roundId)\n        : {};\n\n    function selectPlayer(id) {\n        if (stagedPlayers[WHITE] === null) {\n            setStagedPlayers(\n                (prevState) => set(lensIndex(WHITE), id, prevState)\n            );\n        } else if (stagedPlayers[BLACK] === null) {\n            setStagedPlayers(\n                (prevState) => set(lensIndex(BLACK), id, prevState)\n            );\n        }\n        // else... nothing happens\n    }\n\n    const unmatchedCount = Object.keys(unmatched).length;\n\n    // make a new list so as not to affect auto-pairing\n    const unmatchedWithDummy = (\n        (unmatchedCount % 2 !== 0)\n        ? assoc(DUMMY_ID, dummyPlayer, unmatched)\n        : unmatched\n    );\n    if (unmatchedCount === 0) {\n        return null;\n    }\n    return (\n        <div>\n            <ul className=\"content plain-list\">\n                {Object.values(unmatchedWithDummy).map(\n                    ({id, firstName, lastName}) => (\n                        <li key={id}>\n                            <button\n                                className=\"button-ghost\"\n                                disabled={\n                                    !stagedPlayers.includes(null)\n                                    || stagedPlayers.includes(id)\n                                }\n                                onClick={() => selectPlayer(id)}\n                            >\n                                <Icons.UserPlus/>\n                                <Hidden>\n                                    Select {firstName} {lastName}\n                                </Hidden>\n                            </button>\n                            {\" \"}\n                            {firstName} {lastName}\n                        </li>\n                    )\n                )}\n            </ul>\n        </div>\n    );\n}\nSelectList.propTypes = {\n    roundId: PropTypes.number,\n    setStagedPlayers: PropTypes.func,\n    stagedPlayers: PropTypes.arrayOf(PropTypes.string)\n};\n","import {BLACK, WHITE} from \"../../../data-types\";\nimport React, {Fragment} from \"react\";\nimport {lensIndex, set} from \"ramda\";\nimport {useOptionsDb, useTournament} from \"../../../hooks\";\nimport Icons from \"../../icons\";\nimport PropTypes from \"prop-types\";\n\nexport default function Stage({\n    roundId,\n    stagedPlayers,\n    setStagedPlayers\n}) {\n    const {tourneyDispatch, players} = useTournament();\n    const dispatch = tourneyDispatch;\n    const [options] = useOptionsDb();\n    const [white, black] = stagedPlayers;\n\n    function unstage(color) {\n        setStagedPlayers((prevState) => set(lensIndex(color), null, prevState));\n    }\n\n    function match() {\n        dispatch({\n            byeValue: options.byeValue,\n            pair: [players[white], players[black]],\n            roundId,\n            type: \"MANUAL_PAIR\"\n        });\n        setStagedPlayers([null, null]);\n    }\n\n    return (\n        <div>\n            <h2>Selected for matching:</h2>\n            <div className=\"content\">\n                <p>\n                    White:{\" \"}\n                    {white !== null &&\n                        <Fragment>\n                            {players[white].firstName}{\" \"}\n                            {players[white].lastName}{\" \"}\n                            <button\n                                className=\"button-micro\"\n                                onClick={() => unstage(WHITE)}\n                            >\n                                <Icons.UserMinus /> Remove\n                            </button>\n                        </Fragment>\n                    }\n                </p>\n                <p>\n                    Black:{\" \"}\n                    {black !== null &&\n                        <Fragment>\n                            {players[black].firstName}{\" \"}\n                            {players[black].lastName}{\" \"}\n                            <button\n                                className=\"button-micro\"\n                                onClick={() => unstage(BLACK)}\n                            >\n                                <Icons.UserMinus /> Remove\n                            </button>\n                        </Fragment>\n                    }\n                </p>\n            </div>\n            <div className=\"toolbar\">\n                <button\n                    disabled={\n                        stagedPlayers.every((id) => id === null)\n                    }\n                    onClick={() => setStagedPlayers(\n                        (prevState) => ([prevState[BLACK], prevState[WHITE]])\n                    )}\n                >\n                    <Icons.Repeat/> Swap colors\n                </button>{\" \"}\n                <button\n                    className=\"button-primary\"\n                    disabled={stagedPlayers.includes(null)}\n                    onClick={match}\n                >\n                    <Icons.Check/> Match selected\n                </button>\n            </div>\n        </div>\n    );\n}\nStage.propTypes = {\n    roundId: PropTypes.number,\n    setStagedPlayers: PropTypes.func,\n    stagedPlayers: PropTypes.arrayOf(PropTypes.string)\n};\n","import {Panel, PanelContainer} from \"../../utility\";\nimport React, {useState} from \"react\";\nimport {\n    calcPairIdeal,\n    createPlayerStats,\n    maxPriority,\n    setUpperHalves,\n    sortPlayersForPairing\n} from \"../../../pairing-scoring\";\nimport {map, pipe} from \"ramda\";\nimport {useOptionsDb, useTournament} from \"../../../hooks\";\nimport {Dialog} from \"@reach/dialog\";\nimport PlayerInfo from \"./player-info\";\nimport PropTypes from \"prop-types\";\nimport SelectList  from \"./select-list\";\nimport Selecting from \"../player-select/selecting\";\nimport Stage from \"./stage\";\nimport {findById} from \"../../utility\";\nimport {getUnmatched} from \"../../../pairing-scoring\";\nimport numeral from \"numeral\";\n\nexport default function PairPicker({roundId}) {\n    const [stagedPlayers, setStagedPlayers] = useState([null, null]);\n    const [options] = useOptionsDb();\n    const {tourney, activePlayers, tourneyDispatch} = useTournament();\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const statsList = React.useMemo(\n        () => (\n            pipe(\n                Object.values,\n                map((player) => (\n                    createPlayerStats({\n                        avoidList: options.avoidPairs,\n                        id: player.id,\n                        players: activePlayers,\n                        roundId,\n                        roundList: tourney.roundList\n                    })\n                )),\n                sortPlayersForPairing,\n                setUpperHalves\n            )(activePlayers)\n        ),\n        [\n            tourney.roundList,\n            roundId,\n            options.avoidPairs,\n            activePlayers\n        ]\n    );\n    const matchIdeal = React.useMemo(\n        function () {\n            if (stagedPlayers.includes(null)) {\n                return null;\n            }\n            const player0stats = findById(stagedPlayers[0], statsList);\n            const player1stats = findById(stagedPlayers[1], statsList);\n            const ideal = calcPairIdeal(player0stats, player1stats);\n            return numeral(ideal / maxPriority).format(\"%\");\n        },\n        [stagedPlayers, statsList]\n    );\n    const unmatched = (roundId === tourney.roundList.length - 1)\n        ? getUnmatched(tourney, activePlayers, roundId)\n        : {};\n    const unmatchedCount = Object.keys(unmatched).length;\n    return (\n        <div className=\"content-area\">\n            <div className=\"toolbar\">\n                <button\n                    className=\"button-primary\"\n                    disabled={unmatchedCount === 0}\n                    onClick={() => tourneyDispatch({\n                        avoidList: options.avoidPairs,\n                        byeValue: options.byeValue,\n                        players: unmatched,\n                        roundId,\n                        type: \"AUTO_PAIR\"\n                    })}\n                >\n                    Auto-pair unmatched players\n                </button>{\" \"}\n                <button onClick={() => setIsModalOpen(true)}>\n                    Add or remove players from the roster.\n                </button>\n            </div>\n            <PanelContainer>\n                <Panel>\n                    <SelectList\n                        roundId={roundId}\n                        setStagedPlayers={setStagedPlayers}\n                        stagedPlayers={stagedPlayers}\n                    />\n                </Panel>\n                <Panel style={{flexGrow: \"1\"}}>\n                    <Stage\n                        roundId={roundId}\n                        setStagedPlayers={setStagedPlayers}\n                        stagedPlayers={stagedPlayers}\n                    />\n                    <PanelContainer>\n                        {stagedPlayers.map((id) =>\n                            id !== null && (\n                                <Panel key={id}>\n                                    <PlayerInfo\n                                        playerId={id}\n                                        roundId={roundId}\n                                    />\n                                </Panel>\n                            )\n                        )}\n                    </PanelContainer>\n                    {!stagedPlayers.includes(null) &&\n                        <span>Match ideal: {matchIdeal}</span>\n                    }\n                </Panel>\n            </PanelContainer>\n            <Dialog isOpen={isModalOpen}>\n                <button\n                    className=\"button-micro\"\n                    onClick={() => setIsModalOpen(false)}\n                >\n                    Done\n                </button>\n                <Selecting />\n            </Dialog>\n        </div>\n    );\n}\nPairPicker.propTypes = {\n    roundId: PropTypes.number,\n    tourneyId: PropTypes.number\n};\n","import React from \"react\";\n\nconst NotFound = (props) => (\n    <div data-testid=\"404\">\n        <p>Page not found.</p>\n    </div>\n);\n\nexport default NotFound;\n","import {useOptionsDb, useTournament} from \"../../../hooks\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport {createPlayerStats} from \"../../../pairing-scoring\";\nimport {findById} from \"../../utility\";\nimport numeral from \"numeral\";\n\nexport default function PlayerMatchInfo({matchId, color, roundId}) {\n    const {tourney, players, getPlayer} = useTournament();\n    const matchList = tourney.roundList[roundId];\n    const [options] = useOptionsDb();\n    const match = findById(matchId, matchList);\n    const playerData = createPlayerStats({\n        avoidList: options.avoidPairs,\n        id: match.playerIds[color],\n        players,\n        roundId,\n        roundList: tourney.roundList\n    });\n    const colorBalance = playerData.colorBalance;\n    const prettyBalance = (function () {\n        if (colorBalance < 0) {\n            return \"White +\" + Math.abs(colorBalance);\n        } else if (colorBalance > 0) {\n            return \"Black +\" + colorBalance;\n        } else {\n            return \"Even\";\n        }\n    }());\n    return (\n        <dl className=\"player-card\">\n            <h3>\n                {playerData.profile.firstName} {playerData.profile.lastName}\n            </h3>\n            <dt>Score</dt>\n            <dd>{playerData.score}</dd>\n            <dt>Rating</dt>\n            <dd data-testid={`rating-${playerData.id}`}>\n                {match.origRating[color]} (\n                {numeral(\n                    match.newRating[color] - match.origRating[color]\n                ).format(\"+0\")}\n                )\n            </dd>\n            <dt>Color balance</dt>\n            <dd>{prettyBalance}</dd>\n            <dt>Has had a bye round</dt>\n            <dd>{playerData.hasHadBye ? \"Yes\" : \"No\"}</dd>\n            <dt>Opponent history</dt>\n            <dd>\n                <ol>\n                    {playerData.opponentHistory.map((opId) => (\n                        <li key={opId}>\n                            {getPlayer(opId).firstName}{\" \"}\n                            {getPlayer(opId).lastName}\n                        </li>\n                    ))}\n                </ol>\n            </dd>\n        </dl>\n    );\n}\nPlayerMatchInfo.propTypes = {\n    color: PropTypes.number,\n    matchId: PropTypes.string,\n    roundId: PropTypes.number\n};\n","import \"@reach/dialog/styles.css\";\nimport {BLACK, DUMMY_ID, WHITE} from \"../../../data-types\";\nimport {Panel, PanelContainer} from \"../../utility\";\nimport React, {useState} from \"react\";\nimport {Dialog} from \"@reach/dialog\";\nimport Hidden from \"@reach/visually-hidden\";\nimport Icons from \"../../icons\";\nimport PlayerMatchInfo from \"./player-match-info\";\nimport PropTypes from \"prop-types\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport {calcNewRatings} from \"../../../pairing-scoring\";\nimport styles from \"./round.module.css\";\nimport {useTournament} from \"../../../hooks\";\n\nexport default function MatchRow({\n    compact,\n    pos,\n    match,\n    roundId,\n    selectedMatch,\n    setSelectedMatch\n}) {\n    const {\n        tourney,\n        tourneyDispatch,\n        players,\n        getPlayer,\n        playersDispatch\n    } = useTournament();\n    const dispatch = tourneyDispatch;\n    const [openModal, setOpenModal] = useState(false);\n    const resultCode = (function () {\n        if (match.result[0] > match.result[1]) {\n            return \"WHITE\";\n        } else if (match.result[1] > match.result[0]) {\n            return \"BLACK\";\n        } else if (match.result.every((x) => x === 0.5)) {\n            return \"DRAW\";\n        } else {\n            return \"NOTSET\";\n        }\n    }());\n    const whitePlayer = getPlayer(match.playerIds[WHITE]);\n    const blackPlayer = getPlayer(match.playerIds[BLACK]);\n    const whiteName = whitePlayer.firstName + \" \" + whitePlayer.lastName;\n    const blackName = blackPlayer.firstName + \" \" + blackPlayer.lastName;\n\n\n    function ResultDisplay(color) {\n        if (resultCode === \"NOTSET\") {\n            return <VisuallyHidden>Not set</VisuallyHidden>;\n        } else if (resultCode === \"DRAW\") {\n            // return <Icons.Minus aria-label=\"Draw\" />;\n            return (\n                <span\n                    aria-label=\"Draw\"\n                    role=\"img\"\n                    style={{filter: \"grayscale(100%)\"}}\n                >\n                    \n                </span>\n            );\n        } else if (resultCode === color) {\n            return <Icons.Award  aria-label=\"Won\" />;\n        } else {\n            return <VisuallyHidden>Lost</VisuallyHidden>;\n        }\n    }\n\n    function setMatchResult(event) {\n        const result = (function () {\n            switch (event.target.value) {\n            case \"WHITE\":\n                return [1, 0];\n            case \"BLACK\":\n                return [0, 1];\n            case \"DRAW\":\n                return [0.5, 0.5];\n            case \"NOTSET\":\n                return [0, 0];\n            default:\n                throw new Error();\n            }\n        }());\n        const white = players[match.playerIds[WHITE]];\n        const black = players[match.playerIds[BLACK]];\n        const newRating = (\n            (event.currentTarget.value === \"NOTSET\")\n            ? match.origRating\n            : calcNewRatings(\n                match.origRating,\n                [white.matchCount, black.matchCount],\n                result\n            )\n        );\n        playersDispatch({\n            id: white.id,\n            rating: newRating[WHITE],\n            type: \"SET_PLAYER_RATING\"\n        });\n        playersDispatch({\n            id: black.id,\n            rating: newRating[BLACK],\n            type: \"SET_PLAYER_RATING\"\n        });\n        // if the result hasn't been scored yet, increment the matchCount\n        if (match.result.reduce((a, b) => a + b) === 0) {\n            playersDispatch({\n                id: white.id,\n                matchCount: white.matchCount + 1,\n                type: \"SET_PLAYER_MATCHCOUNT\"\n            });\n            playersDispatch({\n                id: black.id,\n                matchCount: black.matchCount + 1,\n                type: \"SET_PLAYER_MATCHCOUNT\"\n            });\n        }\n        dispatch({\n            matchId: match.id,\n            newRating,\n            result,\n            roundId,\n            type: \"SET_MATCH_RESULT\"\n        });\n    }\n\n    return (\n        <tr\n            className={\n                (match.id === selectedMatch)\n                ? \"selected\"\n                : \"buttons-on-hover\"\n            }\n        >\n            <th className={\"table__number \" + styles.rowId} scope=\"row\">\n                {pos + 1}\n            </th>\n            <td className={styles.playerResult}>\n                {ResultDisplay(\"WHITE\")}\n            </td>\n            <td\n                className={\"table__player row__player \" + whitePlayer.type}\n                data-testid={`match-${pos}-white`}\n            >\n                {whiteName}\n            </td>\n            <td className={styles.playerResult}>\n                {ResultDisplay(\"BLACK\")}\n            </td>\n            <td\n                className={\"table__player row__player \" + blackPlayer.type}\n                data-testid={`match-${pos}-black`}\n            >\n                {blackName}\n            </td>\n            <td className={styles.matchResult + \" data__input row__controls\"}>\n                <select\n                    className={styles.winnerSelect}\n                    disabled={match.playerIds.includes(DUMMY_ID)}\n                    value={resultCode}\n                    onBlur={setMatchResult}\n                    onChange={setMatchResult}\n                >\n                    <option value=\"NOTSET\">\n                        Select winner\n                    </option>\n                    <option value=\"WHITE\">\n                        White won\n                    </option>\n                    <option value=\"BLACK\">\n                        Black won\n                    </option>\n                    <option value=\"DRAW\">\n                        Draw\n                    </option>\n                </select>\n            </td>\n            {!compact &&\n                <td className={styles.controls + \" data__input\"}>\n                    {(selectedMatch !== match.id)\n                    ? (\n                        <button\n                            className=\"button-ghost\"\n                            title=\"Edit match\"\n                            onClick={() => setSelectedMatch(match.id)}\n                        >\n                            <Icons.Circle />\n                        </button>\n                    ) : (\n                        <button\n                            className=\"button-ghost button-pressed\"\n                            title=\"End editing match\"\n                            onClick={() => setSelectedMatch(null)}\n                        >\n                            <Icons.CheckCircle />\n                        </button>\n                    )}\n                    <button\n                        className=\"button-ghost\"\n                        title=\"Open match information.\"\n                        onClick={() => setOpenModal(true)}\n                    >\n                        <Icons.Info />\n                        <Hidden>\n                            View information for match:{\" \"}\n                            {whiteName} versus {blackName}\n                        </Hidden>\n                    </button>\n                    <Dialog isOpen={openModal}>\n                        <button\n                            className=\"button-micro button-primary\"\n                            onClick={() => setOpenModal(false)}\n                        >\n                            close\n                        </button>\n                        <p>{tourney.name}</p>\n                        <p>Round {roundId + 1}, match {pos + 1}</p>\n                        <PanelContainer>\n                            <Panel>\n                                <PlayerMatchInfo\n                                    color={0}\n                                    matchId={match.id}\n                                    roundId={roundId}\n                                />\n                            </Panel>\n                            <Panel>\n                                <PlayerMatchInfo\n                                    color={1}\n                                    matchId={match.id}\n                                    roundId={roundId}\n                                />\n                            </Panel>\n                        </PanelContainer>\n                    </Dialog>\n                </td>\n            }\n        </tr>\n    );\n}\nMatchRow.propTypes = {\n    compact: PropTypes.bool,\n    match: PropTypes.object,\n    pos: PropTypes.number,\n    roundId: PropTypes.number,\n    selectedMatch: PropTypes.string,\n    setSelectedMatch: PropTypes.func\n};\n","import MatchRow from \"./match-row\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport style from \"./round.module.css\";\nimport {useTournament} from \"../../../hooks\";\n\nexport default function RoundTable({\n    compact,\n    roundId,\n    selectedMatch,\n    setSelectedMatch\n}) {\n    const {tourney} = useTournament();\n    const matchList = tourney.roundList[roundId];\n    return (\n        <table className={style.table}>\n            {matchList.length > 0 &&\n                <>\n                <caption\n                    className={(compact) ? \"title-30\" : \"title-40\"}\n                >\n                    Round {roundId + 1} matches\n                </caption>\n                <thead>\n                    <tr>\n                        <th className={style.rowId} scope=\"col\">\n                            #\n                        </th>\n                        <th scope=\"col\">\n                            <VisuallyHidden>White result</VisuallyHidden>\n                        </th>\n                        <th className=\"row__player\" scope=\"col\">\n                            White\n                        </th>\n                        <th scope=\"col\">\n                            <VisuallyHidden>Black result</VisuallyHidden>\n                        </th>\n                        <th className=\"row__player\" scope=\"col\">\n                            Black\n                        </th>\n                        <th className=\"row__result\" scope=\"col\">\n                            Match result\n                        </th>\n                        {!compact &&\n                            <th className=\"row__controls\" scope=\"col\">\n                                <VisuallyHidden>Controls</VisuallyHidden>\n                            </th>\n                        }\n                    </tr>\n                </thead>\n                </>\n            }\n            <tbody className={style.tbody + \" content\"}>\n                {matchList.map((match, pos) => (\n                    <MatchRow\n                        key={match.id}\n                        compact={compact}\n                        match={match}\n                        pos={pos}\n                        roundId={roundId}\n                        selectedMatch={selectedMatch}\n                        setSelectedMatch={setSelectedMatch}\n                    />\n                ))}\n            </tbody>\n        </table>\n    );\n}\nRoundTable.propTypes = {\n    compact: PropTypes.bool,\n    roundId: PropTypes.number,\n    selectedMatch: PropTypes.string,\n    setSelectedMatch: PropTypes.func\n};\n","import React, {useState} from \"react\";\nimport {findById, findIndexById} from \"../../utility\";\nimport Icons from \"../../icons\";\nimport NotFound from \"../../404\";\nimport PropTypes from \"prop-types\";\nimport RoundTable from \"./round-table\";\nimport {useTournament} from \"../../../hooks\";\n\nexport default function Round({roundId}) {\n    const {\n        tourney,\n        players,\n        tourneyDispatch,\n        playersDispatch\n    } = useTournament();\n    const matchList = tourney.roundList[roundId];\n    const [selectedMatch, setSelectedMatch] = useState(null);\n    if (!matchList) {\n        return <NotFound />;\n    }\n    function unMatch(matchId) {\n        const match = findById(matchId, matchList);\n        if (match.result.reduce((a, b) => a + b) !== 0) {\n            // checks if the match has been scored yet & resets the players'\n            // records\n            match.playerIds.forEach(function (pId, color) {\n                playersDispatch({\n                    id: pId,\n                    matchCount: players[pId].matchCount - 1,\n                    type: \"SET_PLAYER_MATCHCOUNT\"\n                });\n                playersDispatch({\n                    id: pId,\n                    rating: match.origRating[color],\n                    type: \"SET_PLAYER_RATING\"\n                });\n            });\n        }\n        tourneyDispatch({matchId, roundId, type: \"DEL_MATCH\"});\n        setSelectedMatch(null);\n    }\n\n    function swapColors(matchId) {\n        tourneyDispatch({matchId, roundId, type: \"SWAP_COLORS\"});\n    }\n\n    function moveMatch(matchId, direction) {\n        const oldIndex = findIndexById(matchId, matchList);\n        const newIndex = (oldIndex + direction >= 0) ? oldIndex + direction : 0;\n        tourneyDispatch({newIndex, oldIndex, roundId, type: \"MOVE_MATCH\"});\n    }\n\n    return (\n        <div className=\"content-area\">\n            <div className=\"toolbar\">\n                <button\n                    className=\"button-micro\"\n                    disabled={selectedMatch === null}\n                    onClick={() => unMatch(selectedMatch)}\n                >\n                    <Icons.Trash /> Unmatch\n                </button>{\" \"}\n                <button\n                    className=\"button-micro\"\n                    disabled={selectedMatch === null}\n                    onClick={() => swapColors(selectedMatch)}\n                >\n                    <Icons.Repeat /> Swap colors\n                </button>{\" \"}\n                <button\n                    className=\"button-micro\"\n                    disabled={selectedMatch === null}\n                    onClick={() => moveMatch(selectedMatch, -1)}\n                >\n                    <Icons.ArrowUp /> Move up\n                </button>{\" \"}\n                <button\n                    className=\"button-micro\"\n                    disabled={selectedMatch === null}\n                    onClick={() => moveMatch(selectedMatch, 1)}\n                >\n                    <Icons.ArrowDown /> Move down\n                </button>\n            </div>\n            {matchList.length === 0 &&\n                <p>No players matched yet.</p>\n            }\n            <RoundTable\n                roundId={roundId}\n                selectedMatch={selectedMatch}\n                setSelectedMatch={setSelectedMatch}\n            />\n        </div>\n    );\n}\nRound.propTypes = {\n    roundId: PropTypes.number,\n    tourneyId: PropTypes.number\n};\n","import React, {useEffect, useState} from \"react\";\nimport {Tab, TabList, TabPanel, TabPanels, Tabs} from \"@reach/tabs\";\nimport Icons from \"../../icons\";\nimport PairPicker from \"../pair-picker\";\nimport PropTypes from \"prop-types\";\nimport Round from \"./round\";\nimport {getUnmatched} from \"../../../pairing-scoring\";\nimport {useTournament} from \"../../../hooks\";\n\nexport default function Index(props) {\n    const roundId = Number(props.roundId); // Reach Router passes a string.\n    const {tourney, players} = useTournament();\n    // only use unmatched players if this is the last round.\n    const unmatched = (roundId === tourney.roundList.length - 1)\n        ? getUnmatched(tourney, players, roundId)\n        : {};\n    const unmatchedCount = Object.keys(unmatched).length;\n    const [openTab, setOpenTab] = useState(0);\n    useEffect(\n        function () {\n            (unmatchedCount > 0) ? setOpenTab(1) : setOpenTab(0);\n        },\n        [unmatchedCount]\n    );\n    return (\n        <Tabs\n            index={openTab}\n            onChange={(index) => setOpenTab(index)}\n        >\n            <TabList>\n                <Tab><Icons.List/> Matches</Tab>\n                <Tab disabled={unmatchedCount === 0}>\n                    <Icons.Users/> Unmatched players\n                </Tab>\n            </TabList>\n            <TabPanels>\n                <TabPanel>\n                    <Round roundId={roundId}/>\n                </TabPanel>\n                <TabPanel>\n                    <PairPicker roundId={roundId} />\n                </TabPanel>\n            </TabPanels>\n        </Tabs>\n    );\n}\nIndex.propTypes = {\n    path: PropTypes.string,\n    roundId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\n","import {Panel, PanelContainer} from \"../utility\";\nimport React, {useState} from \"react\";\nimport {Tab, TabList, TabPanel, TabPanels, Tabs} from \"@reach/tabs\";\nimport {\n    createStandingTree,\n    tieBreakMethods\n} from \"../../pairing-scoring\";\nimport Icons from \"../icons\";\nimport PropTypes from \"prop-types\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport dashify from \"dashify\";\nimport {defaultTo} from \"ramda\";\nimport numeral from \"numeral\";\nimport style from \"./scores.module.css\";\nimport {useTournament} from \"../../hooks\";\n\nexport function ScoreTable({compact, title}) {\n    const {tourney, getPlayer} = useTournament();\n    const {tieBreaks, roundList} = tourney;\n    const [standingTree, tbMethods] = createStandingTree(tieBreaks, roundList);\n    return (\n        <table\n            className={\n                (compact)\n                ? style.compact + \" \" + style.table\n                : style.table\n            }\n        >\n            <caption\n                className={(compact) ? \"title-30\" : \"title-40\"}\n            >\n                {title}\n            </caption>\n            <thead>\n                <tr className={style.topHeader}>\n                    <th className=\"title-10\" scope=\"col\">Rank</th>\n                    <th className=\"title-10\" scope=\"col\">Name</th>\n                    <th className=\"title-10\" scope=\"col\">Score</th>\n                    {!compact && tbMethods.map((name, i) => (\n                        <th key={i} className=\"title-10\" scope=\"col\">\n                            {name}\n                        </th>\n                    ))}\n                </tr>\n            </thead>\n            <tbody>\n                {standingTree.map((standingsFlat, rank) =>\n                    standingsFlat.map((standing, i, src) => (\n                        <tr key={standing.id} className={style.row}>\n                            {i === 0 && ( // Only display the rank once\n                                <th\n                                    className={\"table__number \" + style.rank}\n                                    rowSpan={src.length}\n                                    scope=\"row\"\n                                >\n                                    {numeral(rank + 1).format(\"0o\")}\n                                </th>\n                            )}\n                            {(compact) // use <td> if it's compact.\n                            ? (\n                                <td className={style.playerName}>\n                                    {getPlayer(standing.id).firstName}&nbsp;\n                                    {getPlayer(standing.id).lastName}\n                                </td>\n                            ) : ( // Use the name as a header if not compact.\n                                <th\n                                    className={style.playerName}\n                                    data-testid={rank}\n                                    scope=\"row\"\n                                >\n                                    {getPlayer(standing.id).firstName}&nbsp;\n                                    {getPlayer(standing.id).lastName}\n                                </th>\n                            )}\n                            <td\n                                className=\"table__number\"\n                                data-testid={dashify(\n                                    getPlayer(standing.id).firstName\n                                    + getPlayer(standing.id).lastName\n                                    + \" score\"\n                                )}\n                            >\n                                {numeral(standing.score).format(\"1/2\")}\n                            </td>\n                            {!compact && standing.tieBreaks.map((score, j) => (\n                                <td\n                                    key={j}\n                                    className=\"table__number\"\n                                    data-testid={dashify(\n                                        getPlayer(standing.id).firstName\n                                        + getPlayer(standing.id).lastName\n                                        + tbMethods[j]\n                                    )}\n                                >\n                                    {numeral(score).format(\"1/2\")}\n                                </td>\n                            ))}\n                        </tr>\n                    ))\n                )}\n            </tbody>\n        </table>\n    );\n}\nScoreTable.propTypes = {\n    compact: PropTypes.bool,\n    title: PropTypes.string.isRequired\n};\n\nfunction SelectTieBreaks(props) {\n    const {tourney, tourneyDispatch} = useTournament();\n    const dispatch = tourneyDispatch;\n    const {tieBreaks} = tourney;\n    const [selectedTb, setSelectedTb] = useState(null);\n\n    function toggleTb(id = null) {\n        const defaultId = defaultTo(selectedTb);\n        if (tieBreaks.includes(defaultId(id))) {\n            dispatch({id: defaultId(id), type: \"DEL_TIEBREAK\"});\n            setSelectedTb(null);\n        } else {\n            dispatch({id: defaultId(id), type: \"ADD_TIEBREAK\"});\n        }\n    }\n\n    function moveTb(direction) {\n        const index = tieBreaks.indexOf(selectedTb);\n        dispatch({\n            newIndex: index + direction,\n            oldIndex: index,\n            type: \"MOVE_TIEBREAK\"\n        });\n    }\n\n    return (\n        <PanelContainer className=\"content-area\">\n            <Panel>\n                <div className=\"toolbar\">\n                    <button\n                        className=\"button-micro\"\n                        disabled={selectedTb === null}\n                        onClick={() => toggleTb()}\n                    >\n                        Toggle\n                    </button>\n                    <button\n                        className=\"button-micro\"\n                        disabled={selectedTb === null}\n                        onClick={() => moveTb(-1)}\n                    >\n                        <Icons.ArrowUp/> Move up\n                    </button>\n                    <button\n                        className=\"button-micro\"\n                        disabled={selectedTb === null}\n                        onClick={() => moveTb(1)}\n                    >\n                        <Icons.ArrowDown/> Move down\n                    </button>\n                    <button\n                        className={\n                            (selectedTb !== null)\n                            ? \"button-micro button-primary\"\n                            : \"button-micro\"\n                        }\n                        disabled={selectedTb === null}\n                        onClick={() => setSelectedTb(null)}\n                    >\n                        Done\n                    </button>\n                </div>\n                <table>\n                    <caption className=\"title-30\">\n                        Selected tiebreak methods\n                    </caption>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th><VisuallyHidden>Controls</VisuallyHidden></th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"content\">\n                        {tieBreaks.map((id) => (\n                            <tr\n                                key={id}\n                                className={selectedTb === id ? \"selected\" : \"\"}\n                            >\n                                <td>\n                                    {tieBreakMethods[id].name}\n                                </td>\n                                <td style={{width: \"48px\"}}>\n                                    <button\n                                        className=\"button-micro\"\n                                        disabled={\n                                            selectedTb !== null\n                                            && selectedTb !== id\n                                        }\n                                        onClick={() =>\n                                            selectedTb === id\n                                                ? setSelectedTb(null)\n                                                : setSelectedTb(id)\n                                        }\n                                    >\n                                        {selectedTb === id ? \"Done\" : \"Edit\"}\n                                    </button>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </Panel>\n            <Panel>\n                <div className=\"toolbar\">&nbsp;</div>\n                <table style={{marginTop: \"16px\"}}>\n                    <caption className=\"title-30\">\n                        Available tiebreak methods\n                    </caption>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th><VisuallyHidden>Controls</VisuallyHidden></th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"content\">\n                        {Object.values(tieBreakMethods).map(({name, id}) => (\n                            <tr key={id}>\n                                <td>\n                                    <span\n                                        className={\n                                            tieBreaks.includes(id)\n                                                ? \"disabled\"\n                                                : \"enabled\"\n                                        }\n                                    >\n                                        {name}\n                                    </span>\n                                </td>\n                                <td>\n                                    {!tieBreaks.includes(id) && (\n                                        <button\n                                            className=\"button-micro\"\n                                            onClick={() => toggleTb(id)}\n                                        >\n                                            Add\n                                        </button>\n                                    )}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </Panel>\n        </PanelContainer>\n    );\n}\nSelectTieBreaks.propTypes = {};\n\nconst Scores = (props) => (\n    <Tabs>\n        <TabList>\n            <Tab><Icons.List /> Scores</Tab>\n            <Tab><Icons.Settings /> Edit tiebreak rules</Tab>\n        </TabList>\n        <TabPanels>\n            <TabPanel>\n                <ScoreTable title=\"Score detail\" />\n            </TabPanel>\n            <TabPanel>\n                <SelectTieBreaks />\n            </TabPanel>\n        </TabPanels>\n    </Tabs>\n);\nScores.propTypes = {\n    path: PropTypes.string\n};\n\nexport default Scores;\n","import {DateFormat, PlaceholderButton} from \"../utility\";\nimport React, {useState} from \"react\";\nimport Icons from \"../icons\";\nimport PropTypes from \"prop-types\";\nimport {useTournament} from \"../../hooks\";\n\nexport default function Header(props) {\n    const {tourney, tourneyDispatch} = useTournament();\n    const [isEditingName, setIsEditingName] = useState(false);\n    const [isEditingDate, setIsEditingDate] = useState(false);\n    const dateInput = (function () {\n        const year = tourney.date.getFullYear();\n        const month = (tourney.date.getMonth() < 9)\n            ? \"0\" + (tourney.date.getMonth() + 1)\n            : tourney.date.getMonth() + 1;\n        const day = (tourney.date.getDate() < 10)\n            ? \"0\" + tourney.date.getDate()\n            : tourney.date.getDate();\n        return year + \"-\" + month + \"-\" + day;\n    }());\n\n    function updateDate(event) {\n        const [\n            rawYear,\n            rawMonth,\n            rawDay\n        ] = event.currentTarget.value.split(\"-\");\n        const year = Number(rawYear);\n        const month = Number(rawMonth) - 1;\n        const day = Number(rawDay);\n        tourneyDispatch({\n            date: new Date(year, month, day),\n            type: \"SET_DATE\"\n        });\n    }\n    // TODO: Audit accesibility of these edit controls. (Keyboard focus etc.)\n    return (\n        <div className={props.className}>\n            {(isEditingName)\n            ? (\n                <p className=\"display-20\">\n                    <PlaceholderButton />{\" \"}\n                    <input\n                        className=\"display-20\"\n                        type=\"text\"\n                        value={tourney.name}\n                        onChange={(event) => tourneyDispatch({\n                            name: event.currentTarget.value,\n                            type: \"SET_NAME\"\n                        })}\n                    />{\" \"}\n                    <button\n                        className=\"button-ghost\"\n                        onClick={() => setIsEditingName(false)}\n                    >\n                        <Icons.Check />\n                    </button>\n                </p>\n            ) : (\n                <h1 className=\"buttons-on-hover\">\n                    <PlaceholderButton />{\" \"}\n                    <span className=\"inputPlaceholder\">\n                        {tourney.name}\n                    </span>{\" \"}\n                    <button\n                        className=\"button-ghost\"\n                        onClick={() => setIsEditingName(true)}\n                    >\n                        <Icons.Edit />\n                    </button>\n                </h1>\n            )}\n            {(isEditingDate)\n            ? (\n                <p className=\"caption-30\">\n                    <PlaceholderButton />{\" \"}\n                    <input\n                        className=\"caption-30\"\n                        type=\"date\"\n                        value={dateInput}\n                        onChange={updateDate}\n                    />{\" \"}\n                    <button\n                        className=\"button-ghost\"\n                        onClick={() => setIsEditingDate(false)}\n                    >\n                        <Icons.Check />\n                    </button>\n                </p>\n            )\n            : (\n                <p className=\"caption-30 buttons-on-hover\">\n                    <PlaceholderButton />{\" \"}\n                    <DateFormat date={tourney.date} />{\" \"}\n                    <button\n                        className=\"button-ghost\"\n                        onClick={() => setIsEditingDate(true)}\n                    >\n                        <Icons.Edit />\n                    </button>\n                </p>\n            )}\n\n        </div>\n    );\n}\nHeader.propTypes = {\n    className: PropTypes.string\n};\n","import {useDocumentTitle, useTournament} from \"../../hooks\";\nimport {Link} from \"@reach/router\";\nimport React from \"react\";\n\nexport default function Options() {\n    const {tourneyDispatch} = useTournament();\n    useDocumentTitle(\"tournament options\");\n    function changeToOne() {\n        tourneyDispatch({\n            type: \"UPDATE_BYE_SCORES\",\n            value: 1\n        });\n        window.alert(\"Bye value updated to 1.\");\n    }\n    function changeToOneHalf() {\n        tourneyDispatch({\n            type: \"UPDATE_BYE_SCORES\",\n            value: 0.5\n        });\n        window.alert(\"Bye value updated to .\");\n    }\n    return (\n        <div className=\"content-area\">\n            <h2>Change bye scores</h2>\n            <button onClick={changeToOne}>Change to 1</button>{\" \"}\n            <button onClick={changeToOneHalf}>Change to </button>\n            <p className=\"caption-30\">\n                This will update all bye matches which have been previously\n                scored in this tournament. To change the default bye value in\n                future matches, go to the{\" \"}\n                <Link to=\"/options\">app options</Link>.\n            </p>\n        </div>\n    );\n}\n","import {calcNumOfRounds, isRoundComplete} from \"../../pairing-scoring\";\nimport {curry, last} from \"ramda\";\nimport {useDocumentTitle, useTournament} from \"../../hooks\";\nimport {DUMMY_ID} from \"../../data-types\";\nimport Icons from \"../icons\";\nimport {Link} from \"@reach/router\";\nimport {Notification} from \"../utility\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default function Sidebar(props) {\n    const {\n        tourney,\n        players,\n        getPlayer,\n        playersDispatch,\n        tourneyDispatch\n    } = useTournament();\n    useDocumentTitle(tourney.name);\n    const {roundList} = tourney;\n    const isComplete = curry(isRoundComplete)(tourney, players);\n\n    const isNewRoundReady = (function () {\n        if (roundList.length === 0) {\n            return true;\n        }\n        return isComplete(roundList.length - 1);\n    }());\n    const roundCount = calcNumOfRounds(Object.keys(players).length);\n    const isItOver = roundList.length >= roundCount;\n    const [tooltipText, tooltipWarn] = (function () {\n        if (!isNewRoundReady) {\n            return [\n                \"Round in progress.\",\n                true\n            ];\n        } else if (isItOver) {\n            return [\"All rounds have completed.\", true];\n        } else {\n            return [\"Ready to begin a new round.\", false];\n        }\n    }());\n\n    function newRound() {\n        const confirmText = \"All rounds have completed. Are you sure you want \"\n            + \"to begin a new one?\";\n        if (isItOver) {\n            if (!window.confirm(confirmText)) {\n                return;\n            }\n        }\n        tourneyDispatch({type: \"ADD_ROUND\"});\n    }\n\n    async function delLastRound() {\n        if (window.confirm(\"Are you sure you want to delete the last round?\")) {\n            await props.navigate(\".\");\n            // If a match has been scored, then reset it.\n            // Should this logic be somewhere else?\n            last(roundList).forEach(function (match) {\n                if (match.result[0] + match.result[1] === 0) {\n                    return; // Don't change players who haven't scored.\n                }\n                match.playerIds.forEach(function (pId, color) {\n                    if (pId === DUMMY_ID) {\n                        return; // Don't try to set the dummy.\n                    }\n                    const {matchCount} = getPlayer(pId);\n                    playersDispatch({\n                        id: pId,\n                        matchCount: matchCount - 1,\n                        type: \"SET_PLAYER_MATCHCOUNT\"\n                    });\n                    playersDispatch({\n                        id: pId,\n                        rating: match.origRating[color],\n                        type: \"SET_PLAYER_RATING\"\n                    });\n                });\n            });\n            tourneyDispatch({type: \"DEL_LAST_ROUND\"});\n            if (tourney.roundList.length === 1) {\n                // Automatically remake round 1.\n                tourneyDispatch({type: \"ADD_ROUND\"});\n            }\n        }\n    }\n\n    return (\n        <div className={props.className}>\n            <nav>\n                <ul>\n                    <li>\n                        <Link to=\"..\">\n                            <Icons.X/>\n                            <span className=\"sidebar__hide-on-close\">\n                                &nbsp;Close\n                            </span>\n                        </Link>\n                    </li>\n                </ul>\n                <hr />\n                <ul>\n                    <li>\n                        <Link to=\".\">\n                            <Icons.Users />\n                            <span className=\"sidebar__hide-on-close\">\n                                &nbsp;Players\n                            </span>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to=\"status\">\n                            <Icons.Activity />\n                            <span className=\"sidebar__hide-on-close\">\n                                &nbsp;Status\n                            </span>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to=\"crosstable\">\n                            <Icons.Layers />\n                            <span className=\"sidebar__hide-on-close\">\n                                &nbsp;Crosstable\n                            </span>\n                        </Link>\n                    </li>\n                    <li>\n                        <Link to=\"scores\">\n                            <Icons.List />\n                            <span className=\"sidebar__hide-on-close\">\n                                &nbsp;Score detail\n                            </span>\n                        </Link>\n                    </li>\n                </ul>\n                <hr />\n                <h5 className=\"sidebar__hide-on-close\">Rounds</h5>\n                <ul>\n                    {Object.keys(roundList).map((id) => (\n                        <li key={id}>\n                            <Link to={`round/${id}`}>\n                                {Number(id) + 1}\n                                {(isComplete(Number(id)))\n                                ? (\n                                    <span\n                                        className={\n                                            \"sidebar__hide-on-close \"\n                                            + \"caption-20\"}\n                                    >\n                                        &nbsp;Complete&nbsp;<Icons.Check />\n                                    </span>\n                                ) : (\n                                    <span\n                                        className={\n                                            \"sidebar__hide-on-close \"\n                                            + \"caption-20\"}\n                                    >\n                                        &nbsp;Not complete&nbsp;<Icons.Alert />\n                                    </span>\n                                )}\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </nav>\n            <hr />\n            <ul>\n                <li className=\"caption-30\">\n                    <span className=\" sidebar__hide-on-close\">\n                        Completion:{\" \"}\n                    </span>\n                    {roundList.length}/{roundCount}\n                </li>\n                <li>\n                    <Notification\n                        className=\"caption-20\"\n                        success={!tooltipWarn}\n                        tooltip={tooltipText}\n                    >\n                        <span className=\"sidebar__hide-on-close\">\n                            {tooltipText}\n                        </span>\n                    </Notification>\n                </li>\n            </ul>\n            <hr />\n            <ul>\n                <li>\n                    <button\n                        className={(tooltipWarn ? \"\" : \"button-primary\")}\n                        disabled={!isNewRoundReady}\n                        onClick={newRound}\n                    >\n                        <Icons.Plus/>\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;New round\n                        </span>\n                    </button>\n                </li>\n                <li>\n                    <button\n                        disabled={roundList.length === 0}\n                        onClick={delLastRound}\n                    >\n                        <Icons.Trash />\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;Remove last round\n                        </span>\n                    </button>\n                </li>\n            </ul>\n            <hr />\n            <ul>\n                <li>\n                    <Link to=\"options\">\n                        <Icons.Settings />\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;Options\n                        </span>\n                    </Link>\n                </li>\n            </ul>\n        </div>\n    );\n}\nSidebar.propTypes = {\n    className: PropTypes.string,\n    navigate: PropTypes.func.isRequired\n};\n","import {Panel, PanelContainer} from \"../utility\";\nimport React from \"react\";\nimport RoundTable from \"./round/round-table\";\nimport {ScoreTable} from \"./scores\";\nimport {useTournament} from \"../../hooks\";\n\nexport default function Status() {\n    const {tourney} = useTournament();\n    const lastRound = (function () {\n        if (tourney.roundList.length === 0) {\n            return <p>No rounds played yet.</p>;\n        }\n        const lastRoundId = tourney.roundList.length - 1;\n        if (tourney.roundList[lastRoundId].length === 0) {\n            return <p>Matched players will be shown here.</p>;\n        }\n        return (\n            <RoundTable\n                roundId={lastRoundId}\n                compact\n            />\n        );\n    }());\n    return (\n        <>\n            <h2 style={{textAlign: \"center\"}}>Tournament status</h2>\n            <PanelContainer\n                style={{justifyContent: \"center\"}}\n            >\n                <Panel>\n                    {lastRound}\n                </Panel>\n                <Panel>\n                    <ScoreTable title=\"Rankings\" compact />\n                </Panel>\n            </PanelContainer>\n        </>\n    );\n}\n","import Crosstable from \"./crosstable\";\nimport Header from \"./header\";\nimport NotFound from \"../404\";\nimport Options from \"./options\";\nimport PlayerSelect from \"./player-select\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Round from \"./round\";\nimport {Router} from \"@reach/router\";\nimport Scores from \"./scores\";\nimport Sidebar from \"./sidebar\";\nimport Status from \"./status\";\nimport {TournamentProvider} from \"../../hooks\";\nimport styles from \"./tournament.module.css\";\n\nexport default function Tournament(props) {\n    return (\n        <TournamentProvider tourneyId={props.tourneyId}>\n            <div className={styles.tournament + \" has-sidebar\"}>\n                <Header className={styles.header} />\n                <Sidebar\n                    className={styles.sidebar + \" has-sidebar__sidebar\"}\n                    navigate={props.navigate}\n                />\n                <div className={styles.contentFrame + \" has-sidebar__content\"}>\n                    <Router>\n                        <PlayerSelect path=\"/\" />\n                        <Status path=\"status\" />\n                        <Crosstable path=\"crosstable\" />\n                        <Scores path=\"scores\" />\n                        <Round path=\"round/:roundId\" />\n                        <Options path=\"options\" />\n                        <NotFound default />\n                    </Router>\n                </div>\n            </div>\n        </TournamentProvider>\n    );\n}\nTournament.propTypes = {\n    children: PropTypes.node,\n    navigate: PropTypes.func,\n    path: PropTypes.string,\n    tourneyId: PropTypes.string\n};\n","import Icons from \"./icons\";\nimport {Link} from \"@reach/router\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction Sidebar() {\n    return (\n        <nav className=\"has-sidebar__sidebar\">\n            <ul>\n                <li>\n                    <Link to=\"/tourneys\">\n                        <Icons.Award />\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;Tournaments\n                        </span>\n                    </Link>\n                </li>\n                <li>\n                    <Link  to=\"/players\">\n                        <Icons.Users />\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;Players\n                        </span>\n                    </Link>\n                </li>\n                <li>\n                    <Link to=\"/options\">\n                        <Icons.Settings />\n                        <span className=\"sidebar__hide-on-close\">\n                            &nbsp;Options\n                        </span>\n                    </Link>\n                </li>\n            </ul>\n        </nav>\n    );\n}\n\nexport default function HasSidebar({children}) {\n    return (\n        <div className=\"has-sidebar\">\n            <Sidebar />\n            <div className=\"has-sidebar__content\">\n                {children}\n            </div>\n        </div>\n    );\n}\nHasSidebar.propTypes = {\n    children: PropTypes.node.isRequired\n};\n","import {DateFormat, SortLabel} from \"../utility\";\nimport React, {useState} from \"react\";\nimport {\n    useAllTournamentsDb,\n    useDocumentTitle,\n    useSortedTable\n} from \"../../hooks\";\nimport {Dialog} from \"@reach/dialog\";\nimport HasSidebar from \"../sidebar-default\";\nimport Icons from \"../icons\";\nimport {Link} from \"@reach/router\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\n\nexport default function TournamentList(props) {\n    const [tourneys, dispatch] = useAllTournamentsDb();\n    const sorted = useSortedTable(Object.values(tourneys), \"date\", true);\n    const [newTourneyName, setNewTourneyName] = useState(\"\");\n    const [isFormOpen, setIsFormOpen] = useState(false);\n    useDocumentTitle(\"tournament list\");\n\n    function updateNewName(event) {\n        setNewTourneyName(event.target.value);\n    }\n\n    function makeTournament(event) {\n        event.preventDefault();\n        dispatch({\n            name: newTourneyName,\n            type: \"ADD_TOURNEY\"\n        });\n        setNewTourneyName(\"\");\n        setIsFormOpen(false);\n    }\n\n    function deleteTournament(id, name) {\n        const message = \"Are you sure you want to delete \" + name + \"?\";\n        if (window.confirm(message)) {\n            dispatch({id, type: \"DEL_ITEM\"});\n        }\n    }\n\n    return (\n        <HasSidebar>\n            <div className=\"content-area\">\n                <div className=\"toolbar toolbar__left\">\n                    <button\n                        onClick={() => setIsFormOpen(true)}\n                    >\n                        <Icons.Plus /> Add tournament\n                    </button>\n                </div>\n                {(Object.keys(tourneys).length > 0)\n                ?\n                <table>\n                    <caption>Tournament list</caption>\n                    <thead>\n                        <tr>\n                            <th>\n                                <SortLabel\n                                    data={sorted}\n                                    label=\"Name\"\n                                    sortKey=\"name\"\n                                />\n                            </th>\n                            <th>\n                                <SortLabel\n                                    data={sorted}\n                                    label=\"Date\"\n                                    sortKey=\"date\"\n                                />\n                            </th>\n                            <th><VisuallyHidden>Controls</VisuallyHidden></th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"content\">\n                        {sorted.table.map(({date, id, name}) =>\n                            <tr key={id} className=\"buttons-on-hover\">\n                                <td>\n                                    <Link to={id}>\n                                        {name}\n                                    </Link>\n                                </td>\n                                <td>\n                                    <DateFormat date={date} />\n                                </td>\n                                <td>\n                                    <button\n                                        aria-label={`Delete ${name}`}\n                                        className=\"danger button-ghost\"\n                                        title={`Delete ${name}`}\n                                        onClick={\n                                            () => deleteTournament(id, name)\n                                        }\n                                    >\n                                        <Icons.Trash />\n                                    </button>\n                                </td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n                : <p>No tournaments added yet.</p>\n                }\n                <Dialog isOpen={isFormOpen}>\n                    <button\n                        className=\"button-micro\"\n                        onClick={() => setIsFormOpen(false)}\n                    >\n                        Close\n                    </button>\n                    <form onSubmit={makeTournament}>\n                        <fieldset>\n                            <legend>Make a new tournament</legend>\n                            <label htmlFor=\"tourney-name\">Name:</label>\n                            <input\n                                id=\"tourney-name\"\n                                name=\"tourney-name\"\n                                placeholder=\"tournament name\"\n                                required={true}\n                                type=\"text\"\n                                value={newTourneyName}\n                                onChange={updateNewName}\n                            />{\" \"}\n                            <input\n                                className=\"button-primary\"\n                                type=\"submit\"\n                                value=\"Create\"\n                            />\n                        </fieldset>\n                    </form>\n                </Dialog>\n            </div>\n        </HasSidebar>\n    );\n}\n","import Crosstable from \"./crosstable\";\nimport PlayerSelect from \"./player-select\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Round from \"./round\";\nimport Scores from \"./scores\";\nimport Tournament from \"./tournament\";\nimport TournamentList from \"./tournament-list\";\n\nconst TournamentIndex = (props) => (\n    <div className=\"passthrough\">\n        {props.children}\n    </div>\n);\nTournamentIndex.propTypes = {\n    children: PropTypes.node\n};\n\nexport default TournamentIndex;\nexport {Crosstable, PlayerSelect, Round, Scores, Tournament, TournamentList};\n","const electron = (window.require) ? window.require(\"electron\") : false;\nexport {electron};\n\nexport function ifElectron(fn) {\n    if (electron) {\n        fn();\n    }\n}\n\n/**\n * https://github.com/electron/electron/issues/16385#issuecomment-453955377\n */\nfunction toggleMaximize(win) {\n    if (!win.isMaximized()) {\n        win.maximize();\n    } else {\n        win.unmaximize();\n    }\n}\n\nexport function macOSDoubleClick(event) {\n    ifElectron(function () {\n        if (!event.target.className.includes) {\n            return; // sometimes `className` isn't a string.\n        }\n        // We don't want double-clicking buttons to (un)maximize.\n        if (!event.target.className.includes(\"double-click-control\")) {\n            return;\n        }\n        const systemPrefs = electron.remote.systemPreferences;\n        const doubleClickAction = systemPrefs.getUserDefault(\n            \"AppleActionOnDoubleClick\",\n            \"string\"\n        );\n        const win = electron.remote.getCurrentWindow();\n        if (doubleClickAction === \"Minimize\") {\n            win.minimize();\n        } else if (doubleClickAction === \"Maximize\") {\n            toggleMaximize(win);\n        }\n    });\n};\n","import React from \"react\";\nimport styles from \"./index.module.css\";\n\nconst Caution = () => (\n    <aside className={styles.caution + \" body-20\"}>\n        <p className={styles.caution__text}>\n            This is beta software. Want to help make it better? Check out the\n            {\" \"}\n            <span role=\"img\" aria-hidden></span>\n            &nbsp;\n            <a\n                className={styles.caution__link}\n                href=\"https://github.com/johnridesabike/chessahoochee\"\n            >\n                Git repository\n            </a>.\n        </p>\n    </aside>\n);\n\nexport default Caution;\n","import React, {useEffect, useMemo, useState} from \"react\";\nimport {\n    useAllPlayersDb,\n    useAllTournamentsDb,\n    useDocumentTitle,\n    useOptionsDb\n} from \"../hooks\";\nimport HasSidebar from \"./sidebar-default\";\nimport Icons from \"./icons\";\nimport demoData from \"../demo-data\";\n\nexport default function Options(props) {\n    const [tourneys, tourneysDispatch] = useAllTournamentsDb();\n    const [players, playersDispatch] = useAllPlayersDb();\n    const [text, setText] = useState(\"\");\n    const [options, optionsDispatch] = useOptionsDb();\n    useDocumentTitle(\"Options\");\n    // memoize this so the `useEffect` hook syncs with the correct states\n    const exportData = useMemo(\n        () => ({options, players, tourneys}),\n        [options, tourneys, players]\n    );\n    useEffect(\n        function () {\n            setText(JSON.stringify(exportData, null, 4));\n        },\n        [exportData]\n    );\n    function loadData(data) {\n        tourneysDispatch({state: data.tournaments, type: \"LOAD_STATE\"});\n        optionsDispatch({state: data.options, type: \"LOAD_STATE\"});\n        playersDispatch({state: data.players, type: \"LOAD_STATE\"});\n        window.alert(\"Data loaded!\");\n    }\n    function handleText(event) {\n        event.preventDefault();\n        const importData = JSON.parse(text);\n        loadData(importData);\n    }\n    function handleFile(event) {\n        event.preventDefault();\n        const reader = new FileReader();\n        // eslint-disable-next-line fp/no-mutation\n        reader.onload = function (ev) {\n            const data = ev.target.result;\n            const importData = JSON.parse(data);\n            loadData(importData);\n        };\n        reader.readAsText(event.currentTarget.files[0]);\n        event.currentTarget.value = \"\"; // so the filename won't linger onscreen\n    }\n    function reloadDemoData(event) {\n        event.preventDefault();\n        loadData(demoData);\n    }\n    return (\n        <HasSidebar>\n            <div className=\"content-area\">\n                <h2>Game settings</h2>\n                <form>\n                    <fieldset>\n                        <legend>Default bye value</legend>\n                        <label className=\"monospace body-30\">\n                            1{\" \"}\n                            <input\n                                checked={options.byeValue === 1}\n                                type=\"radio\"\n                                onChange={() => optionsDispatch({\n                                    option: \"byeValue\",\n                                    type: \"SET_OPTION\",\n                                    value: 1\n                                })}\n                            />\n                        </label>\n                        <label className=\"monospace body-30\">\n                            {\" \"}\n                            <input\n                                checked={options.byeValue === 0.5}\n                                type=\"radio\"\n                                onChange={() => optionsDispatch({\n                                    option: \"byeValue\",\n                                    type: \"SET_OPTION\",\n                                    value: 0.5\n                                })}\n                            />\n                        </label>\n                    </fieldset>\n                </form>\n                <h2>Data</h2>\n                <fieldset>\n                    <legend>Manage data</legend>\n                    <p>\n                        <a\n                            download=\"chessahoochee.json\"\n                            href={\n                                \"data:application/json,\"\n                                + encodeURIComponent(JSON.stringify(exportData))\n                            }\n                        >\n                            <Icons.Download /> Export all data\n                        </a>\n                    </p>\n                    <label htmlFor=\"file\">Load data file:</label>\n                    <input\n                        id=\"file\"\n                        name=\"file\"\n                        type=\"file\"\n                        onChange={handleFile}\n                    />\n                </fieldset>\n                <fieldset>\n                    <legend>Reset all changes</legend>\n                    <button onClick={reloadDemoData}>Reload demo data</button>\n                </fieldset>\n                <form onSubmit={handleText}>\n                    <fieldset>\n                        <legend>\n                            Advanced: manually edit data\n                        </legend>\n                        <textarea\n                            className=\"json\"\n                            cols={50}\n                            name=\"playerdata\"\n                            rows={25}\n                            spellCheck={false}\n                            value={text}\n                            onChange={\n                                (event) => setText(event.currentTarget.value)\n                            }\n                        />\n                        <p>\n                            <input type=\"submit\" value=\"Load\" />\n                        </p>\n                    </fieldset>\n                </form>\n            </div>\n        </HasSidebar>\n    );\n}\n","import React, {useState} from \"react\";\nimport {Dialog} from \"@reach/dialog\";\nimport Icons from \"../icons\";\nimport {Link} from \"@reach/router\";\nimport NewPlayer from \"../new-player\";\nimport PropTypes from \"prop-types\";\nimport {SortLabel} from \"../utility\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport styles from \"./index.module.css\";\nimport {useDocumentTitle} from \"../../hooks\";\n\nexport default function PlayerList({\n    sorted,\n    players,\n    playersDispatch,\n    optionsDispatch\n}) {\n    const [isFormOpen, setIsFormOpen] = useState(false);\n    useDocumentTitle(\"Players\");\n    const delPlayer = function (event, id) {\n        event.preventDefault();\n        const message = \"Are you sure you want to delete \"\n            + players[id].firstName + \" \" + players[id].lastName + \"?\";\n        if (window.confirm(message)) {\n            playersDispatch({id, type: \"DEL_ITEM\"});\n            optionsDispatch({id, type: \"DEL_AVOID_SINGLE\"});\n        }\n    };\n    return (\n        <div className=\"content-area\">\n            <div className=\"toolbar toolbar__left\">\n                <button onClick={() => setIsFormOpen(true)}>\n                    <Icons.UserPlus /> Add a new player\n                </button>\n            </div>\n            <table className={styles.table}>\n                <caption>Player roster</caption>\n                <thead>\n                    <tr>\n                        <th>\n                            <SortLabel\n                                data={sorted}\n                                label=\"Name\"\n                                sortKey=\"firstName\"\n                            />\n                        </th>\n                        <th>\n                            <SortLabel\n                                data={sorted}\n                                label=\"Rating\"\n                                sortKey=\"rating\"\n                            />\n                        </th>\n                        <th>\n                            <SortLabel\n                                data={sorted}\n                                label=\"Matches\"\n                                sortKey=\"matchCount\"\n                            />\n                        </th>\n                        <th><VisuallyHidden>Controls</VisuallyHidden></th>\n                    </tr>\n                </thead>\n                <tbody className=\"content\">\n                    {sorted.table.map((player) =>\n                        <tr key={player.id}  className=\"buttons-on-hover\">\n                            <td className=\"table__player\">\n                                <Link to={player.id}>\n                                    {player.firstName} {player.lastName}\n                                </Link>\n                            </td>\n                            <td className=\"table__number\">\n                                {player.rating}\n                            </td>\n                            <td className=\"table__number\">\n                                {player.matchCount}\n                            </td>\n                            <td>\n                                <button\n                                    className=\"danger button-ghost\"\n                                    onClick={\n                                        (event) => delPlayer(event, player.id)\n                                    }\n                                >\n                                    <Icons.Trash />\n                                    <VisuallyHidden>\n                                    Delete {player.firstName} {player.lastName}\n                                    </VisuallyHidden>\n                                </button>\n                            </td>\n                        </tr>\n                    )}\n                </tbody>\n            </table>\n            <Dialog isOpen={isFormOpen}>\n                <button\n                    className=\"button-micro\"\n                    onClick={() => setIsFormOpen(false)}\n                >\n                    Close\n                </button>\n                <NewPlayer dispatch={playersDispatch} />\n            </Dialog>\n        </div>\n    );\n}\nPlayerList.propTypes = {\n    optionsDispatch: PropTypes.func.isRequired,\n    players: PropTypes.object.isRequired,\n    playersDispatch: PropTypes.func.isRequired,\n    sorted: PropTypes.object.isRequired\n};\n","import React, {useEffect, useMemo, useState} from \"react\";\nimport {getPlayerAvoidList, kFactor} from \"../../pairing-scoring\";\nimport Icons from \"../icons\";\nimport {Link} from \"@reach/router\";\nimport PropTypes from \"prop-types\";\nimport numeral from \"numeral\";\nimport styles from \"./index.module.css\";\nimport {useDocumentTitle} from \"../../hooks\";\n\nfunction PlayerProfile({\n    playerId,\n    players,\n    playersDispatch,\n    options,\n    optionsDispatch\n}) {\n    const player = players[playerId];\n    const [singAvoidList, setSingAvoidList] = useState(\n        getPlayerAvoidList(playerId, options.avoidPairs)\n    );\n    const playerName = (player) ? player.firstName + \" \" + player.lastName : \"\";\n    useDocumentTitle(\"profile for \" + playerName);\n    // Memoize this so useEffect doesn't cause a memory leak.\n    const unAvoided = useMemo(\n        () => Object.keys(players).filter(\n            (id) => !singAvoidList.includes(id) && id !== playerId\n        ),\n        [players, playerId, singAvoidList]\n    );\n    const [selectedAvoider, setSelectedAvoider] = useState(unAvoided[0]);\n    function avoidAdd(event) {\n        event.preventDefault();\n        optionsDispatch({\n            pair: [playerId, selectedAvoider],\n            type: \"ADD_AVOID_PAIR\"\n        });\n    }\n    useEffect(\n        function () {\n            setSingAvoidList(getPlayerAvoidList(playerId, options.avoidPairs));\n        },\n        [options.avoidPairs, playerId]\n    );\n    useEffect(\n        function () {\n            setSelectedAvoider(unAvoided[0]);\n        },\n        [setSelectedAvoider, unAvoided]\n    );\n    function handleChange(event) {\n        event.preventDefault();\n        const {firstName, lastName, matchCount, rating} = event.currentTarget;\n        playersDispatch({\n            firstName: firstName.value,\n            id: playerId,\n            lastName: lastName.value,\n            matchCount: Number(matchCount.value),\n            rating: Number(rating.value),\n            type: \"SET_PLAYER\"\n        });\n    }\n    if (!player) {\n        return <div>Loading...</div>;\n    }\n    return (\n        <div className={styles.playerInfo + \" content-area\"}>\n            <Link to=\"..\"><Icons.ChevronLeft /> Back</Link>\n            <h2>\n                Profile for {player.firstName} {player.lastName}\n            </h2>\n            <form onChange={handleChange} onSubmit={handleChange}>\n                <p>\n                    <label htmlFor=\"firstName\">First name</label>\n                    <input\n                        defaultValue={player.firstName}\n                        name=\"firstName\"\n                        type=\"text\"\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"lastName\">Last name</label>\n                    <input\n                        defaultValue={player.lastName}\n                        name=\"lastName\"\n                        type=\"text\"\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"matchCount\">Matches played</label>\n                    <input\n                        defaultValue={String(player.matchCount)}\n                        name=\"matchCount\"\n                        type=\"number\"\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"rating\">Rating</label>\n                    <input\n                        defaultValue={String(player.rating)}\n                        name=\"rating\"\n                        type=\"number\"\n                    />\n                </p>\n                <p>\n                    <label htmlFor=\"Kfactor\">K factor</label>\n                    <input\n                        name=\"kfactor\"\n                        type=\"number\"\n                        value={numeral(kFactor(player.matchCount)).format(\"00\")}\n                        readOnly\n                    />\n                </p>\n            </form>\n            <h3>Players to avoid</h3>\n            <ul>\n                {singAvoidList.map((pId) =>\n                    <li key={pId}>\n                        {players[pId].firstName} {players[pId].lastName}\n                        <button\n                            arial-label={`Remove \n${players[pId].firstName} ${players[pId].lastName} from avoid list.`}\n                            className=\"danger button-ghost\"\n                            title={`Remove ${players[pId].firstName} \n${players[pId].lastName}`}\n                            onClick={() =>\n                                optionsDispatch({\n                                    pair: [playerId, pId],\n                                    type: \"DEL_AVOID_PAIR\"\n                                })\n                            }\n                        >\n                            <Icons.Trash />\n                        </button>\n                    </li>\n                )}\n                {singAvoidList.length === 0 &&\n                    <li>None</li>\n                }\n            </ul>\n            <form onSubmit={avoidAdd}>\n                <fieldset>\n                    <legend>Add player to avoid</legend>\n                    <select\n                        onBlur={(event) =>\n                            setSelectedAvoider(event.target.value)\n                        }\n                    >\n                        {unAvoided.map((pId) => (\n                            <option key={pId} value={pId}>\n                                {players[pId].firstName} {players[pId].lastName}\n                            </option>\n                        ))}\n                    </select>{\" \"}\n                    <input type=\"submit\" value=\"Add\" />\n                </fieldset>\n            </form>\n        </div>\n    );\n}\nPlayerProfile.propTypes = {\n    options: PropTypes.object.isRequired,\n    optionsDispatch: PropTypes.func.isRequired,\n    playerId: PropTypes.string,\n    players: PropTypes.object.isRequired,\n    playersDispatch: PropTypes.func.isRequired\n};\n\nexport default function PlayerProfileWrapper(props) {\n    if (!props.players[props.playerId]) {\n        return <div>Error: player profile not found.</div>;\n    } else {\n        return <PlayerProfile {...props} />;\n    }\n}\nPlayerProfileWrapper.propTypes = {\n    playerId: PropTypes.string,\n    players: PropTypes.object.isRequired\n};\n","import {useAllPlayersDb, useOptionsDb, useSortedTable} from \"../../hooks\";\nimport HasSidebar from \"../sidebar-default\";\nimport PlayerList from \"./player-list\";\nimport PlayerProfile from \"./player-profile\";\nimport React from \"react\";\nimport {Router} from \"@reach/router\";\n\nexport default function Players(props) {\n    const [players, playersDispatch] = useAllPlayersDb();\n    const sorted = useSortedTable(Object.values(players), \"firstName\", false);\n    const [options, optionsDispatch] = useOptionsDb();\n    const childProps = {options, optionsDispatch, players, playersDispatch};\n    return (\n        <HasSidebar>\n            <Router basepath=\"players\">\n                <PlayerList path=\"/\" sorted={sorted} {...childProps} />\n                <PlayerProfile path=\":playerId\" {...childProps} />\n            </Router>\n        </HasSidebar>\n    );\n}\nPlayers.propTypes = {};\n\nexport {PlayerProfile, PlayerList};\n","import HasSidebar from \"./sidebar-default\";\nimport Icons from \"./icons\";\nimport {Notification} from \"./utility\";\nimport React from \"react\";\nimport {loadDemoDB} from \"../hooks/db\";\nimport styles from \"./splash.module.css\";\n\nconst Splash = (props) => (\n    <HasSidebar>\n        <div className={styles.splash}>\n            <aside className={styles.hint}>\n                <ol>\n                    <li>\n                        <button\n                            className=\"button-primary\"\n                            onClick={() => loadDemoDB()}\n                        >\n                            Click here to load the demo data\n                        </button>{\" \"}\n                        (optional)\n                    </li>\n                    <li>\n                        <Icons.ArrowLeft /> Select a menu item.\n                    </li>\n                    <li>\n                        Start creating your tournaments!\n                    </li>\n                </ol>\n                <Notification warning>\n                    If you experience any glitches or crashes,<br />\n                    clear your browser cache and try again.\n                </Notification>\n            </aside>\n            <div className={styles.title}>\n                <div className={styles.titleIcon}>\n                    <Icons.Logo />\n                </div>\n                <div className={styles.titleText}>\n                    <h1>\n                        Chessahoochee\n                    </h1>\n                    <p className={styles.subtitle + \" caption-30\"}>\n                        a chess tournament app\n                    </p>\n                </div>\n            </div>\n            <footer className={\"body-20 \" + styles.footer}>\n                <p>\n                    This is an early, proof-of-concept chess tournament app.\n                    <br />\n                    <a href=\"https://github.com/johnridesabike/chessahoochee\">\n                        Suggetions, bug reports, and contributions are welcome.\n                    </a>\n                </p>\n                <p>\n                    Built with JavaScript and{\" \"}\n                    <a href=\"https://reactjs.org/\">React</a>.{\" \"}\n                    <span style={{fontSize: \"16px\"}}>\n                        <Icons.Javascript /> <Icons.React />\n                    </span>\n                </p>\n            </footer>\n        </div>\n    </HasSidebar>\n);\nexport default Splash;\n","/* eslint-disable max-len */\nimport React, {useEffect, useState} from \"react\";\nimport {electron, ifElectron} from \"../electron-utils\";\nimport styles from \"./windows-controls.module.css\";\n\n// https://github.com/microsoft/vscode/tree/master/src/vs/workbench/browser/parts/titlebar/media\nconst Close = () => (\n    <svg\n        fill=\"none\"\n        height=\"11\"\n        viewBox=\"0 0 11 11\"\n        width=\"11\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path\n            d=\"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\"\n            fill=\"#000\"\n        />\n    </svg>\n);\n\nconst Maximize = () => (\n    <svg\n        fill=\"none\"\n        height=\"11\"\n        viewBox=\"0 0 11 11\"\n        width=\"11\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path d=\"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\" fill=\"#000\"/>\n    </svg>\n);\n\nconst Minimize = () => (\n    <svg\n        fill=\"none\"\n        height=\"11\"\n        viewBox=\"0 0 11 11\"\n        width=\"11\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path d=\"M11 4.399V5.5H0V4.399h11z\" fill=\"#000\"/>\n    </svg>\n);\n\nconst Restore = () => (\n    <svg\n        fill=\"none\"\n        height=\"11\"\n        viewBox=\"0 0 11 11\"\n        width=\"11\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <path\n            d=\"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\"\n            fill=\"#000\"\n        />\n    </svg>\n);\n\nexport default function Controls() {\n    const [isMaximized, setIsMaximized] = useState(false);\n    useEffect(\n        function () {\n            ifElectron(function () {\n                const win = electron.remote.getCurrentWindow();\n                win.on(\"maximize\", () => setIsMaximized(true));\n                win.on(\"unmaximize\", () => setIsMaximized(false));\n                setIsMaximized(win.isMaximized());\n            });\n        },\n        []\n    );\n    const win = electron.remote.getCurrentWindow();\n    return (\n        <div className={styles.container}>\n            <button\n                className={styles.winButton + \" button-ghost\"}\n                onClick={() => win.minimize()}\n            >\n                <Minimize />\n            </button>\n            {(isMaximized)\n            ? (\n                <button\n                    className={styles.winButton + \" button-ghost\"}\n                    onClick={() => win.unmaximize()}\n                >\n                    <Restore />\n                </button>\n            ) : (\n                <button\n                    className={styles.winButton + \" button-ghost\"}\n                    onClick={() => win.maximize()}\n                >\n                    <Maximize />\n                </button>\n            )}\n            <button\n                className={styles.winButton + \" button-ghost\"}\n                onClick={() => win.close()}\n            >\n                <Close />\n            </button>\n        </div>\n    );\n}\nControls.propTypes = {\n    // isFullScreen: PropTypes.bool.isRequired\n};\n","import \"side-effects\";\nimport {\n    Location,\n    LocationProvider,\n    Router,\n    createHistory\n} from \"@reach/router\";\nimport React, {useEffect, useState} from \"react\";\nimport TournamentIndex, {\n    Tournament,\n    TournamentList\n} from \"./components/tournament\";\nimport {electron, ifElectron, macOSDoubleClick} from \"./electron-utils\";\nimport Caution from \"./components/caution\";\nimport Icons from \"./components/icons\";\nimport NotFound from \"./components/404\";\nimport Options from \"./components/options\";\nimport Players from \"./components/players\";\nimport Splash from \"./components/splash\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport WindowsControls from \"./components/windows-controls\";\nimport classNames from \"classnames\";\nimport createHashSource from \"hash-source\";\nimport {useDocumentTitle} from \"./hooks\";\n// These are just for deploying to GitHub pages.\nlet source = createHashSource();\nlet history = createHistory(source);\n\nfunction App() {\n    useDocumentTitle(\"a chess tournament app\");\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [isFullScreen, setIsFullScreen] = useState(false);\n    const [isWindowBlur, setIsWindowBlur] = useState(false);\n    useEffect(\n        function () {\n            ifElectron(function () {\n                const win = electron.remote.getCurrentWindow();\n                win.on(\"enter-full-screen\", () => setIsFullScreen(true));\n                win.on(\"leave-full-screen\", () => setIsFullScreen(false));\n                win.on(\"blur\", () => setIsWindowBlur(true));\n                win.on(\"focus\", () => setIsWindowBlur(false));\n                setIsFullScreen(win.isFullScreen());\n                setIsWindowBlur(!win.isFocused());\n            });\n        },\n        []\n    );\n    return (\n        <div\n            className={classNames(\n                \"app\",\n                {\"open-sidebar\": isSidebarOpen},\n                {\"closed-sidebar\": !isSidebarOpen},\n                {\"window-blur\": isWindowBlur}\n            )}\n        >\n            <LocationProvider history={history}>\n                <header\n                    className={classNames(\n                        \"header\",\n                        \"double-click-control\",\n                        {\"traffic-light-padding\": (\n                            navigator.appVersion.includes(\"Mac\")\n                            && electron\n                            && !isFullScreen\n                        )}\n                    )}\n                    onDoubleClick={macOSDoubleClick}\n                >\n                    <div>\n                        <button\n                            className=\"button-ghost\"\n                            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                        >\n                            <Icons.Sidebar/>\n                            <VisuallyHidden>Toggle sidebar</VisuallyHidden>\n                        </button>\n                        <Location>\n                            {({location, navigate}) => (\n                                <button\n                                    className=\"button-ghost\"\n                                    disabled={location.pathname === \"/\"}\n                                    onClick={() => navigate(\"/\")}\n                                >\n                                    <Icons.Help />\n                                    <VisuallyHidden>About</VisuallyHidden>\n                                </button>\n                            )}\n                        </Location>\n                    </div>\n                    <div\n                        className={classNames(\n                            \"body-20\",\n                            \"double-click-control\",\n                            {\"disabled\": isWindowBlur}\n                        )}\n                        style={{\n                            left: \"0\",\n                            marginLeft: \"auto\",\n                            marginRight: \"auto\",\n                            position: \"absolute\",\n                            right: \"0\",\n                            width: \"100px\"\n                        }}\n                    >\n                        Chessahoochee\n                    </div>\n                    {(navigator.appVersion.includes(\"Windows\")) && electron &&\n                        <WindowsControls />\n                    }\n                </header>\n                <main className=\"main\">\n                    <Router>\n                        <Splash path=\"/\" />\n                        <TournamentIndex path=\"tourneys\">\n                            <TournamentList path=\"/\" />\n                            <Tournament path=\":tourneyId/*\" />\n                        </TournamentIndex>\n                        <Players path=\"players/*\" />\n                        <Options path=\"options\" />\n                        <NotFound default />\n                    </Router>\n                </main>\n            </LocationProvider>\n            <footer className=\"footer\">\n                <Caution />\n            </footer>\n        </div>\n    );\n}\n\nexport default App;\n","import \"./styles\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport React, {StrictMode} from \"react\";\nimport App from \"./App\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n    <StrictMode><App /></StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"winnerSelect\":\"round_winnerSelect__317oT\",\"table\":\"round_table__2JmnE\",\"tbody\":\"round_tbody__2KCya\",\"rowId\":\"round_rowId__L4JJD\",\"controls\":\"round_controls__3xs_k\",\"matchResult\":\"round_matchResult__1CYIo\",\"playerResult\":\"round_playerResult__pCrMJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"splash\":\"splash_splash__37_vi\",\"hint\":\"splash_hint__2lVJb\",\"footer\":\"splash_footer__2Z__A\",\"title\":\"splash_title__Cm7sw\",\"titleIcon\":\"splash_titleIcon____rDQ\",\"titleText\":\"splash_titleText__jVG1w\",\"subtitle\":\"splash_subtitle__PvmGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"windows-controls_container__1-7Ur\",\"winButton\":\"windows-controls_winButton__2s6YB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tournament\":\"tournament_tournament__2nSxH\",\"header\":\"tournament_header__9nZzI\",\"contentFrame\":\"tournament_contentFrame__B3iPi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"players_table__yk6rK\",\"playerInfo\":\"players_playerInfo__nGWwZ\",\"controls\":\"players_controls__1rlpj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caution\":\"caution_caution__17Bbq\",\"caution__text\":\"caution_caution__text__2ptRS\",\"caution__link\":\"caution_caution__link__X_K5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panels\":\"utility_panels__LN75I\",\"panel\":\"utility_panel__2GOiH\"};"],"sourceRoot":""}