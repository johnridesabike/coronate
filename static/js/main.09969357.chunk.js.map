{"version":3,"sources":["assets/icon-min.svg","assets/caution.svg","Utils.bs.js","Data/Data_Id.bs.js","Data/Data_Config.bs.js","Data/Data_Match.bs.js","Data/Data_Scoring.bs.js","Hooks.bs.js","Data/Data_Rounds.bs.js","DemoData.bs.js","Data/Data_Player.bs.js","Data/Data_Tournament.bs.js","Db.bs.js","Icons.bs.js","Router.bs.js","Electron.bs.js","Externals.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","PagePlayers.bs.js","Data/Data_Pairing.bs.js","Data/Data_Converters.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageRound.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js"],"names":["module","exports","ascend","cmp","getter","a","b","Curry","descend","$$Array","swap","arr","idx1","idx2","match","Belt_Array","match$1","undefined","Caml_option","List","sumF","list","Belt_List","prim","prim$1","alert","__x","window","WebpackAssets","logo","require","caution","Entities","formatter","Intl_DateTimeFormat","formatter$1","panels","Css","panel","Panel","Props","children","classNameOpt","className","styleOpt","style","React","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","container","text","icon","success","warning","error","TestId","testId","Numeral","make","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","toString","Number","github_url","license_url","$$String","concat","l","sep","_acc","_l","l$1","acc","l$2","s","toLowerCase","includes","substr","split","on","DateFormat","date","dateTime","toISOString","DateTimeFormat","timeZone","formatter$2","$$Notification","kindOpt","kind","tooltipOpt","tooltip","ReactFeather","title","dummy","isDummy","id","random","Nanoid","encode","compare","Caml_primitive","Id","Belt_Id","toStringArray","Belt_Map","decode","Json_decode","$$Map","param","fromStringArray","fromFloat","json","Cmp","param$1","x","Data_Id$Coronate","x$1","empty","Belt_Set","decode$1","encode$1","data","Json_encode","toMapReducer","id2","id1","currentList","newList1","currentList$1","newList2","decode$2","avoidPairs","byeValue","lastBackup","encode$2","$$default","Date","Pair","has","$$Set","fromArray","toMap","score","fromString","Result","toFloatWhite","toFloatBlack","whiteId","blackId","whiteNewRating","blackNewRating","whiteOrigRating","blackOrigRating","result","scoreByeMatch","match_","manualPair","black","white","rating","Color","opposite","toScore","createBlankScoreData","firstRatingOpt","firstRating","colorScores","colors","opponentResults","ratings","results","resultsNoByes","isNotDummy","scores","oppId","opponent","getPlayerScore","Utils$Coronate","getOpponentScores","getMedianScore","Belt_Option","getSolkoffScore","runningReducer","last","getCumulativeScore","getCumulativeOfOpponentScore","key","getColorBalanceScore","mapTieBreak","createStandingList","methods","funcList","tbType","partial_arg","tieBreaks","_tieBreaks","rest","getTieBreak","tieBreak","createStandingTree","standingList","standing","lastRank","pastRanks","standing1","standing2","comparisons","value2","areScoresEqual","getExpected","pow","updateRating","expected","actual","current","round","getKFactor","matchCount","ne","Caml_int32","keepAboveFloor","TieBreak","toPrettyString","Ratings","EloRank","calcNewRatings","whiteRating","blackRating","whiteMatchCount","blackMatchCount","whiteElo","blackElo","whiteExpected","blackExpected","whiteResult","Data_Match$Coronate","blackResult","sortedTableReducer","state","action","newState","tag","isDescending","column","table","sortFunc","direction","f","f$1","str","f$2","getTime","Belt_SortArray","useSortedTable","initialState","dispatch","SortButton","sortColumn","chevronStyle","opacity","width","onClick","Block","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","useScoreInfo","player","scoreData","getPlayer","players","origRating","newRating","Data_Scoring$Coronate","hasBye","colorBalance","abs","avoidMap","Data_Config$Coronate","avoidList","avoidList$1","opponentResults$1","opId","firstName","lastName","avoidListHtml","pId","format","getMatched","getMatchById","setMatch","wasSuccessful","Round","toArray","size","length","addMatches","removeMatchById","moveMatch","matchId","oldIndex","indexOf","newIndex","empty$1","size$1","getLastKey","rounds","set","setMatch$1","rounds2Matches","roundList","lastRound","isRoundComplete","roundId","matched","unmatched","addRound","delLastRound","slice","updateByeScores","get","config","type_","tournaments","name","playerIds","byeQueue","Data_Rounds$Coronate","Type","getMaybe","playerMap","makeMissing","func","prim$2","prim$3","prim$4","prim$5","prim$6","tmp","storeName","description","driver","version","Config","Id$LocalForage","Player","Data_Player$Coronate","Tournament","Data_Tournament$Coronate","configDb","Record$LocalForage","Map$LocalForage","genericDbReducer","useAllDb","store","items","setLoaded","loaded","Hooks$Coronate","didCancel","contents","$$Promise","toResult","fromBsPromise","console","Localforage","keys","stateKeys","deleted","filter","useAllPlayers","useAllTournaments","configReducer","pair","useConfig","setIsLoaded","values","IconData","Reason","Icons$SimpleIcon","heightOpt","height","widthOpt","ariaLabelOpt","ariaLabel","ariaHiddenOpt","ariaHidden","role","Object","assign","fill","hex","viewBox","d","path","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","toString$1","subPage","String","useHashUrl","ReasonReactRouter","hash","match$2","match$3","page","y","Belt_Int","fromPath","HashLink","to_","onDragStart","href","isCurrent","$$require","electron","ifElectron","fn","isWin","navigator","appVersion","isMac","os","IfElectron","targetOs","electron$1","toggleMaximize","$$window","isMaximized","unmaximize","maximize","$$Event","macOSDoubleClick","$$event","target","doubleClickAction","remote","systemPreferences","getUserDefault","getCurrentWindow","minimize","openInBrowser","preventDefault","shell","openExternal","Dialog$1","isOpen","onDismiss","Dialog","formatTitle","windowReducer","isBlur","isDialogOpen","isFullScreen","isSidebarOpen","Window$About","display","justifyContent","textAlign","flex","alt","src","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","Router$Coronate","sidebarCallback","Body","footerFunc","sidebarFuncOpt","sidebarFunc","win","unregisterListeners","removeAllListeners","isFocused","Externals$Coronate","backgroundColor","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","log2","num","log","fixNumber","Pervasives","updateInt","minimum","currentTarget","safeValue","NotFound","Splash","Window$Coronate","$$catch","Promise","all","DemoData$Coronate","fontSize","TimeCalculator","setPlayers","setBreakTime","breakTime","setTotalTime","totalTime","htmlFor","min","type","onChange","ceil","step","Belt_Float","Boolean","location","hostname","unregister","serviceWorker","ready","then","registration","crowTRobot","grandyMcMaster","gypsy","joelRobinson","newbieMcNewberson","tomServo","tvsFrank","getDateForFile","getFullYear","getMonth","getDate","decodeOptions","dict","dict$1","Js_dict","encodeOptions","map","map$1","PageOptions$LastBackupDate","windowDispatchOpt","windowDispatch","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","checked","download","reader","FileReader","onload","ev","val","rawJson","raw_exn","exn","Caml_js_exceptions","readAsText","files","onSubmit","spellCheck","cols","rows","newText","sortName","sortRating","sortMatchCount","validators_matchCount","strategy","validate","validators_rating","validators_lastName","validators_firstName","validators","input","fieldsStatuses","collectionsStatuses","formStatus","submissionStatus","validateForm","matchCountResult$1","match_000","match_000$1","match_000$2","match_000$3","matchCountResult","ratingResult","lastNameResult","firstNameResult","useForm","initialInput","memoizedInitialState","Formality__ReactUpdate","Formality","status","init","result$1","result$2","result$3","output","notifyOnSuccess","notifyOnFailure","reset","dismissSubmissionResult","nextInput","nextInput$1","nextInput$2","nextInput$3","error$1","error$2","updateMatchCount","nextInputFn","nextValue","updateLastName","updateFirstName","blurMatchCount","blurRating","blurLastName","blurFirstName","dirty","valid","submitting","submit","dismissSubmissionError","mapSubmissionError","errorNotification","PagePlayers$NewPlayerForm","addPlayerCallback","form","cb","required","onBlur","disabled","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","setIsDialogOpen","p","playerOpt","message","confirm","PagePlayers$Profile","initialMatchCount","playerId","playerName","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","readOnly","selectedAvoider$1","newSelected","tmp$1","tmp$2","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","metBefore","opponents","mustAvoid","avoidIds","isDiffDueColor","scoreDiff","halfDiff","halfPos","isDiffHalf","isUpperHalf","descendingRating","setUpperHalves","dataList","playerData","midpoint","splitInHalf","getIndex","sortByScoreThenRating","data1","data2","assignColorsForPair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","pairEq","c","makeScoreData","existingData","color","oldData","newResultsNoByes","oldOppResults","oppResult","matches2ScoreData","matchList","whiteData","blackData","PageTourneyPlayers$Selecting","tourney","setTourney","togglePlayer","PagePlayers$Coronate","Selecting","hasHadBye","matches","reduce","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","colSpan","flexShrink","autoPair","pairData","filteredData","dummyId","dataForNextBye","playerIdsWithoutByes","nextByeSignups","Data_Pairing$Coronate","byePlayerData","pairs","Match$Blossom","p1Id","p1","acc2","p2Id","p2","pairsWithBye","sortByName","sortByIdeal","ideal","PairPicker$SelectList","stagedPlayers","setStagedPlayers","sortedDispatch","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","id$1","selectedPlayer","p1$1","p2$1","PairPicker$Stage","whiteName","blackName","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","newRound","roundList$1","PairPicker$PlayerInfo","fullName","unmatchedCount","unmatchedWithDummy","setIsModalOpen","playerStats","newAvoidIds","newData","Data_Converters$Coronate","round$1","flexGrow","PageTourneyPlayers$Coronate","calcNumOfRounds","playerCount","roundCount","emptyTourney","tournamentReducer","tourneyId","tourneyId$1","arePlayersLoaded","setTourneyLoaded","tourneyLoaded","isItOver","isNewRoundReady","winnerSelect","td","rowId","controls","matchResult","playerResult","PageRound$PlayerMatchInfo","PageRound$MatchRow","isCompactOpt","isCompact","pos","m","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","newResult","white_firstName","white_id","white_lastName","white_matchCount","white_type_","white$1","black_firstName","black_id","black_lastName","black_matchCount","black_type_","black$1","newMatch","scoreData$1","scope","PageRound$RoundTable","RoundTable","PageRound$Round","Pages$Coronate","matches$1","isThisTheLastRound","activePlayersCount","LoadTournament$Coronate","initialTab","setOpenTab","Tabs","index","PairPicker$Coronate","makeDateInput","year","rawMonth","rawDate","month","day","setEditing","editing","nameInput","dateInput","focusRef","myref","Webapi__Dom__Element","focus","ref","year$1","month$1","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreakNames","standingTree","i","rank$1","standingsFlat","rowSpan","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","tbId","moveTb","marginTop","Crosstable","standings","index2","player1Id","player2Id","getXScore","lastRating","change","getRatingChangeTds","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","placeholder","Index$App","url","PageTournamentList$Coronate","PageOptions$Coronate","PageTourney$Coronate","ReactDOMRe","ServiceWorker"],"mappings":"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","file":"static/js/main.09969357.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction ascend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(a), getter(b));\n}\n\nfunction descend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(b), getter(a));\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  swap: swap\n};\n\nfunction sumF(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nvar List = {\n  sumF: sumF\n};\n\nfunction concat(l, sep) {\n  var _acc = \"\";\n  var _l = Belt_List.reverse(l);\n  while(true) {\n    var l$1 = _l;\n    var acc = _acc;\n    if (!l$1) {\n      return acc;\n    }\n    var l$2 = l$1[1];\n    var s = l$1[0];\n    if (!l$2) {\n      return s + acc;\n    }\n    _l = l$2;\n    _acc = sep + (s + acc);\n    continue ;\n  };\n}\n\nfunction includes(s, substr) {\n  return s.includes(substr);\n}\n\nfunction split(s, on) {\n  return s.split(on);\n}\n\nfunction alert(__x) {\n  window.alert(__x);\n  \n}\n\nvar logo = require(\"./assets/icon-min.svg\");\n\nvar caution = require(\"./assets/caution.svg\");\n\nvar WebpackAssets = {\n  logo: logo,\n  caution: caution\n};\n\nvar Entities = {\n  nbsp: \"\\xa0\",\n  copy: \"\\xa9\"\n};\n\nvar formatter = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar formatter$1 = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateTimeFormat(Props) {\n  var date = Props.date;\n  var timeZone = Props.timeZone;\n  var formatter$2 = timeZone !== undefined ? Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, timeZone, undefined, undefined, /* Numeric */0, undefined) : formatter$1;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$2, date));\n}\n\nvar panels = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Curry._1(Css.style, /* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_magenta_50 = /* `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_magenta_60 = /* `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_magenta_70 = /* `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_magenta_80 = /* `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_magenta_90 = /* `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_purple_30 = /* `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_purple_40 = /* `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_purple_50 = /* `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_purple_60 = /* `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_purple_70 = /* `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_purple_80 = /* `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_purple_90 = /* `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_blue_40 = /* `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_blue_50 = /* `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_blue_50_A30 = /* `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_blue_60 = /* `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_blue_70 = /* `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_blue_80 = /* `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_blue_90 = /* `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_teal_50 = /* `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_teal_60 = /* `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_teal_70 = /* `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_teal_80 = /* `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_teal_90 = /* `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_green_60 = /* `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_green_70 = /* `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_green_80 = /* `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_yellow_60 = /* `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_yellow_70 = /* `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_yellow_80 = /* `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_red_50 = /* `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_red_70 = /* `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_red_80 = /* `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_red_90 = /* `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_orange_50 = /* `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_orange_60 = /* `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_orange_70 = /* `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_orange_80 = /* `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_orange_90 = /* `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_grey_10 = /* `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_grey_10_A10 = /* `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_grey_10_A20 = /* `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_grey_10_A40 = /* `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_grey_10_A60 = /* `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_grey_10_A80 = /* `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_grey_20 = /* `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_grey_30 = /* `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_grey_40 = /* `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_grey_50 = /* `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_grey_60 = /* `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_grey_70 = /* `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_grey_80 = /* `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_grey_90 = /* `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_grey_90_A05 = /* `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_grey_90_A10 = /* `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_grey_90_A20 = /* `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_grey_90_A30 = /* `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_grey_90_A40 = /* `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_grey_90_A50 = /* `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_grey_90_A60 = /* `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_grey_90_A70 = /* `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_grey_90_A80 = /* `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_grey_90_A90 = /* `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_ink_70 = /* `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_ink_80 = /* `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_ink_90 = /* `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = {\n  magenta_50: PhotonColors_magenta_50,\n  magenta_60: PhotonColors_magenta_60,\n  magenta_70: PhotonColors_magenta_70,\n  magenta_80: PhotonColors_magenta_80,\n  magenta_90: PhotonColors_magenta_90,\n  purple_30: PhotonColors_purple_30,\n  purple_40: PhotonColors_purple_40,\n  purple_50: PhotonColors_purple_50,\n  purple_60: PhotonColors_purple_60,\n  purple_70: PhotonColors_purple_70,\n  purple_80: PhotonColors_purple_80,\n  purple_90: PhotonColors_purple_90,\n  blue_40: PhotonColors_blue_40,\n  blue_50: PhotonColors_blue_50,\n  blue_50_A30: PhotonColors_blue_50_A30,\n  blue_60: PhotonColors_blue_60,\n  blue_70: PhotonColors_blue_70,\n  blue_80: PhotonColors_blue_80,\n  blue_90: PhotonColors_blue_90,\n  teal_50: PhotonColors_teal_50,\n  teal_60: PhotonColors_teal_60,\n  teal_70: PhotonColors_teal_70,\n  teal_80: PhotonColors_teal_80,\n  teal_90: PhotonColors_teal_90,\n  green_50: green_50,\n  green_60: PhotonColors_green_60,\n  green_70: PhotonColors_green_70,\n  green_80: PhotonColors_green_80,\n  green_90: green_90,\n  yellow_50: yellow_50,\n  yellow_60: PhotonColors_yellow_60,\n  yellow_70: PhotonColors_yellow_70,\n  yellow_80: PhotonColors_yellow_80,\n  yellow_90: yellow_90,\n  red_50: PhotonColors_red_50,\n  red_60: red_60,\n  red_70: PhotonColors_red_70,\n  red_80: PhotonColors_red_80,\n  red_90: PhotonColors_red_90,\n  orange_50: PhotonColors_orange_50,\n  orange_60: PhotonColors_orange_60,\n  orange_70: PhotonColors_orange_70,\n  orange_80: PhotonColors_orange_80,\n  orange_90: PhotonColors_orange_90,\n  grey_10: PhotonColors_grey_10,\n  grey_10_A10: PhotonColors_grey_10_A10,\n  grey_10_A20: PhotonColors_grey_10_A20,\n  grey_10_A40: PhotonColors_grey_10_A40,\n  grey_10_A60: PhotonColors_grey_10_A60,\n  grey_10_A80: PhotonColors_grey_10_A80,\n  grey_20: PhotonColors_grey_20,\n  grey_30: PhotonColors_grey_30,\n  grey_40: PhotonColors_grey_40,\n  grey_50: PhotonColors_grey_50,\n  grey_60: PhotonColors_grey_60,\n  grey_70: PhotonColors_grey_70,\n  grey_80: PhotonColors_grey_80,\n  grey_90: PhotonColors_grey_90,\n  grey_90_A05: PhotonColors_grey_90_A05,\n  grey_90_A10: PhotonColors_grey_90_A10,\n  grey_90_A20: PhotonColors_grey_90_A20,\n  grey_90_A30: PhotonColors_grey_90_A30,\n  grey_90_A40: PhotonColors_grey_90_A40,\n  grey_90_A50: PhotonColors_grey_90_A50,\n  grey_90_A60: PhotonColors_grey_90_A60,\n  grey_90_A70: PhotonColors_grey_90_A70,\n  grey_90_A80: PhotonColors_grey_90_A80,\n  grey_90_A90: PhotonColors_grey_90_A90,\n  ink_70: PhotonColors_ink_70,\n  ink_80: PhotonColors_ink_80,\n  ink_90: PhotonColors_ink_90,\n  white_100: white_100\n};\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Curry._1(Css.style, /* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Curry._1(Css.style, /* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Curry._1(Css.style, /* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var kindOpt = Props.kind;\n  var tooltipOpt = Props.tooltip;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var kind = kindOpt !== undefined ? kindOpt : /* Generic */3;\n  var tooltip = tooltipOpt !== undefined ? tooltipOpt : \"\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var match;\n  switch (kind) {\n    case /* Success */0 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case /* Warning */1 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case /* Error */2 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          error\n        ];\n        break;\n    case /* Generic */3 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nfunction Utils$TestId(Props) {\n  var children = Props.children;\n  var testId = Props.testId;\n  return React.cloneElement(children, {\n              \"data-testid\": testId\n            });\n}\n\nvar TestId = {\n  make: Utils$TestId\n};\n\nNumeral.registerFormat(\"fraction\", Numeral.Format.make(Numeral.RegExps.make(/(1\\/2)/, /(1\\/2)/), (function (value, _format, _roundingFunction) {\n            var whole = Math.floor(value);\n            var remainder = value - whole;\n            var fraction = remainder !== 0.25 ? (\n                remainder !== 0.5 ? (\n                    remainder !== 0.75 ? \"\" : \"\"\n                  ) : \"\"\n              ) : \"\";\n            var stringedWhole = whole === 0.0 && fraction !== \"\" ? \"\" : whole.toString();\n            return stringedWhole + fraction;\n          }), (function (value) {\n            return Number(value);\n          })));\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nfunction String_toLowerCase(prim) {\n  return prim.toLowerCase();\n}\n\nvar $$String = {\n  concat: concat,\n  toLowerCase: String_toLowerCase,\n  includes: includes,\n  split: split\n};\n\nvar DateFormat = {\n  make: Utils$DateFormat\n};\n\nvar DateTimeFormat = {\n  make: Utils$DateTimeFormat\n};\n\nvar $$Notification = {\n  make: Utils$Notification\n};\n\nexport {\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  List ,\n  $$String ,\n  alert ,\n  WebpackAssets ,\n  Entities ,\n  DateFormat ,\n  DateTimeFormat ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  TestId ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Nanoid from \"nanoid\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\n\nfunction toString(x) {\n  return x;\n}\n\nfunction fromString(x) {\n  return x;\n}\n\nvar dummy = \"________DUMMY________\";\n\nfunction isDummy(id) {\n  return id === dummy;\n}\n\nfunction random(prim) {\n  return Nanoid.nanoid();\n}\n\nfunction encode(prim) {\n  return prim;\n}\n\nvar compare = Caml_primitive.caml_string_compare;\n\nvar Id = Belt_Id.comparable(compare);\n\nfunction make(param) {\n  return Belt_Map.make(Id);\n}\n\nfunction fromStringArray(arr) {\n  return Belt_Map.fromArray(arr, Id);\n}\n\nvar toStringArray = Belt_Map.toArray;\n\nvar decode = Json_decode.string;\n\nvar $$Map = {\n  make: make,\n  fromStringArray: fromStringArray,\n  toStringArray: toStringArray\n};\n\nexport {\n  toString ,\n  fromString ,\n  dummy ,\n  isDummy ,\n  random ,\n  encode ,\n  decode ,\n  compare ,\n  $$Map ,\n  \n}\n/* Id Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toFloat(param) {\n  if (param) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(param) {\n  if (param !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction make(a, b) {\n  var match = Data_Id$Coronate.compare(a, b);\n  if (match !== 0) {\n    if (match !== 1) {\n      return /* tuple */[\n              b,\n              a\n            ];\n    } else {\n      return /* tuple */[\n              a,\n              b\n            ];\n    }\n  }\n  \n}\n\nfunction has(param, id) {\n  if (param[0] === id) {\n    return true;\n  } else {\n    return param[1] === id;\n  }\n}\n\nfunction cmp(param, param$1) {\n  var x = Data_Id$Coronate.compare(param[0], param$1[0]);\n  if (x !== 0) {\n    return x;\n  }\n  var x$1 = Data_Id$Coronate.compare(param[1], param$1[1]);\n  if (x$1 !== 0) {\n    return x$1;\n  } else {\n    return 0;\n  }\n}\n\nvar Cmp = Belt_Id.MakeComparable({\n      cmp: cmp\n    });\n\nvar empty = Belt_Set.make(Cmp);\n\nfunction fromArray(param) {\n  return Belt_Set.fromArray(param, Cmp);\n}\n\nfunction decode$1(json) {\n  return Belt_Set.fromArray(Json_decode.array((function (param) {\n                    return Json_decode.pair(Data_Id$Coronate.decode, Data_Id$Coronate.decode, param);\n                  }), json), Cmp);\n}\n\nfunction encode$1(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair(Data_Id$Coronate.encode, Data_Id$Coronate.encode, param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var currentList = Belt_Map.get(acc, id1);\n  var newList1 = currentList !== undefined ? /* :: */[\n      id2,\n      currentList\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var currentList$1 = Belt_Map.get(acc, id2);\n  var newList2 = currentList$1 !== undefined ? /* :: */[\n      id1,\n      currentList$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_Map.set(Belt_Map.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction toMap(__x) {\n  return Belt_Set.reduce(__x, Data_Id$Coronate.$$Map.make(undefined), toMapReducer);\n}\n\nfunction decode$2(json) {\n  return {\n          avoidPairs: Json_decode.field(\"avoidPairs\", decode$1, json),\n          byeValue: Json_decode.field(\"byeValue\", decode, json),\n          lastBackup: Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        };\n}\n\nfunction encode$2(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"avoidPairs\",\n                encode$1(data.avoidPairs)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"byeValue\",\n                  data.byeValue ? 0.5 : 1.0\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastBackup\",\n                    Json_encode.date(data.lastBackup)\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nvar default_lastBackup = new Date(0.0);\n\nvar $$default = {\n  avoidPairs: empty,\n  byeValue: /* Full */0,\n  lastBackup: default_lastBackup\n};\n\nvar Pair_Set = {\n  empty: empty,\n  fromArray: fromArray,\n  toMap: toMap\n};\n\nvar Pair = {\n  make: make,\n  has: has,\n  $$Set: Pair_Set\n};\n\nexport {\n  ByeValue ,\n  Pair ,\n  decode$2 as decode,\n  encode$2 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* Cmp Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toFloatWhite(param) {\n  if (param >= 3) {\n    return 0.0;\n  }\n  switch (param) {\n    case /* WhiteWon */0 :\n        return 1.0;\n    case /* BlackWon */1 :\n        return 0.0;\n    case /* Draw */2 :\n        return 0.5;\n    \n  }\n}\n\nfunction toFloatBlack(param) {\n  if (param === 0) {\n    return 0.0;\n  }\n  switch (param - 1 | 0) {\n    case /* WhiteWon */0 :\n        return 1.0;\n    case /* BlackWon */1 :\n        return 0.5;\n    case /* Draw */2 :\n        return 0.0;\n    \n  }\n}\n\nfunction toString(score) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(score) {\n  switch (score) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toFloatWhite: toFloatWhite,\n  toFloatBlack: toFloatBlack,\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          whiteId: Json_decode.field(\"whiteId\", Data_Id$Coronate.decode, json),\n          blackId: Json_decode.field(\"blackId\", Data_Id$Coronate.decode, json),\n          whiteNewRating: Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          blackNewRating: Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          whiteOrigRating: Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          blackOrigRating: Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          result: Json_decode.field(\"result\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"whiteId\",\n                  Data_Id$Coronate.encode(data.whiteId)\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"blackId\",\n                    Data_Id$Coronate.encode(data.blackId)\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"whiteNewRating\",\n                      data.whiteNewRating\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"blackNewRating\",\n                        data.blackNewRating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"whiteOrigRating\",\n                          data.whiteOrigRating\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"blackOrigRating\",\n                            data.blackOrigRating\n                          ],\n                          /* :: */[\n                            /* tuple */[\n                              \"result\",\n                              toString(data.result)\n                            ],\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction scoreByeMatch(match_, byeValue) {\n  var match = Data_Id$Coronate.isDummy(match_.whiteId);\n  var match$1 = Data_Id$Coronate.isDummy(match_.blackId);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return {\n              id: match_.id,\n              whiteId: match_.whiteId,\n              blackId: match_.blackId,\n              whiteNewRating: match_.whiteNewRating,\n              blackNewRating: match_.blackNewRating,\n              whiteOrigRating: match_.whiteOrigRating,\n              blackOrigRating: match_.blackOrigRating,\n              result: byeValue ? /* Draw */2 : /* BlackWon */1\n            };\n    }\n  } else if (match$1) {\n    return {\n            id: match_.id,\n            whiteId: match_.whiteId,\n            blackId: match_.blackId,\n            whiteNewRating: match_.whiteNewRating,\n            blackNewRating: match_.blackNewRating,\n            whiteOrigRating: match_.whiteOrigRating,\n            blackOrigRating: match_.blackOrigRating,\n            result: byeValue ? /* Draw */2 : /* WhiteWon */0\n          };\n  } else {\n    return match_;\n  }\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch({\n              id: Data_Id$Coronate.random(undefined),\n              whiteId: white.id,\n              blackId: black.id,\n              whiteNewRating: white.rating,\n              blackNewRating: black.rating,\n              whiteOrigRating: white.rating,\n              blackOrigRating: black.rating,\n              result: /* NotSet */3\n            }, byeValue);\n}\n\nfunction swapColors(match_) {\n  var match = match_.result;\n  var tmp;\n  switch (match) {\n    case /* WhiteWon */0 :\n        tmp = /* BlackWon */1;\n        break;\n    case /* BlackWon */1 :\n        tmp = /* WhiteWon */0;\n        break;\n    case /* Draw */2 :\n        tmp = /* Draw */2;\n        break;\n    case /* NotSet */3 :\n        tmp = /* NotSet */3;\n        break;\n    \n  }\n  return {\n          id: match_.id,\n          whiteId: match_.blackId,\n          blackId: match_.whiteId,\n          whiteNewRating: match_.blackNewRating,\n          blackNewRating: match_.whiteNewRating,\n          whiteOrigRating: match_.blackOrigRating,\n          blackOrigRating: match_.whiteOrigRating,\n          result: tmp\n        };\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  scoreByeMatch ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nfunction opposite(param) {\n  if (param) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(param) {\n  if (param) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction toString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction toPrettyString(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  var json$1 = Json_decode.string(json);\n  switch (json$1) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nfunction createBlankScoreData(firstRatingOpt, id) {\n  var firstRating = firstRatingOpt !== undefined ? firstRatingOpt : 0;\n  return {\n          colorScores: /* [] */0,\n          colors: /* [] */0,\n          id: id,\n          isDummy: false,\n          opponentResults: Data_Id$Coronate.$$Map.make(undefined),\n          ratings: /* [] */0,\n          firstRating: firstRating,\n          results: /* [] */0,\n          resultsNoByes: /* [] */0\n        };\n}\n\nfunction isNotDummy(scores, oppId) {\n  var opponent = Belt_Map.get(scores, oppId);\n  if (opponent !== undefined) {\n    return !opponent.isDummy;\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.results);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_Map.reduce(match.opponentResults, /* [] */0, (function (acc, oppId, param) {\n                  if (isNotDummy(scores, oppId)) {\n                    return /* :: */[\n                            getPlayerScore(scores, oppId),\n                            acc\n                          ];\n                  } else {\n                    return acc;\n                  }\n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  return Belt_Option.mapWithDefault(Belt_List.tail(Belt_Option.mapWithDefault(Belt_List.tail(Belt_List.sort(getOpponentScores(scores, id), Caml_primitive.caml_float_compare)), /* [] */0, Belt_List.reverse)), 0.0, Utils$Coronate.List.sumF);\n}\n\nfunction getSolkoffScore(scores, id) {\n  return Utils$Coronate.List.sumF(getOpponentScores(scores, id));\n}\n\nfunction runningReducer(acc, score) {\n  if (!acc) {\n    return /* :: */[\n            score,\n            /* [] */0\n          ];\n  }\n  var last = acc[0];\n  return /* :: */[\n          last + score,\n          /* :: */[\n            last,\n            acc[1]\n          ]\n        ];\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.reduce(match.resultsNoByes, /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.map(Belt_Map.reduce(match.opponentResults, /* [] */0, (function (acc, key, param) {\n                          if (isNotDummy(scores, key)) {\n                            return /* :: */[\n                                    key,\n                                    acc\n                                  ];\n                          } else {\n                            return acc;\n                          }\n                        })), (function (param) {\n                      return getCumulativeScore(scores, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.colorScores);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction mapTieBreak(param) {\n  switch (param) {\n    case /* Median */0 :\n        return getMedianScore;\n    case /* Solkoff */1 :\n        return getSolkoffScore;\n    case /* Cumulative */2 :\n        return getCumulativeScore;\n    case /* CumulativeOfOpposition */3 :\n        return getCumulativeOfOpponentScore;\n    case /* MostBlack */4 :\n        return getColorBalanceScore;\n    \n  }\n}\n\nfunction createStandingList(scores, methods) {\n  var funcList = Belt_List.map(Belt_List.fromArray(methods), (function (tbType) {\n          return /* tuple */[\n                  tbType,\n                  mapTieBreak(tbType)\n                ];\n        }));\n  var partial_arg = Belt_List.fromArray(methods);\n  return Belt_List.sort(Belt_List.reverse(Belt_Map.reduce(scores, /* [] */0, (function (acc, id, data) {\n                        return /* :: */[\n                                {\n                                  id: id,\n                                  score: Utils$Coronate.List.sumF(data.results),\n                                  tieBreaks: Belt_List.map(funcList, (function (param) {\n                                          return /* tuple */[\n                                                  param[0],\n                                                  Curry._2(param[1], scores, id)\n                                                ];\n                                        }))\n                                },\n                                acc\n                              ];\n                      }))), (function (param, param$1) {\n                var x = Caml_primitive.caml_float_compare(param$1.score, param.score);\n                if (x !== 0) {\n                  return x;\n                } else {\n                  var _tieBreaks = partial_arg;\n                  while(true) {\n                    var tieBreaks = _tieBreaks;\n                    if (!tieBreaks) {\n                      return 0;\n                    }\n                    var rest = tieBreaks[1];\n                    var tieBreak = tieBreaks[0];\n                    var getTieBreak = (function(tieBreak){\n                    return function getTieBreak(__x) {\n                      return Belt_List.getAssoc(__x, tieBreak, (function (prim, prim$1) {\n                                    return prim === prim$1;\n                                  }));\n                    }\n                    }(tieBreak));\n                    var match = getTieBreak(param.tieBreaks);\n                    var match$1 = getTieBreak(param$1.tieBreaks);\n                    if (match !== undefined) {\n                      if (match$1 !== undefined) {\n                        var x$1 = Caml_primitive.caml_float_compare(match$1, match);\n                        if (x$1 !== 0) {\n                          return x$1;\n                        }\n                        _tieBreaks = rest;\n                        continue ;\n                      }\n                      _tieBreaks = rest;\n                      continue ;\n                    }\n                    _tieBreaks = rest;\n                    continue ;\n                  };\n                }\n              }));\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  if (standing1.score !== standing2.score) {\n    return false;\n  }\n  var comparisons = Belt_List.reduce(standing1.tieBreaks, /* [] */0, (function (acc, param) {\n          var value2 = Belt_List.getAssoc(standing2.tieBreaks, param[0], (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n          if (value2 !== undefined) {\n            return /* :: */[\n                    param[1] !== value2,\n                    acc\n                  ];\n          } else {\n            return acc;\n          }\n        }));\n  return !Belt_List.has(comparisons, true, (function (prim, prim$1) {\n                return prim === prim$1;\n              }));\n}\n\nfunction createStandingTree(standingList) {\n  return Belt_List.reduce(standingList, /* [] */0, (function (acc, standing) {\n                if (!acc) {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          /* [] */0\n                        ];\n                }\n                var lastRank = acc[0];\n                if (!lastRank) {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          acc\n                        ];\n                }\n                var pastRanks = acc[1];\n                if (areScoresEqual(lastRank[0], standing)) {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            lastRank\n                          ],\n                          pastRanks\n                        ];\n                } else {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          /* :: */[\n                            lastRank,\n                            pastRanks\n                          ]\n                        ];\n                }\n              }));\n}\n\nfunction getExpected(a, b) {\n  return 1 / (1 + Math.pow(10, (b - a | 0) / 400));\n}\n\nfunction updateRating(rating, expected, actual, current) {\n  return Math.round(current + rating * (actual - expected)) | 0;\n}\n\nfunction getKFactor(matchCount) {\n  var ne = matchCount > 0 ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  if (rating > 100) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(whiteRating, blackRating, whiteMatchCount, blackMatchCount, result) {\n  var whiteElo = getKFactor(whiteMatchCount);\n  var blackElo = getKFactor(blackMatchCount);\n  var whiteExpected = getExpected(whiteRating, blackRating);\n  var blackExpected = getExpected(blackRating, whiteRating);\n  var whiteResult = Data_Match$Coronate.Result.toFloatWhite(result);\n  var blackResult = Data_Match$Coronate.Result.toFloatBlack(result);\n  return /* tuple */[\n          keepAboveFloor(updateRating(whiteElo, whiteExpected, whiteResult, whiteRating)),\n          keepAboveFloor(updateRating(blackElo, blackExpected, blackResult, blackRating))\n        ];\n}\n\nvar TieBreak = {\n  encode: encode,\n  decode: decode,\n  toString: toString,\n  toPrettyString: toPrettyString\n};\n\nvar Ratings_EloRank = {\n  getKFactor: getKFactor\n};\n\nvar Ratings = {\n  EloRank: Ratings_EloRank,\n  calcNewRatings: calcNewRatings\n};\n\nexport {\n  Color ,\n  TieBreak ,\n  createBlankScoreData ,\n  createStandingList ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case /* SetIsDescending */0 :\n          newState = {\n            isDescending: action[0],\n            column: state.column,\n            table: state.table\n          };\n          break;\n      case /* SetColumn */1 :\n          newState = {\n            isDescending: state.isDescending,\n            column: action[0],\n            table: state.table\n          };\n          break;\n      case /* SetTable */2 :\n          newState = {\n            isDescending: state.isDescending,\n            column: state.column,\n            table: action[0]\n          };\n          break;\n      \n    }\n  }\n  var direction = newState.isDescending ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var f = newState.column;\n  var sortFunc;\n  switch (f.tag | 0) {\n    case /* GetString */0 :\n        var f$1 = f[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_string_compare, (function (str) {\n                return Utils$Coronate.$$String.toLowerCase(f$1(str));\n              }));\n        break;\n    case /* GetInt */1 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_int_compare, f[0]);\n        break;\n    case /* GetFloat */2 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, f[0]);\n        break;\n    case /* GetDate */3 :\n        var f$2 = f[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, (function (date) {\n                return f$2(date).getTime();\n              }));\n        break;\n    \n  }\n  var table = Belt_SortArray.stableSortBy(newState.table, sortFunc);\n  return {\n          isDescending: newState.isDescending,\n          column: newState.column,\n          table: table\n        };\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = {\n    isDescending: isDescending,\n    column: column,\n    table: table\n  };\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          \n        }), ([]));\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var chevronStyle = data.column === sortColumn ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  if (data.column === sortColumn) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data.isDescending]));\n                  } else {\n                    return Curry._1(dispatch, /* SetColumn */Block.__(1, [sortColumn]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, data.isDescending ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), [isLoaded]);\n  \n}\n\nfunction useScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating, param) {\n  var data = Belt_Map.get(scoreData, player.id);\n  var match = data !== undefined ? data : Data_Scoring$Coronate.createBlankScoreData(undefined, player.id);\n  var opponentResults = match.opponentResults;\n  var hasBye = Belt_Map.has(opponentResults, Data_Id$Coronate.dummy);\n  var x = Utils$Coronate.List.sumF(match.colorScores);\n  var colorBalance = x < 0.0 ? \"White +\" + Math.abs(x).toString() : (\n      x > 0.0 ? \"Black +\" + x.toString() : \"Even\"\n    );\n  var avoidMap = Belt_Option.mapWithDefault(avoidPairs, Data_Id$Coronate.$$Map.make(undefined), Data_Config$Coronate.Pair.$$Set.toMap);\n  var avoidList = Belt_Map.get(avoidMap, player.id);\n  var avoidList$1 = avoidList !== undefined ? avoidList : /* [] */0;\n  var score = Utils$Coronate.List.sumF(match.results);\n  var opponentResults$1 = Belt_Array.map(Belt_Map.toArray(opponentResults), (function (param) {\n          var result = param[1];\n          var opId = param[0];\n          return React.createElement(\"li\", {\n                      key: Data_Id$Coronate.toString(opId)\n                    }, Utils$Coronate.$$String.concat(/* :: */[\n                          Curry._1(getPlayer, opId).firstName,\n                          /* :: */[\n                            Curry._1(getPlayer, opId).lastName,\n                            /* :: */[\n                              \"-\",\n                              /* :: */[\n                                result !== 0.0 ? (\n                                    result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                  ) : \"Lost\",\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ], \" \"));\n        }));\n  var avoidListHtml = Belt_Array.reverse(Belt_List.toArray(Belt_List.map(avoidList$1, (function (pId) {\n                  var match = Belt_Map.get(players, pId);\n                  if (match !== undefined) {\n                    return React.createElement(\"li\", {\n                                key: Data_Id$Coronate.toString(pId)\n                              }, match.firstName + (\" \" + match.lastName));\n                  } else {\n                    return null;\n                  }\n                }))));\n  var rating = React.createElement(React.Fragment, undefined, origRating.toString(), newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n  return {\n          player: player,\n          hasBye: hasBye,\n          colorBalance: colorBalance,\n          score: score,\n          rating: rating,\n          opponentResults: opponentResults$1,\n          avoidListHtml: avoidListHtml\n        };\n}\n\nexport {\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  useScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nfunction fromArray(x) {\n  return x;\n}\n\nfunction toArray(x) {\n  return x;\n}\n\nvar empty = [];\n\nfunction encode(param) {\n  return Json_encode.array(Data_Match$Coronate.encode, param);\n}\n\nfunction decode(param) {\n  return Json_decode.array(Data_Match$Coronate.decode, param);\n}\n\nfunction size(prim) {\n  return prim.length;\n}\n\nfunction getMatched(round) {\n  return Belt_Array.reduce(round, [], (function (acc, param) {\n                return Belt_Array.concat(acc, [\n                            param.whiteId,\n                            param.blackId\n                          ]);\n              }));\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return x.id === id;\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return x.id !== id;\n              }));\n}\n\nfunction setMatch(round, match_) {\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round, (function (param) {\n                        return param.id === match_.id;\n                      })), (function (x) {\n                    return Belt_Array.set(round, x, match_);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round;\n                }\n                \n              }));\n}\n\nfunction moveMatch(round, matchId, direction) {\n  var match_ = getMatchById(round, matchId);\n  if (match_ === undefined) {\n    return ;\n  }\n  var oldIndex = round.indexOf(match_);\n  var newIndex = (oldIndex + direction | 0) >= 0 ? oldIndex + direction | 0 : 0;\n  return Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n}\n\nvar Round = {\n  fromArray: fromArray,\n  toArray: toArray,\n  empty: empty,\n  encode: encode,\n  decode: decode,\n  size: size,\n  addMatches: Belt_Array.concat,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch,\n  moveMatch: moveMatch\n};\n\nfunction fromArray$1(x) {\n  return x;\n}\n\nfunction toArray$1(x) {\n  return x;\n}\n\nvar empty$1 = [[]];\n\nfunction encode$1(param) {\n  return Json_encode.array(encode, param);\n}\n\nfunction decode$1(param) {\n  return Json_decode.array(decode, param);\n}\n\nfunction size$1(prim) {\n  return prim.length;\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nfunction set(rounds, key, round) {\n  var wasSuccessful = Belt_Array.set(rounds, key, round);\n  if (wasSuccessful) {\n    return rounds;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? Belt_Array.slice(roundList, 0, lastRound + 1 | 0) : roundList;\n  return Belt_Array.reduce(rounds, [], Belt_Array.concat);\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var round = Belt_Array.get(roundList, roundId);\n  if (round === undefined) {\n    return true;\n  }\n  if (roundId < (roundList.length - 1 | 0)) {\n    return true;\n  }\n  var matched = getMatched(round);\n  var unmatched = Belt_Map.removeMany(players, matched);\n  var results = Belt_Array.map(round, (function (match_) {\n          return match_.result;\n        }));\n  if (Belt_Map.size(unmatched) === 0) {\n    return !results.includes(/* NotSet */3);\n  } else {\n    return false;\n  }\n}\n\nfunction addRound(roundList) {\n  return Belt_Array.concat(roundList, [[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, byeValue) {\n  return Belt_Array.map(rounds, (function (__x) {\n                return Belt_Array.map(__x, (function (param) {\n                              return Data_Match$Coronate.scoreByeMatch(param, byeValue);\n                            }));\n              }));\n}\n\nvar get = Belt_Array.get;\n\nexport {\n  Round ,\n  fromArray$1 as fromArray,\n  toArray$1 as toArray,\n  empty$1 as empty,\n  encode$1 as encode,\n  decode$1 as decode,\n  size$1 as size,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar config_avoidPairs = Curry._1(Data_Config$Coronate.Pair.$$Set.fromArray, Belt_Array.keepMap([\n          /* tuple */[\n            \"BarbaraGordon_cL6SpI2\",\n            \"JamesGordon_1ts9xICT3\"\n          ],\n          /* tuple */[\n            \"Joker_v0z2416fpAZ9o2c\",\n            \"HarleyQuinn_-10-02VPH\"\n          ],\n          /* tuple */[\n            \"HelenaWayne_fE6O0DJcE\",\n            \"BruceWayne_lv_ZsUHTU9\"\n          ]\n        ], (function (param) {\n            return Data_Config$Coronate.Pair.make(Data_Id$Coronate.fromString(param[0]), Data_Id$Coronate.fromString(param[1]));\n          })));\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = [\n  /* tuple */[\n    \"BruceWayne_lv_ZsUHTU9\",\n    {\n      firstName: \"Bruce\",\n      id: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n      lastName: \"Wayne\",\n      matchCount: 9,\n      rating: 1998,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"DickGrayson_1C2rCokHH\",\n    {\n      firstName: \"Dick\",\n      id: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n      lastName: \"Grayson\",\n      matchCount: 9,\n      rating: 1909,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"AlfredPennyworth_y4dW\",\n    {\n      firstName: \"Alfred\",\n      id: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n      lastName: \"Pennyworth\",\n      matchCount: 9,\n      rating: 1999,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"BarbaraGordon_cL6SpI2\",\n    {\n      firstName: \"Barbara\",\n      id: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n      lastName: \"Gordon\",\n      matchCount: 7,\n      rating: 1345,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"KateKane_klFW6gDfUOTX\",\n    {\n      firstName: \"Kate\",\n      id: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n      lastName: \"Kane\",\n      matchCount: 9,\n      rating: 1539,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"SelinaKyle_rJBH-45Xoy\",\n    {\n      firstName: \"Selina\",\n      id: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n      lastName: \"Kyle\",\n      matchCount: 9,\n      rating: 1495,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JasonTodd_fc9CeOa-Luw\",\n    {\n      firstName: \"Jason\",\n      id: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n      lastName: \"Todd\",\n      matchCount: 7,\n      rating: 1101,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JamesGordon_1ts9xICT3\",\n    {\n      firstName: \"James\",\n      id: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n      lastName: \"Gordon\",\n      matchCount: 7,\n      rating: 1167,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HelenaWayne_fE6O0DJcE\",\n    {\n      firstName: \"Helena\",\n      id: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n      lastName: \"Wayne\",\n      matchCount: 7,\n      rating: 1087,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Joker_v0z2416fpAZ9o2c\",\n    {\n      firstName: \"Joker\",\n      id: Data_Id$Coronate.fromString(\"Joker_v0z2416fpAZ9o2c\"),\n      lastName: \"\",\n      matchCount: 1,\n      rating: 1538,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HarleyQuinn_-10-02VPH\",\n    {\n      firstName: \"Harley\",\n      id: Data_Id$Coronate.fromString(\"HarleyQuinn_-10-02VPH\"),\n      lastName: \"Quinn\",\n      matchCount: 1,\n      rating: 1648,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"VictorFries_cWaQoW014\",\n    {\n      firstName: \"Victor\",\n      id: Data_Id$Coronate.fromString(\"VictorFries_cWaQoW014\"),\n      lastName: \"Fries\",\n      matchCount: 1,\n      rating: 862,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"OswaldCobblepot_lfCro\",\n    {\n      firstName: \"Oswald\",\n      id: Data_Id$Coronate.fromString(\"OswaldCobblepot_lfCro\"),\n      lastName: \"Cobblepot\",\n      matchCount: 1,\n      rating: 1812,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"RasAlGhul_k9n8k852bHr\",\n    {\n      firstName: \"Ra's\",\n      id: Data_Id$Coronate.fromString(\"RasAlGhul_k9n8k852bHr\"),\n      lastName: \"al Ghul\",\n      matchCount: 1,\n      rating: 1404,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"PamelaIsley_vH5vD8uPB\",\n    {\n      firstName: \"Pamela\",\n      id: Data_Id$Coronate.fromString(\"PamelaIsley_vH5vD8uPB\"),\n      lastName: \"Isley\",\n      matchCount: 1,\n      rating: 965,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"EdwardNigma_j80JfWOZq\",\n    {\n      firstName: \"Edward\",\n      id: Data_Id$Coronate.fromString(\"EdwardNigma_j80JfWOZq\"),\n      lastName: \"Nigma\",\n      matchCount: 1,\n      rating: 948,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JonathanCrane_R4Q8tVW\",\n    {\n      firstName: \"Jonathan\",\n      id: Data_Id$Coronate.fromString(\"JonathanCrane_R4Q8tVW\"),\n      lastName: \"Crane\",\n      matchCount: 1,\n      rating: 899,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HarveyDent_0eYIiP_Ij5\",\n    {\n      firstName: \"Harvey\",\n      id: Data_Id$Coronate.fromString(\"HarveyDent_0eYIiP_Ij5\"),\n      lastName: \"Dent\",\n      matchCount: 1,\n      rating: 1649,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HugoStrange_az43f9mtS\",\n    {\n      firstName: \"Hugo\",\n      id: Data_Id$Coronate.fromString(\"HugoStrange_az43f9mtS\"),\n      lastName: \"Strange\",\n      matchCount: 0,\n      rating: 800,\n      type_: /* Person */0\n    }\n  ]\n];\n\nvar tournaments = [\n  /* tuple */[\n    \"CaouTNel9k70jUJ0h6SYM\",\n    {\n      id: Data_Id$Coronate.fromString(\"CaouTNel9k70jUJ0h6SYM\"),\n      name: \"Wayne Manor Open\",\n      date: new Date(\"2019-05-22T12:14:47.670Z\"),\n      playerIds: /* :: */[\n        Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n        /* :: */[\n          Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n          /* :: */[\n            Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n            /* :: */[\n              Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n              /* :: */[\n                Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                /* :: */[\n                  Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                  /* :: */[\n                    Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    /* :: */[\n                      Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                      /* :: */[\n                        Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"FUASEeyES6ez_ROoT6qmU\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    blackId: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n                    whiteNewRating: 1236,\n                    blackNewRating: 2109,\n                    whiteOrigRating: 1238,\n                    blackOrigRating: 2108,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"gqPyD66QMPF-pup41xsB2\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                    blackId: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n                    whiteNewRating: 1049,\n                    blackNewRating: 2260,\n                    whiteOrigRating: 1049,\n                    blackOrigRating: 2260,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"KpS1lQSzsQWQ3VVWJyA2P\"),\n                    whiteId: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                    blackId: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n                    whiteNewRating: 1553,\n                    blackNewRating: 1722,\n                    whiteOrigRating: 1527,\n                    blackOrigRating: 1755,\n                    result: /* Draw */2\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"OgFuy-wq8mz378EWat46u\"),\n                    whiteId: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                    blackId: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n                    whiteNewRating: 1278,\n                    blackNewRating: 1887,\n                    whiteOrigRating: 1284,\n                    blackOrigRating: 1881,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"f8Ps3GUmd0ZRsBBY8rZOp\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 831,\n                    blackNewRating: 0,\n                    whiteOrigRating: 831,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"6seKrw7ehbhL766g6L2PF\"),\n                    whiteId: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n                    blackId: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                    whiteNewRating: 2122,\n                    blackNewRating: 1672,\n                    whiteOrigRating: 2109,\n                    blackOrigRating: 1685,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"TCSjz48ZXqjamtYUFNg0B\"),\n                    whiteId: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n                    blackId: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                    whiteNewRating: 1887,\n                    blackNewRating: 830,\n                    whiteOrigRating: 1887,\n                    blackOrigRating: 831,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"zF64DEsN8sHydpDDsg37E\"),\n                    whiteId: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n                    blackId: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                    whiteNewRating: 2101,\n                    blackNewRating: 1437,\n                    whiteOrigRating: 2260,\n                    blackOrigRating: 1278,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"qVGt1EJq9y0MmvFtumM0A\"),\n                    whiteId: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n                    blackId: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    whiteNewRating: 1574,\n                    blackNewRating: 1207,\n                    whiteOrigRating: 1545,\n                    blackOrigRating: 1236,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"UhfHaRWr_-BtVo22xAuJu\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 1049,\n                    blackNewRating: 0,\n                    whiteOrigRating: 1049,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"odrOOnZJUe0YAwkfUDqUb\"),\n                    whiteId: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n                    blackId: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n                    whiteNewRating: 1998,\n                    blackNewRating: 1990,\n                    whiteOrigRating: 2101,\n                    blackOrigRating: 1887,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"qzCMqUwNIDAcFSAuA5yCm\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                    blackId: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n                    whiteNewRating: 990,\n                    blackNewRating: 2008,\n                    whiteOrigRating: 830,\n                    blackOrigRating: 2122,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"6QgVqdtcJPjfVp3UZ8S9g\"),\n                    whiteId: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                    blackId: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n                    whiteNewRating: 1529,\n                    blackNewRating: 1464,\n                    whiteOrigRating: 1437,\n                    blackOrigRating: 1574,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"as45gODKMLC5-3_UsTyx5\"),\n                    whiteId: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                    blackId: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                    whiteNewRating: 1542,\n                    blackNewRating: 1244,\n                    whiteOrigRating: 1672,\n                    blackOrigRating: 1049,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"Pc0CWecSfeGNfvBPjyEIj\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 1207,\n                    blackNewRating: 0,\n                    whiteOrigRating: 1207,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"xj0y_Iqkb-g3MDGgmYx2-\"),\n                    whiteId: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n                    blackId: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                    whiteNewRating: 1998,\n                    blackNewRating: 1534,\n                    whiteOrigRating: 1990,\n                    blackOrigRating: 1542,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"HWYWtsyaqUkHRExM6kQrt\"),\n                    whiteId: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n                    blackId: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                    whiteNewRating: 2009,\n                    blackNewRating: 1243,\n                    whiteOrigRating: 2008,\n                    blackOrigRating: 1244,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"uAzHZVMC71liQZ-6fWWeD\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                    blackId: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                    whiteNewRating: 983,\n                    blackNewRating: 1534,\n                    whiteOrigRating: 990,\n                    blackOrigRating: 1529,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"_tCBn9YNIyto-vXpxm7WI\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    blackId: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n                    whiteNewRating: 1205,\n                    blackNewRating: 1999,\n                    whiteOrigRating: 1207,\n                    blackOrigRating: 1998,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"L7yatE2oVKlV7LOY6-d7Y\"),\n                    whiteId: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 1464,\n                    blackNewRating: 0,\n                    whiteOrigRating: 1464,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ])\n          ])\n    }\n  ],\n  /* tuple */[\n    \"tvAdS4YbSOznrBgrg0ITA\",\n    {\n      id: Data_Id$Coronate.fromString(\"tvAdS4YbSOznrBgrg0ITA\"),\n      name: \"The Battle for Gotham City\",\n      date: new Date(\"2019-05-29T12:15:20.593Z\"),\n      playerIds: /* :: */[\n        Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n        /* :: */[\n          Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n          /* :: */[\n            Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n            /* :: */[\n              Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n              /* :: */[\n                Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                /* :: */[\n                  Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                  /* :: */[\n                    Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    /* :: */[\n                      Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                      /* :: */[\n                        Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                        /* :: */[\n                          Data_Id$Coronate.fromString(\"Joker_v0z2416fpAZ9o2c\"),\n                          /* :: */[\n                            Data_Id$Coronate.fromString(\"HarleyQuinn_-10-02VPH\"),\n                            /* :: */[\n                              Data_Id$Coronate.fromString(\"VictorFries_cWaQoW014\"),\n                              /* :: */[\n                                Data_Id$Coronate.fromString(\"OswaldCobblepot_lfCro\"),\n                                /* :: */[\n                                  Data_Id$Coronate.fromString(\"RasAlGhul_k9n8k852bHr\"),\n                                  /* :: */[\n                                    Data_Id$Coronate.fromString(\"PamelaIsley_vH5vD8uPB\"),\n                                    /* :: */[\n                                      Data_Id$Coronate.fromString(\"EdwardNigma_j80JfWOZq\"),\n                                      /* :: */[\n                                        Data_Id$Coronate.fromString(\"JonathanCrane_R4Q8tVW\"),\n                                        /* :: */[\n                                          Data_Id$Coronate.fromString(\"HarveyDent_0eYIiP_Ij5\"),\n                                          /* [] */0\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"5f8GYcR8V44NYvTN1cZle\"),\n                    whiteId: Data_Id$Coronate.fromString(\"EdwardNigma_j80JfWOZq\"),\n                    blackId: Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\"),\n                    whiteNewRating: 948,\n                    blackNewRating: 1998,\n                    whiteOrigRating: 950,\n                    blackOrigRating: 1998,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"GPTct4sL368SryTLFUu8E\"),\n                    whiteId: Data_Id$Coronate.fromString(\"JonathanCrane_R4Q8tVW\"),\n                    blackId: Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\"),\n                    whiteNewRating: 899,\n                    blackNewRating: 1999,\n                    whiteOrigRating: 900,\n                    blackOrigRating: 1999,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"AxtoztZ6O19nyrLfZ4YaU\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HarveyDent_0eYIiP_Ij5\"),\n                    blackId: Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\"),\n                    whiteNewRating: 1649,\n                    blackNewRating: 1909,\n                    whiteOrigRating: 850,\n                    blackOrigRating: 2009,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"bUM_tWQsAtPe1gqRzlXd1\"),\n                    whiteId: Data_Id$Coronate.fromString(\"RasAlGhul_k9n8k852bHr\"),\n                    blackId: Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\"),\n                    whiteNewRating: 1404,\n                    blackNewRating: 1495,\n                    whiteOrigRating: 1050,\n                    blackOrigRating: 1534,\n                    result: /* Draw */2\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"bAOVlP-M5xaPk1qofNReb\"),\n                    whiteId: Data_Id$Coronate.fromString(\"OswaldCobblepot_lfCro\"),\n                    blackId: Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\"),\n                    whiteNewRating: 1812,\n                    blackNewRating: 1345,\n                    whiteOrigRating: 1100,\n                    blackOrigRating: 1464,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"4omlgiGSaE1BmrHdABSym\"),\n                    whiteId: Data_Id$Coronate.fromString(\"PamelaIsley_vH5vD8uPB\"),\n                    blackId: Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\"),\n                    whiteNewRating: 965,\n                    blackNewRating: 1539,\n                    whiteOrigRating: 1000,\n                    blackOrigRating: 1534,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"ysdEVYS2AyuKyOAwLLpTF\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HarleyQuinn_-10-02VPH\"),\n                    blackId: Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\"),\n                    whiteNewRating: 1648,\n                    blackNewRating: 1167,\n                    whiteOrigRating: 1200,\n                    blackOrigRating: 1242,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"YoJ9WGokAYrmJjfxCCf87\"),\n                    whiteId: Data_Id$Coronate.fromString(\"VictorFries_cWaQoW014\"),\n                    blackId: Data_Id$Coronate.fromString(\"Joker_v0z2416fpAZ9o2c\"),\n                    whiteNewRating: 862,\n                    blackNewRating: 1538,\n                    whiteOrigRating: 1150,\n                    blackOrigRating: 1250,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"Az7SBl3cs7rbwKPBI0IsU\"),\n                    whiteId: Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\"),\n                    blackId: Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\"),\n                    whiteNewRating: 1087,\n                    blackNewRating: 1101,\n                    whiteOrigRating: 983,\n                    blackOrigRating: 1205,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.empty\n          ])\n    }\n  ]\n];\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          firstName: Json_decode.field(\"firstName\", Json_decode.string, json),\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          lastName: Json_decode.field(\"lastName\", Json_decode.string, json),\n          matchCount: Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          rating: Json_decode.field(\"rating\", Json_decode.$$int, json),\n          type_: Json_decode.field(\"type_\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"firstName\",\n                data.firstName\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"id\",\n                  Data_Id$Coronate.encode(data.id)\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastName\",\n                    data.lastName\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"matchCount\",\n                      data.matchCount\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"rating\",\n                        data.rating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"type_\",\n                          toString(data.type_)\n                        ],\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar dummy = {\n  firstName: \"Bye\",\n  id: Data_Id$Coronate.dummy,\n  lastName: \"Player\",\n  matchCount: 0,\n  rating: 0,\n  type_: /* Dummy */1\n};\n\nfunction makeMissing(id) {\n  return {\n          firstName: \"Anonymous\",\n          id: id,\n          lastName: \"Player\",\n          matchCount: 0,\n          rating: 0,\n          type_: /* Missing */2\n        };\n}\n\nfunction getMaybe(playerMap, id) {\n  if (Data_Id$Coronate.isDummy(id)) {\n    return dummy;\n  } else {\n    return Belt_Map.getWithDefault(playerMap, id, makeMissing(id));\n  }\n}\n\nexport {\n  Type ,\n  encode$1 as encode,\n  decode$1 as decode,\n  dummy ,\n  getMaybe ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction decode(json) {\n  var partial_arg_001 = /* :: */[\n    (function (prim) {\n        return prim;\n      }),\n    /* [] */0\n  ];\n  var partial_arg = /* :: */[\n    Json_decode.date,\n    partial_arg_001\n  ];\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          date: Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          playerIds: Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.list(Data_Id$Coronate.decode, param);\n                }), json),\n          byeQueue: Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Data_Id$Coronate.decode, param);\n                }), json),\n          tieBreaks: Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(Data_Scoring$Coronate.TieBreak.decode, param);\n                }), json),\n          roundList: Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        };\n}\n\nfunction encode(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"name\",\n                  data.name\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"date\",\n                    Json_encode.date(data.date)\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"playerIds\",\n                      Json_encode.list(Data_Id$Coronate.encode, data.playerIds)\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"byeQueue\",\n                        Json_encode.array(Data_Id$Coronate.encode, data.byeQueue)\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"tieBreaks\",\n                          Json_encode.array(Data_Scoring$Coronate.TieBreak.encode, data.tieBreaks)\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data.roundList)\n                          ],\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nexport {\n  encode ,\n  decode ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Id$LocalForage from \"@johnridesabike/bs-localforage/src/Id.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Record$LocalForage from \"@johnridesabike/bs-localforage/src/Record.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction func(prim, prim$1, prim$2, prim$3, prim$4, prim$5, prim$6) {\n  var tmp = {\n    name: prim$2,\n    storeName: prim$4\n  };\n  if (prim !== undefined) {\n    tmp.description = Caml_option.valFromOption(prim);\n  }\n  if (prim$1 !== undefined) {\n    tmp.driver = Caml_option.valFromOption(prim$1);\n  }\n  if (prim$3 !== undefined) {\n    tmp.size = Caml_option.valFromOption(prim$3);\n  }\n  if (prim$5 !== undefined) {\n    tmp.version = Caml_option.valFromOption(prim$5);\n  }\n  return tmp;\n}\n\nvar Config = Id$LocalForage.MakeEncodable({\n      encode: Data_Config$Coronate.encode,\n      decode: Data_Config$Coronate.decode\n    });\n\nvar Player = Id$LocalForage.MakeEncodable({\n      encode: Data_Player$Coronate.encode,\n      decode: Data_Player$Coronate.decode\n    });\n\nvar Tournament = Id$LocalForage.MakeEncodable(Data_Tournament$Coronate);\n\nvar configDb = Record$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Options\", undefined, undefined), Config);\n\nvar players = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Players\", undefined, undefined), Player);\n\nvar tournaments = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Tournaments\", undefined, undefined), Tournament);\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  return $$Promise.get($$Promise.Js.$$catch($$Promise.Js.fromBsPromise(Promise.all(/* tuple */[\n                          Record$LocalForage.set(configDb, DemoData$Coronate.config),\n                          Map$LocalForage.setItems(players, DemoData$Coronate.players),\n                          Map$LocalForage.setItems(tournaments, DemoData$Coronate.tournaments)\n                        ])), (function (param) {\n                    ((document.body.style.cursor = \"auto\"));\n                    Utils$Coronate.alert(\"Couldn't load demo data.\");\n                    return $$Promise.resolved(/* tuple */[\n                                undefined,\n                                undefined,\n                                undefined\n                              ]);\n                  })), (function (param) {\n                ((document.body.style.cursor = \"auto\"));\n                return Utils$Coronate.alert(\"Demo data loaded!\");\n              }));\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* Del */0 :\n        return Belt_Map.remove(state, action[0]);\n    case /* Set */1 :\n        return Belt_Map.set(state, action[0], action[1]);\n    case /* SetAll */2 :\n        return action[0];\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Data_Id$Coronate.$$Map.make(undefined));\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setLoaded = match$1[1];\n  var loaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(loaded);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getAllItems(store))), (function (results) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, /* SetAll */Block.__(2, [Data_Id$Coronate.$$Map.fromStringArray(results)]));\n                        return Curry._1(setLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                      \n                    })), (function (error) {\n                  if (!didCancel.contents) {\n                    console.error(error);\n                    Localforage.clear();\n                    return Curry._1(setLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (loaded) {\n            $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.setItems(store, Data_Id$Coronate.$$Map.toStringArray(items)))), (function (param) {\n                    return $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getKeys(store))), (function (keys) {\n                                  var stateKeys = Belt_Map.keysToArray(items);\n                                  var deleted = keys.filter((function (x) {\n                                          return !stateKeys.includes(Data_Id$Coronate.fromString(x));\n                                        }));\n                                  if (deleted.length !== 0) {\n                                    Map$LocalForage.removeItems(store, deleted);\n                                    return ;\n                                  }\n                                  \n                                }));\n                  }));\n          }\n          \n        }), /* tuple */[\n        items,\n        loaded\n      ]);\n  return {\n          items: items,\n          dispatch: dispatch,\n          loaded: loaded\n        };\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* AddAvoidPair */0 :\n        return {\n                avoidPairs: Belt_Set.add(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidPair */1 :\n        return {\n                avoidPairs: Belt_Set.remove(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidSingle */2 :\n        var id = action[0];\n        return {\n                avoidPairs: Belt_Set.reduce(state.avoidPairs, Data_Config$Coronate.Pair.$$Set.empty, (function (acc, pair) {\n                        if (Data_Config$Coronate.Pair.has(pair, id)) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, pair);\n                        }\n                      })),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetAvoidPairs */3 :\n        return {\n                avoidPairs: action[0],\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetByeValue */4 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: action[0],\n                lastBackup: state.lastBackup\n              };\n    case /* SetState */5 :\n        return action[0];\n    case /* SetLastBackup */6 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: state.byeValue,\n                lastBackup: action[0]\n              };\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Record$LocalForage.get(configDb))), (function (values) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, /* SetState */Block.__(5, [values]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                      \n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    Localforage.clear();\n                    Curry._1(dispatch, /* SetState */Block.__(5, [Data_Config$Coronate.$$default]));\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Record$LocalForage.set(configDb, config);\n          }\n          \n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  loadDemoDB ,\n  Config ,\n  Tournament ,\n  Player ,\n  tournaments ,\n  useAllPlayers ,\n  useAllTournaments ,\n  useConfig ,\n  \n}\n/* Config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = { };\n\nvar Alert = { };\n\nvar ArrowDown = { };\n\nvar ArrowLeft = { };\n\nvar ArrowUp = { };\n\nvar Award = { };\n\nvar Check = { };\n\nvar CheckCircle = { };\n\nvar ChevronDown = { };\n\nvar ChevronLeft = { };\n\nvar ChevronRight = { };\n\nvar ChevronUp = { };\n\nvar Circle = { };\n\nvar Clock = { };\n\nvar Download = { };\n\nvar Edit = { };\n\nvar Help = { };\n\nvar Info = { };\n\nvar Layers = { };\n\nvar List = { };\n\nvar Plus = { };\n\nvar Repeat = { };\n\nvar Settings = { };\n\nvar Sidebar = { };\n\nvar Trash = { };\n\nvar Unfullscreen = { };\n\nvar UserMinus = { };\n\nvar UserPlus = { };\n\nvar Users = { };\n\nvar X = { };\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var heightOpt = Props.height;\n    var widthOpt = Props.width;\n    var classNameOpt = Props.className;\n    var styleOpt = Props.style;\n    var ariaLabelOpt = Props.ariaLabel;\n    var ariaHiddenOpt = Props.ariaHidden;\n    var height = heightOpt !== undefined ? heightOpt : \"24\";\n    var width = widthOpt !== undefined ? widthOpt : \"24\";\n    var className = classNameOpt !== undefined ? classNameOpt : \"\";\n    var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n    var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n    var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: Object.assign(({}), {\n                      fill: \"#\" + IconData.icon.hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData.icon.path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData.icon.title;\n  return {\n          make: Icons$SimpleIcon\n        };\n}\n\nvar IconData = {\n  icon: Reason.default\n};\n\nfunction Icons$SimpleIcon(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: Object.assign(({}), {\n                    fill: \"#\" + IconData.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData.icon.path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData.icon.title;\n\nvar Reason$1 = {\n  make: Icons$SimpleIcon\n};\n\nvar IconData$1 = {\n  icon: React$1.default\n};\n\nfunction Icons$SimpleIcon$1(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData$1.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: Object.assign(({}), {\n                    fill: \"#\" + IconData$1.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1.icon.path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1.icon.title;\n\nvar React$2 = {\n  make: Icons$SimpleIcon$1\n};\n\nfunction Icons$Close(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = {\n  make: Icons$Close\n};\n\nfunction Icons$Maximize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = {\n  make: Icons$Maximize\n};\n\nfunction Icons$Minimize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = {\n  make: Icons$Minimize\n};\n\nfunction Icons$Restore(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = {\n  make: Icons$Restore\n};\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Clock ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\n\nfunction fromPath(param) {\n  if (!param) {\n    return /* Players */0;\n  }\n  switch (param[0]) {\n    case \"\" :\n        if (param[1]) {\n          return ;\n        } else {\n          return /* Players */0;\n        }\n    case \"crosstable\" :\n        if (param[1]) {\n          return ;\n        } else {\n          return /* Crosstable */2;\n        }\n    case \"round\" :\n        var match = param[1];\n        if (!match) {\n          return ;\n        }\n        if (match[1]) {\n          return ;\n        }\n        var y = Belt_Int.fromString(match[0]);\n        if (y !== undefined) {\n          return /* Round */[y];\n        } else {\n          return ;\n        }\n    case \"scores\" :\n        if (param[1]) {\n          return ;\n        } else {\n          return /* Scores */1;\n        }\n    case \"setup\" :\n        if (param[1]) {\n          return ;\n        } else {\n          return /* Setup */3;\n        }\n    case \"status\" :\n        if (param[1]) {\n          return ;\n        } else {\n          return /* Status */4;\n        }\n    default:\n      return ;\n  }\n}\n\nfunction toString(id, subPage) {\n  if (typeof subPage !== \"number\") {\n    return Data_Id$Coronate.toString(id) + (\"/round/\" + String(subPage[0]));\n  }\n  switch (subPage) {\n    case /* Players */0 :\n        return Data_Id$Coronate.toString(id) + \"/\";\n    case /* Scores */1 :\n        return Data_Id$Coronate.toString(id) + \"/scores\";\n    case /* Crosstable */2 :\n        return Data_Id$Coronate.toString(id) + \"/crosstable\";\n    case /* Setup */3 :\n        return Data_Id$Coronate.toString(id) + \"/setup\";\n    case /* Status */4 :\n        return Data_Id$Coronate.toString(id) + \"/status\";\n    \n  }\n}\n\nfunction toString$1(id) {\n  if (typeof id !== \"number\") {\n    if (id.tag) {\n      return \"/players/\" + Data_Id$Coronate.toString(id[0]);\n    } else {\n      return \"/tourneys/\" + toString(id[0], id[1]);\n    }\n  }\n  switch (id) {\n    case /* TournamentList */1 :\n        return \"/tourneys\";\n    case /* PlayerList */2 :\n        return \"/players\";\n    case /* TimeCalculator */3 :\n        return \"/timecalc\";\n    case /* Options */4 :\n        return \"/options\";\n    case /* Index */0 :\n    case /* NotFound */5 :\n        return \"/\";\n    \n  }\n}\n\nfunction useHashUrl(param) {\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var param$1 = Belt_List.fromArray(Utils$Coronate.$$String.split(match.hash, \"/\"));\n  if (!param$1) {\n    return /* NotFound */5;\n  }\n  if (param$1[0] !== \"\") {\n    return /* NotFound */5;\n  }\n  var match$1 = param$1[1];\n  if (!match$1) {\n    return /* Index */0;\n  }\n  switch (match$1[0]) {\n    case \"\" :\n        if (match$1[1]) {\n          return /* NotFound */5;\n        } else {\n          return /* Index */0;\n        }\n    case \"options\" :\n        if (match$1[1]) {\n          return /* NotFound */5;\n        } else {\n          return /* Options */4;\n        }\n    case \"players\" :\n        var match$2 = match$1[1];\n        if (match$2) {\n          if (match$2[1]) {\n            return /* NotFound */5;\n          } else {\n            return /* Player */Block.__(1, [Data_Id$Coronate.fromString(match$2[0])]);\n          }\n        } else {\n          return /* PlayerList */2;\n        }\n    case \"timecalc\" :\n        if (match$1[1]) {\n          return /* NotFound */5;\n        } else {\n          return /* TimeCalculator */3;\n        }\n    case \"tourneys\" :\n        var match$3 = match$1[1];\n        if (!match$3) {\n          return /* TournamentList */1;\n        }\n        var page = fromPath(match$3[1]);\n        if (page !== undefined) {\n          return /* Tournament */Block.__(0, [\n                    Data_Id$Coronate.fromString(match$3[0]),\n                    page\n                  ]);\n        } else {\n          return /* NotFound */5;\n        }\n    default:\n      return /* NotFound */5;\n  }\n}\n\nfunction Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var onClick = Props.onClick;\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var hash = match.hash;\n  var href = toString$1(to_);\n  var isCurrent = href === \"/\" ? hash === \"\" || hash === href : hash === href;\n  return React.createElement(\"a\", {\n              \"aria-current\": isCurrent,\n              href: \"#\" + href,\n              onDragStart: onDragStart,\n              onClick: onClick\n            }, children);\n}\n\nvar HashLink = {\n  make: Router$HashLink\n};\n\nvar TourneyPage = { };\n\nexport {\n  TourneyPage ,\n  useHashUrl ,\n  HashLink ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nvar $$require = window.require;\n\nvar electron = $$require !== undefined ? Curry._1($$require, \"electron\") : undefined;\n\nfunction ifElectron(fn) {\n  if (electron !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron)));\n  }\n  \n}\n\nvar isWin = Utils$Coronate.$$String.includes(navigator.appVersion, \"Windows\");\n\nvar isMac = Utils$Coronate.$$String.includes(navigator.appVersion, \"Mac\");\n\nvar os = isWin ? /* Windows */0 : (\n    isMac ? /* Mac */1 : /* Other */2\n  );\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var targetOs = Props.os;\n  if (electron === undefined) {\n    return null;\n  }\n  var electron$1 = Caml_option.valFromOption(electron);\n  switch (os) {\n    case /* Windows */0 :\n        if (targetOs !== 0) {\n          return null;\n        } else {\n          return Curry._1(children, electron$1);\n        }\n    case /* Mac */1 :\n        if (targetOs !== 1) {\n          return null;\n        } else {\n          return Curry._1(children, electron$1);\n        }\n    case /* Other */2 :\n        if (targetOs >= 2) {\n          return Curry._1(children, electron$1);\n        } else {\n          return null;\n        }\n    \n  }\n}\n\nvar IfElectron = {\n  make: Electron$IfElectron\n};\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n    return ;\n  } else {\n    $$window.maximize();\n    return ;\n  }\n}\n\nvar $$Window = {\n  toggleMaximize: toggleMaximize\n};\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  \n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (!target.className.includes) {\n            return ;\n          }\n          if (!Utils$Coronate.$$String.includes(target.className, \"double-click-control\")) {\n            return ;\n          }\n          var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n          var $$window = electron.remote.getCurrentWindow();\n          switch (doubleClickAction) {\n            case \"Maximize\" :\n                return toggleMaximize($$window);\n            case \"Minimize\" :\n                $$window.minimize();\n                return ;\n            default:\n              return ;\n          }\n        }));\n  \n}\n\nvar $$Event = {\n  macOSDoubleClick: macOSDoubleClick,\n  openInBrowser: openInBrowser\n};\n\nexport {\n  electron ,\n  ifElectron ,\n  os ,\n  IfElectron ,\n  $$Window ,\n  $$Event ,\n  \n}\n/* require Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar $$FileReader = { };\n\nvar VisuallyHidden = { };\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var styleOpt = Props.style;\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = { };\n\nvar TabList = { };\n\nvar Tab = { };\n\nvar TabPanels = { };\n\nvar TabPanel = { };\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nvar Shell = { };\n\nvar $$Window = { };\n\nvar SystemPreferences = { };\n\nvar Remote = { };\n\nvar Electron = {\n  Shell: Shell,\n  $$Window: $$Window,\n  SystemPreferences: SystemPreferences,\n  Remote: Remote\n};\n\nexport {\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  Electron ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  if (title === \"\") {\n    return global_title;\n  } else {\n    return Utils$Coronate.$$String.concat(/* :: */[\n                title,\n                /* :: */[\n                  global_title,\n                  /* [] */0\n                ]\n              ], \" - \");\n  }\n}\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* SetBlur */0 :\n        return {\n                isBlur: action[0],\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetDialog */1 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: action[0],\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetFullScreen */2 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: action[0],\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetMaximized */3 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: action[0],\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetSidebar */4 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: action[0],\n                title: state.title\n              };\n    case /* SetTitle */5 :\n        var title = action[0];\n        document.title = formatTitle(title);\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: title\n              };\n    \n  }\n}\n\nfunction Window$About(Props) {\n  var version = process.env.REACT_APP_VERSION;\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), version !== undefined ? React.createElement(\"p\", undefined, \"Version \" + version) : null, React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat(/* :: */[\n                          \"Copyright \",\n                          /* :: */[\n                            Utils$Coronate.Entities.copy,\n                            /* :: */[\n                              \" 2020 John\",\n                              /* :: */[\n                                Utils$Coronate.Entities.nbsp,\n                                /* :: */[\n                                  \"Jackson\",\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ], \"\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.$$Event.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.$$Event.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.backgroundColor(/* transparent */582626130),\n                  /* :: */[\n                    Css.width(/* `px */[\n                          25096,\n                          46\n                        ]),\n                    /* :: */[\n                      Css.minWidth(/* `px */[\n                            25096,\n                            46\n                          ]),\n                      /* :: */[\n                        Css.focus(/* :: */[\n                              Css.borderStyle(/* none */-922086728),\n                              /* :: */[\n                                Css.boxShadow(/* none */-922086728),\n                                /* :: */[\n                                  Css.outlineStyle(/* none */-922086728),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]),\n                        /* :: */[\n                          Css.selector(\" svg\", /* :: */[\n                                Css.display(/* inline */423610969),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Curry._1(Css.style, /* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Curry._1(Css.style, /* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.red_50),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nfunction Window$MSWindowsControls(Props) {\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost1\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      \n                    })\n                }, React.createElement(Icons$Coronate.Minimize.make, {\n                      className: svg\n                    })), isFullScreen ? React.createElement(\"button\", {\n                    className: button,\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        \n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                isMaximized ? React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            \n                          })\n                      }, React.createElement(Icons$Coronate.Restore.make, {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            \n                          })\n                      }, React.createElement(Icons$Coronate.Maximize.make, {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      \n                    })\n                }, React.createElement(Icons$Coronate.Close.make, {\n                      className: svg\n                    })));\n}\n\nvar button$1 = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* [] */0\n    ]);\n\nvar isElectronMac = Electron$Coronate.os !== 1 ? false : Electron$Coronate.electron !== undefined;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var isBlur = Props.isBlur;\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var isSidebarOpen = Props.isSidebarOpen;\n  var title = Props.title;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !isFullScreen),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.$$Event.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron.make, {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets.logo,\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!isSidebarOpen]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", isBlur),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(title)), React.createElement(Electron$Coronate.IfElectron.make, {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  isFullScreen: isFullScreen,\n                                  isMaximized: isMaximized,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, {\n        isBlur: false,\n        isDialogOpen: false,\n        isFullScreen: false,\n        isMaximized: false,\n        isSidebarOpen: true,\n        title: \"\"\n      });\n  var state = match[0];\n  var isSidebarOpen = state.isSidebarOpen;\n  var isBlur = state.isBlur;\n  var dispatch = match[1];\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron((function (electron) {\n                        var win = electron.remote.getCurrentWindow();\n                        var unregisterListeners = function (param) {\n                          win.removeAllListeners(\"enter-full-screen\");\n                          win.removeAllListeners(\"leave-full-screen\");\n                          win.removeAllListeners(\"blur\");\n                          win.removeAllListeners(\"focus\");\n                          win.removeAllListeners(\"maximize\");\n                          win.removeAllListeners(\"unmaximize\");\n                          \n                        };\n                        unregisterListeners(undefined);\n                        win.on(\"enter-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                              }));\n                        win.on(\"leave-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                              }));\n                        win.on(\"maximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                              }));\n                        win.on(\"unmaximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                              }));\n                        win.on(\"blur\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                              }));\n                        win.on(\"focus\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                              }));\n                        Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                        Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                        Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                        return unregisterListeners;\n                      }));\n        }), ([]));\n  var tmp;\n  switch (Electron$Coronate.os) {\n    case /* Windows */0 :\n        tmp = \"isWindows\";\n        break;\n    case /* Mac */1 :\n        tmp = \"isMacOS\";\n        break;\n    case /* Other */2 :\n        tmp = \"\";\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", isSidebarOpen),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !isSidebarOpen),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", isBlur),\n                          /* :: */[\n                            tmp,\n                            /* :: */[\n                              Cn.ifSome(\"isElectron\", Electron$Coronate.electron),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  isBlur: isBlur,\n                  isFullScreen: state.isFullScreen,\n                  isMaximized: state.isMaximized,\n                  isSidebarOpen: isSidebarOpen,\n                  title: state.title,\n                  dispatch: dispatch\n                }), Curry._1(children, dispatch), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state.isDialogOpen,\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TournamentList */1,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* PlayerList */2,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Options */4,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TimeCalculator */3,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Clock, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Index */0,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var sidebarFuncOpt = Props.sidebarFunc;\n  var sidebarFunc = sidebarFuncOpt !== undefined ? sidebarFuncOpt : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, undefined)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, undefined)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make = $$Window;\n\nexport {\n  Body ,\n  make ,\n  \n}\n/* container Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors.grey_10),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Curry._1(Css.style, /* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Curry._1(Css.style, /* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Curry._1(Css.style, /* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors.ink_80),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_20),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.teal_50),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors.teal_60),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Curry._1(Css.style, /* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Curry._1(Css.style, /* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: container\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(undefined);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets.logo,\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities.copy + \" 2020 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.$$Event.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason.make, { }), \" \", React.createElement(Icons$Coronate.React.make, { }))))))\n            });\n}\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Pervasives.infinity || num === Pervasives.neg_infinity) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var safeValue = value < minimum ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState((function () {\n          return 2;\n        }));\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState((function () {\n          return 5;\n        }));\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState((function () {\n          return 4.0;\n        }));\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                            style: {\n                              margin: \"0\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"playerCount\"\n                                          }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"playerCount\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0),\n                                            type: \"number\",\n                                            value: players.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setPlayers, 0, param);\n                                              })\n                                          }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))).toString())), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"breakTime\"\n                                          }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"breakTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0),\n                                            step: 5.0,\n                                            type: \"number\",\n                                            value: breakTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setBreakTime, 0, param);\n                                              })\n                                          }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"totalTime\"\n                                          }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"totalTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: String(0.5),\n                                            step: 0.5,\n                                            type: \"number\",\n                                            value: totalTime.toString(),\n                                            onChange: (function (param) {\n                                                var minimum = 0.5;\n                                                param.preventDefault();\n                                                var value = Belt_Option.getWithDefault(Belt_Float.fromString(param.currentTarget.value), minimum);\n                                                var safeValue = value < minimum ? minimum : value;\n                                                return Curry._1(setTotalTime, (function (param) {\n                                                              return safeValue;\n                                                            }));\n                                              })\n                                          }), \" hours\"))))), React.createElement(\"p\", {\n                        className: \"title-20\"\n                      }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                            className: \"title-20\"\n                          }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)).toString(), \" minutes\"), React.createElement(\"span\", {\n                            className: \"caption-30\"\n                          }, \" = ((\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, totalTime.toString()), \"  60  log(\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, players.toString()), \")) - \", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, breakTime.toString()), \")  2\")))\n            });\n}\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nvar Splash = {\n  make: Pages$Splash\n};\n\nvar TimeCalculator = {\n  make: Pages$TimeCalculator\n};\n\nexport {\n  Splash ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar byeRoundTourney = Data_Id$Coronate.fromString(\"Bye_Round_Tourney____\");\n\nvar byeRoundTourney2 = Data_Id$Coronate.fromString(\"Bye_Round_Tourney_2__\");\n\nvar byeRoundTourney3 = Data_Id$Coronate.fromString(\"Bye_Tourney_3________\");\n\nvar simplePairing = Data_Id$Coronate.fromString(\"Simple_Pairing_______\");\n\nvar pairingWithDraws = Data_Id$Coronate.fromString(\"Pairing_With_Draws___\");\n\nvar crowTRobot = Data_Id$Coronate.fromString(\"Crow_T_Robot_________\");\n\nvar drClaytonForrester = Data_Id$Coronate.fromString(\"Dr_Clayton_Forrester_\");\n\nvar grandyMcMaster = Data_Id$Coronate.fromString(\"Grandy_McMaster______\");\n\nvar gypsy = Data_Id$Coronate.fromString(\"Gypsy________________\");\n\nvar joelRobinson = Data_Id$Coronate.fromString(\"Joel_Robinson________\");\n\nvar newbieMcNewberson = Data_Id$Coronate.fromString(\"Newbie_McNewberson___\");\n\nvar tomServo = Data_Id$Coronate.fromString(\"Tom_Servo____________\");\n\nvar tvsFrank = Data_Id$Coronate.fromString(\"TVs_Frank____________\");\n\nvar config_avoidPairs = Curry._1(Data_Config$Coronate.Pair.$$Set.fromArray, Belt_Array.keepMap([\n          /* tuple */[\n            \"TVs_Frank____________\",\n            \"TVs_Son_of_TVs_Frank_\"\n          ],\n          /* tuple */[\n            \"Pearl_Forrester______\",\n            \"Dr_Clayton_Forrester_\"\n          ],\n          /* tuple */[\n            \"Kinga_Forrester______\",\n            \"Dr_Clayton_Forrester_\"\n          ],\n          /* tuple */[\n            \"Kinga_Forrester______\",\n            \"Pearl_Forrester______\"\n          ]\n        ], (function (param) {\n            return Data_Config$Coronate.Pair.make(Data_Id$Coronate.fromString(param[0]), Data_Id$Coronate.fromString(param[1]));\n          })));\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = [\n  /* tuple */[\n    \"Cambot_______________\",\n    {\n      firstName: \"Cambot\",\n      id: Data_Id$Coronate.fromString(\"Cambot_______________\"),\n      lastName: \"\",\n      matchCount: 25,\n      rating: 1500,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Crow_T_Robot_________\",\n    {\n      firstName: \"Crow T\",\n      id: crowTRobot,\n      lastName: \"Robot\",\n      matchCount: 5,\n      rating: 1700,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Dr_Clayton_Forrester_\",\n    {\n      firstName: \"Clayton\",\n      id: drClaytonForrester,\n      lastName: \"Forrester\",\n      matchCount: 40,\n      rating: 2100,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Grandy_McMaster______\",\n    {\n      firstName: \"Grandy\",\n      id: grandyMcMaster,\n      lastName: \"McMaster\",\n      matchCount: 100,\n      rating: 2600,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Gypsy________________\",\n    {\n      firstName: \"Gypsy\",\n      id: gypsy,\n      lastName: \"\",\n      matchCount: 15,\n      rating: 1600,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Joel_Robinson________\",\n    {\n      firstName: \"Joel\",\n      id: joelRobinson,\n      lastName: \"Robinson\",\n      matchCount: 70,\n      rating: 2400,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Jonah_Heston_________\",\n    {\n      firstName: \"Jonah\",\n      id: Data_Id$Coronate.fromString(\"Jonah_Heston_________\"),\n      lastName: \"Heston\",\n      matchCount: 50,\n      rating: 2200,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Kinga_Forrester______\",\n    {\n      firstName: \"Kinga\",\n      id: Data_Id$Coronate.fromString(\"Kinga_Forrester______\"),\n      lastName: \"Forrester\",\n      matchCount: 20,\n      rating: 1900,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Larry_Erhardt________\",\n    {\n      firstName: \"Larry\",\n      id: Data_Id$Coronate.fromString(\"Larry_Erhardt________\"),\n      lastName: \"Erhardt\",\n      matchCount: 45,\n      rating: 1300,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Mike_Nelson__________\",\n    {\n      firstName: \"Mike\",\n      id: Data_Id$Coronate.fromString(\"Mike_Nelson__________\"),\n      lastName: \"Nelson\",\n      matchCount: 60,\n      rating: 2300,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Newbie_McNewberson___\",\n    {\n      firstName: \"Newbie\",\n      id: newbieMcNewberson,\n      lastName: \"McNewberson\",\n      matchCount: 0,\n      rating: 800,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Observer_Brain_Guy___\",\n    {\n      firstName: \"Brain\",\n      id: Data_Id$Coronate.fromString(\"Observer_Brain_Guy___\"),\n      lastName: \"Guy\",\n      matchCount: 55,\n      rating: 1200,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Pearl_Forrester______\",\n    {\n      firstName: \"Pearl\",\n      id: Data_Id$Coronate.fromString(\"Pearl_Forrester______\"),\n      lastName: \"Forrester\",\n      matchCount: 30,\n      rating: 2000,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Professor_Bobo_______\",\n    {\n      firstName: \"Bobo\",\n      id: Data_Id$Coronate.fromString(\"Professor_Bobo_______\"),\n      lastName: \"Professor\",\n      matchCount: 75,\n      rating: 1000,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"TVs_Frank____________\",\n    {\n      firstName: \"TV's\",\n      id: tvsFrank,\n      lastName: \"Frank\",\n      matchCount: 35,\n      rating: 1400,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"TVs_Son_of_TVs_Frank_\",\n    {\n      firstName: \"TV's\",\n      id: Data_Id$Coronate.fromString(\"TVs_Son_of_TVs_Frank_\"),\n      lastName: \"Max\",\n      matchCount: 65,\n      rating: 1100,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Tom_Servo____________\",\n    {\n      firstName: \"Tom\",\n      id: tomServo,\n      lastName: \"Servo\",\n      matchCount: 10,\n      rating: 1800,\n      type_: /* Person */0\n    }\n  ]\n];\n\nvar tournaments = [\n  /* tuple */[\n    \"Bye_Round_Tourney____\",\n    {\n      id: byeRoundTourney,\n      name: \"Bye Round Tourney\",\n      date: new Date(\"2019-06-12T23:49:47.103Z\"),\n      playerIds: /* :: */[\n        joelRobinson,\n        /* :: */[\n          crowTRobot,\n          /* :: */[\n            tomServo,\n            /* :: */[\n              gypsy,\n              /* :: */[\n                Data_Id$Coronate.fromString(\"Cambot_______________\"),\n                /* :: */[\n                  newbieMcNewberson,\n                  /* :: */[\n                    grandyMcMaster,\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.empty\n    }\n  ],\n  /* tuple */[\n    \"Bye_Round_Tourney_2__\",\n    {\n      id: byeRoundTourney2,\n      name: \"Bye Round Tourney 2\",\n      date: new Date(\"2019-06-12T23:49:47.103Z\"),\n      playerIds: /* :: */[\n        joelRobinson,\n        /* :: */[\n          crowTRobot,\n          /* :: */[\n            tomServo,\n            /* :: */[\n              gypsy,\n              /* :: */[\n                Data_Id$Coronate.fromString(\"Cambot_______________\"),\n                /* :: */[\n                  newbieMcNewberson,\n                  /* :: */[\n                    grandyMcMaster,\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"xTXxZHB0sTt__xIAg45fm\"),\n                    whiteId: grandyMcMaster,\n                    blackId: crowTRobot,\n                    whiteNewRating: 2592,\n                    blackNewRating: 1833,\n                    whiteOrigRating: 2600,\n                    blackOrigRating: 1700,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"zQcf9RWXK7iuU6ibPzrhU\"),\n                    whiteId: joelRobinson,\n                    blackId: gypsy,\n                    whiteNewRating: 2400,\n                    blackNewRating: 1600,\n                    whiteOrigRating: 2400,\n                    blackOrigRating: 1600,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"Vw_X0c7O4vshrYEO-oSzR\"),\n                    whiteId: tomServo,\n                    blackId: Data_Id$Coronate.fromString(\"Cambot_______________\"),\n                    whiteNewRating: 1738,\n                    blackNewRating: 1526,\n                    whiteOrigRating: 1800,\n                    blackOrigRating: 1500,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"iSDujOVkOTrcLv_KJmd7s\"),\n                    whiteId: newbieMcNewberson,\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 800,\n                    blackNewRating: 0,\n                    whiteOrigRating: 800,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ])])\n    }\n  ],\n  /* tuple */[\n    \"Bye_Tourney_3________\",\n    {\n      id: byeRoundTourney3,\n      name: \"Bye Tourney 3\",\n      date: new Date(\"2019-06-17T23:00:29.603Z\"),\n      playerIds: /* :: */[\n        Data_Id$Coronate.fromString(\"Kinga_Forrester______\"),\n        /* :: */[\n          newbieMcNewberson,\n          /* :: */[\n            Data_Id$Coronate.fromString(\"Jonah_Heston_________\"),\n            /* [] */0\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"KkFr4B7FDqiHRWmACgApf\"),\n                    whiteId: Data_Id$Coronate.fromString(\"Kinga_Forrester______\"),\n                    blackId: Data_Id$Coronate.fromString(\"Jonah_Heston_________\"),\n                    whiteNewRating: 1894,\n                    blackNewRating: 2202,\n                    whiteOrigRating: 1900,\n                    blackOrigRating: 2200,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"R_BTsGSziwgyvFZM3yc5u\"),\n                    whiteId: newbieMcNewberson,\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 793,\n                    blackNewRating: 0,\n                    whiteOrigRating: 793,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"rcyCfpZU6olav5kdVac44\"),\n                    whiteId: Data_Id$Coronate.fromString(\"Jonah_Heston_________\"),\n                    blackId: newbieMcNewberson,\n                    whiteNewRating: 2187,\n                    blackNewRating: 953,\n                    whiteOrigRating: 2202,\n                    blackOrigRating: 793,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"Nc0Om5fEuwSuzFls9wmME\"),\n                    whiteId: Data_Id$Coronate.fromString(\"Kinga_Forrester______\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 1894,\n                    blackNewRating: 0,\n                    whiteOrigRating: 1894,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"uawjKwbiA38RP8pA--tlw\"),\n                    whiteId: newbieMcNewberson,\n                    blackId: Data_Id$Coronate.fromString(\"Kinga_Forrester______\"),\n                    whiteNewRating: 952,\n                    blackNewRating: 1894,\n                    whiteOrigRating: 953,\n                    blackOrigRating: 1894,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"-kwIDxjPhWVRbqxtRZ26_\"),\n                    whiteId: Data_Id$Coronate.fromString(\"Jonah_Heston_________\"),\n                    blackId: Data_Id$Coronate.fromString(\"________DUMMY________\"),\n                    whiteNewRating: 2187,\n                    blackNewRating: 0,\n                    whiteOrigRating: 2187,\n                    blackOrigRating: 0,\n                    result: /* WhiteWon */0\n                  }\n                ])\n          ])\n    }\n  ],\n  /* tuple */[\n    \"Simple_Pairing_______\",\n    {\n      id: simplePairing,\n      name: \"Simple Pairing\",\n      date: new Date(\"2019-06-14T11:40:34.407Z\"),\n      playerIds: /* :: */[\n        newbieMcNewberson,\n        /* :: */[\n          grandyMcMaster,\n          /* :: */[\n            joelRobinson,\n            /* :: */[\n              drClaytonForrester,\n              /* :: */[\n                tvsFrank,\n                /* :: */[\n                  crowTRobot,\n                  /* :: */[\n                    tomServo,\n                    /* :: */[\n                      gypsy,\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"KdLva8hWqYHdaU9KnFTe2\"),\n                    whiteId: crowTRobot,\n                    blackId: grandyMcMaster,\n                    whiteNewRating: 1699,\n                    blackNewRating: 2600,\n                    whiteOrigRating: 1700,\n                    blackOrigRating: 2600,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"WDPFsNF1yADs4qofFwCY0\"),\n                    whiteId: gypsy,\n                    blackId: joelRobinson,\n                    whiteNewRating: 1650,\n                    blackNewRating: 2389,\n                    whiteOrigRating: 1600,\n                    blackOrigRating: 2400,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"R5sXfTOJw5vrJ4IytAjSi\"),\n                    whiteId: tvsFrank,\n                    blackId: drClaytonForrester,\n                    whiteNewRating: 1400,\n                    blackNewRating: 2100,\n                    whiteOrigRating: 1400,\n                    blackOrigRating: 2100,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"2YOsn_JJFnaUMhRBAc9KY\"),\n                    whiteId: newbieMcNewberson,\n                    blackId: tomServo,\n                    whiteNewRating: 1597,\n                    blackNewRating: 1728,\n                    whiteOrigRating: 800,\n                    blackOrigRating: 1800,\n                    result: /* WhiteWon */0\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.empty\n          ])\n    }\n  ],\n  /* tuple */[\n    \"Pairing_With_Draws___\",\n    {\n      id: pairingWithDraws,\n      name: \"Pairing with draws\",\n      date: new Date(\"2019-06-14T14:18:06.686Z\"),\n      playerIds: /* :: */[\n        newbieMcNewberson,\n        /* :: */[\n          grandyMcMaster,\n          /* :: */[\n            joelRobinson,\n            /* :: */[\n              drClaytonForrester,\n              /* :: */[\n                tvsFrank,\n                /* :: */[\n                  crowTRobot,\n                  /* :: */[\n                    tomServo,\n                    /* :: */[\n                      gypsy,\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.fromArray([\n            Data_Rounds$Coronate.Round.fromArray([\n                  {\n                    id: Data_Id$Coronate.fromString(\"ryWXwvFGwBKQqGBbMYeps\"),\n                    whiteId: crowTRobot,\n                    blackId: grandyMcMaster,\n                    whiteNewRating: 1699,\n                    blackNewRating: 2600,\n                    whiteOrigRating: 1700,\n                    blackOrigRating: 2600,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"2KKVbi0AfNxfJAJobTgP5\"),\n                    whiteId: gypsy,\n                    blackId: joelRobinson,\n                    whiteNewRating: 1650,\n                    blackNewRating: 2389,\n                    whiteOrigRating: 1600,\n                    blackOrigRating: 2400,\n                    result: /* WhiteWon */0\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"zdlBHBAqgV2qabn2oBa2a\"),\n                    whiteId: tvsFrank,\n                    blackId: drClaytonForrester,\n                    whiteNewRating: 1400,\n                    blackNewRating: 2100,\n                    whiteOrigRating: 1400,\n                    blackOrigRating: 2100,\n                    result: /* BlackWon */1\n                  },\n                  {\n                    id: Data_Id$Coronate.fromString(\"8fGxU3tLpd8GibuSQr9-Y\"),\n                    whiteId: newbieMcNewberson,\n                    blackId: tomServo,\n                    whiteNewRating: 1197,\n                    blackNewRating: 1764,\n                    whiteOrigRating: 800,\n                    blackOrigRating: 1800,\n                    result: /* Draw */2\n                  }\n                ]),\n            Data_Rounds$Coronate.Round.empty\n          ])\n    }\n  ]\n];\n\nexport {\n  byeRoundTourney ,\n  byeRoundTourney2 ,\n  byeRoundTourney3 ,\n  simplePairing ,\n  pairingWithDraws ,\n  crowTRobot ,\n  drClaytonForrester ,\n  grandyMcMaster ,\n  gypsy ,\n  joelRobinson ,\n  newbieMcNewberson ,\n  tomServo ,\n  tvsFrank ,\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* byeRoundTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return Utils$Coronate.$$String.concat(/* :: */[\n              date.getFullYear().toString(),\n              /* :: */[\n                Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n                /* :: */[\n                  Numeral.default(date.getDate()).format(\"00\"),\n                  /* [] */0\n                ]\n              ]\n            ], \"-\");\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return {\n          config: Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          players: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict)),\n          tournaments: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict$1))\n        };\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_Map.map(data.players, Data_Player$Coronate.encode);\n  var map$1 = Belt_Map.map(data.tournaments, Data_Tournament$Coronate.encode);\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"config\",\n                Data_Config$Coronate.encode(data.config)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"players\",\n                  Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map))\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"tournaments\",\n                    Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map$1))\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nfunction PageOptions(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var tourneysDispatch = match.dispatch;\n  var tournaments = match.items;\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match$1.dispatch;\n  var players = match$1.items;\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: config,\n                  players: players,\n                  tournaments: tournaments\n                };\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          \n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, /* SetAll */Block.__(2, [tournaments]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetAll */Block.__(2, [players]));\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var rawJson = Json.parse(text);\n    if (rawJson === undefined) {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n    var val;\n    try {\n      val = decodeOptions(Caml_option.valFromOption(rawJson));\n    }\n    catch (raw_exn){\n      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n      if (exn[0] === Json_decode.DecodeError) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      throw exn;\n    }\n    return loadData(val.tournaments, val.players, val.config);\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var rawJson = Json.parse(data);\n      if (rawJson === undefined) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(rawJson));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn[0] === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        }\n        throw exn;\n      }\n      return loadData(val.tournaments, val.players, val.config);\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    \n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(Data_Id$Coronate.$$Map.fromStringArray(DemoData$Coronate.tournaments), Data_Id$Coronate.$$Map.fromStringArray(DemoData$Coronate.players), DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(Data_Id$Coronate.$$Map.fromStringArray(TestData$Coronate.tournaments), Data_Id$Coronate.$$Map.fromStringArray(TestData$Coronate.players), TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Full */0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Full */0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \" \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Half */1,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Half */1]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config.lastBackup\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(undefined) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", process.env.NODE_ENV !== \"production\" ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Formality from \"re-formality/src/Formality.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Formality__ReactUpdate from \"re-formality/src/Formality__ReactUpdate.bs.js\";\n\nvar sortName = /* GetString */Block.__(0, [(function (x) {\n        return x.firstName;\n      })]);\n\nvar sortRating = /* GetInt */Block.__(1, [(function (x) {\n        return x.rating;\n      })]);\n\nvar sortMatchCount = /* GetInt */Block.__(1, [(function (x) {\n        return x.matchCount;\n      })]);\n\nvar validators_matchCount = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.matchCount);\n      if (rating !== undefined) {\n        return /* Ok */Block.__(0, [rating]);\n      } else {\n        return /* Error */Block.__(1, [\"Match count must be a number\"]);\n      }\n    })\n};\n\nvar validators_rating = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.rating);\n      if (rating !== undefined) {\n        return /* Ok */Block.__(0, [rating]);\n      } else {\n        return /* Error */Block.__(1, [\"Rating must be a number\"]);\n      }\n    })\n};\n\nvar validators_lastName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var lastName = param.lastName;\n      if (lastName === \"\") {\n        return /* Error */Block.__(1, [\"Last name is required\"]);\n      } else {\n        return /* Ok */Block.__(0, [lastName]);\n      }\n    })\n};\n\nvar validators_firstName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var firstName = param.firstName;\n      if (firstName === \"\") {\n        return /* Error */Block.__(1, [\"First name is required\"]);\n      } else {\n        return /* Ok */Block.__(0, [firstName]);\n      }\n    })\n};\n\nvar validators = {\n  matchCount: validators_matchCount,\n  rating: validators_rating,\n  lastName: validators_lastName,\n  firstName: validators_firstName\n};\n\nfunction initialState(input) {\n  return {\n          input: input,\n          fieldsStatuses: {\n            matchCount: /* Pristine */0,\n            rating: /* Pristine */0,\n            lastName: /* Pristine */0,\n            firstName: /* Pristine */0\n          },\n          collectionsStatuses: undefined,\n          formStatus: /* Editing */0,\n          submissionStatus: /* NeverSubmitted */0\n        };\n}\n\nfunction validateForm(input, validators, fieldsStatuses) {\n  var match = fieldsStatuses.matchCount;\n  var match_000 = match ? match[0] : Curry._1(validators.matchCount.validate, input);\n  var match$1 = fieldsStatuses.rating;\n  var match_000$1 = match$1 ? match$1[0] : Curry._1(validators.rating.validate, input);\n  var match$2 = fieldsStatuses.lastName;\n  var match_000$2 = match$2 ? match$2[0] : Curry._1(validators.lastName.validate, input);\n  var match$3 = fieldsStatuses.firstName;\n  var match_000$3 = match$3 ? match$3[0] : Curry._1(validators.firstName.validate, input);\n  var matchCountResult = match_000;\n  var matchCountResult$1;\n  if (matchCountResult.tag) {\n    matchCountResult$1 = matchCountResult;\n  } else {\n    var ratingResult = match_000$1;\n    if (ratingResult.tag) {\n      matchCountResult$1 = matchCountResult;\n    } else {\n      var lastNameResult = match_000$2;\n      if (lastNameResult.tag) {\n        matchCountResult$1 = matchCountResult;\n      } else {\n        var firstNameResult = match_000$3;\n        if (!firstNameResult.tag) {\n          return /* Valid */Block.__(0, [\n                    /* output */{\n                      firstName: firstNameResult[0],\n                      lastName: lastNameResult[0],\n                      rating: ratingResult[0],\n                      matchCount: matchCountResult[0]\n                    },\n                    /* fieldsStatuses */{\n                      matchCount: /* Dirty */[\n                        matchCountResult,\n                        /* Shown */0\n                      ],\n                      rating: /* Dirty */[\n                        ratingResult,\n                        /* Shown */0\n                      ],\n                      lastName: /* Dirty */[\n                        lastNameResult,\n                        /* Shown */0\n                      ],\n                      firstName: /* Dirty */[\n                        firstNameResult,\n                        /* Shown */0\n                      ]\n                    },\n                    /* collectionsStatuses */undefined\n                  ]);\n        }\n        matchCountResult$1 = matchCountResult;\n      }\n    }\n  }\n  return /* Invalid */Block.__(1, [\n            /* fieldsStatuses */{\n              matchCount: /* Dirty */[\n                matchCountResult$1,\n                /* Shown */0\n              ],\n              rating: /* Dirty */[\n                match_000$1,\n                /* Shown */0\n              ],\n              lastName: /* Dirty */[\n                match_000$2,\n                /* Shown */0\n              ],\n              firstName: /* Dirty */[\n                match_000$3,\n                /* Shown */0\n              ]\n            },\n            /* collectionsStatuses */undefined\n          ]);\n}\n\nfunction useForm(initialInput, onSubmit) {\n  var memoizedInitialState = React.useMemo((function () {\n          return initialState(initialInput);\n        }), [initialInput]);\n  var match = Formality__ReactUpdate.useReducer(memoizedInitialState, (function (state, action) {\n          if (typeof action === \"number\") {\n            switch (action) {\n              case /* BlurMatchCountField */0 :\n                  var result = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.matchCount, validators_matchCount, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: status,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: result,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: state.formStatus,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurRatingField */1 :\n                  var result$1 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.rating, validators_rating, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: status,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$1 !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: result$1,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: state.formStatus,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurLastNameField */2 :\n                  var result$2 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.lastName, validators_lastName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: status,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$2 !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: result$2,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: state.formStatus,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurFirstNameField */3 :\n                  var result$3 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.firstName, validators_firstName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: status\n                                };\n                        }));\n                  if (result$3 !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: result$3,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: state.formStatus,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* Submit */4 :\n                  var match = state.formStatus;\n                  if (typeof match !== \"number\" && !match.tag) {\n                    return /* NoUpdate */0;\n                  }\n                  var match$1 = validateForm(state.input, validators, state.fieldsStatuses);\n                  if (match$1.tag) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: match$1[/* fieldsStatuses */0],\n                                collectionsStatuses: match$1[/* collectionsStatuses */1],\n                                formStatus: /* Editing */0,\n                                submissionStatus: /* AttemptedToSubmit */1\n                              }]);\n                  }\n                  var output = match$1[/* output */0];\n                  var error = state.formStatus;\n                  var tmp;\n                  tmp = typeof error === \"number\" || error.tag !== /* SubmissionFailed */1 ? undefined : Caml_option.some(error[0]);\n                  return /* UpdateWithSideEffects */Block.__(1, [\n                            {\n                              input: state.input,\n                              fieldsStatuses: match$1[/* fieldsStatuses */1],\n                              collectionsStatuses: match$1[/* collectionsStatuses */2],\n                              formStatus: /* Submitting */Block.__(0, [tmp]),\n                              submissionStatus: /* AttemptedToSubmit */1\n                            },\n                            (function (param) {\n                                var dispatch = param.dispatch;\n                                return Curry._2(onSubmit, output, {\n                                            notifyOnSuccess: (function (input) {\n                                                return Curry._1(dispatch, /* SetSubmittedStatus */Block.__(4, [input]));\n                                              }),\n                                            notifyOnFailure: (function (error) {\n                                                return Curry._1(dispatch, /* SetSubmissionFailedStatus */Block.__(5, [error]));\n                                              }),\n                                            reset: (function (param) {\n                                                return Curry._1(dispatch, /* Reset */7);\n                                              }),\n                                            dismissSubmissionResult: (function (param) {\n                                                return Curry._1(dispatch, /* DismissSubmissionResult */6);\n                                              })\n                                          });\n                              })\n                          ]);\n                  break;\n              case /* DismissSubmissionError */5 :\n                  var match$2 = state.formStatus;\n                  if (typeof match$2 === \"number\" || match$2.tag !== /* SubmissionFailed */1) {\n                    return /* NoUpdate */0;\n                  } else {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: state.fieldsStatuses,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: /* Editing */0,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  }\n              case /* DismissSubmissionResult */6 :\n                  var match$3 = state.formStatus;\n                  if (typeof match$3 === \"number\") {\n                    if (match$3 === /* Editing */0) {\n                      return /* NoUpdate */0;\n                    }\n                    \n                  } else if (!match$3.tag) {\n                    return /* NoUpdate */0;\n                  }\n                  return /* Update */Block.__(0, [{\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* Reset */7 :\n                  return /* Update */Block.__(0, [initialState(initialInput)]);\n              \n            }\n          } else {\n            switch (action.tag | 0) {\n              case /* UpdateMatchCountField */0 :\n                  var nextInput = Curry._1(action[0], state.input);\n                  return /* Update */Block.__(0, [{\n                              input: nextInput,\n                              fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput, state.fieldsStatuses.matchCount, state.submissionStatus, validators_matchCount, (function (status) {\n                                      var init = state.fieldsStatuses;\n                                      return {\n                                              matchCount: status,\n                                              rating: init.rating,\n                                              lastName: init.lastName,\n                                              firstName: init.firstName\n                                            };\n                                    })),\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* UpdateRatingField */1 :\n                  var nextInput$1 = Curry._1(action[0], state.input);\n                  return /* Update */Block.__(0, [{\n                              input: nextInput$1,\n                              fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$1, state.fieldsStatuses.rating, state.submissionStatus, validators_rating, (function (status) {\n                                      var init = state.fieldsStatuses;\n                                      return {\n                                              matchCount: init.matchCount,\n                                              rating: status,\n                                              lastName: init.lastName,\n                                              firstName: init.firstName\n                                            };\n                                    })),\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* UpdateLastNameField */2 :\n                  var nextInput$2 = Curry._1(action[0], state.input);\n                  return /* Update */Block.__(0, [{\n                              input: nextInput$2,\n                              fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$2, state.fieldsStatuses.lastName, state.submissionStatus, validators_lastName, (function (status) {\n                                      var init = state.fieldsStatuses;\n                                      return {\n                                              matchCount: init.matchCount,\n                                              rating: init.rating,\n                                              lastName: status,\n                                              firstName: init.firstName\n                                            };\n                                    })),\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* UpdateFirstNameField */3 :\n                  var nextInput$3 = Curry._1(action[0], state.input);\n                  return /* Update */Block.__(0, [{\n                              input: nextInput$3,\n                              fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$3, state.fieldsStatuses.firstName, state.submissionStatus, validators_firstName, (function (status) {\n                                      var init = state.fieldsStatuses;\n                                      return {\n                                              matchCount: init.matchCount,\n                                              rating: init.rating,\n                                              lastName: init.lastName,\n                                              firstName: status\n                                            };\n                                    })),\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* SetSubmittedStatus */4 :\n                  var input = action[0];\n                  if (input !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: input,\n                                fieldsStatuses: {\n                                  matchCount: /* Pristine */0,\n                                  rating: /* Pristine */0,\n                                  lastName: /* Pristine */0,\n                                  firstName: /* Pristine */0\n                                },\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: /* Submitted */1,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: {\n                                  matchCount: /* Pristine */0,\n                                  rating: /* Pristine */0,\n                                  lastName: /* Pristine */0,\n                                  firstName: /* Pristine */0\n                                },\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: /* Submitted */1,\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  }\n              case /* SetSubmissionFailedStatus */5 :\n                  return /* Update */Block.__(0, [{\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* SubmissionFailed */Block.__(1, [action[0]]),\n                              submissionStatus: state.submissionStatus\n                            }]);\n              case /* MapSubmissionError */6 :\n                  var map = action[0];\n                  var error$1 = state.formStatus;\n                  if (typeof error$1 === \"number\") {\n                    return /* NoUpdate */0;\n                  }\n                  if (error$1.tag) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: state.fieldsStatuses,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: /* SubmissionFailed */Block.__(1, [Curry._1(map, error$1[0])]),\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  }\n                  var error$2 = error$1[0];\n                  if (error$2 !== undefined) {\n                    return /* Update */Block.__(0, [{\n                                input: state.input,\n                                fieldsStatuses: state.fieldsStatuses,\n                                collectionsStatuses: state.collectionsStatuses,\n                                formStatus: /* Submitting */Block.__(0, [Caml_option.some(Curry._1(map, Caml_option.valFromOption(error$2)))]),\n                                submissionStatus: state.submissionStatus\n                              }]);\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              \n            }\n          }\n        }));\n  var dispatch = match[1];\n  var state = match[0];\n  var match$1 = state.formStatus;\n  var tmp;\n  tmp = typeof match$1 === \"number\" || match$1.tag ? false : true;\n  return {\n          updateMatchCount: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, /* UpdateMatchCountField */Block.__(0, [(function (__x) {\n                                return Curry._2(nextInputFn, __x, nextValue);\n                              })]));\n            }),\n          updateRating: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, /* UpdateRatingField */Block.__(1, [(function (__x) {\n                                return Curry._2(nextInputFn, __x, nextValue);\n                              })]));\n            }),\n          updateLastName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, /* UpdateLastNameField */Block.__(2, [(function (__x) {\n                                return Curry._2(nextInputFn, __x, nextValue);\n                              })]));\n            }),\n          updateFirstName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, /* UpdateFirstNameField */Block.__(3, [(function (__x) {\n                                return Curry._2(nextInputFn, __x, nextValue);\n                              })]));\n            }),\n          blurMatchCount: (function (param) {\n              return Curry._1(dispatch, /* BlurMatchCountField */0);\n            }),\n          blurRating: (function (param) {\n              return Curry._1(dispatch, /* BlurRatingField */1);\n            }),\n          blurLastName: (function (param) {\n              return Curry._1(dispatch, /* BlurLastNameField */2);\n            }),\n          blurFirstName: (function (param) {\n              return Curry._1(dispatch, /* BlurFirstNameField */3);\n            }),\n          matchCountResult: Formality.exposeFieldResult(state.fieldsStatuses.matchCount),\n          ratingResult: Formality.exposeFieldResult(state.fieldsStatuses.rating),\n          lastNameResult: Formality.exposeFieldResult(state.fieldsStatuses.lastName),\n          firstNameResult: Formality.exposeFieldResult(state.fieldsStatuses.firstName),\n          input: state.input,\n          status: state.formStatus,\n          dirty: (function (param) {\n              var match = state.fieldsStatuses;\n              if (match.matchCount || match.rating || match.lastName || match.firstName) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          valid: (function (param) {\n              var match = validateForm(state.input, validators, state.fieldsStatuses);\n              if (match.tag) {\n                return false;\n              } else {\n                return true;\n              }\n            }),\n          submitting: tmp,\n          submit: (function (param) {\n              return Curry._1(dispatch, /* Submit */4);\n            }),\n          dismissSubmissionError: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionError */5);\n            }),\n          dismissSubmissionResult: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionResult */6);\n            }),\n          mapSubmissionError: (function (map) {\n              return Curry._1(dispatch, /* MapSubmissionError */Block.__(6, [map]));\n            }),\n          reset: (function (param) {\n              return Curry._1(dispatch, /* Reset */7);\n            })\n        };\n}\n\nfunction errorNotification(param) {\n  if (param !== undefined && param.tag) {\n    return React.createElement(Utils$Coronate.$$Notification.make, {\n                children: param[0],\n                kind: /* Error */2\n              });\n  } else {\n    return null;\n  }\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var form = useForm({\n        firstName: \"\",\n        lastName: \"\",\n        rating: \"1200\",\n        matchCount: \"0\"\n      }, (function (param, cb) {\n          var id = Data_Id$Coronate.random(undefined);\n          Curry._1(dispatch, /* Set */Block.__(1, [\n                  id,\n                  {\n                    firstName: param.firstName,\n                    id: id,\n                    lastName: param.lastName,\n                    matchCount: param.matchCount,\n                    rating: param.rating,\n                    type_: /* Person */0\n                  }\n                ]));\n          if (addPlayerCallback !== undefined) {\n            Curry._1(addPlayerCallback, id);\n          }\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  return React.createElement(\"form\", {\n              onSubmit: (function ($$event) {\n                  $$event.preventDefault();\n                  return Curry._1(form.submit, undefined);\n                })\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"form-newplayer-rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          id: \"form-newplayer-rating\",\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, \"Add\"))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, Belt_Array.map(sorted.table, (function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(p.id),\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Router$Coronate.HashLink.make, {\n                                                children: Utils$Coronate.$$String.concat(/* :: */[\n                                                      p.firstName,\n                                                      /* :: */[\n                                                        p.lastName,\n                                                        /* [] */0\n                                                      ]\n                                                    ], \" \"),\n                                                to_: /* Player */Block.__(1, [p.id])\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.rating)), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.matchCount)), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var id = p.id;\n                                                    $$event.preventDefault();\n                                                    var playerOpt = Belt_Map.get(players, id);\n                                                    if (playerOpt === undefined) {\n                                                      return ;\n                                                    }\n                                                    var message = Utils$Coronate.$$String.concat(/* :: */[\n                                                          \"Are you sure you want to delete \",\n                                                          /* :: */[\n                                                            playerOpt.firstName,\n                                                            /* :: */[\n                                                              \" \",\n                                                              /* :: */[\n                                                                playerOpt.lastName,\n                                                                /* :: */[\n                                                                  \"?\",\n                                                                  /* [] */0\n                                                                ]\n                                                              ]\n                                                            ]\n                                                          ]\n                                                        ], \"\");\n                                                    if (window.confirm(message)) {\n                                                      Curry._1(playersDispatch, /* Del */Block.__(0, [id]));\n                                                      return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                    }\n                                                    \n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: Utils$Coronate.$$String.concat(/* :: */[\n                                                          \"Delete\",\n                                                          /* :: */[\n                                                            p.firstName,\n                                                            /* :: */[\n                                                              p.lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ], \" \")\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var type_ = player.type_;\n  var initialMatchCount = player.matchCount;\n  var playerId = player.id;\n  var form = useForm({\n        firstName: player.firstName,\n        lastName: player.lastName,\n        rating: String(player.rating),\n        matchCount: String(initialMatchCount)\n      }, (function (param, cb) {\n          Curry._1(playersDispatch, /* Set */Block.__(1, [\n                  playerId,\n                  {\n                    firstName: param.firstName,\n                    id: playerId,\n                    lastName: param.lastName,\n                    matchCount: param.matchCount,\n                    rating: param.rating,\n                    type_: type_\n                  }\n                ]));\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  var playerName = Utils$Coronate.$$String.concat(/* :: */[\n        form.input.firstName,\n        /* :: */[\n          form.input.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Curry._1(Data_Config$Coronate.Pair.$$Set.toMap, config.avoidPairs);\n  var x = Belt_Map.get(avoidMap, playerId);\n  var singAvoidList = x !== undefined ? x : /* [] */0;\n  var unavoided = Belt_List.keep(Belt_List.fromArray(Belt_Map.keysToArray(players)), (function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match = React.useState((function () {\n          if (unavoided) {\n            return Caml_option.some(unavoided[0]);\n          }\n          \n        }));\n  var setSelectedAvoider = match[1];\n  var selectedAvoider = match[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider === undefined) {\n      return ;\n    }\n    var selectedAvoider$1 = Caml_option.valFromOption(selectedAvoider);\n    var pair = Data_Config$Coronate.Pair.make(playerId, selectedAvoider$1);\n    if (pair === undefined) {\n      return ;\n    }\n    Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [Caml_option.valFromOption(pair)]));\n    var newSelected;\n    if (unavoided) {\n      var match = unavoided[1];\n      var id = unavoided[0];\n      newSelected = id !== selectedAvoider$1 ? Caml_option.some(id) : (\n          match ? Caml_option.some(match[0]) : undefined\n        );\n    } else {\n      newSelected = undefined;\n    }\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return newSelected;\n                }));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var match$1 = form.matchCountResult;\n  var tmp;\n  tmp = match$1 !== undefined ? (\n      match$1.tag ? \"\" : String(Curry._1(Data_Scoring$Coronate.Ratings.EloRank.getKFactor, match$1[0]))\n    ) : String(Curry._1(Data_Scoring$Coronate.Ratings.EloRank.getKFactor, initialMatchCount));\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Router$Coronate.HashLink.make, {\n                  children: null,\n                  to_: /* PlayerList */2,\n                  onClick: (function ($$event) {\n                      if (Curry._1(form.dirty, undefined) && !window.confirm(\"Discard changes?\")) {\n                        $$event.preventDefault();\n                        return ;\n                      }\n                      \n                    })\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onSubmit: (function ($$event) {\n                      $$event.preventDefault();\n                      return Curry._1(form.submit, undefined);\n                    })\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          name: \"matchCount\",\n                          type: \"number\",\n                          value: form.input.matchCount,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurMatchCount, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateMatchCount, (function (input, matchCount) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.matchCountResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateRating, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: tmp\n                        })), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, Curry._1(form.dirty, undefined) ? \"Save\" : \"Saved\"))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Belt_Array.map(Belt_Array.reverse(Belt_List.toArray(singAvoidList)), (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: Data_Id$Coronate.toString(pId)\n                                  }, Data_Player$Coronate.getMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getMaybe(players, pId).lastName, React.createElement(\"button\", {\n                                        \"aria-label\": Utils$Coronate.$$String.concat(/* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ], \" \"),\n                                        className: \"danger button-ghost\",\n                                        title: Utils$Coronate.$$String.concat(/* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ], \" \"),\n                                        onClick: (function (param) {\n                                            var pair = Data_Config$Coronate.Pair.make(playerId, pId);\n                                            if (pair !== undefined) {\n                                              return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [Caml_option.valFromOption(pair)]));\n                                            }\n                                            \n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: Data_Id$Coronate.toString(Caml_option.valFromOption(selectedAvoider)),\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Belt_Array.map(Belt_List.toArray(unavoided), (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: Data_Id$Coronate.toString(pId),\n                                              value: Data_Id$Coronate.toString(pId)\n                                            }, Data_Player$Coronate.getMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getMaybe(players, pId).lastName);\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nvar Profile = {\n  make: PagePlayers$Profile\n};\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match.dispatch;\n  var players = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_Map.valuesToArray(players)]));\n          \n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var player = Belt_Map.get(players, Caml_option.valFromOption(id));\n    if (player !== undefined) {\n      var tmp$1 = {\n        player: player,\n        players: players,\n        playersDispatch: playersDispatch,\n        config: match$2[0],\n        configDispatch: configDispatch\n      };\n      if (windowDispatch !== undefined) {\n        tmp$1.windowDispatch = Caml_option.valFromOption(windowDispatch);\n      }\n      tmp = React.createElement(PagePlayers$Profile, tmp$1);\n    } else {\n      tmp = React.createElement(\"div\", undefined, \"Loading...\");\n    }\n  } else {\n    var tmp$2 = {\n      sorted: match$1[0],\n      sortDispatch: sortDispatch,\n      players: players,\n      playersDispatch: playersDispatch,\n      configDispatch: configDispatch\n    };\n    if (windowDispatch !== undefined) {\n      tmp$2.windowDispatch = Caml_option.valFromOption(windowDispatch);\n    }\n    tmp = React.createElement(PagePlayers$PlayerList, tmp$2);\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  NewPlayerForm ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Match$Blossom from \"re-blossom/src/Match.bs.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nvar maxPriority = Utils$Coronate.List.sumF(/* :: */[\n      halfPosition(1.0),\n      /* :: */[\n        4.0,\n        /* :: */[\n          16.0 / 1.0,\n          /* :: */[\n            32.0,\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1.id === player2.id) {\n    return 0.0;\n  }\n  var metBefore = Belt_List.has(player1.opponents, player2.id, (function (prim, prim$1) {\n          return prim === prim$1;\n        }));\n  var mustAvoid = Belt_List.has(player1.avoidIds, player2.id, (function (prim, prim$1) {\n          return prim === prim$1;\n        }));\n  var match = player1.colors;\n  var match$1 = player2.colors;\n  var isDiffDueColor = match && match$1 ? match[0] !== match$1[0] : true;\n  var scoreDiff = Math.abs(player1.score - player2.score) + 1.0;\n  var halfDiff = Pervasives.abs(player1.halfPos - player2.halfPos | 0) + 1 | 0;\n  var isDiffHalf = player1.isUpperHalf !== player2.isUpperHalf && player1.score === player2.score;\n  return Utils$Coronate.List.sumF(/* :: */[\n              isDiffDueColor ? 4.0 : 0.0,\n              /* :: */[\n                16.0 / scoreDiff,\n                /* :: */[\n                  (\n                      isDiffHalf ? halfPosition : sameHalfPriority\n                    )(halfDiff),\n                  /* :: */[\n                    !metBefore && !mustAvoid ? 32.0 : 0.0,\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_int_compare, (function (x) {\n                return x.rating;\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return /* tuple */[\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_Map.valuesToArray(data);\n  return Belt_Map.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataList, (function (param) {\n                                return param.score === playerData.score;\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return x === playerData;\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? /* tuple */[\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? /* tuple */[\n                        match$2,\n                        false\n                      ] : /* tuple */[\n                        0,\n                        false\n                      ]\n                  );\n                return {\n                        id: playerData.id,\n                        avoidIds: playerData.avoidIds,\n                        colorScores: playerData.colorScores,\n                        colors: playerData.colors,\n                        halfPos: match$3[0],\n                        isUpperHalf: match$3[1],\n                        opponents: playerData.opponents,\n                        rating: playerData.rating,\n                        score: playerData.score\n                      };\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1.score, data2.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1.rating, data2.rating);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p.opponents, dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  if (Belt_Map.size(data) % 2 === 0) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  }\n  var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_Map.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n  var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n          return p.id;\n        }));\n  var hasntHadByeFn = function (id) {\n    return Belt_List.has(playerIdsWithoutByes, id, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n  var dataForNextBye;\n  if (nextByeSignups) {\n    var x = Belt_Map.get(data, nextByeSignups[0]);\n    dataForNextBye = x !== undefined ? x : Belt_List.getExn(dataList, 0);\n  } else {\n    dataForNextBye = dataList ? dataList[0] : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_Map.valuesToArray(data)), sortByScoreThenRating), 0);\n  }\n  var dataWithoutBye = Belt_Map.remove(data, dataForNextBye.id);\n  return /* tuple */[\n          dataWithoutBye,\n          dataForNextBye\n        ];\n}\n\nfunction assignColorsForPair(param) {\n  var player2 = param[1];\n  var player1 = param[0];\n  if (Utils$Coronate.List.sumF(player1.colorScores) < Utils$Coronate.List.sumF(player2.colorScores)) {\n    return /* tuple */[\n            player2.id,\n            player1.id\n          ];\n  } else {\n    return /* tuple */[\n            player1.id,\n            player2.id\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0].score + param[1].score;\n}\n\nfunction netRating(param) {\n  return param[0].rating + param[1].rating | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairEq(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  if (a === c && b === d) {\n    return true;\n  } else if (b === c) {\n    return a === d;\n  } else {\n    return false;\n  }\n}\n\nfunction pairPlayers(pairData) {\n  return Belt_List.map(Belt_List.sort(Belt_List.keepMap(Match$Blossom.reduce(Match$Blossom.$$String.make(undefined, Belt_Map.reduce(pairData, /* [] */0, (function (acc, p1Id, p1) {\n                                    return Belt_Map.reduce(pairData, acc, (function (acc2, p2Id, p2) {\n                                                  return /* :: */[\n                                                          /* tuple */[\n                                                            Data_Id$Coronate.toString(p1Id),\n                                                            Data_Id$Coronate.toString(p2Id),\n                                                            calcPairIdeal(p1, p2)\n                                                          ],\n                                                          acc2\n                                                        ];\n                                                }));\n                                  }))), /* [] */0, (function (acc, p1, p2) {\n                            if (Belt_List.has(acc, /* tuple */[\n                                    p1,\n                                    p2\n                                  ], pairEq)) {\n                              return acc;\n                            } else {\n                              return /* :: */[\n                                      /* tuple */[\n                                        p1,\n                                        p2\n                                      ],\n                                      acc\n                                    ];\n                            }\n                          })), (function (param) {\n                        var p1 = Data_Id$Coronate.fromString(param[0]);\n                        var p2 = Data_Id$Coronate.fromString(param[1]);\n                        var match = Belt_Map.get(pairData, p1);\n                        var match$1 = Belt_Map.get(pairData, p2);\n                        if (match !== undefined && match$1 !== undefined) {\n                          return /* tuple */[\n                                  match,\n                                  match$1\n                                ];\n                        }\n                        \n                      })), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  maxPriority ,\n  calcPairIdeal ,\n  setUpperHalves ,\n  setByePlayer ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Config$Coronate from \"./Data_Config.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var data = Belt_Map.get(existingData, playerId);\n  var oldData = data !== undefined ? data : Data_Scoring$Coronate.createBlankScoreData(origRating, playerId);\n  var newResultsNoByes = Data_Id$Coronate.isDummy(oppId) ? oldData.resultsNoByes : /* :: */[\n      result,\n      oldData.resultsNoByes\n    ];\n  var oldOppResults = oldData.opponentResults;\n  var x = Belt_Map.get(oldOppResults, oppId);\n  var oppResult = x !== undefined ? x + result : result;\n  return {\n          colorScores: /* :: */[\n            Data_Scoring$Coronate.Color.toScore(color),\n            oldData.colorScores\n          ],\n          colors: /* :: */[\n            color,\n            oldData.colors\n          ],\n          id: oldData.id,\n          isDummy: Data_Id$Coronate.isDummy(playerId),\n          opponentResults: Belt_Map.set(oldOppResults, oppId, oppResult),\n          ratings: /* :: */[\n            newRating,\n            oldData.ratings\n          ],\n          firstRating: oldData.firstRating,\n          results: /* :: */[\n            result,\n            oldData.results\n          ],\n          resultsNoByes: newResultsNoByes\n        };\n}\n\nfunction matches2ScoreData(matchList) {\n  return Belt_Array.reduce(matchList, Data_Id$Coronate.$$Map.make(undefined), (function (acc, match_) {\n                var match = match_.result;\n                if (match >= 3) {\n                  return acc;\n                }\n                var whiteData = makeScoreData(acc, match_.whiteId, match_.whiteOrigRating, match_.whiteNewRating, Data_Match$Coronate.Result.toFloatWhite(match_.result), match_.blackId, /* White */0);\n                var blackData = makeScoreData(acc, match_.blackId, match_.blackOrigRating, match_.blackNewRating, Data_Match$Coronate.Result.toFloatBlack(match_.result), match_.whiteId, /* Black */1);\n                return Belt_Map.set(Belt_Map.set(acc, match_.whiteId, whiteData), match_.blackId, blackData);\n              }));\n}\n\nfunction createPairingData(scoreData, playerData, avoidPairs) {\n  var avoidMap = Curry._1(Data_Config$Coronate.Pair.$$Set.toMap, avoidPairs);\n  return Belt_Map.reduce(playerData, Data_Id$Coronate.$$Map.make(undefined), (function (acc, key, data) {\n                var x = Belt_Map.get(scoreData, key);\n                var playerStats = x !== undefined ? x : Data_Scoring$Coronate.createBlankScoreData(undefined, key);\n                var x$1 = Belt_Map.get(avoidMap, key);\n                var newAvoidIds = x$1 !== undefined ? x$1 : /* [] */0;\n                var newData_id = data.id;\n                var newData_colorScores = playerStats.colorScores;\n                var newData_colors = playerStats.colors;\n                var newData_opponents = Belt_List.fromArray(Belt_Map.keysToArray(playerStats.opponentResults));\n                var newData_rating = data.rating;\n                var newData_score = Utils$Coronate.List.sumF(playerStats.results);\n                var newData = {\n                  id: newData_id,\n                  avoidIds: newAvoidIds,\n                  colorScores: newData_colorScores,\n                  colors: newData_colors,\n                  halfPos: 0,\n                  isUpperHalf: false,\n                  opponents: newData_opponents,\n                  rating: newData_rating,\n                  score: newData_score\n                };\n                return Belt_Map.set(acc, key, newData);\n              }));\n}\n\nexport {\n  matches2ScoreData ,\n  createPairingData ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney.playerIds;\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: /* :: */[\n                    id,\n                    playerIds\n                  ],\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_List.keep(playerIds, (function (pId) {\n                          return pId !== id;\n                        })),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_List.fromArray(Belt_Map.keysToArray(players)),\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: /* [] */0,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (param) {\n                            var lastName = param.lastName;\n                            var id = param.id;\n                            var firstName = param.firstName;\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(id)\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + Data_Id$Coronate.toString(id)\n                                                    }, Utils$Coronate.$$String.concat(/* :: */[\n                                                          \"Select\",\n                                                          /* :: */[\n                                                            firstName,\n                                                            /* :: */[\n                                                              lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ], \" \"))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + Data_Id$Coronate.toString(id),\n                                                checked: Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                                        return prim === prim$1;\n                                                      })),\n                                                type: \"checkbox\",\n                                                value: Data_Id$Coronate.toString(id),\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: /* :: */[\n                                    id,\n                                    playerIds\n                                  ],\n                                  byeQueue: tourney.byeQueue,\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return matches.filter((function (match_) {\n                    return [\n                              match_.whiteId,\n                              match_.blackId\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat([\n                              match_.whiteId,\n                              match_.blackId\n                            ]);\n                }), []).includes(Data_Id$Coronate.dummy);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (p) {\n                    return React.createElement(\"tr\", {\n                                key: Data_Id$Coronate.toString(p.id),\n                                className: Cn.make(/* :: */[\n                                      Data_Player$Coronate.Type.toString(p.type_),\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p.firstName), React.createElement(\"td\", undefined, p.lastName), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p.id),\n                                        onClick: (function (param) {\n                                            return Curry._1(setTourney, {\n                                                        id: tourney.id,\n                                                        name: tourney.name,\n                                                        date: tourney.date,\n                                                        playerIds: tourney.playerIds,\n                                                        byeQueue: Belt_Array.concat(byeQueue, [p.id]),\n                                                        tieBreaks: tourney.tieBreaks,\n                                                        roundList: tourney.roundList\n                                                      });\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var byeQueue = tourney.byeQueue;\n  var playerIds = tourney.playerIds;\n  var setTourney = tournament.setTourney;\n  var activePlayers = tournament.activePlayers;\n  var match = React.useState((function () {\n          if (playerIds) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, undefined);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, Belt_Array.map(byeQueue, (function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: Data_Id$Coronate.toString(pId),\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, Utils$Coronate.$$String.concat(/* :: */[\n                                                Belt_Map.getExn(activePlayers, pId).firstName,\n                                                /* :: */[\n                                                  Belt_Map.getExn(activePlayers, pId).lastName,\n                                                  /* [] */0\n                                                ]\n                                              ], \" \"), \" \", React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(setTourney, {\n                                                                id: tourney.id,\n                                                                name: tourney.name,\n                                                                date: tourney.date,\n                                                                playerIds: tourney.playerIds,\n                                                                byeQueue: byeQueue.filter((function (id) {\n                                                                        return pId !== id;\n                                                                      })),\n                                                                tieBreaks: tourney.tieBreaks,\n                                                                roundList: tourney.roundList\n                                                              });\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament.players,\n                          playersDispatch: tournament.playersDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Pairing$Coronate from \"../Data/Data_Pairing.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_Map.keep(pairData, (function (id, param) {\n          return Belt_Map.has(playerMap, id);\n        }));\n  var match = Data_Pairing$Coronate.setByePlayer(byeQueue, Data_Id$Coronate.dummy, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Data_Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? Belt_List.reverse(Belt_List.add(Belt_List.reverse(pairs), /* tuple */[\n              byePlayerData.id,\n              Data_Id$Coronate.dummy\n            ])) : pairs;\n  return Belt_List.map(pairsWithBye, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                return Data_Match$Coronate.scoreByeMatch({\n                            id: Data_Id$Coronate.random(undefined),\n                            whiteId: whiteId,\n                            blackId: blackId,\n                            whiteNewRating: Data_Player$Coronate.getMaybe(playerMap, whiteId).rating,\n                            blackNewRating: Data_Player$Coronate.getMaybe(playerMap, blackId).rating,\n                            whiteOrigRating: Data_Player$Coronate.getMaybe(playerMap, whiteId).rating,\n                            blackOrigRating: Data_Player$Coronate.getMaybe(playerMap, blackId).rating,\n                            result: /* NotSet */3\n                          }, byeValue);\n              }));\n}\n\nvar sortByName = /* GetString */Block.__(0, [(function (x) {\n        return x.player.firstName;\n      })]);\n\nvar sortByIdeal = /* GetFloat */Block.__(2, [(function (x) {\n        return x.ideal;\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n          return {\n                  player: player,\n                  ideal: 0.0\n                };\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var p1 = stagedPlayers[0];\n    if (p1 !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return Caml_option.valFromOption(p1) !== id;\n      }\n    }\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      return Caml_option.valFromOption(p2) !== id;\n    } else {\n      return true;\n    }\n  };\n  React.useEffect((function () {\n          var calcIdealOrNot = function (player) {\n            var id = stagedPlayers[0];\n            var selectedId;\n            if (id !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : Caml_option.some(Caml_option.valFromOption(id));\n            } else {\n              var id$1 = stagedPlayers[1];\n              selectedId = id$1 !== undefined ? Caml_option.some(Caml_option.valFromOption(id$1)) : undefined;\n            }\n            if (selectedId === undefined) {\n              return 0.0;\n            }\n            var selectedPlayer = Belt_Map.get(pairData, Caml_option.valFromOption(selectedId));\n            if (selectedPlayer !== undefined) {\n              if (player !== undefined) {\n                return Data_Pairing$Coronate.calcPairIdeal(selectedPlayer, player) / Data_Pairing$Coronate.maxPriority;\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n                  return {\n                          player: player,\n                          ideal: calcIdealOrNot(Belt_Map.get(pairData, player.id))\n                        };\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          \n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_Map.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, Belt_Array.map(sorted.table, (function (param) {\n                          var player = param.player;\n                          return React.createElement(\"tr\", {\n                                      key: Data_Id$Coronate.toString(player.id)\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player.id),\n                                              onClick: (function (param) {\n                                                  var id = player.id;\n                                                  var p1 = stagedPlayers[0];\n                                                  if (p1 !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return ;\n                                                    }\n                                                    var p1$1 = Caml_option.valFromOption(p1);\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return /* tuple */[\n                                                                          Caml_option.some(p1$1),\n                                                                          Caml_option.some(id)\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2 = stagedPlayers[1];\n                                                  if (p2 === undefined) {\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return /* tuple */[\n                                                                          Caml_option.some(id),\n                                                                          undefined\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2$1 = Caml_option.valFromOption(p2);\n                                                  return Curry._1(setStagedPlayers, (function (param) {\n                                                                return /* tuple */[\n                                                                        Caml_option.some(id),\n                                                                        Caml_option.some(p2$1)\n                                                                      ];\n                                                              }));\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: Utils$Coronate.$$String.concat(/* :: */[\n                                                        \"Add\",\n                                                        /* :: */[\n                                                          player.firstName,\n                                                          /* :: */[\n                                                            player.lastName,\n                                                            /* [] */0\n                                                          ]\n                                                        ]\n                                                      ], \" \")\n                                                }))), React.createElement(\"td\", undefined, player.firstName + (\" \" + player.lastName)), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param.ideal).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney.roundList;\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName;\n  if (white !== undefined) {\n    var player = Caml_option.valFromOption(white);\n    whiteName = Curry._1(getPlayer, player).firstName + (\" \" + Curry._1(getPlayer, player).lastName);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (black !== undefined) {\n    var player$1 = Caml_option.valFromOption(black);\n    blackName = Curry._1(getPlayer, player$1).firstName + (\" \" + Curry._1(getPlayer, player$1).lastName);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var white = stagedPlayers[0];\n    if (white === undefined) {\n      return ;\n    }\n    var black = stagedPlayers[1];\n    if (black === undefined) {\n      return ;\n    }\n    var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round, [Data_Match$Coronate.manualPair(/* tuple */[\n                Curry._1(getPlayer, Caml_option.valFromOption(white)),\n                Curry._1(getPlayer, Caml_option.valFromOption(black))\n              ], byeValue)]);\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n    if (roundList$1 !== undefined) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks,\n            roundList: Caml_option.valFromOption(roundList$1)\n          });\n    }\n    return Curry._1(setStagedPlayers, (function (param) {\n                  return /* tuple */[\n                          undefined,\n                          undefined\n                        ];\n                }));\n  };\n  var p1 = stagedPlayers[0];\n  var matchIdeal;\n  if (p1 !== undefined) {\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      var match = Belt_Map.get(pairData, Caml_option.valFromOption(p1));\n      var match$1 = Belt_Map.get(pairData, Caml_option.valFromOption(p2));\n      if (match !== undefined && match$1 !== undefined) {\n        var ideal = Data_Pairing$Coronate.calcPairIdeal(match, match$1);\n        matchIdeal = Numeral.default(ideal / Data_Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nfunction PairPicker$PlayerInfo(Props) {\n  var player = Props.player;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, Caml_option.some(avoidPairs), getPlayer, players, origRating, newRating, undefined);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", match.score.toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                }, \"Rating: \", match.rating), React.createElement(\"p\", undefined, \"Color balance: \" + match.colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  match.hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, match.opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  undefined,\n                  undefined\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(undefined);\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var byeQueue = tourney.byeQueue;\n  var setTourney = tournament.setTourney;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var activePlayers = tournament.activePlayers;\n  var match$2 = match$1[0];\n  var byeValue = match$2.byeValue;\n  var avoidPairs = match$2.avoidPairs;\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$3[1];\n  var pairData = React.useMemo((function () {\n          return Data_Pairing$Coronate.setUpperHalves(Data_Converters$Coronate.createPairingData(scoreData, activePlayers, avoidPairs));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function () {\n          if (p1 !== undefined) {\n            var match = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p1));\n            if (match !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p2));\n            if (match$1 !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n          }\n          \n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round === undefined) {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n  var round$1 = Caml_option.valFromOption(round);\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                width: \"720px\"\n              }\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: unmatchedCount === 0,\n                      onClick: (function (param) {\n                          var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round$1, Belt_List.toArray(autoPair(pairData, byeValue, unmatched, byeQueue)));\n                          var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                          if (roundList$1 !== undefined) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: tourney.name,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: Caml_option.valFromOption(roundList$1)\n                                      });\n                          }\n                          \n                        })\n                    }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PairPicker$SelectList, {\n                            pairData: pairData,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            unmatched: unmatchedWithDummy\n                          })\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null,\n                      style: {\n                        flexGrow: \"1\"\n                      }\n                    }, React.createElement(PairPicker$Stage, {\n                          getPlayer: getPlayer,\n                          pairData: pairData,\n                          roundId: roundId,\n                          stagedPlayers: stagedPlayers,\n                          setStagedPlayers: setStagedPlayers,\n                          setTourney: setTourney,\n                          byeValue: byeValue,\n                          tourney: tourney,\n                          round: round$1\n                        }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                          children: Belt_Array.map([\n                                p1,\n                                p2\n                              ], (function (id) {\n                                  if (id === undefined) {\n                                    return null;\n                                  }\n                                  var playerId = Caml_option.valFromOption(id);\n                                  return React.createElement(Utils$Coronate.Panel.make, {\n                                              children: React.createElement(PairPicker$PlayerInfo, {\n                                                    player: Curry._1(getPlayer, playerId),\n                                                    scoreData: scoreData,\n                                                    players: players,\n                                                    avoidPairs: avoidPairs,\n                                                    origRating: Curry._1(getPlayer, playerId).rating,\n                                                    newRating: undefined,\n                                                    getPlayer: getPlayer\n                                                  }),\n                                              key: Data_Id$Coronate.toString(playerId)\n                                            });\n                                }))\n                        }))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: match$3[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsModalOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  ariaLabel: \"Select players\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                      tourney: tourney,\n                      setTourney: setTourney,\n                      players: players,\n                      playersDispatch: tournament.playersDispatch\n                    })));\n}\n\nvar make = PairPicker;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  if (roundCount !== Pervasives.neg_infinity) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_id = Data_Id$Coronate.random(undefined);\n\nvar emptyTourney_date = new Date(0.0);\n\nvar emptyTourney_byeQueue = [];\n\nvar emptyTourney_tieBreaks = [/* Median */0];\n\nvar emptyTourney = {\n  id: emptyTourney_id,\n  name: \"\",\n  date: emptyTourney_date,\n  playerIds: /* [] */0,\n  byeQueue: emptyTourney_byeQueue,\n  tieBreaks: emptyTourney_tieBreaks,\n  roundList: Data_Rounds$Coronate.empty\n};\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var tourneyId$1 = Data_Id$Coronate.toString(tourneyId);\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney.roundList;\n  var playerIds = tourney.playerIds;\n  var name = tourney.name;\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var arePlayersLoaded = match$1.loaded;\n  var players = match$1.items;\n  var match$2 = React.useState((function () {\n          return /* NotLoaded */0;\n        }));\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getItem(Db$Coronate.tournaments, tourneyId$1))), (function (value) {\n                      if (didCancel.contents) {\n                        return ;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), [tourneyId$1]);\n  React.useEffect((function () {\n          if (tourneyLoaded !== 1 || Data_Id$Coronate.fromString(tourneyId$1) !== tourney.id) {\n            \n          } else {\n            Map$LocalForage.setItem(Db$Coronate.tournaments, tourneyId$1, tourney);\n          }\n          \n        }), /* tuple */[\n        tourneyLoaded,\n        tourneyId$1,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_Map.keep(players, (function (id, param) {\n                  return Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                return prim === prim$1;\n                              }));\n                }));\n          var roundCount = calcNumOfRounds(Belt_Map.size(activePlayers));\n          var isItOver = Data_Rounds$Coronate.size(roundList) >= roundCount;\n          var isNewRoundReady = Data_Rounds$Coronate.size(roundList) === 0 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, Data_Rounds$Coronate.size(roundList) - 1 | 0);\n          return Curry._1(children, {\n                      activePlayers: activePlayers,\n                      getPlayer: (function (param) {\n                          return Data_Player$Coronate.getMaybe(players, param);\n                        }),\n                      isItOver: isItOver,\n                      isNewRoundReady: isNewRoundReady,\n                      players: players,\n                      playersDispatch: match$1.dispatch,\n                      roundCount: roundCount,\n                      tourney: tourney,\n                      setTourney: setTourney\n                    });\n        }\n        break;\n    case /* Error */2 :\n        debugger;\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\"\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\"\n            });\n}\n\nfunction useRoundData(roundId, tournament) {\n  var roundList = tournament.tourney.roundList;\n  var activePlayers = tournament.activePlayers;\n  var scoreData = React.useMemo((function () {\n          return Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(roundList, undefined, undefined));\n        }), [roundList]);\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n  var unmatched;\n  if (round !== undefined && isThisTheLastRound) {\n    var matched = Data_Rounds$Coronate.Round.getMatched(Caml_option.valFromOption(round));\n    unmatched = Belt_Map.removeMany(activePlayers, matched);\n  } else {\n    unmatched = Data_Id$Coronate.$$Map.make(undefined);\n  }\n  var unmatchedCount = Belt_Map.size(unmatched);\n  var unmatchedWithDummy = unmatchedCount % 2 !== 0 ? Belt_Map.set(unmatched, Data_Id$Coronate.dummy, Curry._1(tournament.getPlayer, Data_Id$Coronate.dummy)) : unmatched;\n  var activePlayersCount = Belt_Map.size(activePlayers);\n  return {\n          activePlayersCount: activePlayersCount,\n          scoreData: scoreData,\n          unmatched: unmatched,\n          unmatchedCount: unmatchedCount,\n          unmatchedWithDummy: unmatchedWithDummy\n        };\n}\n\nvar make = LoadTournament;\n\nexport {\n  make ,\n  useRoundData ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"../Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\n\nvar winnerSelect = Curry._1(Css.style, /* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Curry._1(Css.style, /* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Curry._1(Css.style, /* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var player = Props.player;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, undefined, getPlayer, players, origRating, newRating, undefined);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score.toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"dd\", {\n                        \"aria-label\": \"Rating for \" + fullName\n                      }, match.rating),\n                  testId: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                }), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PageRound$MatchRow(Props) {\n  var isCompactOpt = Props.isCompact;\n  var pos = Props.pos;\n  var m = Props.m;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var classNameOpt = Props.className;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match[1];\n  var whitePlayer = Curry._1(getPlayer, m.whiteId);\n  var blackPlayer = Curry._1(getPlayer, m.blackId);\n  var isDummyRound = Data_Id$Coronate.isDummy(m.whiteId) || Data_Id$Coronate.isDummy(m.blackId);\n  var whiteName = Utils$Coronate.$$String.concat(/* :: */[\n        whitePlayer.firstName,\n        /* :: */[\n          whitePlayer.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  var blackName = Utils$Coronate.$$String.concat(/* :: */[\n        blackPlayer.firstName,\n        /* :: */[\n          blackPlayer.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Curry._1(Css.style, /* :: */[\n                Css.color(Utils$Coronate.PhotonColors.yellow_70),\n                /* [] */0\n              ])\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = m.result;\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (m.result === newResult) {\n      return ;\n    }\n    var white = Belt_Map.getExn(players, m.whiteId);\n    var black = Belt_Map.getExn(players, m.blackId);\n    var match = newResult >= 3 ? /* tuple */[\n        m.whiteOrigRating,\n        m.blackOrigRating\n      ] : Data_Scoring$Coronate.Ratings.calcNewRatings(m.whiteOrigRating, m.blackOrigRating, white.matchCount, black.matchCount, newResult);\n    var blackNewRating = match[1];\n    var whiteNewRating = match[0];\n    var white_firstName = white.firstName;\n    var white_id = white.id;\n    var white_lastName = white.lastName;\n    var white_matchCount = white.matchCount;\n    var white_type_ = white.type_;\n    var white$1 = {\n      firstName: white_firstName,\n      id: white_id,\n      lastName: white_lastName,\n      matchCount: white_matchCount,\n      rating: whiteNewRating,\n      type_: white_type_\n    };\n    var black_firstName = black.firstName;\n    var black_id = black.id;\n    var black_lastName = black.lastName;\n    var black_matchCount = black.matchCount;\n    var black_type_ = black.type_;\n    var black$1 = {\n      firstName: black_firstName,\n      id: black_id,\n      lastName: black_lastName,\n      matchCount: black_matchCount,\n      rating: blackNewRating,\n      type_: black_type_\n    };\n    var match$1 = m.result;\n    if (match$1 >= 3) {\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              white_id,\n              {\n                firstName: white_firstName,\n                id: white_id,\n                lastName: white_lastName,\n                matchCount: white_matchCount + 1 | 0,\n                rating: whiteNewRating,\n                type_: white_type_\n              }\n            ]));\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              black_id,\n              {\n                firstName: black_firstName,\n                id: black_id,\n                lastName: black_lastName,\n                matchCount: black_matchCount + 1 | 0,\n                rating: blackNewRating,\n                type_: black_type_\n              }\n            ]));\n    } else if (newResult === /* NotSet */3) {\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              white_id,\n              {\n                firstName: white_firstName,\n                id: white_id,\n                lastName: white_lastName,\n                matchCount: white_matchCount - 1 | 0,\n                rating: whiteNewRating,\n                type_: white_type_\n              }\n            ]));\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              black_id,\n              {\n                firstName: black_firstName,\n                id: black_id,\n                lastName: black_lastName,\n                matchCount: black_matchCount - 1 | 0,\n                rating: blackNewRating,\n                type_: black_type_\n              }\n            ]));\n    } else {\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              white_id,\n              white$1\n            ]));\n      Curry._1(playersDispatch, /* Set */Block.__(1, [\n              black_id,\n              black$1\n            ]));\n    }\n    var newMatch_id = m.id;\n    var newMatch_whiteId = m.whiteId;\n    var newMatch_blackId = m.blackId;\n    var newMatch_whiteOrigRating = m.whiteOrigRating;\n    var newMatch_blackOrigRating = m.blackOrigRating;\n    var newMatch = {\n      id: newMatch_id,\n      whiteId: newMatch_whiteId,\n      blackId: newMatch_blackId,\n      whiteNewRating: whiteNewRating,\n      blackNewRating: blackNewRating,\n      whiteOrigRating: newMatch_whiteOrigRating,\n      blackOrigRating: newMatch_blackOrigRating,\n      result: newResult\n    };\n    Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n            return Curry._1(setTourney, {\n                        id: tourney.id,\n                        name: tourney.name,\n                        date: tourney.date,\n                        playerIds: tourney.playerIds,\n                        byeQueue: tourney.byeQueue,\n                        tieBreaks: tourney.tieBreaks,\n                        roundList: roundList\n                      });\n          }));\n    \n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: match[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            ariaLabel: \"Match information\",\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney.name), React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat(/* :: */[\n                    \"Round\",\n                    /* :: */[\n                      (roundId + 1 | 0).toString(),\n                      /* :: */[\n                        \"match\",\n                        /* :: */[\n                          (pos + 1 | 0).toString(),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ], \" \")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.whiteId),\n                          origRating: m.whiteOrigRating,\n                          newRating: m.whiteNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.blackId),\n                          origRating: m.blackOrigRating,\n                          newRating: m.blackNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n                return id !== m.id;\n              })) ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  return Caml_option.some(m.id);\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                    children: Utils$Coronate.$$String.concat(/* :: */[\n                          \"Edit match for\",\n                          /* :: */[\n                            whiteName,\n                            /* :: */[\n                              \"versus\",\n                              /* :: */[\n                                blackName,\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ], \" \")\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  \n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, { })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: Utils$Coronate.$$String.concat(/* :: */[\n                        \"View information for match:\",\n                        /* :: */[\n                          whiteName,\n                          /* :: */[\n                            \"versus\",\n                            /* :: */[\n                              blackName,\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ], \" \")\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (id) {\n                              if (m.id === id) {\n                                return \"selected\";\n                              } else {\n                                return \"buttons-on-hover\";\n                              }\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: Cn.make(/* :: */[\n                              \"table__player row__player\",\n                              /* :: */[\n                                Data_Player$Coronate.Type.toString(whitePlayer.type_),\n                                /* [] */0\n                              ]\n                            ]),\n                        id: \"match-\" + (String(pos) + \"-white\")\n                      }, whiteName),\n                  testId: \"match-\" + (String(pos) + \"-white\")\n                }), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: Cn.make(/* :: */[\n                              \"table__player row__player\",\n                              /* :: */[\n                                Data_Player$Coronate.Type.toString(blackPlayer.type_),\n                                /* [] */0\n                              ]\n                            ]),\n                        id: \"match-\" + (String(pos) + \"-black\")\n                      }, blackName),\n                  testId: \"match-\" + (String(pos) + \"-black\")\n                }), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Data_Match$Coronate.Result.toString(m.result),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nfunction PageRound$RoundTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  return React.createElement(\"table\", {\n              className: table\n            }, matches.length === 0 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString()), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, Belt_Array.mapWithIndex(matches, (function (pos, m) {\n                        var tmp = {\n                          isCompact: isCompact,\n                          pos: pos,\n                          m: m,\n                          roundId: roundId,\n                          setSelectedMatch: setSelectedMatch,\n                          scoreData: scoreData,\n                          tournament: tournament,\n                          className: td,\n                          key: Data_Id$Coronate.toString(m.id)\n                        };\n                        if (selectedMatch !== undefined) {\n                          tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n                        }\n                        return React.createElement(PageRound$MatchRow, tmp);\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var match = React.useState((function () {\n          \n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var newRound = Data_Rounds$Coronate.Round.moveMatch(round, matchId, direction);\n    if (newRound === undefined) {\n      return ;\n    }\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, Caml_option.valFromOption(newRound));\n    if (roundList$1 !== undefined) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Caml_option.valFromOption(roundList$1)\n                });\n    }\n    \n  };\n  var matches = Data_Rounds$Coronate.get(tourney.roundList, roundId);\n  if (matches === undefined) {\n    return React.createElement(Pages$Coronate.NotFound.make, { });\n  }\n  var matches$1 = Caml_option.valFromOption(matches);\n  var tmp = {\n    roundId: roundId,\n    matches: Data_Rounds$Coronate.Round.toArray(matches$1),\n    setSelectedMatch: setSelectedMatch,\n    tournament: tournament,\n    scoreData: scoreData\n  };\n  if (selectedMatch !== undefined) {\n    tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n  }\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match_ = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match_ !== undefined && match_.result !== /* NotSet */3) {\n                                    Belt_List.forEach(/* :: */[\n                                          /* tuple */[\n                                            match_.whiteId,\n                                            match_.whiteOrigRating\n                                          ],\n                                          /* :: */[\n                                            /* tuple */[\n                                              match_.blackId,\n                                              match_.blackOrigRating\n                                            ],\n                                            /* [] */0\n                                          ]\n                                        ], (function (param) {\n                                            var player = Belt_Map.get(players, param[0]);\n                                            if (player !== undefined) {\n                                              return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                            player.id,\n                                                            {\n                                                              firstName: player.firstName,\n                                                              id: player.id,\n                                                              lastName: player.lastName,\n                                                              matchCount: player.matchCount - 1 | 0,\n                                                              rating: param[1],\n                                                              type_: player.type_\n                                                            }\n                                                          ]));\n                                            }\n                                            \n                                          }));\n                                  }\n                                  var newRound = Data_Rounds$Coronate.Round.removeMatchById(matches$1, __x);\n                                  var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                  if (roundList$1 !== undefined) {\n                                    Curry._1(setTourney, {\n                                          id: tourney.id,\n                                          name: tourney.name,\n                                          date: tourney.date,\n                                          playerIds: tourney.playerIds,\n                                          byeQueue: tourney.byeQueue,\n                                          tieBreaks: tourney.tieBreaks,\n                                          roundList: Caml_option.valFromOption(roundList$1)\n                                        });\n                                  }\n                                  return Curry._1(setSelectedMatch, (function (param) {\n                                                \n                                              }));\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match_ = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match_ === undefined) {\n                                    return ;\n                                  }\n                                  var newMatch = Data_Match$Coronate.swapColors(match_);\n                                  Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                          return Curry._1(setTourney, {\n                                                      id: tourney.id,\n                                                      name: tourney.name,\n                                                      date: tourney.date,\n                                                      playerIds: tourney.playerIds,\n                                                      byeQueue: tourney.byeQueue,\n                                                      tieBreaks: tourney.tieBreaks,\n                                                      roundList: roundList\n                                                    });\n                                        }));\n                                  \n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, -1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, 1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), Data_Rounds$Coronate.Round.size(matches$1) === 0 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, tmp));\n}\n\nfunction PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var match = LoadTournament$Coronate.useRoundData(roundId, tournament);\n  var unmatchedCount = match.unmatchedCount;\n  var scoreData = match.scoreData;\n  var activePlayersCount = match.activePlayersCount;\n  var initialTab = unmatchedCount === activePlayersCount ? 1 : 0;\n  var match$1 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$1[1];\n  React.useEffect((function () {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          \n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), Utils$Coronate.$$String.concat(/* :: */[\n                          \" Unmatched players (\",\n                          /* :: */[\n                            unmatchedCount.toString(),\n                            /* :: */[\n                              \")\",\n                              /* [] */0\n                            ]\n                          ]\n                        ], \"\"))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, unmatchedCount !== 0 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: match.unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: match.unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar make = PageRound;\n\nexport {\n  RoundTable ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var month = rawMonth < 9.0 ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var day = rawDate < 10.0 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return Utils$Coronate.$$String.concat(/* :: */[\n              year,\n              /* :: */[\n                month,\n                /* :: */[\n                  day,\n                  /* [] */0\n                ]\n              ]\n            ], \"-\");\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var date = tourney.date;\n  var name = tourney.name;\n  var setTourney = tournament.setTourney;\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            \n          }));\n    \n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          \n        }), [editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to .\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = Utils$Coronate.$$String.split(rawDate, \"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: new Date(year$1, month$1, date),\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: tourney.tieBreaks,\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: $$event.currentTarget.value,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: tourney.roundList\n                                      });\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Router$Coronate.HashLink.make, {\n                      children: \"app options\",\n                      to_: /* Options */4\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"../Data/Data_Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nvar table = Curry._1(Css.style, /* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Curry._1(Css.style, /* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Curry._1(Css.style, /* [] */0);\n\nvar row = Curry._1(Css.style, /* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors.grey_20),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Curry._1(Css.style, /* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Curry._1(Css.style, /* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Curry._1(Css.style, /* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var tieBreaks = tourney.tieBreaks;\n  var tieBreakNames = Belt_Array.map(tieBreaks, Data_Scoring$Coronate.TieBreak.toPrettyString);\n  var standingTree = Data_Scoring$Coronate.createStandingTree(Belt_List.keep(Data_Scoring$Coronate.createStandingList(Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, undefined)), tieBreaks), (function (standing) {\n              return !Data_Id$Coronate.isDummy(standing.id);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : Belt_Array.mapWithIndex(tieBreakNames, (function (i, name) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingTree)), (function (rank$1, standingsFlat) {\n                        return Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingsFlat)), (function (i, standing) {\n                                      return React.createElement(\"tr\", {\n                                                  key: Data_Id$Coronate.toString(standing.id),\n                                                  className: row\n                                                }, i === 0 ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing.score).format(\"1/2\")), isCompact ? null : Belt_Array.map(Belt_List.toArray(standing.tieBreaks), (function (param) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Data_Scoring$Coronate.TieBreak.toString(param[0]),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(param[1]).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney.tieBreaks;\n  var match = React.useState((function () {\n          \n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks.filter((function (tbId) {\n                    return defaultId(id) !== tbId;\n                  })),\n            roundList: tourney.roundList\n          });\n      return Curry._1(setSelectedTb, (function (param) {\n                    \n                  }));\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks.concat([defaultId(id)]),\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb === undefined) {\n      return ;\n    }\n    var index = tieBreaks.indexOf(selectedTb);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: tourney.date,\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: Utils$Coronate.$$Array.swap(tourney.tieBreaks, index, index + direction | 0),\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            \n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(tieBreaks, (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === tieBreak),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          if (selectedTb === tieBreak) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          \n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, selectedTb !== undefined && selectedTb === tieBreak ? \"Done\" : \"Edit\")));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map([\n                              /* Median */0,\n                              /* Solkoff */1,\n                              /* Cumulative */2,\n                              /* CumulativeOfOpposition */3,\n                              /* MostBlack */4\n                            ], (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: tieBreaks.includes(tieBreak) ? \"disabled\" : \"enabled\"\n                                                  }, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak))), React.createElement(\"td\", undefined, tieBreaks.includes(tieBreak) ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament.setTourney\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (player1Id === player2Id) {\n    return React.createElement(ReactFeather.X, {\n                className: \"disabled\"\n              });\n  }\n  var scoreData$1 = Belt_Map.get(scoreData, player1Id);\n  if (scoreData$1 === undefined) {\n    return null;\n  }\n  var result = Belt_Map.get(scoreData$1.opponentResults, player2Id);\n  if (result !== undefined) {\n    return Numeral.default(result).format(\"1/2\");\n  } else {\n    return null;\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_Map.getExn(scoreData, playerId).firstRating;\n  var match = Belt_Map.getExn(scoreData, playerId).ratings;\n  var lastRating = match ? match[0] : firstRating;\n  var change = Numeral.default(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ])\n                }, lastRating.toString()), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number body-10\",\n                          /* [] */0\n                        ]\n                      ])\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var getPlayer = tournament.getPlayer;\n  var scoreData = Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, undefined));\n  var standings = Data_Scoring$Coronate.createStandingList(scoreData, tourney.tieBreaks);\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), Belt_Array.mapWithIndex(Belt_List.toArray(standings), (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(scoreData, standing.id, opponent.id));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing.score).format(\"1/2\")), getRatingChangeTds(scoreData, standing.id));\n                      }))));\n}\n\nvar make = PageTourneyScores;\n\nvar Crosstable = {\n  make: PageTourneyScores$Crosstable\n};\n\nexport {\n  make ,\n  ScoreTable ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney.roundList);\n  var lastRound = Data_Rounds$Coronate.get(tourney.roundList, lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = Caml_option.valFromOption(lastRound);\n    tmp = Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: Data_Rounds$Coronate.Round.toArray(matches),\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: tmp\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament.isNewRoundReady ? (\n      tournament.isItOver ? /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", Data_Rounds$Coronate.size(tournament.tourney.roundList).toString(), React.createElement(\"small\", undefined, \" out of \"), tournament.roundCount.toString()), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Registered players: \", Belt_Map.size(tournament.activePlayers).toString()));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var isItOver = tournament.isItOver;\n  var activePlayers = tournament.activePlayers;\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (!window.confirm(\"Are you sure you want to delete the last round?\")) {\n      return ;\n    }\n    ReasonReactRouter.push(\"#/tourneys/\" + Data_Id$Coronate.toString(tourney.id));\n    var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n    var round = Data_Rounds$Coronate.get(roundList, lastRoundId);\n    if (round !== undefined) {\n      Belt_Array.forEach(Data_Rounds$Coronate.Round.toArray(Caml_option.valFromOption(round)), (function (match_) {\n              if (match_.result >= 3) {\n                return ;\n              } else {\n                return Belt_List.forEach(/* :: */[\n                            /* tuple */[\n                              match_.whiteId,\n                              match_.whiteOrigRating\n                            ],\n                            /* :: */[\n                              /* tuple */[\n                                match_.blackId,\n                                match_.blackOrigRating\n                              ],\n                              /* [] */0\n                            ]\n                          ], (function (param) {\n                              var player = Belt_Map.get(players, param[0]);\n                              if (player === undefined) {\n                                return ;\n                              }\n                              var matchCount = player.matchCount - 1 | 0;\n                              return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                            player.id,\n                                            {\n                                              firstName: player.firstName,\n                                              id: player.id,\n                                              lastName: player.lastName,\n                                              matchCount: matchCount,\n                                              rating: param[1],\n                                              type_: player.type_\n                                            }\n                                          ]));\n                            }));\n              }\n            }));\n    }\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.delLastRound(roundList)\n        });\n    if (Data_Rounds$Coronate.size(roundList) === 0) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* TournamentList */1,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Setup */3\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Players */0\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Status */4\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Crosstable */2\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Scores */1\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, Belt_Array.mapWithIndex(Data_Rounds$Coronate.toArray(roundList), (function (id, param) {\n                            return React.createElement(\"li\", {\n                                        key: id.toString()\n                                      }, React.createElement(Router$Coronate.HashLink.make, {\n                                            children: null,\n                                            to_: /* Tournament */Block.__(0, [\n                                                tourney.id,\n                                                /* Round */[id]\n                                              ]),\n                                            onDragStart: noDraggy\n                                          }, (id + 1 | 0).toString(), Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id) ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament.isNewRoundReady,\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: Data_Rounds$Coronate.size(roundList) === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var subPage = Props.subPage;\n  var windowDispatch = Props.windowDispatch;\n  var tmp = {\n    children: (function (tournament) {\n        var tmp;\n        if (typeof subPage === \"number\") {\n          switch (subPage) {\n            case /* Players */0 :\n                tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Scores */1 :\n                tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Crosstable */2 :\n                tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Setup */3 :\n                tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            case /* Status */4 :\n                tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                      tournament: tournament\n                    });\n                break;\n            \n          }\n        } else {\n          tmp = React.createElement(PageRound$Coronate.make, {\n                roundId: subPage[0],\n                tournament: tournament\n              });\n        }\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: tmp,\n                    footerFunc: (function (param) {\n                        return React.createElement(PageTourney$Footer, {\n                                    tournament: tournament\n                                  });\n                      }),\n                    sidebarFunc: (function (param) {\n                        return React.createElement(PageTourney$Sidebar, {\n                                    tournament: tournament\n                                  });\n                      })\n                  });\n      }),\n    tourneyId: tourneyId\n  };\n  if (windowDispatch !== undefined) {\n    tmp.windowDispatch = Caml_option.valFromOption(windowDispatch);\n  }\n  return React.createElement(LoadTournament$Coronate.make, tmp);\n}\n\nvar make = PageTourney;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar dateSort = /* GetDate */Block.__(3, [(function (x) {\n        return x.date;\n      })]);\n\nvar nameSort = /* GetString */Block.__(0, [(function (x) {\n        return x.name;\n      })]);\n\nfunction PageTournamentList(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var dispatch = match.dispatch;\n  var tourneys = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_Map.valuesToArray(tourneys)]));\n          \n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Data_Id$Coronate.random(undefined);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            {\n              id: id,\n              name: newTourneyName,\n              date: new Date(),\n              playerIds: /* [] */0,\n              byeQueue: [],\n              tieBreaks: [\n                /* Median */0,\n                /* Solkoff */1,\n                /* Cumulative */2,\n                /* CumulativeOfOpposition */3\n              ],\n              roundList: Data_Rounds$Coronate.empty\n            }\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(setIsDialogOpen, (function (param) {\n                  return false;\n                }));\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), Belt_Map.isEmpty(tourneys) ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, Belt_Array.map(sorted.table, (function (param) {\n                                    var name = param.name;\n                                    var id = param.id;\n                                    return React.createElement(\"tr\", {\n                                                key: Data_Id$Coronate.toString(id),\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                                                        children: name,\n                                                        to_: /* Tournament */Block.__(0, [\n                                                            id,\n                                                            /* Players */0\n                                                          ])\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: param.date\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + (String(name) + \"\"),\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + name,\n                                                        onClick: (function (param) {\n                                                            var message = \"Are you sure you want to delete \" + (String(name) + \"?\");\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, /* Del */Block.__(0, [id]));\n                                                            }\n                                                            \n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        ariaLabel: \"Create new tournament\",\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nimport \"./styles\"\n;\n\nfunction Index$App(Props) {\n  var url = Router$Coronate.useHashUrl(undefined);\n  return React.createElement(Window$Coronate.make, {\n              children: (function (windowDispatch) {\n                  var tmp;\n                  if (typeof url === \"number\") {\n                    switch (url) {\n                      case /* Index */0 :\n                          tmp = React.createElement(Pages$Coronate.Splash.make, { });\n                          break;\n                      case /* TournamentList */1 :\n                          tmp = React.createElement(PageTournamentList$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* PlayerList */2 :\n                          tmp = React.createElement(PagePlayers$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* TimeCalculator */3 :\n                          tmp = React.createElement(Pages$Coronate.TimeCalculator.make, { });\n                          break;\n                      case /* Options */4 :\n                          tmp = React.createElement(PageOptions$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* NotFound */5 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.NotFound.make, { })\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = url.tag ? React.createElement(PagePlayers$Coronate.make, {\n                            id: url[0],\n                            windowDispatch: windowDispatch\n                          }) : React.createElement(PageTourney$Coronate.make, {\n                            tourneyId: url[0],\n                            subPage: url[1],\n                            windowDispatch: windowDispatch\n                          });\n                  }\n                  return React.createElement(\"main\", {\n                              className: \"app__main\"\n                            }, tmp);\n                }),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: Index$App\n};\n\nReactDOMRe.renderToElementWithId(React.createElement(Index$App, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  \n}\n\nvar ServiceWorker$1 = {\n  unregister: unregister\n};\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}