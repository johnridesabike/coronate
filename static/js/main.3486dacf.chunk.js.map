{"version":3,"sources":["Externals/Numeral.bs.js","assets/icon-min.svg","Utils.bs.js","Hooks.bs.js","Data/Data_Id.bs.js","Data/Data_Match.bs.js","Data/Data_Rounds.bs.js","testdata/DemoData.bs.js","Data/Data_Config.bs.js","Data/Data_Player.bs.js","Externals/LocalForage_Id.bs.js","Data/Data_Scoring.bs.js","Data/Data_Tournament.bs.js","Externals/LocalForage_Map.bs.js","Externals/LocalForage_Record.bs.js","Db.bs.js","Router.bs.js","Pages.bs.js","Externals/Externals.bs.js","Window.bs.js","testdata/TestData.bs.js","PageOptions.bs.js","Data/Data_Ratings.bs.js","PagePlayers.bs.js","Data/Data_Pairing.bs.js","PageTournament/TournamentUtils.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/PageRound.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","App.bs.js","index.js"],"names":[],"mappings":"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,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,KACjB,gBAAiB,KACjB,OAAsB,GAExB,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,KACjB,gBAAiB,KACjB,OAAsB,GAExB,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,IACjB,gBAAiB,KACjB,OAAsB,KAG9B,EAA2B,UAIrC,CACE,GACA,CACE,GAAI,GACJ,KAAM,qBACN,KAAM,GAAI,MAAK,4BACf,UAAW,IAAmB,CACxB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACC,GACP,iBAAkB,IAAc,GAChC,SAAU,GACV,UAAW,CACG,EACC,EACG,EACY,GAE9B,UAAW,GAA+B,CACpC,EAA2B,UAAU,CAC/B,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,KACjB,gBAAiB,KACjB,OAAsB,GAExB,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,KACjB,gBAAiB,KACjB,OAAsB,GAExB,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,KACjB,gBAAiB,KACjB,OAAsB,GAExB,CACE,GAAI,EAA4B,yBAChC,QAAS,GACT,QAAS,GACT,eAAgB,KAChB,eAAgB,KAChB,gBAAiB,IACjB,gBAAiB,KACjB,OAAkB,KAG1B,EAA2B,UAIrC,CACE,GACA,CACE,GAAI,GACJ,KAAM,gBACN,KAAM,GAAI,MAAK,4BACf,UAAW,IAAmB,CACxB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACC,GACP,iBAAkB,IAAc,GAChC,SAAU,GACV,UAAW,CACG,EACC,EACG,EACY,GAE9B,UAAW,GAA+B,CACpC,EAA2B,UA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","file":"static/js/main.3486dacf.chunk.js","sourcesContent":["// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport Numeral from \"numeral\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nfunction make(currentLocale, zeroFormat, nullFormat, defaultFormat, scalePercentBy100) {\n  return {\n          currentLocale: currentLocale,\n          zeroFormat: zeroFormat,\n          nullFormat: nullFormat,\n          defaultFormat: defaultFormat,\n          scalePercentBy100: scalePercentBy100\n        };\n}\n\nvar Options = {\n  make: make\n};\n\nfunction make$1(thousands, decimal) {\n  return {\n          thousands: thousands,\n          decimal: decimal\n        };\n}\n\nvar Delimiters = {\n  make: make$1\n};\n\nfunction make$2(thousand, million, billion, trillion) {\n  return {\n          thousand: thousand,\n          million: million,\n          billion: billion,\n          trillion: trillion\n        };\n}\n\nvar Abbreviations = {\n  make: make$2\n};\n\nfunction make$3(symbol) {\n  return {\n          symbol: symbol\n        };\n}\n\nvar Currency = {\n  make: make$3\n};\n\nfunction make$4(delimiters, abbreviations, ordinal, currency) {\n  return {\n          delimiters: delimiters,\n          abbreviations: abbreviations,\n          ordinal: ordinal,\n          currency: currency\n        };\n}\n\nvar Locale = {\n  make: make$4\n};\n\nfunction make$5(format, unformat) {\n  return {\n          format: format,\n          unformat: unformat\n        };\n}\n\nvar RegExps = {\n  make: make$5\n};\n\nfunction make$6(regexps, formatFn, unformatFn) {\n  return {\n          regexps: regexps,\n          format: formatFn,\n          unformat: unformatFn\n        };\n}\n\nvar Format = {\n  make: make$6\n};\n\nfunction registerLocale(key, value) {\n  return Numeral.register(\"locale\", key, value);\n}\n\nfunction registerFormat(key, value) {\n  return Numeral.register(\"format\", key, value);\n}\n\nfunction locale(key) {\n  return Numeral.locale(key);\n}\n\nfunction localeData(key) {\n  return Numeral.localeData(key);\n}\n\nfunction setZeroFormat(str) {\n  Numeral.zeroFormat(str);\n  \n}\n\nfunction setDefaultFormat(str) {\n  Numeral.defaultFormat(str);\n  \n}\n\nfunction validate(a, b) {\n  return Numeral.validate(a, b);\n}\n\nfunction unformat(t, value) {\n  return t.unformat(value);\n}\n\nfunction value(t) {\n  return t.value();\n}\n\nfunction difference(t, value) {\n  return t.difference(value);\n}\n\nfunction registerLocale$1(key, value) {\n  return Numeral.register(\"locale\", key, value);\n}\n\nfunction registerFormat$1(key, value) {\n  return Numeral.register(\"format\", key, value);\n}\n\nfunction locale$1(key) {\n  return Numeral.locale(key);\n}\n\nfunction localeData$1(key) {\n  return Numeral.localeData(key);\n}\n\nfunction setZeroFormat$1(str) {\n  Numeral.zeroFormat(str);\n  \n}\n\nfunction setDefaultFormat$1(str) {\n  Numeral.defaultFormat(str);\n  \n}\n\nfunction validate$1(a, b) {\n  return Numeral.validate(a, b);\n}\n\nfunction unformat$1(t, value) {\n  return Caml_option.nullable_to_opt(t.unformat(value));\n}\n\nfunction value$1(t) {\n  return Caml_option.nullable_to_opt(t.value());\n}\n\nfunction difference$1(t, value) {\n  return Caml_option.nullable_to_opt(t.difference(value));\n}\n\nvar $$String = {\n  registerLocale: registerLocale$1,\n  registerFormat: registerFormat$1,\n  locale: locale$1,\n  localeData: localeData$1,\n  setZeroFormat: setZeroFormat$1,\n  setDefaultFormat: setDefaultFormat$1,\n  validate: validate$1,\n  unformat: unformat$1,\n  value: value$1,\n  difference: difference$1\n};\n\nfunction numberToFormat(value, format, roundingFunction) {\n  return Curry._3(Numeral._.numberToFormat, value, format, roundingFunction);\n}\n\nfunction stringToNumber(value) {\n  return Curry._1(Numeral._.stringToNumber, value);\n}\n\nfunction includes(string, search) {\n  return Curry._2(Numeral._.includes, string, search);\n}\n\nfunction insert(string, subString, start) {\n  return Curry._3(Numeral._.insert, string, subString, start);\n}\n\nfunction multiplier(x) {\n  return Curry._1(Numeral._.multiplier, x);\n}\n\nfunction correctionFactor1(arg1) {\n  return Curry._1(Numeral._.correctionFactor, arg1);\n}\n\nfunction correctionFactor2(arg1, arg2) {\n  return Curry._2(Numeral._.correctionFactor, arg1, arg2);\n}\n\nfunction correctionFactor3(arg1, arg2, arg3) {\n  return Curry._3(Numeral._.correctionFactor, arg1, arg2, arg3);\n}\n\nfunction correctionFactor4(arg1, arg2, arg3, arg4) {\n  return Curry._4(Numeral._.correctionFactor, arg1, arg2, arg3, arg4);\n}\n\nfunction correctionFactor5(arg1, arg2, arg3, arg4, arg5) {\n  return Curry._5(Numeral._.correctionFactor, arg1, arg2, arg3, arg4, arg5);\n}\n\nfunction toFixed(value, maxDecimals, roundingFunction, optionals) {\n  return Curry._4(Numeral._.toFixed, value, maxDecimals, roundingFunction, optionals);\n}\n\nvar Helpers = {\n  numberToFormat: numberToFormat,\n  stringToNumber: stringToNumber,\n  includes: includes,\n  insert: insert,\n  multiplier: multiplier,\n  correctionFactor1: correctionFactor1,\n  correctionFactor2: correctionFactor2,\n  correctionFactor3: correctionFactor3,\n  correctionFactor4: correctionFactor4,\n  correctionFactor5: correctionFactor5,\n  toFixed: toFixed\n};\n\nif (Numeral.default === undefined) {\n  Numeral.default = Numeral;\n}\n;\n\nexport {\n  Options ,\n  Delimiters ,\n  Abbreviations ,\n  Currency ,\n  Locale ,\n  RegExps ,\n  Format ,\n  registerLocale ,\n  registerFormat ,\n  locale ,\n  localeData ,\n  setZeroFormat ,\n  setDefaultFormat ,\n  validate ,\n  unformat ,\n  value ,\n  difference ,\n  $$String ,\n  Helpers ,\n  \n}\n/*  Not a pure module */\n","export default \"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgd2lkdGg9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PGcgaWQ9ImQiPjxwYXRoIGQ9Ik0zOTcgMTc3MGw2Ni0yNDQtMzMtMTg3cS0xIDAtMy00LTUtNy0yOC41LTE4LjVUMzQ0IDEyNzdxLTQ0LTM3LTY4LjUtNjB0LTQ0LjUtNTBxLTYxLTg0LTY4LTIwMy0xMC0xMTUgOTMtMjI5IDEwNC0xMTQgMjgxLTEwNyA2NiA0IDE1NSAzMiAyOSAxMiA1OS41IDIzLjVUODEyIDcwN3ExNiA4IDI4IDE2LTUtMjEtNS00MiAwLTc4IDU1LjUtMTMzdDEzMy41LTU2cTc4IDAgMTMzIDU1LjV0NTUgMTMyLjVxMCAxNi00IDQyIDE0LTkgMjctMTUgNDYtMjAgMTIxLTQ3IDg2LTI5IDE1NS0zMyAxNzctOCAyODAgMTA3IDEwMSAxMTQgOTQgMjI5LTggMTE5LTY5IDIwMy0yMCAyNy00NSA1MC41dC02NyA1OS41cS0zMyAyOC01NiAzOS41dC0yNyAxOC41cS0xIDItMiAzdC0xIDJsLTMyIDE4OCA2NiAyNDdxLTUwIDQ1LTIyNCA3NHQtNDAyIDI5cS0yMzIgMC00MDgtMzAuNVQzOTcgMTc3MHptNjYzLTE0MTFsLTEgMTMwaC03MVYzNThoLTgzcS0zNCAwLTM0LTMzdi0xcTAtMzMgMzQtMzNoODN2LTg1cTAtMzUgMzYtMzUgMzUgMCAzNSAzNXY4NWg4NnEzMyAwIDMzIDMzdjFxMCAzMy0zMyAzM2wtODUgMXoiIHRyYW5zZm9ybT0ic2NhbGUoLjE1KSIvPjxwYXRoIGQ9Ik0xNTAyIDE1MzVsMTYtMTAxcS0xODQtNTEtNDkwLTUxLTMwOCAwLTQ5NiA1MmwxNSAxMDFxMTg5LTQ5IDQ4MS00OSAyOTEgMCA0NzQgNDh6bTQyIDE5OGwtMzAtMTE4cS0xOTUtNDUtNDkwLTQ1LTI5MiAwLTQ4OCA0NWwtMzIgMTE5cTE5MC01OCA1MjEtNTggMTU5IDAgMjk1IDE2dDIyNCA0MXptLTQxMS01NTBxMC0yOSA2LjUtODIuNXQyMC41LTgzLjVxMzctODEgMTA2LTE1MCAyMC0yMCA4Ni01NCA2NS0zMiAxMzktMzIgNTYgMCAxMTEuNSAxOS41VDE2ODYgODYwcTI1IDM0IDI1IDExMCAwIDYwLTQ5IDExMi0zMiAzMy02OSA2Ni41dC03MSA3OC41cS01OC0yMC0xNjEuNS0zMXQtMjI3LjUtMTN6bS03MyA3OHExNzIgMyAyODIgMTd0MTk4IDMzcTU1LTU0IDEyMi0xMDN0OTQtODRxNDgtNjUgNDgtMTYyIDAtODktNDMtMTQ5LTc3LTExMy0yMzUtMTEzLTkyIDAtMTkyIDQwLTkxIDM2LTEzMiA3OC04NSA4Mi0xMjQgMjE2LTE1IDQ2LTE2LjUgMTE3dC0xLjUgMTEwem0tNzItMXEwLTQwLTItMTEwLjVUOTcxIDEwMzJxLTQxLTEzNC0xMjQtMjE2LTQzLTQyLTEzMi03OC0xMDItNDAtMTkzLTQwLTE1OCAwLTIzNCAxMTMtNDMgNjAtNDMgMTUwIDAgOTggNDggMTYxIDI1IDM2IDk2IDg5dDEyMCA5OHE4Ny0xOSAxOTYuNS0zM3QyODIuNS0xNnptMzYtMjUxcTctMjggMTItMzkgMTAtMzkgMjMtNjYgNi0xNyAxNy41LTM5LjVUMTEwMSA4MTNxOC0xNyAxNy00MS41dDE4LTQ4LjVxOC0yMCA4LTQzIDAtNDktMzUtODMuNXQtODUtMzQuNXEtMTE5IDAtMTE5IDExOSAwIDIzIDggNDMgMjIgNjUgMzQgOTAgMTMgMjkgMjQgNTEuNXQxOSAzOS41cTEzIDMzIDIyIDY2IDIgNiAxMiAzOHptLTExMiAxNzRxLTEyNSAyLTIyOC41IDEzVDUyMyAxMjI3cS0zMC0zNy02OS41LTc0LjVUMzg0IDEwODJxLTUwLTUxLTUwLTExMiAwLTc1IDI1LTExMCAyNy00MCA4My01OS41VDU1NSA3ODFxNzIgMCAxMzggMzIgNjUgMzQgODYgNTQgNjggNjkgMTA2IDE1MCAxMyAzMCAxOS41IDgzLjV0Ny41IDgyLjV6bTExMi0zNDVxLTItMTAtNS0xNy02LTIwLTEwLTI5LTMtNy04LTE3LjVUOTkxIDc1MnEtMy03LTcuNS0xOC41VDk3NiA3MTJxLTMtOS0zLTE5IDAtNTMgNTEtNTMgNTMgMCA1MyA1MiAwIDEzLTQgMTktMTQgMzgtMTUgNDEtMTUgMzAtMTkgMzktNyAxNi05IDI5LTMgNi00IDEwLjV0LTIgNy41eiIgZmlsbD0iI2Y5ZjlmYSIgdHJhbnNmb3JtPSJzY2FsZSguMTUpIi8+PC9nPjxjbGlwUGF0aCBpZD0iYiI+PGNpcmNsZSByPSIyNDAiIGN5PSIyNzIiIGN4PSIyNTYiLz48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoMTgpIiBkPSJNMjQwIDE2aDIwMHY1MTJIMjQweiIvPjxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDE4KSIgZD0iTTI5MiA3OGgyMDB2NTEySDI5MnoiLz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxOCkiIGQ9Ik0zNjEtMzdoMTI4VjkxSDM2MXoiLz48L2NsaXBQYXRoPjxwYXRoIGlkPSJjIiBjbGlwLXBhdGg9InVybCgjYSkiIGQ9Ik0wIDBoNTEydjUxMkgweiIvPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMzYzOTU5IiBjbGlwLXBhdGg9InVybCgjYikiLz48ZyBmaWxsPSIjMGQ3NzU4Ij48ZyBjbGlwLXBhdGg9InVybCgjYikiPjx1c2UgaHJlZj0iI2MiIHhsaW5rOmhyZWY9IiNjIiB4PSIxLjUiIHk9IjM4Ii8+PC9nPjxwYXRoIGQ9Ik0zNTUuODg2IDExOS44NGwxMjEuNzM1IDM5LjU1NC0zOS41NTQgMTIxLjczNi0xMjEuNzM2LTM5LjU1NXoiLz48L2c+PHVzZSBocmVmPSIjZCIgeGxpbms6aHJlZj0iI2QiIHg9IjE5OCIgeT0iLTEiIGZpbGw9IiMxNGIxODQiLz48ZyBmaWxsPSIjYzAwMDQzIiBjbGlwLXBhdGg9InVybCgjYikiPjx1c2UgaHJlZj0iI2MiIHhsaW5rOmhyZWY9IiNjIiB4PSItMTkyLjUiIHk9IjEwMCIvPjwvZz48dXNlIGhyZWY9IiNkIiB4bGluazpocmVmPSIjZCIgeD0iNCIgeT0iNjEiIGZpbGw9IiNmZjAwNTkiLz48ZyBmaWxsPSIjMDdhMmZmIiBjbGlwLXBhdGg9InVybCgjYikiPjx1c2UgaHJlZj0iI2MiIHhsaW5rOmhyZWY9IiNjIiB4PSItOTYiIHk9IjIyOCIvPjwvZz48dXNlIGhyZWY9IiNkIiB4bGluazpocmVmPSIjZCIgeD0iMTAwIiB5PSIxODkiIGZpbGw9IiM0N2JhZmYiLz48L3N2Zz4=\"","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Numeral$Coronate from \"./Externals/Numeral.bs.js\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\nimport IconMinSvg from \"./assets/icon-min.svg\";\n\nfunction ascend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(a), getter(b));\n}\n\nfunction descend(cmp, getter, a, b) {\n  return Curry._2(cmp, getter(b), getter(a));\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    arr[idx1] = Caml_option.valFromOption(match$1);\n    arr[idx2] = Caml_option.valFromOption(match);\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  swap: swap\n};\n\nfunction alert(__x) {\n  window.alert(__x);\n  \n}\n\nvar logo = IconMinSvg;\n\nvar WebpackAssets = {\n  logo: logo\n};\n\nvar Entities_nbsp = \"\\xa0\";\n\nvar Entities_copy = \"\\xA9\";\n\nvar Entities = {\n  nbsp: Entities_nbsp,\n  copy: Entities_copy\n};\n\nvar formatter = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar formatter$1 = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, undefined);\n\nfunction Utils$DateTimeFormat(Props) {\n  var date = Props.date;\n  var timeZone = Props.timeZone;\n  var formatter$2 = timeZone !== undefined ? Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, timeZone, undefined, undefined, /* Numeric */0, undefined) : formatter$1;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$2, date));\n}\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(\"div\", {\n              className: \"utils__panel \" + className,\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(\"div\", {\n              className: \"utils__panels \" + className,\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var kindOpt = Props.kind;\n  var tooltipOpt = Props.tooltip;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var kind = kindOpt !== undefined ? kindOpt : /* Generic */3;\n  var tooltip = tooltipOpt !== undefined ? tooltipOpt : \"\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  var match;\n  switch (kind) {\n    case /* Success */0 :\n        match = [\n          React.createElement(ReactFeather.Check, {}),\n          \"utils__notification-success\"\n        ];\n        break;\n    case /* Warning */1 :\n        match = [\n          React.createElement(ReactFeather.AlertTriangle, {}),\n          \"utils__notification-warning\"\n        ];\n        break;\n    case /* Error */2 :\n        match = [\n          React.createElement(ReactFeather.AlertTriangle, {}),\n          \"utils__notification-error\"\n        ];\n        break;\n    case /* Generic */3 :\n        match = [\n          React.createElement(ReactFeather.Info, {}),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: \"utils__notification-container \" + match[1] + \" \" + className,\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: \"utils__notification-icon\",\n                  title: tooltip\n                }, match[0]), React.createElement(\"div\", {\n                  className: \"utils__notification-text\"\n                }, children));\n}\n\nvar $$Notification = {\n  make: Utils$Notification\n};\n\nfunction Utils$TestId(Props) {\n  var children = Props.children;\n  var testId = Props.testId;\n  return React.cloneElement(children, {\n              \"data-testid\": testId\n            });\n}\n\nvar TestId = {\n  make: Utils$TestId\n};\n\nNumeral$Coronate.registerFormat(\"fraction\", Numeral$Coronate.Format.make(Numeral$Coronate.RegExps.make(/(1\\/2)/, /(1\\/2)/), (function (value, _format, _roundingFunction) {\n            var whole = Math.floor(value);\n            var remainder = value - whole;\n            var fraction = remainder !== 0.25 ? (\n                remainder !== 0.5 ? (\n                    remainder !== 0.75 ? \"\" : \"\"\n                  ) : \"\"\n              ) : \"\";\n            var stringedWhole = whole === 0.0 && fraction !== \"\" ? \"\" : String(whole);\n            return stringedWhole + fraction;\n          }), (function (value) {\n            return Belt_Option.getExn(Belt_Float.fromString(value));\n          })));\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nvar DateFormat = {\n  make: Utils$DateFormat\n};\n\nvar DateTimeFormat = {\n  make: Utils$DateTimeFormat\n};\n\nexport {\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  alert ,\n  WebpackAssets ,\n  Entities ,\n  DateFormat ,\n  DateTimeFormat ,\n  Panel ,\n  PanelContainer ,\n  $$Notification ,\n  TestId ,\n  \n}\n/* logo Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction reducer(param, newState) {\n  return newState;\n}\n\nfunction useBool(init) {\n  var match = React.useReducer(reducer, init);\n  var setState = match[1];\n  return {\n          state: match[0],\n          setTrue: (function (param) {\n              return setState(true);\n            }),\n          setFalse: (function (param) {\n              return setState(false);\n            })\n        };\n}\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.TAG | 0) {\n      case /* SetIsDescending */0 :\n          newState = {\n            isDescending: action._0,\n            column: state.column,\n            table: state.table\n          };\n          break;\n      case /* SetColumn */1 :\n          newState = {\n            isDescending: state.isDescending,\n            column: action._0,\n            table: state.table\n          };\n          break;\n      case /* SetTable */2 :\n          newState = {\n            isDescending: state.isDescending,\n            column: state.column,\n            table: action._0\n          };\n          break;\n      \n    }\n  }\n  var direction = newState.isDescending ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var f = newState.column;\n  var sortFunc;\n  switch (f.TAG | 0) {\n    case /* GetString */0 :\n        var f$1 = f._0;\n        sortFunc = Curry._2(direction, Caml_primitive.caml_string_compare, (function (str) {\n                return f$1(str).toLowerCase();\n              }));\n        break;\n    case /* GetInt */1 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_int_compare, f._0);\n        break;\n    case /* GetFloat */2 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, f._0);\n        break;\n    case /* GetDate */3 :\n        var f$2 = f._0;\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, (function (date) {\n                return f$2(date).getTime();\n              }));\n        break;\n    \n  }\n  var table = Belt_SortArray.stableSortBy(newState.table, sortFunc);\n  return {\n          isDescending: newState.isDescending,\n          column: newState.column,\n          table: table\n        };\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = {\n    isDescending: isDescending,\n    column: column,\n    table: table\n  };\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          \n        }), []);\n  return [\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var chevronStyle = data.column === sortColumn ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  return React.createElement(\"button\", {\n              className: \"button-micro button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  if (data.column === sortColumn) {\n                    return Curry._1(dispatch, {\n                                TAG: /* SetIsDescending */0,\n                                _0: !data.isDescending\n                              });\n                  } else {\n                    return Curry._1(dispatch, {\n                                TAG: /* SetColumn */1,\n                                _0: sortColumn\n                              });\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, data.isDescending ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, {}), React.createElement(VisuallyHidden, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, {}), React.createElement(VisuallyHidden, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), [isLoaded]);\n  \n}\n\nexport {\n  useBool ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Nanoid from \"nanoid\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\n\nfunction toString(x) {\n  return x;\n}\n\nfunction fromString(x) {\n  return x;\n}\n\nvar dummy = \"________DUMMY________\";\n\nfunction isDummy(id) {\n  return id === dummy;\n}\n\nfunction random(prim) {\n  return Nanoid.nanoid();\n}\n\nfunction encode(prim) {\n  return prim;\n}\n\nvar compare = Caml_primitive.caml_string_compare;\n\nfunction eq(a, b) {\n  return a === b;\n}\n\nvar Cmp = Belt_Id.comparable(compare);\n\nfunction fromStringArray(arr) {\n  return Belt_Map.fromArray(arr, Cmp);\n}\n\nvar $$Map = {\n  fromStringArray: fromStringArray,\n  toStringArray: Belt_Map.toArray\n};\n\nvar $$Set = {};\n\nfunction make(a, b) {\n  var match = Caml_primitive.caml_string_compare(a, b);\n  if (match !== 0) {\n    if (match !== 1) {\n      return [\n              b,\n              a\n            ];\n    } else {\n      return [\n              a,\n              b\n            ];\n    }\n  }\n  \n}\n\nfunction compare$1(param, param$1) {\n  var x = Caml_primitive.caml_string_compare(param[0], param$1[0]);\n  if (x !== 0) {\n    return x;\n  }\n  var x$1 = Caml_primitive.caml_string_compare(param[1], param$1[1]);\n  if (x$1 !== 0) {\n    return x$1;\n  } else {\n    return 0;\n  }\n}\n\nfunction has(param, id) {\n  if (param[0] === id) {\n    return true;\n  } else {\n    return param[1] === id;\n  }\n}\n\nfunction toTuple(t) {\n  return t;\n}\n\nfunction decode(json) {\n  return Json_decode.pair(Json_decode.string, Json_decode.string, json);\n}\n\nfunction encode$1(data) {\n  return Json_encode.pair(encode, encode, data);\n}\n\nvar Cmp$1 = Belt_Id.comparable(compare$1);\n\nfunction decode$1(json) {\n  return Belt_Set.fromArray(Json_decode.array(decode, json), Cmp$1);\n}\n\nfunction encode$2(data) {\n  return Json_encode.array(encode$1, Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var s1 = Belt_Set.add(Belt_Set.make(Cmp), id2);\n  var s2 = Belt_Set.add(Belt_Set.make(Cmp), id1);\n  return Belt_Map.update(Belt_Map.update(acc, id1, (function (s) {\n                    if (s !== undefined) {\n                      return Caml_option.some(Belt_Set.union(Caml_option.valFromOption(s), s1));\n                    } else {\n                      return Caml_option.some(s1);\n                    }\n                  })), id2, (function (s) {\n                if (s !== undefined) {\n                  return Caml_option.some(Belt_Set.union(Caml_option.valFromOption(s), s2));\n                } else {\n                  return Caml_option.some(s2);\n                }\n              }));\n}\n\nfunction toMap(x) {\n  return Belt_Set.reduce(x, Belt_Map.make(Cmp), toMapReducer);\n}\n\nvar decode$2 = Json_decode.string;\n\nvar id = Cmp;\n\nvar Pair_Set = {\n  encode: encode$2,\n  decode: decode$1,\n  toMap: toMap\n};\n\nvar Pair = {\n  make: make,\n  has: has,\n  toTuple: toTuple,\n  id: Cmp$1,\n  Id_Set: undefined,\n  $$Set: Pair_Set\n};\n\nexport {\n  toString ,\n  fromString ,\n  dummy ,\n  isDummy ,\n  random ,\n  encode ,\n  decode$2 as decode,\n  compare ,\n  eq ,\n  id ,\n  $$Map ,\n  $$Set ,\n  Pair ,\n  \n}\n/* Cmp Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toString(x) {\n  switch (x) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(x) {\n  switch (x) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          whiteId: Json_decode.field(\"whiteId\", Data_Id$Coronate.decode, json),\n          blackId: Json_decode.field(\"blackId\", Data_Id$Coronate.decode, json),\n          whiteNewRating: Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          blackNewRating: Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          whiteOrigRating: Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          blackOrigRating: Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          result: Json_decode.field(\"result\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_({\n              hd: [\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              tl: {\n                hd: [\n                  \"whiteId\",\n                  Data_Id$Coronate.encode(data.whiteId)\n                ],\n                tl: {\n                  hd: [\n                    \"blackId\",\n                    Data_Id$Coronate.encode(data.blackId)\n                  ],\n                  tl: {\n                    hd: [\n                      \"whiteNewRating\",\n                      data.whiteNewRating\n                    ],\n                    tl: {\n                      hd: [\n                        \"blackNewRating\",\n                        data.blackNewRating\n                      ],\n                      tl: {\n                        hd: [\n                          \"whiteOrigRating\",\n                          data.whiteOrigRating\n                        ],\n                        tl: {\n                          hd: [\n                            \"blackOrigRating\",\n                            data.blackOrigRating\n                          ],\n                          tl: {\n                            hd: [\n                              \"result\",\n                              toString(data.result)\n                            ],\n                            tl: /* [] */0\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nfunction scoreByeMatch(match_, byeValue) {\n  var match = Data_Id$Coronate.isDummy(match_.whiteId);\n  var match$1 = Data_Id$Coronate.isDummy(match_.blackId);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return {\n              id: match_.id,\n              whiteId: match_.whiteId,\n              blackId: match_.blackId,\n              whiteNewRating: match_.whiteNewRating,\n              blackNewRating: match_.blackNewRating,\n              whiteOrigRating: match_.whiteOrigRating,\n              blackOrigRating: match_.blackOrigRating,\n              result: byeValue ? /* Draw */2 : /* BlackWon */1\n            };\n    }\n  } else if (match$1) {\n    return {\n            id: match_.id,\n            whiteId: match_.whiteId,\n            blackId: match_.blackId,\n            whiteNewRating: match_.whiteNewRating,\n            blackNewRating: match_.blackNewRating,\n            whiteOrigRating: match_.whiteOrigRating,\n            blackOrigRating: match_.blackOrigRating,\n            result: byeValue ? /* Draw */2 : /* WhiteWon */0\n          };\n  } else {\n    return match_;\n  }\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch({\n              id: Data_Id$Coronate.random(undefined),\n              whiteId: white.id,\n              blackId: black.id,\n              whiteNewRating: white.rating,\n              blackNewRating: black.rating,\n              whiteOrigRating: white.rating,\n              blackOrigRating: black.rating,\n              result: /* NotSet */3\n            }, byeValue);\n}\n\nfunction swapColors(match) {\n  var x = match.result;\n  return {\n          id: match.id,\n          whiteId: match.blackId,\n          blackId: match.whiteId,\n          whiteNewRating: match.blackNewRating,\n          blackNewRating: match.whiteNewRating,\n          whiteOrigRating: match.blackOrigRating,\n          blackOrigRating: match.whiteOrigRating,\n          result: x !== 1 ? (\n              x !== 0 ? x : /* BlackWon */1\n            ) : /* WhiteWon */0\n        };\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  scoreByeMatch ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Belt_MutableQueue from \"bs-platform/lib/es6/belt_MutableQueue.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nfunction fromArray(x) {\n  return x;\n}\n\nfunction toArray(x) {\n  return x;\n}\n\nvar empty = [];\n\nfunction encode(param) {\n  return Json_encode.array(Data_Match$Coronate.encode, param);\n}\n\nfunction decode(param) {\n  return Json_decode.array(Data_Match$Coronate.decode, param);\n}\n\nfunction size(prim) {\n  return prim.length;\n}\n\nfunction getMatched(round) {\n  var q = Belt_MutableQueue.make(undefined);\n  Belt_Array.forEach(round, (function (param) {\n          Belt_MutableQueue.add(q, param.whiteId);\n          return Belt_MutableQueue.add(q, param.blackId);\n        }));\n  return Belt_MutableQueue.toArray(q);\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return Data_Id$Coronate.eq(x.id, id);\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return !Data_Id$Coronate.eq(x.id, id);\n              }));\n}\n\nfunction setMatch(round, match) {\n  var round$1 = round.slice(0);\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round$1, (function (param) {\n                        return Data_Id$Coronate.eq(param.id, match.id);\n                      })), (function (x) {\n                    return Belt_Array.set(round$1, x, match);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round$1;\n                }\n                \n              }));\n}\n\nfunction moveMatch(round, matchId, direction) {\n  var match_ = getMatchById(round, matchId);\n  if (match_ === undefined) {\n    return ;\n  }\n  var oldIndex = round.indexOf(match_);\n  var newIndex = (oldIndex + direction | 0) >= 0 ? oldIndex + direction | 0 : 0;\n  return Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n}\n\nvar Round = {\n  fromArray: fromArray,\n  toArray: toArray,\n  empty: empty,\n  encode: encode,\n  decode: decode,\n  size: size,\n  addMatches: Belt_Array.concat,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch,\n  moveMatch: moveMatch\n};\n\nfunction fromArray$1(x) {\n  return x;\n}\n\nfunction toArray$1(x) {\n  return x;\n}\n\nvar empty$1 = [[]];\n\nfunction encode$1(param) {\n  return Json_encode.array(encode, param);\n}\n\nfunction decode$1(param) {\n  return Json_decode.array(decode, param);\n}\n\nfunction size$1(prim) {\n  return prim.length;\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nfunction set(rounds, key, round) {\n  var rounds$1 = rounds.slice(0);\n  var wasSuccessful = Belt_Array.set(rounds$1, key, round);\n  if (wasSuccessful) {\n    return rounds$1;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList) {\n  var q = Belt_MutableQueue.make(undefined);\n  Belt_Array.forEach(roundList, (function (r) {\n          return Belt_MutableQueue.transfer(Belt_MutableQueue.fromArray(r), q);\n        }));\n  return q;\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var round = Belt_Array.get(roundList, roundId);\n  if (round === undefined) {\n    return true;\n  }\n  if (roundId < (roundList.length - 1 | 0)) {\n    return true;\n  }\n  var matched = getMatched(round);\n  var unmatched = Belt_Map.removeMany(players, matched);\n  var results = Belt_Array.map(round, (function (match) {\n          return match.result;\n        }));\n  if (Belt_Map.size(unmatched) === 0) {\n    return !results.includes(/* NotSet */3);\n  } else {\n    return false;\n  }\n}\n\nfunction addRound(roundList) {\n  return Belt_Array.concat(roundList, [[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, byeValue) {\n  return Belt_Array.map(rounds, (function (__x) {\n                return Belt_Array.map(__x, (function (param) {\n                              return Data_Match$Coronate.scoreByeMatch(param, byeValue);\n                            }));\n              }));\n}\n\nvar get = Belt_Array.get;\n\nexport {\n  Round ,\n  fromArray$1 as fromArray,\n  toArray$1 as toArray,\n  empty$1 as empty,\n  encode$1 as encode,\n  decode$1 as decode,\n  size$1 as size,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\n\nvar batman = Data_Id$Coronate.fromString(\"BruceWayne_lv_ZsUHTU9\");\n\nvar robin = Data_Id$Coronate.fromString(\"DickGrayson_1C2rCokHH\");\n\nvar alfred = Data_Id$Coronate.fromString(\"AlfredPennyworth_y4dW\");\n\nvar barbara = Data_Id$Coronate.fromString(\"BarbaraGordon_cL6SpI2\");\n\nvar batwoman = Data_Id$Coronate.fromString(\"KateKane_klFW6gDfUOTX\");\n\nvar catwoman = Data_Id$Coronate.fromString(\"SelinaKyle_rJBH-45Xoy\");\n\nvar jason = Data_Id$Coronate.fromString(\"JasonTodd_fc9CeOa-Luw\");\n\nvar james = Data_Id$Coronate.fromString(\"JamesGordon_1ts9xICT3\");\n\nvar huntress = Data_Id$Coronate.fromString(\"HelenaWayne_fE6O0DJcE\");\n\nvar joker = Data_Id$Coronate.fromString(\"Joker_v0z2416fpAZ9o2c\");\n\nvar harley = Data_Id$Coronate.fromString(\"HarleyQuinn_-10-02VPH\");\n\nvar freeze = Data_Id$Coronate.fromString(\"VictorFries_cWaQoW014\");\n\nvar penguin = Data_Id$Coronate.fromString(\"OswaldCobblepot_lfCro\");\n\nvar ras = Data_Id$Coronate.fromString(\"RasAlGhul_k9n8k852bHr\");\n\nvar poisonivy = Data_Id$Coronate.fromString(\"PamelaIsley_vH5vD8uPB\");\n\nvar riddler = Data_Id$Coronate.fromString(\"EdwardNigma_j80JfWOZq\");\n\nvar scarecrow = Data_Id$Coronate.fromString(\"JonathanCrane_R4Q8tVW\");\n\nvar twoface = Data_Id$Coronate.fromString(\"HarveyDent_0eYIiP_Ij5\");\n\nvar hugo = Data_Id$Coronate.fromString(\"HugoStrange_az43f9mtS\");\n\nvar config_avoidPairs = Belt_Set.fromArray(Belt_Array.keepMap([\n          [\n            barbara,\n            james\n          ],\n          [\n            joker,\n            harley\n          ],\n          [\n            huntress,\n            batman\n          ]\n        ], (function (param) {\n            return Data_Id$Coronate.Pair.make(param[0], param[1]);\n          })), Data_Id$Coronate.Pair.id);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Belt_Map.fromArray([\n      [\n        batman,\n        {\n          firstName: \"Bruce\",\n          id: batman,\n          lastName: \"Wayne\",\n          matchCount: 9,\n          rating: 1998,\n          type_: /* Person */0\n        }\n      ],\n      [\n        robin,\n        {\n          firstName: \"Dick\",\n          id: robin,\n          lastName: \"Grayson\",\n          matchCount: 9,\n          rating: 1909,\n          type_: /* Person */0\n        }\n      ],\n      [\n        alfred,\n        {\n          firstName: \"Alfred\",\n          id: alfred,\n          lastName: \"Pennyworth\",\n          matchCount: 9,\n          rating: 1999,\n          type_: /* Person */0\n        }\n      ],\n      [\n        barbara,\n        {\n          firstName: \"Barbara\",\n          id: barbara,\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1345,\n          type_: /* Person */0\n        }\n      ],\n      [\n        batwoman,\n        {\n          firstName: \"Kate\",\n          id: batwoman,\n          lastName: \"Kane\",\n          matchCount: 9,\n          rating: 1539,\n          type_: /* Person */0\n        }\n      ],\n      [\n        catwoman,\n        {\n          firstName: \"Selina\",\n          id: catwoman,\n          lastName: \"Kyle\",\n          matchCount: 9,\n          rating: 1495,\n          type_: /* Person */0\n        }\n      ],\n      [\n        jason,\n        {\n          firstName: \"Jason\",\n          id: jason,\n          lastName: \"Todd\",\n          matchCount: 7,\n          rating: 1101,\n          type_: /* Person */0\n        }\n      ],\n      [\n        james,\n        {\n          firstName: \"James\",\n          id: james,\n          lastName: \"Gordon\",\n          matchCount: 7,\n          rating: 1167,\n          type_: /* Person */0\n        }\n      ],\n      [\n        huntress,\n        {\n          firstName: \"Helena\",\n          id: huntress,\n          lastName: \"Wayne\",\n          matchCount: 7,\n          rating: 1087,\n          type_: /* Person */0\n        }\n      ],\n      [\n        joker,\n        {\n          firstName: \"Joker\",\n          id: joker,\n          lastName: \"\",\n          matchCount: 1,\n          rating: 1538,\n          type_: /* Person */0\n        }\n      ],\n      [\n        harley,\n        {\n          firstName: \"Harley\",\n          id: harley,\n          lastName: \"Quinn\",\n          matchCount: 1,\n          rating: 1648,\n          type_: /* Person */0\n        }\n      ],\n      [\n        freeze,\n        {\n          firstName: \"Victor\",\n          id: freeze,\n          lastName: \"Fries\",\n          matchCount: 1,\n          rating: 862,\n          type_: /* Person */0\n        }\n      ],\n      [\n        penguin,\n        {\n          firstName: \"Oswald\",\n          id: penguin,\n          lastName: \"Cobblepot\",\n          matchCount: 1,\n          rating: 1812,\n          type_: /* Person */0\n        }\n      ],\n      [\n        ras,\n        {\n          firstName: \"Ra's\",\n          id: ras,\n          lastName: \"al Ghul\",\n          matchCount: 1,\n          rating: 1404,\n          type_: /* Person */0\n        }\n      ],\n      [\n        poisonivy,\n        {\n          firstName: \"Pamela\",\n          id: poisonivy,\n          lastName: \"Isley\",\n          matchCount: 1,\n          rating: 965,\n          type_: /* Person */0\n        }\n      ],\n      [\n        riddler,\n        {\n          firstName: \"Edward\",\n          id: riddler,\n          lastName: \"Nigma\",\n          matchCount: 1,\n          rating: 948,\n          type_: /* Person */0\n        }\n      ],\n      [\n        scarecrow,\n        {\n          firstName: \"Jonathan\",\n          id: scarecrow,\n          lastName: \"Crane\",\n          matchCount: 1,\n          rating: 899,\n          type_: /* Person */0\n        }\n      ],\n      [\n        twoface,\n        {\n          firstName: \"Harvey\",\n          id: twoface,\n          lastName: \"Dent\",\n          matchCount: 1,\n          rating: 1649,\n          type_: /* Person */0\n        }\n      ],\n      [\n        hugo,\n        {\n          firstName: \"Hugo\",\n          id: hugo,\n          lastName: \"Strange\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ]\n    ], Data_Id$Coronate.id);\n\nvar tournaments = Belt_Map.fromArray([\n      [\n        Data_Id$Coronate.fromString(\"CaouTNel9k70jUJ0h6SYM\"),\n        {\n          id: Data_Id$Coronate.fromString(\"CaouTNel9k70jUJ0h6SYM\"),\n          name: \"Wayne Manor Open\",\n          date: new Date(\"2019-05-22T12:14:47.670Z\"),\n          playerIds: Belt_Set.fromArray([\n                batman,\n                robin,\n                alfred,\n                barbara,\n                batwoman,\n                catwoman,\n                jason,\n                james,\n                huntress\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"FUASEeyES6ez_ROoT6qmU\"),\n                        whiteId: jason,\n                        blackId: robin,\n                        whiteNewRating: 1236,\n                        blackNewRating: 2109,\n                        whiteOrigRating: 1238,\n                        blackOrigRating: 2108,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"gqPyD66QMPF-pup41xsB2\"),\n                        whiteId: james,\n                        blackId: alfred,\n                        whiteNewRating: 1049,\n                        blackNewRating: 2260,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 2260,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"KpS1lQSzsQWQ3VVWJyA2P\"),\n                        whiteId: batwoman,\n                        blackId: barbara,\n                        whiteNewRating: 1553,\n                        blackNewRating: 1722,\n                        whiteOrigRating: 1527,\n                        blackOrigRating: 1755,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"OgFuy-wq8mz378EWat46u\"),\n                        whiteId: catwoman,\n                        blackId: batman,\n                        whiteNewRating: 1278,\n                        blackNewRating: 1887,\n                        whiteOrigRating: 1284,\n                        blackOrigRating: 1881,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"f8Ps3GUmd0ZRsBBY8rZOp\"),\n                        whiteId: huntress,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 831,\n                        blackNewRating: 0,\n                        whiteOrigRating: 831,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"6seKrw7ehbhL766g6L2PF\"),\n                        whiteId: robin,\n                        blackId: batwoman,\n                        whiteNewRating: 2122,\n                        blackNewRating: 1672,\n                        whiteOrigRating: 2109,\n                        blackOrigRating: 1685,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"TCSjz48ZXqjamtYUFNg0B\"),\n                        whiteId: batman,\n                        blackId: huntress,\n                        whiteNewRating: 1887,\n                        blackNewRating: 830,\n                        whiteOrigRating: 1887,\n                        blackOrigRating: 831,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zF64DEsN8sHydpDDsg37E\"),\n                        whiteId: alfred,\n                        blackId: catwoman,\n                        whiteNewRating: 2101,\n                        blackNewRating: 1437,\n                        whiteOrigRating: 2260,\n                        blackOrigRating: 1278,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"qVGt1EJq9y0MmvFtumM0A\"),\n                        whiteId: barbara,\n                        blackId: jason,\n                        whiteNewRating: 1574,\n                        blackNewRating: 1207,\n                        whiteOrigRating: 1545,\n                        blackOrigRating: 1236,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"UhfHaRWr_-BtVo22xAuJu\"),\n                        whiteId: james,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1049,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1049,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"odrOOnZJUe0YAwkfUDqUb\"),\n                        whiteId: alfred,\n                        blackId: batman,\n                        whiteNewRating: 1998,\n                        blackNewRating: 1990,\n                        whiteOrigRating: 2101,\n                        blackOrigRating: 1887,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"qzCMqUwNIDAcFSAuA5yCm\"),\n                        whiteId: huntress,\n                        blackId: robin,\n                        whiteNewRating: 990,\n                        blackNewRating: 2008,\n                        whiteOrigRating: 830,\n                        blackOrigRating: 2122,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"6QgVqdtcJPjfVp3UZ8S9g\"),\n                        whiteId: catwoman,\n                        blackId: barbara,\n                        whiteNewRating: 1529,\n                        blackNewRating: 1464,\n                        whiteOrigRating: 1437,\n                        blackOrigRating: 1574,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"as45gODKMLC5-3_UsTyx5\"),\n                        whiteId: batwoman,\n                        blackId: james,\n                        whiteNewRating: 1542,\n                        blackNewRating: 1244,\n                        whiteOrigRating: 1672,\n                        blackOrigRating: 1049,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Pc0CWecSfeGNfvBPjyEIj\"),\n                        whiteId: jason,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1207,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"xj0y_Iqkb-g3MDGgmYx2-\"),\n                        whiteId: batman,\n                        blackId: batwoman,\n                        whiteNewRating: 1998,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 1990,\n                        blackOrigRating: 1542,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"HWYWtsyaqUkHRExM6kQrt\"),\n                        whiteId: robin,\n                        blackId: james,\n                        whiteNewRating: 2009,\n                        blackNewRating: 1243,\n                        whiteOrigRating: 2008,\n                        blackOrigRating: 1244,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"uAzHZVMC71liQZ-6fWWeD\"),\n                        whiteId: huntress,\n                        blackId: catwoman,\n                        whiteNewRating: 983,\n                        blackNewRating: 1534,\n                        whiteOrigRating: 990,\n                        blackOrigRating: 1529,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"_tCBn9YNIyto-vXpxm7WI\"),\n                        whiteId: jason,\n                        blackId: alfred,\n                        whiteNewRating: 1205,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 1207,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"L7yatE2oVKlV7LOY6-d7Y\"),\n                        whiteId: barbara,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1464,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1464,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      [\n        Data_Id$Coronate.fromString(\"tvAdS4YbSOznrBgrg0ITA\"),\n        {\n          id: Data_Id$Coronate.fromString(\"tvAdS4YbSOznrBgrg0ITA\"),\n          name: \"The Battle for Gotham City\",\n          date: new Date(\"2019-05-29T12:15:20.593Z\"),\n          playerIds: Belt_Set.fromArray([\n                batman,\n                robin,\n                alfred,\n                barbara,\n                batwoman,\n                catwoman,\n                jason,\n                james,\n                huntress,\n                joker,\n                harley,\n                freeze,\n                penguin,\n                ras,\n                poisonivy,\n                riddler,\n                scarecrow,\n                twoface\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"5f8GYcR8V44NYvTN1cZle\"),\n                        whiteId: riddler,\n                        blackId: batman,\n                        whiteNewRating: 948,\n                        blackNewRating: 1998,\n                        whiteOrigRating: 950,\n                        blackOrigRating: 1998,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"GPTct4sL368SryTLFUu8E\"),\n                        whiteId: scarecrow,\n                        blackId: alfred,\n                        whiteNewRating: 899,\n                        blackNewRating: 1999,\n                        whiteOrigRating: 900,\n                        blackOrigRating: 1999,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"AxtoztZ6O19nyrLfZ4YaU\"),\n                        whiteId: twoface,\n                        blackId: robin,\n                        whiteNewRating: 1649,\n                        blackNewRating: 1909,\n                        whiteOrigRating: 850,\n                        blackOrigRating: 2009,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"bUM_tWQsAtPe1gqRzlXd1\"),\n                        whiteId: ras,\n                        blackId: catwoman,\n                        whiteNewRating: 1404,\n                        blackNewRating: 1495,\n                        whiteOrigRating: 1050,\n                        blackOrigRating: 1534,\n                        result: /* Draw */2\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"bAOVlP-M5xaPk1qofNReb\"),\n                        whiteId: penguin,\n                        blackId: barbara,\n                        whiteNewRating: 1812,\n                        blackNewRating: 1345,\n                        whiteOrigRating: 1100,\n                        blackOrigRating: 1464,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"4omlgiGSaE1BmrHdABSym\"),\n                        whiteId: poisonivy,\n                        blackId: batwoman,\n                        whiteNewRating: 965,\n                        blackNewRating: 1539,\n                        whiteOrigRating: 1000,\n                        blackOrigRating: 1534,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"ysdEVYS2AyuKyOAwLLpTF\"),\n                        whiteId: harley,\n                        blackId: james,\n                        whiteNewRating: 1648,\n                        blackNewRating: 1167,\n                        whiteOrigRating: 1200,\n                        blackOrigRating: 1242,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"YoJ9WGokAYrmJjfxCCf87\"),\n                        whiteId: freeze,\n                        blackId: joker,\n                        whiteNewRating: 862,\n                        blackNewRating: 1538,\n                        whiteOrigRating: 1150,\n                        blackOrigRating: 1250,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Az7SBl3cs7rbwKPBI0IsU\"),\n                        whiteId: huntress,\n                        blackId: jason,\n                        whiteNewRating: 1087,\n                        blackNewRating: 1101,\n                        whiteOrigRating: 983,\n                        blackOrigRating: 1205,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ]\n    ], Data_Id$Coronate.id);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* batman Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toFloat(x) {\n  if (x) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(x) {\n  if (x !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          avoidPairs: Json_decode.field(\"avoidPairs\", Data_Id$Coronate.Pair.$$Set.decode, json),\n          byeValue: Json_decode.field(\"byeValue\", decode, json),\n          lastBackup: Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_({\n              hd: [\n                \"avoidPairs\",\n                Curry._1(Data_Id$Coronate.Pair.$$Set.encode, data.avoidPairs)\n              ],\n              tl: {\n                hd: [\n                  \"byeValue\",\n                  data.byeValue ? 0.5 : 1.0\n                ],\n                tl: {\n                  hd: [\n                    \"lastBackup\",\n                    Json_encode.date(data.lastBackup)\n                  ],\n                  tl: /* [] */0\n                }\n              }\n            });\n}\n\nvar default_avoidPairs = Belt_Set.make(Data_Id$Coronate.Pair.id);\n\nvar default_lastBackup = new Date(0.0);\n\nvar $$default = {\n  avoidPairs: default_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: default_lastBackup\n};\n\nexport {\n  ByeValue ,\n  decode$1 as decode,\n  encode$1 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* default Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction fullName(t) {\n  return t.firstName + \" \" + t.lastName;\n}\n\nfunction decode$1(json) {\n  return {\n          firstName: Json_decode.field(\"firstName\", Json_decode.string, json),\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          lastName: Json_decode.field(\"lastName\", Json_decode.string, json),\n          matchCount: Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          rating: Json_decode.field(\"rating\", Json_decode.$$int, json),\n          type_: Json_decode.field(\"type_\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_({\n              hd: [\n                \"firstName\",\n                data.firstName\n              ],\n              tl: {\n                hd: [\n                  \"id\",\n                  Data_Id$Coronate.encode(data.id)\n                ],\n                tl: {\n                  hd: [\n                    \"lastName\",\n                    data.lastName\n                  ],\n                  tl: {\n                    hd: [\n                      \"matchCount\",\n                      data.matchCount\n                    ],\n                    tl: {\n                      hd: [\n                        \"rating\",\n                        data.rating\n                      ],\n                      tl: {\n                        hd: [\n                          \"type_\",\n                          toString(data.type_)\n                        ],\n                        tl: /* [] */0\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nvar dummy = {\n  firstName: \"Bye\",\n  id: Data_Id$Coronate.dummy,\n  lastName: \"Player\",\n  matchCount: 0,\n  rating: 0,\n  type_: /* Dummy */1\n};\n\nfunction makeMissing(id) {\n  return {\n          firstName: \"Anonymous\",\n          id: id,\n          lastName: \"Player\",\n          matchCount: 0,\n          rating: 0,\n          type_: /* Missing */2\n        };\n}\n\nfunction getMaybe(playerMap, id) {\n  if (Data_Id$Coronate.isDummy(id)) {\n    return dummy;\n  } else {\n    return Belt_Map.getWithDefault(playerMap, id, makeMissing(id));\n  }\n}\n\nexport {\n  Type ,\n  fullName ,\n  encode$1 as encode,\n  decode$1 as decode,\n  dummy ,\n  getMaybe ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\n\nfunction MakeEncodable(M) {\n  var encode = M.encode;\n  var encode$1 = Curry.__1(encode);\n  var decode = M.decode;\n  var decode$1 = Curry.__1(decode);\n  return {\n          encode: encode$1,\n          decode: decode$1\n        };\n}\n\nexport {\n  MakeEncodable ,\n  \n}\n/* No side effect */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Belt_MutableQueue from \"bs-platform/lib/es6/belt_MutableQueue.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\n\nfunction add(a, b) {\n  return a + b;\n}\n\nvar compare = Caml_primitive.caml_float_compare;\n\nfunction toFloat(x) {\n  return x;\n}\n\nfunction toNumeral(prim) {\n  return Numeral(prim);\n}\n\nfunction toFloat$1(x) {\n  switch (x) {\n    case /* Zero */0 :\n        return 0.0;\n    case /* One */1 :\n        return 1.0;\n    case /* NegOne */2 :\n        return -1.0;\n    case /* Half */3 :\n        return 0.5;\n    \n  }\n}\n\nfunction add$1(a, b) {\n  return a + toFloat$1(b);\n}\n\nfunction sum(list) {\n  return Belt_List.reduce(list, 0.0, add$1);\n}\n\nfunction calcScore(results, adjustment) {\n  return Belt_List.reduce(results, 0.0, add$1) + adjustment;\n}\n\nfunction fromResultWhite(x) {\n  if (x >= 3) {\n    return /* Zero */0;\n  }\n  switch (x) {\n    case /* WhiteWon */0 :\n        return /* One */1;\n    case /* BlackWon */1 :\n        return /* Zero */0;\n    case /* Draw */2 :\n        return /* Half */3;\n    \n  }\n}\n\nfunction fromResultBlack(x) {\n  if (x === 0) {\n    return /* Zero */0;\n  }\n  switch (x) {\n    case /* BlackWon */1 :\n        return /* One */1;\n    case /* Draw */2 :\n        return /* Half */3;\n    case /* NotSet */3 :\n        return /* Zero */0;\n    \n  }\n}\n\nfunction opposite(x) {\n  if (x) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(x) {\n  if (x) {\n    return /* One */1;\n  } else {\n    return /* NegOne */2;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction oppResultsToSumById(param, id) {\n  return Belt_List.reduce(param.opponentResults, undefined, (function (acc, param) {\n                var result = param[1];\n                if (Data_Id$Coronate.eq(id, param[0])) {\n                  if (acc !== undefined) {\n                    return Caml_option.some(Caml_option.valFromOption(acc) + toFloat$1(result));\n                  } else {\n                    return Caml_option.some(0.0 + toFloat$1(result));\n                  }\n                } else {\n                  return acc;\n                }\n              }));\n}\n\nfunction toString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction toPrettyString(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  var json$1 = Json_decode.string(json);\n  switch (json$1) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nfunction make(id) {\n  return {\n          colorScores: /* [] */0,\n          lastColor: undefined,\n          id: id,\n          isDummy: false,\n          opponentResults: /* [] */0,\n          ratings: /* [] */0,\n          firstRating: 0,\n          results: /* [] */0,\n          resultsNoByes: /* [] */0,\n          adjustment: 0.0\n        };\n}\n\nfunction isNotDummy(scores, oppId) {\n  var opponent = Belt_Map.get(scores, oppId);\n  if (opponent !== undefined) {\n    return !opponent.isDummy;\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return calcScore(match.results, match.adjustment);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.keepMap(match.opponentResults, (function (param) {\n                  var oppId = param[0];\n                  if (isNotDummy(scores, oppId)) {\n                    return Caml_option.some(getPlayerScore(scores, oppId));\n                  }\n                  \n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  var oppScores = getOpponentScores(scores, id);\n  var size = Belt_List.size(oppScores);\n  return Belt_List.reduce(Belt_List.keepWithIndex(Belt_List.sort(oppScores, compare), (function (param, i) {\n                    return !(i === 0 || i === (size - 1 | 0));\n                  })), 0.0, add);\n}\n\nfunction runningReducer(acc, score) {\n  if (!acc) {\n    return {\n            hd: toFloat$1(score),\n            tl: /* [] */0\n          };\n  }\n  var last = acc.hd;\n  return {\n          hd: last + toFloat$1(score),\n          tl: {\n            hd: last,\n            tl: acc.tl\n          }\n        };\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    var results = Belt_List.reduce(match.resultsNoByes, /* [] */0, runningReducer);\n    var adjustment = match.adjustment;\n    return Belt_List.reduce(results, 0.0, add) + adjustment;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.reduce(Belt_List.keepMap(match.opponentResults, (function (param) {\n                      var id = param[0];\n                      if (isNotDummy(scores, id)) {\n                        return Caml_option.some(getCumulativeScore(scores, id));\n                      }\n                      \n                    })), 0.0, add);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_List.reduce(match.colorScores, 0.0, add$1);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getTieBreak(scores, x) {\n  switch (x) {\n    case /* Median */0 :\n        return scores.median;\n    case /* Solkoff */1 :\n        return scores.solkoff;\n    case /* Cumulative */2 :\n        return scores.cumulative;\n    case /* CumulativeOfOpposition */3 :\n        return scores.cumulativeOfOpposition;\n    case /* MostBlack */4 :\n        return scores.mostBlack;\n    \n  }\n}\n\nfunction createStandingArray(t, orderedMethods) {\n  return Belt_SortArray.stableSortBy(Belt_Map.valuesToArray(Belt_Map.map(t, (function (param) {\n                        var id = param.id;\n                        return {\n                                id: id,\n                                score: calcScore(param.results, param.adjustment),\n                                median: getMedianScore(t, id),\n                                solkoff: Belt_List.reduce(getOpponentScores(t, id), 0.0, add),\n                                cumulative: getCumulativeScore(t, id),\n                                cumulativeOfOpposition: getCumulativeOfOpponentScore(t, id),\n                                mostBlack: getColorBalanceScore(t, id)\n                              };\n                      }))), (function (param, param$1) {\n                var x = Caml_primitive.caml_float_compare(param$1.score, param.score);\n                if (x !== 0) {\n                  return x;\n                } else {\n                  var _i = 0;\n                  while(true) {\n                    var i = _i;\n                    var tieBreak = Belt_Array.get(orderedMethods, i);\n                    if (tieBreak === undefined) {\n                      return 0;\n                    }\n                    var match = getTieBreak(param, tieBreak);\n                    var match$1 = getTieBreak(param$1, tieBreak);\n                    var x$1 = Caml_primitive.caml_float_compare(match$1, match);\n                    if (x$1 !== 0) {\n                      return x$1;\n                    }\n                    _i = i + 1 | 0;\n                    continue ;\n                  };\n                }\n              }));\n}\n\nfunction eq(a, b, tieBreaks) {\n  if (a.score === b.score) {\n    return Belt_Array.every(tieBreaks, (function (tb) {\n                  return getTieBreak(a, tb) === getTieBreak(b, tb);\n                }));\n  } else {\n    return false;\n  }\n}\n\nfunction createStandingTree(standingArray, tieBreaks) {\n  return Belt_Array.reduce(standingArray, /* [] */0, (function (tree, standing) {\n                if (!tree) {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: /* [] */0\n                          },\n                          tl: /* [] */0\n                        };\n                }\n                var treeTail = tree.tl;\n                var treeHead = tree.hd;\n                if (treeHead) {\n                  if (eq(treeHead.hd, standing, tieBreaks)) {\n                    return {\n                            hd: {\n                              hd: standing,\n                              tl: treeHead\n                            },\n                            tl: treeTail\n                          };\n                  } else {\n                    return {\n                            hd: {\n                              hd: standing,\n                              tl: /* [] */0\n                            },\n                            tl: {\n                              hd: treeHead,\n                              tl: treeTail\n                            }\n                          };\n                  }\n                } else {\n                  return {\n                          hd: {\n                            hd: standing,\n                            tl: /* [] */0\n                          },\n                          tl: tree\n                        };\n                }\n              }));\n}\n\nfunction update(data, playerId, origRating, newRating, result, oppId, color, scoreAdjustments) {\n  if (data !== undefined) {\n    return {\n            colorScores: {\n              hd: color ? /* One */1 : /* NegOne */2,\n              tl: data.colorScores\n            },\n            lastColor: color,\n            id: data.id,\n            isDummy: data.isDummy,\n            opponentResults: {\n              hd: [\n                oppId,\n                result\n              ],\n              tl: data.opponentResults\n            },\n            ratings: {\n              hd: newRating,\n              tl: data.ratings\n            },\n            firstRating: data.firstRating,\n            results: {\n              hd: result,\n              tl: data.results\n            },\n            resultsNoByes: Data_Id$Coronate.isDummy(oppId) ? data.resultsNoByes : ({\n                  hd: result,\n                  tl: data.resultsNoByes\n                }),\n            adjustment: data.adjustment\n          };\n  } else {\n    return {\n            colorScores: {\n              hd: color ? /* One */1 : /* NegOne */2,\n              tl: /* [] */0\n            },\n            lastColor: color,\n            id: playerId,\n            isDummy: Data_Id$Coronate.isDummy(playerId),\n            opponentResults: {\n              hd: [\n                oppId,\n                result\n              ],\n              tl: /* [] */0\n            },\n            ratings: {\n              hd: newRating,\n              tl: /* [] */0\n            },\n            firstRating: origRating,\n            results: {\n              hd: result,\n              tl: /* [] */0\n            },\n            resultsNoByes: Data_Id$Coronate.isDummy(oppId) ? /* [] */0 : ({\n                  hd: result,\n                  tl: /* [] */0\n                }),\n            adjustment: Belt_Map.getWithDefault(scoreAdjustments, playerId, 0.0)\n          };\n  }\n}\n\nfunction fromTournament(roundList, scoreAdjustments) {\n  return Belt_MutableQueue.reduce(Data_Rounds$Coronate.rounds2Matches(roundList), Belt_Map.make(Data_Id$Coronate.id), (function (acc, match) {\n                var match$1 = match.result;\n                if (match$1 >= 3) {\n                  return acc;\n                }\n                var arg = match.whiteId;\n                var arg$1 = match.whiteOrigRating;\n                var arg$2 = match.whiteNewRating;\n                var arg$3 = fromResultWhite(match.result);\n                var arg$4 = match.blackId;\n                var whiteUpdate = function (param) {\n                  return update(param, arg, arg$1, arg$2, arg$3, arg$4, /* White */0, scoreAdjustments);\n                };\n                var arg$5 = match.blackId;\n                var arg$6 = match.blackOrigRating;\n                var arg$7 = match.blackNewRating;\n                var arg$8 = fromResultBlack(match.result);\n                var arg$9 = match.whiteId;\n                var blackUpdate = function (param) {\n                  return update(param, arg$5, arg$6, arg$7, arg$8, arg$9, /* Black */1, scoreAdjustments);\n                };\n                return Belt_Map.update(Belt_Map.update(acc, match.whiteId, whiteUpdate), match.blackId, blackUpdate);\n              }));\n}\n\nvar Score_Sum = {\n  toFloat: toFloat,\n  toNumeral: toNumeral\n};\n\nvar Score = {\n  Sum: Score_Sum,\n  fromResultWhite: fromResultWhite,\n  fromResultBlack: fromResultBlack,\n  sum: sum,\n  calcScore: calcScore,\n  toFloat: toFloat$1\n};\n\nvar TieBreak = {\n  encode: encode,\n  decode: decode,\n  toString: toString,\n  toPrettyString: toPrettyString\n};\n\nexport {\n  Score ,\n  Color ,\n  oppResultsToSumById ,\n  TieBreak ,\n  make ,\n  getTieBreak ,\n  createStandingArray ,\n  createStandingTree ,\n  fromTournament ,\n  \n}\n/* numeral Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction make(id, name) {\n  return {\n          id: id,\n          name: name,\n          date: new Date(),\n          playerIds: Belt_Set.make(Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.empty\n        };\n}\n\nfunction decode(json) {\n  var partial_arg_1 = {\n    hd: (function (prim) {\n        return prim;\n      }),\n    tl: /* [] */0\n  };\n  var partial_arg = {\n    hd: Json_decode.date,\n    tl: partial_arg_1\n  };\n  var __x = Json_decode.optional((function (param) {\n          return Json_decode.field(\"scoreAdjustments\", (function (param) {\n                        return Json_decode.array((function (param) {\n                                      return Json_decode.tuple2(Data_Id$Coronate.decode, Json_decode.$$float, param);\n                                    }), param);\n                      }), param);\n        }), json);\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          date: Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          playerIds: (function (param) {\n                return Belt_Set.fromArray(param, Data_Id$Coronate.id);\n              })(Json_decode.field(\"playerIds\", (function (param) {\n                      return Json_decode.array(Data_Id$Coronate.decode, param);\n                    }), json)),\n          scoreAdjustments: Belt_Option.mapWithDefault(__x, Belt_Map.make(Data_Id$Coronate.id), (function (param) {\n                  return Belt_Map.fromArray(param, Data_Id$Coronate.id);\n                })),\n          byeQueue: Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Data_Id$Coronate.decode, param);\n                }), json),\n          tieBreaks: Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(Data_Scoring$Coronate.TieBreak.decode, param);\n                }), json),\n          roundList: Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        };\n}\n\nfunction encode(data) {\n  return Json_encode.object_({\n              hd: [\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              tl: {\n                hd: [\n                  \"name\",\n                  data.name\n                ],\n                tl: {\n                  hd: [\n                    \"date\",\n                    Json_encode.date(data.date)\n                  ],\n                  tl: {\n                    hd: [\n                      \"playerIds\",\n                      Json_encode.array(Data_Id$Coronate.encode, Belt_Set.toArray(data.playerIds))\n                    ],\n                    tl: {\n                      hd: [\n                        \"byeQueue\",\n                        Json_encode.array(Data_Id$Coronate.encode, data.byeQueue)\n                      ],\n                      tl: {\n                        hd: [\n                          \"tieBreaks\",\n                          Json_encode.array(Data_Scoring$Coronate.TieBreak.encode, data.tieBreaks)\n                        ],\n                        tl: {\n                          hd: [\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data.roundList)\n                          ],\n                          tl: {\n                            hd: [\n                              \"scoreAdjustments\",\n                              Json_encode.array((function (param) {\n                                      return Json_encode.tuple2(Data_Id$Coronate.encode, (function (prim) {\n                                                    return prim;\n                                                  }), param);\n                                    }), Belt_Map.toArray(data.scoreAdjustments))\n                            ],\n                            tl: /* [] */0\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nexport {\n  make ,\n  encode ,\n  decode ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\n\nfunction make(config, data) {\n  return {\n          store: Localforage.createInstance(config),\n          encode: data.encode,\n          decode: data.decode\n        };\n}\n\nfunction getItem(param, key) {\n  var decode = param.decode;\n  return param.store.getItem(key).then(function (value) {\n              var value$1;\n              try {\n                value$1 = Belt_Option.mapU((value == null) ? undefined : Caml_option.some(value), decode);\n              }\n              catch (raw_error){\n                return Promise.reject(Caml_js_exceptions.internalToOCamlException(raw_error));\n              }\n              return Promise.resolve(value$1);\n            });\n}\n\nfunction setItem(param, key, v) {\n  return param.store.setItem(key, param.encode(v));\n}\n\nfunction getKeys(param) {\n  return param.store.keys();\n}\n\nfunction mapValues(param, f) {\n  return [\n          param[0],\n          f(param[1])\n        ];\n}\n\nfunction parseItems(decode, items) {\n  return Js_dict.entries(items).map(function (param) {\n              return mapValues(param, decode);\n            });\n}\n\nfunction getItems(param, keys) {\n  var decode = param.decode;\n  return param.store.getItems(keys).then(function (items) {\n              var items$1;\n              try {\n                items$1 = parseItems(decode, items);\n              }\n              catch (raw_error){\n                return Promise.reject(Caml_js_exceptions.internalToOCamlException(raw_error));\n              }\n              return Promise.resolve(items$1);\n            });\n}\n\nfunction getAllItems(param) {\n  var decode = param.decode;\n  return param.store.getItems().then(function (items) {\n              var items$1;\n              try {\n                items$1 = parseItems(decode, items);\n              }\n              catch (raw_error){\n                return Promise.reject(Caml_js_exceptions.internalToOCamlException(raw_error));\n              }\n              return Promise.resolve(items$1);\n            });\n}\n\nfunction setItems(param, items) {\n  var encode = param.encode;\n  return param.store.setItems(Js_dict.fromArray(items.map(function (param) {\n                      return mapValues(param, encode);\n                    })));\n}\n\nfunction removeItems(param, items) {\n  return param.store.removeItems(items);\n}\n\nfunction iterateU(param, f) {\n  var decode = param.decode;\n  return param.store.iterate(function (value, key, iterationNumber) {\n              return f(decode(value), key, iterationNumber);\n            });\n}\n\nfunction iterate(map, f) {\n  return iterateU(map, Curry.__3(f));\n}\n\nexport {\n  make ,\n  getItem ,\n  setItem ,\n  getKeys ,\n  getItems ,\n  getAllItems ,\n  setItems ,\n  removeItems ,\n  iterateU ,\n  iterate ,\n  \n}\n/* localforage Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Localforage from \"localforage\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\n\nfunction make(config, data) {\n  return {\n          store: Localforage.createInstance(config),\n          encode: data.encode,\n          decode: data.decode\n        };\n}\n\nfunction get(param) {\n  var decode = param.decode;\n  return param.store.getItems().then(function (items) {\n              var items$1;\n              try {\n                items$1 = decode(items);\n              }\n              catch (raw_error){\n                return Promise.reject(Caml_js_exceptions.internalToOCamlException(raw_error));\n              }\n              return Promise.resolve(items$1);\n            });\n}\n\nfunction set(param, items) {\n  return param.store.setItems(param.encode(items));\n}\n\nexport {\n  make ,\n  get ,\n  set ,\n  \n}\n/* localforage Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.bs.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./testdata/DemoData.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as LocalForage_Id$Coronate from \"./Externals/LocalForage_Id.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\nimport * as LocalForage_Map$Coronate from \"./Externals/LocalForage_Map.bs.js\";\nimport * as LocalForage_Record$Coronate from \"./Externals/LocalForage_Record.bs.js\";\n\nfunction func(prim, prim$1, prim$2, prim$3, prim$4, prim$5, prim$6) {\n  var tmp = {\n    name: prim$2,\n    storeName: prim$4\n  };\n  if (prim !== undefined) {\n    tmp.description = Caml_option.valFromOption(prim);\n  }\n  if (prim$1 !== undefined) {\n    tmp.driver = Caml_option.valFromOption(prim$1);\n  }\n  if (prim$3 !== undefined) {\n    tmp.size = Caml_option.valFromOption(prim$3);\n  }\n  if (prim$5 !== undefined) {\n    tmp.version = Caml_option.valFromOption(prim$5);\n  }\n  return tmp;\n}\n\nvar Config = LocalForage_Id$Coronate.MakeEncodable({\n      encode: Data_Config$Coronate.encode,\n      decode: Data_Config$Coronate.decode\n    });\n\nvar Player = LocalForage_Id$Coronate.MakeEncodable({\n      encode: Data_Player$Coronate.encode,\n      decode: Data_Player$Coronate.decode\n    });\n\nvar Tournament = LocalForage_Id$Coronate.MakeEncodable({\n      encode: Data_Tournament$Coronate.encode,\n      decode: Data_Tournament$Coronate.decode\n    });\n\nvar configDb = LocalForage_Record$Coronate.make(func(undefined, undefined, \"Coronate\", undefined, \"Options\", undefined, undefined), Config);\n\nvar players = LocalForage_Map$Coronate.make(func(undefined, undefined, \"Coronate\", undefined, \"Players\", undefined, undefined), Player);\n\nvar tournaments = LocalForage_Map$Coronate.make(func(undefined, undefined, \"Coronate\", undefined, \"Tournaments\", undefined, undefined), Tournament);\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  return $$Promise.get($$Promise.Js.$$catch($$Promise.Js.fromBsPromise(Promise.all([\n                          LocalForage_Record$Coronate.set(configDb, DemoData$Coronate.config),\n                          LocalForage_Map$Coronate.setItems(players, Curry._1(Data_Id$Coronate.$$Map.toStringArray, DemoData$Coronate.players)),\n                          LocalForage_Map$Coronate.setItems(tournaments, Curry._1(Data_Id$Coronate.$$Map.toStringArray, DemoData$Coronate.tournaments))\n                        ])), (function (param) {\n                    ((document.body.style.cursor = \"auto\"));\n                    Utils$Coronate.alert(\"Couldn't load demo data.\");\n                    return $$Promise.resolved([\n                                undefined,\n                                undefined,\n                                undefined\n                              ]);\n                  })), (function (param) {\n                ((document.body.style.cursor = \"auto\"));\n                return Utils$Coronate.alert(\"Demo data loaded!\");\n              }));\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* Del */0 :\n        return Belt_Map.remove(state, action._0);\n    case /* Set */1 :\n        return Belt_Map.set(state, action._0, action._1);\n    case /* SetAll */2 :\n        return action._0;\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Belt_Map.make(Data_Id$Coronate.id));\n  var dispatch = match[1];\n  var items = match[0];\n  var loaded = Hooks$Coronate.useBool(false);\n  Hooks$Coronate.useLoadingCursorUntil(loaded.state);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(LocalForage_Map$Coronate.getAllItems(store))), (function (results) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, {\n                              TAG: /* SetAll */2,\n                              _0: Data_Id$Coronate.$$Map.fromStringArray(results)\n                            });\n                        return Curry._1(loaded.setTrue, undefined);\n                      }\n                      \n                    })), (function (error) {\n                  if (!didCancel.contents) {\n                    console.error(error);\n                    Localforage.clear();\n                    return Curry._1(loaded.setTrue, undefined);\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), []);\n  React.useEffect((function () {\n          if (loaded.state) {\n            $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(LocalForage_Map$Coronate.setItems(store, Curry._1(Data_Id$Coronate.$$Map.toStringArray, items)))), (function (param) {\n                    return $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(LocalForage_Map$Coronate.getKeys(store))), (function (keys) {\n                                  var stateKeys = Belt_Map.keysToArray(items);\n                                  var deleted = keys.filter(function (x) {\n                                        return !stateKeys.includes(Data_Id$Coronate.fromString(x));\n                                      });\n                                  if (deleted.length !== 0) {\n                                    LocalForage_Map$Coronate.removeItems(store, deleted);\n                                    return ;\n                                  }\n                                  \n                                }));\n                  }));\n          }\n          \n        }), [\n        items,\n        loaded\n      ]);\n  return {\n          items: items,\n          dispatch: dispatch,\n          loaded: loaded.state\n        };\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* AddAvoidPair */0 :\n        return {\n                avoidPairs: Belt_Set.add(state.avoidPairs, action._0),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidPair */1 :\n        return {\n                avoidPairs: Belt_Set.remove(state.avoidPairs, action._0),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidSingle */2 :\n        var id = action._0;\n        return {\n                avoidPairs: Belt_Set.keep(state.avoidPairs, (function (pair) {\n                        return !Data_Id$Coronate.Pair.has(pair, id);\n                      })),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetAvoidPairs */3 :\n        return {\n                avoidPairs: action._0,\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetByeValue */4 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: action._0,\n                lastBackup: state.lastBackup\n              };\n    case /* SetState */5 :\n        return action._0;\n    case /* SetLastBackup */6 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: state.byeValue,\n                lastBackup: action._0\n              };\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var loaded = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(LocalForage_Record$Coronate.get(configDb))), (function (values) {\n                      if (!didCancel.contents) {\n                        Curry._1(dispatch, {\n                              TAG: /* SetState */5,\n                              _0: values\n                            });\n                        return Curry._1(loaded.setTrue, undefined);\n                      }\n                      \n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    Localforage.clear();\n                    Curry._1(dispatch, {\n                          TAG: /* SetState */5,\n                          _0: Data_Config$Coronate.$$default\n                        });\n                    return Curry._1(loaded.setTrue, undefined);\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), []);\n  React.useEffect((function () {\n          if (loaded.state) {\n            LocalForage_Record$Coronate.set(configDb, config);\n          }\n          \n        }), [\n        config,\n        loaded.state\n      ]);\n  return [\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  loadDemoDB ,\n  Config ,\n  Tournament ,\n  Player ,\n  tournaments ,\n  useAllPlayers ,\n  useAllTournaments ,\n  useConfig ,\n  \n}\n/* Config Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.bs.js\";\n\nfunction fromPath(x) {\n  if (!x) {\n    return /* Players */0;\n  }\n  switch (x.hd) {\n    case \"\" :\n        if (x.tl) {\n          return ;\n        } else {\n          return /* Players */0;\n        }\n    case \"crosstable\" :\n        if (x.tl) {\n          return ;\n        } else {\n          return /* Crosstable */2;\n        }\n    case \"round\" :\n        var match = x.tl;\n        if (!match) {\n          return ;\n        }\n        if (match.tl) {\n          return ;\n        }\n        var y = Belt_Int.fromString(match.hd);\n        if (y !== undefined) {\n          return /* Round */{\n                  _0: y\n                };\n        } else {\n          return ;\n        }\n    case \"scores\" :\n        if (x.tl) {\n          return ;\n        } else {\n          return /* Scores */1;\n        }\n    case \"setup\" :\n        if (x.tl) {\n          return ;\n        } else {\n          return /* Setup */3;\n        }\n    case \"status\" :\n        if (x.tl) {\n          return ;\n        } else {\n          return /* Status */4;\n        }\n    default:\n      return ;\n  }\n}\n\nfunction toString(id, subPage) {\n  if (typeof subPage !== \"number\") {\n    return Data_Id$Coronate.toString(id) + (\"/round/\" + String(subPage._0));\n  }\n  switch (subPage) {\n    case /* Players */0 :\n        return Data_Id$Coronate.toString(id) + \"/\";\n    case /* Scores */1 :\n        return Data_Id$Coronate.toString(id) + \"/scores\";\n    case /* Crosstable */2 :\n        return Data_Id$Coronate.toString(id) + \"/crosstable\";\n    case /* Setup */3 :\n        return Data_Id$Coronate.toString(id) + \"/setup\";\n    case /* Status */4 :\n        return Data_Id$Coronate.toString(id) + \"/status\";\n    \n  }\n}\n\nfunction toString$1(x) {\n  if (typeof x !== \"number\") {\n    if (x.TAG === /* Tournament */0) {\n      return \"/tourneys/\" + toString(x._0, x._1);\n    } else {\n      return \"/players/\" + Data_Id$Coronate.toString(x._0);\n    }\n  }\n  switch (x) {\n    case /* TournamentList */1 :\n        return \"/tourneys\";\n    case /* PlayerList */2 :\n        return \"/players\";\n    case /* TimeCalculator */3 :\n        return \"/timecalc\";\n    case /* Options */4 :\n        return \"/options\";\n    case /* Index */0 :\n    case /* NotFound */5 :\n        return \"/\";\n    \n  }\n}\n\nfunction useHashUrl(param) {\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var x = Belt_List.fromArray(match.hash.split(\"/\"));\n  if (!x) {\n    return /* NotFound */5;\n  }\n  if (x.hd !== \"\") {\n    return /* NotFound */5;\n  }\n  var match$1 = x.tl;\n  if (!match$1) {\n    return /* Index */0;\n  }\n  switch (match$1.hd) {\n    case \"\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* Index */0;\n        }\n    case \"options\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* Options */4;\n        }\n    case \"players\" :\n        var match$2 = match$1.tl;\n        if (match$2) {\n          if (match$2.tl) {\n            return /* NotFound */5;\n          } else {\n            return {\n                    TAG: /* Player */1,\n                    _0: Data_Id$Coronate.fromString(match$2.hd)\n                  };\n          }\n        } else {\n          return /* PlayerList */2;\n        }\n    case \"timecalc\" :\n        if (match$1.tl) {\n          return /* NotFound */5;\n        } else {\n          return /* TimeCalculator */3;\n        }\n    case \"tourneys\" :\n        var match$3 = match$1.tl;\n        if (!match$3) {\n          return /* TournamentList */1;\n        }\n        var page = fromPath(match$3.tl);\n        if (page !== undefined) {\n          return {\n                  TAG: /* Tournament */0,\n                  _0: Data_Id$Coronate.fromString(match$3.hd),\n                  _1: page\n                };\n        } else {\n          return /* NotFound */5;\n        }\n    default:\n      return /* NotFound */5;\n  }\n}\n\nfunction Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var onClick = Props.onClick;\n  var match = ReasonReactRouter.useUrl(undefined, undefined);\n  var hash = match.hash;\n  var href = toString$1(to_);\n  var isCurrent = href === \"/\" ? hash === \"\" || hash === href : hash === href;\n  return React.createElement(\"a\", {\n              \"aria-current\": isCurrent,\n              href: \"#\" + href,\n              onDragStart: onDragStart,\n              onClick: onClick\n            }, children);\n}\n\nvar HashLink = {\n  make: Router$HashLink\n};\n\nvar TourneyPage = {};\n\nexport {\n  TourneyPage ,\n  useHashUrl ,\n  HashLink ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\n\nfunction Pages$Splash(Props) {\n  return React.createElement(\"div\", {\n              className: \"pages__container\"\n            }, React.createElement(\"aside\", {\n                  className: \"pages__hint\"\n                }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                          className: \"pages__hint-item\"\n                        }, React.createElement(\"button\", {\n                              className: \"button-primary\",\n                              onClick: (function (param) {\n                                  return Db$Coronate.loadDemoDB(undefined);\n                                })\n                            }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                          className: \"pages__hint-item\"\n                        }, React.createElement(ReactFeather.ArrowLeft, {}), \" Select a menu item.\"), React.createElement(\"li\", {\n                          className: \"pages__hint-item\"\n                        }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                      children: React.createElement(\"div\", undefined, React.createElement(\"p\", undefined, \"Coronate requires no account to use, and\", React.createElement(\"br\", undefined), \"saves your data locally in your browser.\"), React.createElement(\"p\", undefined, \"To manage your data, visit the \", React.createElement(Router$Coronate.HashLink.make, {\n                                    children: \"Options\",\n                                    to_: /* Options */4\n                                  }), \" page.\")),\n                      kind: /* Warning */1\n                    })), React.createElement(\"div\", {\n                  className: \"pages__title\"\n                }, React.createElement(\"div\", {\n                      className: \"pages__title-icon\"\n                    }, React.createElement(\"img\", {\n                          alt: \"\",\n                          height: \"96\",\n                          src: Utils$Coronate.WebpackAssets.logo,\n                          width: \"96\"\n                        })), React.createElement(\"div\", {\n                      className: \"pages__title-text\"\n                    }, React.createElement(\"h1\", {\n                          className: \"title\",\n                          style: {\n                            fontSize: \"40px\"\n                          }\n                        }, \"Coronate\"), React.createElement(\"p\", {\n                          className: \"pages__subtitle caption-30\"\n                        }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                  className: \"pages__footer body-20\"\n                }, React.createElement(\"div\", {\n                      className: \"pages__footer-left\"\n                    }, React.createElement(\"p\", undefined, \"Do you enjoy using Coronate?\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                              href: \"https://www.buymeacoffee.com/johnridesabike\",\n                              target: \"_blank\"\n                            }, React.createElement(\"img\", {\n                                  style: {\n                                    height: \"60px \",\n                                    width: \"217px \"\n                                  },\n                                  alt: \"Buy Me A Coffee\",\n                                  height: \"60\",\n                                  src: \"https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png\",\n                                  width: \"217\"\n                                })))), React.createElement(\"div\", {\n                      className: \"pages__footer-right\"\n                    }, React.createElement(\"p\", undefined, \"Copyright \" + Utils$Coronate.Entities.copy + \" 2021 John Jackson.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                              className: \"pages__footer-link\",\n                              href: Utils$Coronate.issues_url\n                            }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                              className: \"pages__footer-link\",\n                              href: Utils$Coronate.github_url\n                            }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                              className: \"pages__footer-link\",\n                              href: Utils$Coronate.license_url\n                            }, \"AGPL v3.0 license\"), \".\"))));\n}\n\nvar Splash = {\n  make: Pages$Splash\n};\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Pervasives.infinity || num === Pervasives.neg_infinity) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var safeValue = value < minimum ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState(function () {\n        return 2;\n      });\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState(function () {\n        return 5;\n      });\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState(function () {\n        return 4.0;\n      });\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                  className: \"caption-30\"\n                }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                      style: {\n                        margin: \"0\"\n                      }\n                    }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                      htmlFor: \"playerCount\"\n                                    }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                      id: \"playerCount\",\n                                      style: {\n                                        width: \"40px\"\n                                      },\n                                      min: String(0),\n                                      type: \"number\",\n                                      value: String(players),\n                                      onChange: (function (param) {\n                                          return updateInt(setPlayers, 0, param);\n                                        })\n                                    }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                      htmlFor: \"breakTime\"\n                                    }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                      id: \"breakTime\",\n                                      style: {\n                                        width: \"40px\"\n                                      },\n                                      min: String(0),\n                                      step: 5.0,\n                                      type: \"number\",\n                                      value: String(breakTime),\n                                      onChange: (function (param) {\n                                          return updateInt(setBreakTime, 0, param);\n                                        })\n                                    }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                      htmlFor: \"totalTime\"\n                                    }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                      id: \"totalTime\",\n                                      style: {\n                                        width: \"40px\"\n                                      },\n                                      min: String(0.5),\n                                      step: 0.5,\n                                      type: \"number\",\n                                      value: String(totalTime),\n                                      onChange: (function (param) {\n                                          var minimum = 0.5;\n                                          param.preventDefault();\n                                          var value = Belt_Option.getWithDefault(Belt_Float.fromString(param.currentTarget.value), minimum);\n                                          var safeValue = value < minimum ? minimum : value;\n                                          return Curry._1(setTotalTime, (function (param) {\n                                                        return safeValue;\n                                                      }));\n                                        })\n                                    }), \" hours\"))))), React.createElement(\"p\", {\n                  className: \"title-20\"\n                }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                      className: \"title-20\"\n                    }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)), \" minutes\"), React.createElement(\"span\", {\n                      className: \"caption-30\"\n                    }, \" = ((\", React.createElement(\"strong\", {\n                          className: \"monospace\"\n                        }, totalTime), \"  60  log(\", React.createElement(\"strong\", {\n                          className: \"monospace\"\n                        }, players), \")) - \", React.createElement(\"strong\", {\n                          className: \"monospace\"\n                        }, breakTime), \")  2\")));\n}\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nvar TimeCalculator = {\n  make: Pages$TimeCalculator\n};\n\nexport {\n  Splash ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar $$FileReader = {};\n\nvar VisuallyHidden = {};\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var styleOpt = Props.style;\n  var className = Props.className;\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({});\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children,\n              className: className\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = {};\n\nvar TabList = {};\n\nvar Tab = {};\n\nvar TabPanels = {};\n\nvar TabPanel = {};\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nexport {\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Externals$Coronate from \"./Externals/Externals.bs.js\";\nimport * as Webapi__Dom__Document from \"bs-webapi/src/Webapi/Dom/Webapi__Dom__Document.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(x) {\n  if (x === \"\") {\n    return global_title;\n  } else {\n    return x + \" - \" + global_title;\n  }\n}\n\nfunction windowReducer(state, action) {\n  switch (action.TAG | 0) {\n    case /* SetDialog */0 :\n        return {\n                isDialogOpen: action._0,\n                isMobileSidebarOpen: state.isMobileSidebarOpen,\n                title: state.title\n              };\n    case /* SetSidebar */1 :\n        return {\n                isDialogOpen: state.isDialogOpen,\n                isMobileSidebarOpen: action._0,\n                title: state.title\n              };\n    case /* SetTitle */2 :\n        var title = action._0;\n        Belt_Option.forEach(Webapi__Dom__Document.asHtmlDocument(document), (function (__x) {\n                __x.title = formatTitle(title);\n                \n              }));\n        return {\n                isDialogOpen: state.isDialogOpen,\n                isMobileSidebarOpen: state.isMobileSidebarOpen,\n                title: title\n              };\n    \n  }\n}\n\nfunction Window$About(Props) {\n  return React.createElement(\"article\", {\n              className: \"win__about\"\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), React.createElement(\"p\", undefined, \"Version \" + process.env.APP_VERSION + \"-\" + process.env.GIT_HASH), React.createElement(\"p\", undefined, \"Copyright \" + Utils$Coronate.Entities.copy + \" 2021 John\" + Utils$Coronate.Entities.nbsp + \"Jackson\"), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url\n                        }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar toolbarClasses = \"win__titlebar-button button-ghost button-ghost-large\";\n\nfunction Window$TitleBar(Props) {\n  var isMobileSidebarOpen = Props.isMobileSidebarOpen;\n  var title = Props.title;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: \"app__header\"\n            }, React.createElement(\"button\", {\n                  className: \"mobile-only \" + toolbarClasses,\n                  onClick: (function (param) {\n                      return Curry._1(dispatch, {\n                                  TAG: /* SetSidebar */1,\n                                  _0: !isMobileSidebarOpen\n                                });\n                    })\n                }, React.createElement(ReactFeather.Menu, {}), React.createElement(VisuallyHidden, {\n                      children: \"Toggle sidebar\"\n                    })), React.createElement(\"div\", {\n                  className: \"body-20\",\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    overflow: \"hidden\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    whiteSpace: \"nowrap\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(title)), React.createElement(\"button\", {\n                  className: toolbarClasses,\n                  onClick: (function (param) {\n                      return Curry._1(dispatch, {\n                                  TAG: /* SetDialog */0,\n                                  _0: true\n                                });\n                    })\n                }, React.createElement(ReactFeather.HelpCircle, {}), React.createElement(VisuallyHidden, {\n                      children: \"About Coronate\"\n                    })));\n}\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, {\n        isDialogOpen: false,\n        isMobileSidebarOpen: false,\n        title: \"\"\n      });\n  var state = match[0];\n  var isMobileSidebarOpen = state.isMobileSidebarOpen;\n  var dispatch = match[1];\n  return React.createElement(\"div\", {\n              className: Cn.append(className, isMobileSidebarOpen ? \"mobile-sidebar-open\" : \"mobile-sidebar-closed\")\n            }, React.createElement(Window$TitleBar, {\n                  isMobileSidebarOpen: isMobileSidebarOpen,\n                  title: state.title,\n                  dispatch: dispatch\n                }), Curry._1(children, dispatch), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state.isDialogOpen,\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, {\n                                  TAG: /* SetDialog */0,\n                                  _0: false\n                                });\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  className: \"win__about-dialog\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, {\n                                      TAG: /* SetDialog */0,\n                                      _0: false\n                                    });\n                        })\n                    }, \"Close\"), React.createElement(Window$About, {})));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction Window$DefaultSidebar(Props) {\n  var dispatch = Props.dispatch;\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TournamentList */1,\n                          onDragStart: noDraggy,\n                          onClick: (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetSidebar */1,\n                                          _0: false\n                                        });\n                            })\n                        }, React.createElement(ReactFeather.Award, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* PlayerList */2,\n                          onDragStart: noDraggy,\n                          onClick: (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetSidebar */1,\n                                          _0: false\n                                        });\n                            })\n                        }, React.createElement(ReactFeather.Users, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Options */4,\n                          onDragStart: noDraggy,\n                          onClick: (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetSidebar */1,\n                                          _0: false\n                                        });\n                            })\n                        }, React.createElement(ReactFeather.Settings, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TimeCalculator */3,\n                          onDragStart: noDraggy,\n                          onClick: (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetSidebar */1,\n                                          _0: false\n                                        });\n                            })\n                        }, React.createElement(ReactFeather.Clock, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Index */0,\n                          onDragStart: noDraggy,\n                          onClick: (function (param) {\n                              return Curry._1(dispatch, {\n                                          TAG: /* SetSidebar */1,\n                                          _0: false\n                                        });\n                            })\n                        }, React.createElement(ReactFeather.HelpCircle, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nfunction sidebarCallback(dispatch) {\n  return React.createElement(Window$DefaultSidebar, {\n              dispatch: dispatch\n            });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var windowDispatch = Props.windowDispatch;\n  var footerFunc = Props.footerFunc;\n  var sidebarFuncOpt = Props.sidebarFunc;\n  var sidebarFunc = sidebarFuncOpt !== undefined ? sidebarFuncOpt : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.append(\"winBody\", Cn.onSome(\"winBody-hasFooter\", footerFunc))\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, windowDispatch)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: \"win__footer\"\n                  }, Curry._1(footerFunc, undefined)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make = $$Window;\n\nexport {\n  Body ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\n\nvar byeRoundTourney = Data_Id$Coronate.fromString(\"Bye_Round_Tourney____\");\n\nvar byeRoundTourney2 = Data_Id$Coronate.fromString(\"Bye_Round_Tourney_2__\");\n\nvar byeRoundTourney3 = Data_Id$Coronate.fromString(\"Bye_Tourney_3________\");\n\nvar simplePairing = Data_Id$Coronate.fromString(\"Simple_Pairing_______\");\n\nvar deletedPlayerTourney = Data_Id$Coronate.fromString(\"Deleted_Player_Torney\");\n\nvar pairingWithDraws = Data_Id$Coronate.fromString(\"Pairing_With_Draws___\");\n\nvar scoreTest = Data_Id$Coronate.fromString(\"WY_AzAeDDZeHMbhgUVuum\");\n\nvar crowTRobot = Data_Id$Coronate.fromString(\"Crow_T_Robot_________\");\n\nvar drClaytonForrester = Data_Id$Coronate.fromString(\"Dr_Clayton_Forrester_\");\n\nvar grandyMcMaster = Data_Id$Coronate.fromString(\"Grandy_McMaster______\");\n\nvar gypsy = Data_Id$Coronate.fromString(\"Gypsy________________\");\n\nvar joelRobinson = Data_Id$Coronate.fromString(\"Joel_Robinson________\");\n\nvar newbieMcNewberson = Data_Id$Coronate.fromString(\"Newbie_McNewberson___\");\n\nvar tomServo = Data_Id$Coronate.fromString(\"Tom_Servo____________\");\n\nvar tvsFrank = Data_Id$Coronate.fromString(\"TVs_Frank____________\");\n\nvar cambot = Data_Id$Coronate.fromString(\"Cambot_______________\");\n\nvar jonah = Data_Id$Coronate.fromString(\"Jonah_Heston_________\");\n\nvar kinga = Data_Id$Coronate.fromString(\"Kinga_Forrester______\");\n\nvar larry = Data_Id$Coronate.fromString(\"Larry_Erhardt________\");\n\nvar mike = Data_Id$Coronate.fromString(\"Mike_Nelson__________\");\n\nvar observer = Data_Id$Coronate.fromString(\"Observer_Brain_Guy___\");\n\nvar pearl = Data_Id$Coronate.fromString(\"Pearl_Forrester______\");\n\nvar bobo = Data_Id$Coronate.fromString(\"Professor_Bobo_______\");\n\nvar tvsSon = Data_Id$Coronate.fromString(\"TVs_Son_of_TVs_Frank_\");\n\nvar deletedPlayer = Data_Id$Coronate.fromString(\"Deleted_Player_______\");\n\nvar config_avoidPairs = Belt_Set.fromArray(Belt_Array.keepMap([\n          [\n            tvsFrank,\n            tvsSon\n          ],\n          [\n            pearl,\n            drClaytonForrester\n          ],\n          [\n            kinga,\n            drClaytonForrester\n          ],\n          [\n            kinga,\n            pearl\n          ]\n        ], (function (param) {\n            return Data_Id$Coronate.Pair.make(param[0], param[1]);\n          })), Data_Id$Coronate.Pair.id);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = Belt_Map.fromArray([\n      [\n        cambot,\n        {\n          firstName: \"Cambot\",\n          id: cambot,\n          lastName: \"\",\n          matchCount: 25,\n          rating: 1500,\n          type_: /* Person */0\n        }\n      ],\n      [\n        crowTRobot,\n        {\n          firstName: \"Crow T\",\n          id: crowTRobot,\n          lastName: \"Robot\",\n          matchCount: 5,\n          rating: 1700,\n          type_: /* Person */0\n        }\n      ],\n      [\n        drClaytonForrester,\n        {\n          firstName: \"Clayton\",\n          id: drClaytonForrester,\n          lastName: \"Forrester\",\n          matchCount: 40,\n          rating: 2100,\n          type_: /* Person */0\n        }\n      ],\n      [\n        grandyMcMaster,\n        {\n          firstName: \"Grandy\",\n          id: grandyMcMaster,\n          lastName: \"McMaster\",\n          matchCount: 100,\n          rating: 2600,\n          type_: /* Person */0\n        }\n      ],\n      [\n        gypsy,\n        {\n          firstName: \"Gypsy\",\n          id: gypsy,\n          lastName: \"\",\n          matchCount: 15,\n          rating: 1600,\n          type_: /* Person */0\n        }\n      ],\n      [\n        joelRobinson,\n        {\n          firstName: \"Joel\",\n          id: joelRobinson,\n          lastName: \"Robinson\",\n          matchCount: 70,\n          rating: 2400,\n          type_: /* Person */0\n        }\n      ],\n      [\n        jonah,\n        {\n          firstName: \"Jonah\",\n          id: jonah,\n          lastName: \"Heston\",\n          matchCount: 50,\n          rating: 2200,\n          type_: /* Person */0\n        }\n      ],\n      [\n        kinga,\n        {\n          firstName: \"Kinga\",\n          id: kinga,\n          lastName: \"Forrester\",\n          matchCount: 20,\n          rating: 1900,\n          type_: /* Person */0\n        }\n      ],\n      [\n        larry,\n        {\n          firstName: \"Larry\",\n          id: larry,\n          lastName: \"Erhardt\",\n          matchCount: 45,\n          rating: 1300,\n          type_: /* Person */0\n        }\n      ],\n      [\n        mike,\n        {\n          firstName: \"Mike\",\n          id: mike,\n          lastName: \"Nelson\",\n          matchCount: 60,\n          rating: 2300,\n          type_: /* Person */0\n        }\n      ],\n      [\n        newbieMcNewberson,\n        {\n          firstName: \"Newbie\",\n          id: newbieMcNewberson,\n          lastName: \"McNewberson\",\n          matchCount: 0,\n          rating: 800,\n          type_: /* Person */0\n        }\n      ],\n      [\n        observer,\n        {\n          firstName: \"Brain\",\n          id: observer,\n          lastName: \"Guy\",\n          matchCount: 55,\n          rating: 1200,\n          type_: /* Person */0\n        }\n      ],\n      [\n        pearl,\n        {\n          firstName: \"Pearl\",\n          id: pearl,\n          lastName: \"Forrester\",\n          matchCount: 30,\n          rating: 2000,\n          type_: /* Person */0\n        }\n      ],\n      [\n        bobo,\n        {\n          firstName: \"Bobo\",\n          id: bobo,\n          lastName: \"Professor\",\n          matchCount: 75,\n          rating: 1000,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tvsFrank,\n        {\n          firstName: \"TV's\",\n          id: tvsFrank,\n          lastName: \"Frank\",\n          matchCount: 35,\n          rating: 1400,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tvsSon,\n        {\n          firstName: \"TV's\",\n          id: tvsSon,\n          lastName: \"Max\",\n          matchCount: 65,\n          rating: 1100,\n          type_: /* Person */0\n        }\n      ],\n      [\n        tomServo,\n        {\n          firstName: \"Tom\",\n          id: tomServo,\n          lastName: \"Servo\",\n          matchCount: 10,\n          rating: 1800,\n          type_: /* Person */0\n        }\n      ]\n    ], Data_Id$Coronate.id);\n\nvar tournaments = Belt_Map.fromArray([\n      [\n        byeRoundTourney,\n        {\n          id: byeRoundTourney,\n          name: \"Bye Round Tourney\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: Belt_Set.fromArray([\n                joelRobinson,\n                crowTRobot,\n                tomServo,\n                gypsy,\n                cambot,\n                newbieMcNewberson,\n                grandyMcMaster\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.empty\n        }\n      ],\n      [\n        byeRoundTourney2,\n        {\n          id: byeRoundTourney2,\n          name: \"Bye Round Tourney 2\",\n          date: new Date(\"2019-06-12T23:49:47.103Z\"),\n          playerIds: Belt_Set.fromArray([\n                joelRobinson,\n                crowTRobot,\n                tomServo,\n                gypsy,\n                cambot,\n                newbieMcNewberson,\n                grandyMcMaster\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"xTXxZHB0sTt__xIAg45fm\"),\n                        whiteId: grandyMcMaster,\n                        blackId: crowTRobot,\n                        whiteNewRating: 2592,\n                        blackNewRating: 1833,\n                        whiteOrigRating: 2600,\n                        blackOrigRating: 1700,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zQcf9RWXK7iuU6ibPzrhU\"),\n                        whiteId: joelRobinson,\n                        blackId: gypsy,\n                        whiteNewRating: 2400,\n                        blackNewRating: 1600,\n                        whiteOrigRating: 2400,\n                        blackOrigRating: 1600,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Vw_X0c7O4vshrYEO-oSzR\"),\n                        whiteId: tomServo,\n                        blackId: cambot,\n                        whiteNewRating: 1738,\n                        blackNewRating: 1526,\n                        whiteOrigRating: 1800,\n                        blackOrigRating: 1500,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"iSDujOVkOTrcLv_KJmd7s\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 800,\n                        blackNewRating: 0,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])])\n        }\n      ],\n      [\n        byeRoundTourney3,\n        {\n          id: byeRoundTourney3,\n          name: \"Bye Tourney 3\",\n          date: new Date(\"2019-06-17T23:00:29.603Z\"),\n          playerIds: Belt_Set.fromArray([\n                kinga,\n                newbieMcNewberson,\n                jonah\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"KkFr4B7FDqiHRWmACgApf\"),\n                        whiteId: kinga,\n                        blackId: jonah,\n                        whiteNewRating: 1894,\n                        blackNewRating: 2202,\n                        whiteOrigRating: 1900,\n                        blackOrigRating: 2200,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"R_BTsGSziwgyvFZM3yc5u\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 793,\n                        blackNewRating: 0,\n                        whiteOrigRating: 793,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"rcyCfpZU6olav5kdVac44\"),\n                        whiteId: jonah,\n                        blackId: newbieMcNewberson,\n                        whiteNewRating: 2187,\n                        blackNewRating: 953,\n                        whiteOrigRating: 2202,\n                        blackOrigRating: 793,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Nc0Om5fEuwSuzFls9wmME\"),\n                        whiteId: kinga,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1894,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1894,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"uawjKwbiA38RP8pA--tlw\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: kinga,\n                        whiteNewRating: 952,\n                        blackNewRating: 1894,\n                        whiteOrigRating: 953,\n                        blackOrigRating: 1894,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"-kwIDxjPhWVRbqxtRZ26_\"),\n                        whiteId: jonah,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 2187,\n                        blackNewRating: 0,\n                        whiteOrigRating: 2187,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ])\n              ])\n        }\n      ],\n      [\n        simplePairing,\n        {\n          id: simplePairing,\n          name: \"Simple Pairing\",\n          date: new Date(\"2019-06-14T11:40:34.407Z\"),\n          playerIds: Belt_Set.fromArray([\n                newbieMcNewberson,\n                grandyMcMaster,\n                joelRobinson,\n                drClaytonForrester,\n                tvsFrank,\n                crowTRobot,\n                tomServo,\n                gypsy\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"KdLva8hWqYHdaU9KnFTe2\"),\n                        whiteId: crowTRobot,\n                        blackId: grandyMcMaster,\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"WDPFsNF1yADs4qofFwCY0\"),\n                        whiteId: gypsy,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"R5sXfTOJw5vrJ4IytAjSi\"),\n                        whiteId: tvsFrank,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"2YOsn_JJFnaUMhRBAc9KY\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: tomServo,\n                        whiteNewRating: 1597,\n                        blackNewRating: 1728,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ],\n      [\n        pairingWithDraws,\n        {\n          id: pairingWithDraws,\n          name: \"Pairing with draws\",\n          date: new Date(\"2019-06-14T14:18:06.686Z\"),\n          playerIds: Belt_Set.fromArray([\n                newbieMcNewberson,\n                grandyMcMaster,\n                joelRobinson,\n                drClaytonForrester,\n                tvsFrank,\n                crowTRobot,\n                tomServo,\n                gypsy\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"ryWXwvFGwBKQqGBbMYeps\"),\n                        whiteId: crowTRobot,\n                        blackId: grandyMcMaster,\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"2KKVbi0AfNxfJAJobTgP5\"),\n                        whiteId: gypsy,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"zdlBHBAqgV2qabn2oBa2a\"),\n                        whiteId: tvsFrank,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"8fGxU3tLpd8GibuSQr9-Y\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: tomServo,\n                        whiteNewRating: 1197,\n                        blackNewRating: 1764,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* Draw */2\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ],\n      [\n        scoreTest,\n        {\n          id: scoreTest,\n          name: \"Score testing\",\n          date: new Date(\"2020-06-28T12:42:46.347Z\"),\n          playerIds: Belt_Set.fromArray([\n                joelRobinson,\n                mike,\n                bobo,\n                tomServo,\n                tvsSon,\n                tvsFrank,\n                cambot,\n                drClaytonForrester,\n                crowTRobot,\n                pearl,\n                observer,\n                kinga,\n                jonah\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"IPRs48UZ3ubxbyzs9-Aj8\"),\n                        whiteId: joelRobinson,\n                        blackId: tomServo,\n                        whiteNewRating: 2400,\n                        blackNewRating: 1798,\n                        whiteOrigRating: 2400,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"tcrk4_Eze6YB1jfgFxMg2\"),\n                        whiteId: crowTRobot,\n                        blackId: mike,\n                        whiteNewRating: 1695,\n                        blackNewRating: 2300,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2300,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"g30WVQazEVlyFZoB_iKNP\"),\n                        whiteId: cambot,\n                        blackId: jonah,\n                        whiteNewRating: 1531,\n                        blackNewRating: 2184,\n                        whiteOrigRating: 1500,\n                        blackOrigRating: 2200,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"z6z2X8Al9iNDmx2rc6iSd\"),\n                        whiteId: drClaytonForrester,\n                        blackId: tvsFrank,\n                        whiteNewRating: 2080,\n                        blackNewRating: 1422,\n                        whiteOrigRating: 2100,\n                        blackOrigRating: 1400,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"_wRcKBpFnPspJeiglbv42\"),\n                        whiteId: observer,\n                        blackId: pearl,\n                        whiteNewRating: 1214,\n                        blackNewRating: 1974,\n                        whiteOrigRating: 1200,\n                        blackOrigRating: 2000,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"g35wmUfw3--3dZvF4Dxai\"),\n                        whiteId: kinga,\n                        blackId: tvsSon,\n                        whiteNewRating: 1860,\n                        blackNewRating: 1112,\n                        whiteOrigRating: 1900,\n                        blackOrigRating: 1100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"ZFwPgPSrdR0dsiROQpZmq\"),\n                        whiteId: bobo,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1000,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1000,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"gvr8PMNdqVwvMHpQZhxKW\"),\n                        whiteId: tvsFrank,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1444,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1422,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"n02yWL6MNgkS19IREj_Df\"),\n                        whiteId: mike,\n                        blackId: observer,\n                        whiteNewRating: 2287,\n                        blackNewRating: 1228,\n                        whiteOrigRating: 2300,\n                        blackOrigRating: 1214,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Luic7R_pGjZmSYxN1uNmc\"),\n                        whiteId: tvsSon,\n                        blackId: cambot,\n                        whiteNewRating: 1123,\n                        blackNewRating: 1503,\n                        whiteOrigRating: 1112,\n                        blackOrigRating: 1531,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Ew_xdm0tKHE1423CYoApT\"),\n                        whiteId: pearl,\n                        blackId: bobo,\n                        whiteNewRating: 1949,\n                        blackNewRating: 1010,\n                        whiteOrigRating: 1974,\n                        blackOrigRating: 1000,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"steThF-oNT-fBZe4AUHjc\"),\n                        whiteId: jonah,\n                        blackId: kinga,\n                        whiteNewRating: 2186,\n                        blackNewRating: 1855,\n                        whiteOrigRating: 2184,\n                        blackOrigRating: 1860,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"3QPqo0tMvKVzgaQOFjezL\"),\n                        whiteId: tomServo,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1786,\n                        blackNewRating: 2083,\n                        whiteOrigRating: 1798,\n                        blackOrigRating: 2080,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"BsbnpljVf9OagbfT8sUhJ\"),\n                        whiteId: crowTRobot,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1695,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1695,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"lqRRkcPXADxNcZoYNUs4O\"),\n                        whiteId: bobo,\n                        blackId: tvsFrank,\n                        whiteNewRating: 1019,\n                        blackNewRating: 1425,\n                        whiteOrigRating: 1010,\n                        blackOrigRating: 1444,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"tFw25nJzFa1DNC3kEBlvL\"),\n                        whiteId: observer,\n                        blackId: tvsSon,\n                        whiteNewRating: 1219,\n                        blackNewRating: 1130,\n                        whiteOrigRating: 1228,\n                        blackOrigRating: 1123,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"4s3IVU-DxR2itlDt6Pbry\"),\n                        whiteId: drClaytonForrester,\n                        blackId: jonah,\n                        whiteNewRating: 2095,\n                        blackNewRating: 2176,\n                        whiteOrigRating: 2083,\n                        blackOrigRating: 2186,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"-J00pFQGNydkCVJ9IY57T\"),\n                        whiteId: cambot,\n                        blackId: mike,\n                        whiteNewRating: 1503,\n                        blackNewRating: 2287,\n                        whiteOrigRating: 1503,\n                        blackOrigRating: 2287,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"aN_Nzb1GFvoIT1Dlu3bn9\"),\n                        whiteId: joelRobinson,\n                        blackId: pearl,\n                        whiteNewRating: 2390,\n                        blackNewRating: 1947,\n                        whiteOrigRating: 2389,\n                        blackOrigRating: 1949,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"taKyrpJg9XpACuWq16bum\"),\n                        whiteId: kinga,\n                        blackId: crowTRobot,\n                        whiteNewRating: 1829,\n                        blackNewRating: 1790,\n                        whiteOrigRating: 1855,\n                        blackOrigRating: 1695,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"Rh_UVxVKowtjSpeH-4Xwc\"),\n                        whiteId: tomServo,\n                        blackId: Data_Id$Coronate.dummy,\n                        whiteNewRating: 1786,\n                        blackNewRating: 0,\n                        whiteOrigRating: 1786,\n                        blackOrigRating: 0,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.fromArray([])\n              ])\n        }\n      ],\n      [\n        deletedPlayerTourney,\n        {\n          id: deletedPlayerTourney,\n          name: \"Deleted Player\",\n          date: new Date(\"2020-12-24T11:40:34.407Z\"),\n          playerIds: Belt_Set.fromArray([\n                newbieMcNewberson,\n                grandyMcMaster,\n                joelRobinson,\n                drClaytonForrester,\n                tvsFrank,\n                crowTRobot,\n                tomServo,\n                deletedPlayer\n              ], Data_Id$Coronate.id),\n          scoreAdjustments: Belt_Map.make(Data_Id$Coronate.id),\n          byeQueue: [deletedPlayer],\n          tieBreaks: [\n            /* Median */0,\n            /* Solkoff */1,\n            /* Cumulative */2,\n            /* CumulativeOfOpposition */3\n          ],\n          roundList: Data_Rounds$Coronate.fromArray([\n                Data_Rounds$Coronate.Round.fromArray([\n                      {\n                        id: Data_Id$Coronate.fromString(\"KdLva8hWqYHdaU9KnFTe2\"),\n                        whiteId: crowTRobot,\n                        blackId: grandyMcMaster,\n                        whiteNewRating: 1699,\n                        blackNewRating: 2600,\n                        whiteOrigRating: 1700,\n                        blackOrigRating: 2600,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"WDPFsNF1yADs4qofFwCY0\"),\n                        whiteId: deletedPlayer,\n                        blackId: joelRobinson,\n                        whiteNewRating: 1650,\n                        blackNewRating: 2389,\n                        whiteOrigRating: 1600,\n                        blackOrigRating: 2400,\n                        result: /* WhiteWon */0\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"R5sXfTOJw5vrJ4IytAjSi\"),\n                        whiteId: tvsFrank,\n                        blackId: drClaytonForrester,\n                        whiteNewRating: 1400,\n                        blackNewRating: 2100,\n                        whiteOrigRating: 1400,\n                        blackOrigRating: 2100,\n                        result: /* BlackWon */1\n                      },\n                      {\n                        id: Data_Id$Coronate.fromString(\"2YOsn_JJFnaUMhRBAc9KY\"),\n                        whiteId: newbieMcNewberson,\n                        blackId: tomServo,\n                        whiteNewRating: 1597,\n                        blackNewRating: 1728,\n                        whiteOrigRating: 800,\n                        blackOrigRating: 1800,\n                        result: /* WhiteWon */0\n                      }\n                    ]),\n                Data_Rounds$Coronate.Round.empty\n              ])\n        }\n      ]\n    ], Data_Id$Coronate.id);\n\nexport {\n  byeRoundTourney ,\n  byeRoundTourney2 ,\n  byeRoundTourney3 ,\n  simplePairing ,\n  pairingWithDraws ,\n  scoreTest ,\n  deletedPlayerTourney ,\n  crowTRobot ,\n  drClaytonForrester ,\n  grandyMcMaster ,\n  gypsy ,\n  joelRobinson ,\n  newbieMcNewberson ,\n  tomServo ,\n  tvsFrank ,\n  deletedPlayer ,\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* byeRoundTourney Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./testdata/DemoData.bs.js\";\nimport * as TestData$Coronate from \"./testdata/TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return [\n            String(date.getFullYear()),\n            Numeral(date.getMonth() + 1.0).format(\"00\"),\n            Numeral(date.getDate()).format(\"00\")\n          ].join(\"-\");\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return {\n          config: Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          players: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict)),\n          tournaments: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict$1))\n        };\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_Map.map(data.players, Data_Player$Coronate.encode);\n  var map$1 = Belt_Map.map(data.tournaments, Data_Tournament$Coronate.encode);\n  return Json_encode.object_({\n              hd: [\n                \"config\",\n                Data_Config$Coronate.encode(data.config)\n              ],\n              tl: {\n                hd: [\n                  \"players\",\n                  Js_dict.fromArray(Curry._1(Data_Id$Coronate.$$Map.toStringArray, map))\n                ],\n                tl: {\n                  hd: [\n                    \"tournaments\",\n                    Js_dict.fromArray(Curry._1(Data_Id$Coronate.$$Map.toStringArray, map$1))\n                  ],\n                  tl: /* [] */0\n                }\n              }\n            });\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nfunction PageOptions(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var tourneysDispatch = match.dispatch;\n  var tournaments = match.items;\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match$1.dispatch;\n  var players = match$1.items;\n  var match$2 = React.useState(function () {\n        return \"\";\n      });\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */2,\n                _0: \"Options\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */2,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: config,\n                  players: players,\n                  tournaments: tournaments\n                };\n        }), [\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 2);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          \n        }), [\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, {\n          TAG: /* SetAll */2,\n          _0: tournaments\n        });\n    Curry._1(configDispatch, {\n          TAG: /* SetState */5,\n          _0: config\n        });\n    Curry._1(playersDispatch, {\n          TAG: /* SetAll */2,\n          _0: players\n        });\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var rawJson = Json.parse(text);\n    if (rawJson === undefined) {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n    var val;\n    try {\n      val = decodeOptions(Caml_option.valFromOption(rawJson));\n    }\n    catch (raw_exn){\n      var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n      if (exn.RE_EXN_ID === Json_decode.DecodeError) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      throw exn;\n    }\n    return loadData(val.tournaments, val.players, val.config);\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var rawJson = Json.parse(data);\n      if (rawJson === undefined) {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(rawJson));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn.RE_EXN_ID === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        }\n        throw exn;\n      }\n      return loadData(val.tournaments, val.players, val.config);\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    \n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$4 = config.byeValue;\n  var match$5 = config.byeValue;\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"div\", {\n                            style: {\n                              display: \"flex\"\n                            }\n                          }, React.createElement(\"label\", {\n                                className: \"monospace body-30\",\n                                style: {\n                                  marginRight: \"16px\"\n                                }\n                              }, \"1 \", React.createElement(\"input\", {\n                                    checked: match$4 ? false : true,\n                                    type: \"radio\",\n                                    onChange: (function (param) {\n                                        return Curry._1(configDispatch, {\n                                                    TAG: /* SetByeValue */4,\n                                                    _0: /* Full */0\n                                                  });\n                                      })\n                                  })), React.createElement(\"label\", {\n                                className: \"monospace body-30\"\n                              }, \" \", React.createElement(\"input\", {\n                                    checked: match$5 ? true : false,\n                                    type: \"radio\",\n                                    onChange: (function (param) {\n                                        return Curry._1(configDispatch, {\n                                                    TAG: /* SetByeValue */4,\n                                                    _0: /* Half */1\n                                                  });\n                                      })\n                                  })))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config.lastBackup\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(undefined) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, {\n                                            TAG: /* SetLastBackup */6,\n                                            _0: new Date()\n                                          });\n                              })\n                          }, React.createElement(ReactFeather.Download, {}), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", process.env.NODE_ENV !== \"production\" ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"pages__text-json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              })))),\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction getExpected(a, b) {\n  return 1 / (1 + Math.pow(10, (b - a | 0) / 400));\n}\n\nfunction updateRating(rating, expected, actual, current) {\n  return Math.round(current + rating * (actual - expected)) | 0;\n}\n\nfunction getKFactor(matchCount) {\n  var ne = matchCount > 0 ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  if (rating > 100) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(whiteRating, blackRating, whiteMatchCount, blackMatchCount, result) {\n  var whiteElo = getKFactor(whiteMatchCount);\n  var blackElo = getKFactor(blackMatchCount);\n  var whiteExpected = getExpected(whiteRating, blackRating);\n  var blackExpected = getExpected(blackRating, whiteRating);\n  var whiteResult = Data_Scoring$Coronate.Score.toFloat(Data_Scoring$Coronate.Score.fromResultWhite(result));\n  var blackResult = Data_Scoring$Coronate.Score.toFloat(Data_Scoring$Coronate.Score.fromResultBlack(result));\n  return [\n          keepAboveFloor(updateRating(whiteElo, whiteExpected, whiteResult, whiteRating)),\n          keepAboveFloor(updateRating(blackElo, blackExpected, blackResult, blackRating))\n        ];\n}\n\nvar EloRank = {\n  getKFactor: getKFactor\n};\n\nexport {\n  EloRank ,\n  calcNewRatings ,\n  \n}\n/* Data_Scoring-Coronate Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Formality from \"re-formality/src/Formality.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals/Externals.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Ratings$Coronate from \"./Data/Data_Ratings.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Formality__ReactUpdate from \"re-formality/src/Formality__ReactUpdate.bs.js\";\n\nvar sortName = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.firstName;\n    })\n};\n\nvar sortRating = {\n  TAG: /* GetInt */1,\n  _0: (function (x) {\n      return x.rating;\n    })\n};\n\nvar sortMatchCount = {\n  TAG: /* GetInt */1,\n  _0: (function (x) {\n      return x.matchCount;\n    })\n};\n\nvar validators_matchCount = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.matchCount);\n      if (rating !== undefined) {\n        return {\n                TAG: /* Ok */0,\n                _0: rating\n              };\n      } else {\n        return {\n                TAG: /* Error */1,\n                _0: \"Match count must be a number\"\n              };\n      }\n    })\n};\n\nvar validators_rating = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var rating = Belt_Int.fromString(param.rating);\n      if (rating !== undefined) {\n        return {\n                TAG: /* Ok */0,\n                _0: rating\n              };\n      } else {\n        return {\n                TAG: /* Error */1,\n                _0: \"Rating must be a number\"\n              };\n      }\n    })\n};\n\nvar validators_lastName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var lastName = param.lastName;\n      if (lastName === \"\") {\n        return {\n                TAG: /* Error */1,\n                _0: \"Last name is required\"\n              };\n      } else {\n        return {\n                TAG: /* Ok */0,\n                _0: lastName\n              };\n      }\n    })\n};\n\nvar validators_firstName = {\n  strategy: /* OnFirstSuccessOrFirstBlur */3,\n  validate: (function (param) {\n      var firstName = param.firstName;\n      if (firstName === \"\") {\n        return {\n                TAG: /* Error */1,\n                _0: \"First name is required\"\n              };\n      } else {\n        return {\n                TAG: /* Ok */0,\n                _0: firstName\n              };\n      }\n    })\n};\n\nvar validators = {\n  matchCount: validators_matchCount,\n  rating: validators_rating,\n  lastName: validators_lastName,\n  firstName: validators_firstName\n};\n\nfunction initialState(input) {\n  return {\n          input: input,\n          fieldsStatuses: {\n            matchCount: /* Pristine */0,\n            rating: /* Pristine */0,\n            lastName: /* Pristine */0,\n            firstName: /* Pristine */0\n          },\n          collectionsStatuses: undefined,\n          formStatus: /* Editing */0,\n          submissionStatus: /* NeverSubmitted */0\n        };\n}\n\nfunction validateForm(input, validators, fieldsStatuses) {\n  var match = fieldsStatuses.matchCount;\n  var match_0 = match ? match._0 : Curry._1(validators.matchCount.validate, input);\n  var match$1 = fieldsStatuses.rating;\n  var match_0$1 = match$1 ? match$1._0 : Curry._1(validators.rating.validate, input);\n  var match$2 = fieldsStatuses.lastName;\n  var match_0$2 = match$2 ? match$2._0 : Curry._1(validators.lastName.validate, input);\n  var match$3 = fieldsStatuses.firstName;\n  var match_0$3 = match$3 ? match$3._0 : Curry._1(validators.firstName.validate, input);\n  var matchCountResult = match_0;\n  var matchCountResult$1;\n  if (matchCountResult.TAG === /* Ok */0) {\n    var ratingResult = match_0$1;\n    if (ratingResult.TAG === /* Ok */0) {\n      var lastNameResult = match_0$2;\n      if (lastNameResult.TAG === /* Ok */0) {\n        var firstNameResult = match_0$3;\n        if (firstNameResult.TAG === /* Ok */0) {\n          return {\n                  TAG: /* Valid */0,\n                  output: {\n                    firstName: firstNameResult._0,\n                    lastName: lastNameResult._0,\n                    rating: ratingResult._0,\n                    matchCount: matchCountResult._0\n                  },\n                  fieldsStatuses: {\n                    matchCount: /* Dirty */{\n                      _0: matchCountResult,\n                      _1: /* Shown */0\n                    },\n                    rating: /* Dirty */{\n                      _0: ratingResult,\n                      _1: /* Shown */0\n                    },\n                    lastName: /* Dirty */{\n                      _0: lastNameResult,\n                      _1: /* Shown */0\n                    },\n                    firstName: /* Dirty */{\n                      _0: firstNameResult,\n                      _1: /* Shown */0\n                    }\n                  },\n                  collectionsStatuses: undefined\n                };\n        }\n        matchCountResult$1 = matchCountResult;\n      } else {\n        matchCountResult$1 = matchCountResult;\n      }\n    } else {\n      matchCountResult$1 = matchCountResult;\n    }\n  } else {\n    matchCountResult$1 = matchCountResult;\n  }\n  return {\n          TAG: /* Invalid */1,\n          fieldsStatuses: {\n            matchCount: /* Dirty */{\n              _0: matchCountResult$1,\n              _1: /* Shown */0\n            },\n            rating: /* Dirty */{\n              _0: match_0$1,\n              _1: /* Shown */0\n            },\n            lastName: /* Dirty */{\n              _0: match_0$2,\n              _1: /* Shown */0\n            },\n            firstName: /* Dirty */{\n              _0: match_0$3,\n              _1: /* Shown */0\n            }\n          },\n          collectionsStatuses: undefined\n        };\n}\n\nfunction useForm(initialInput, onSubmit) {\n  var memoizedInitialState = React.useMemo((function () {\n          return initialState(initialInput);\n        }), [initialInput]);\n  var match = Formality__ReactUpdate.useReducer(memoizedInitialState, (function (state, action) {\n          if (typeof action === \"number\") {\n            switch (action) {\n              case /* BlurMatchCountField */0 :\n                  var result = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.matchCount, validators_matchCount, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: status,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurRatingField */1 :\n                  var result$1 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.rating, validators_rating, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: status,\n                                  lastName: init.lastName,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$1 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$1,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurLastNameField */2 :\n                  var result$2 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.lastName, validators_lastName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: status,\n                                  firstName: init.firstName\n                                };\n                        }));\n                  if (result$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$2,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* BlurFirstNameField */3 :\n                  var result$3 = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.firstName, validators_firstName, (function (status) {\n                          var init = state.fieldsStatuses;\n                          return {\n                                  matchCount: init.matchCount,\n                                  rating: init.rating,\n                                  lastName: init.lastName,\n                                  firstName: status\n                                };\n                        }));\n                  if (result$3 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result$3,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* Submit */4 :\n                  var match = state.formStatus;\n                  if (typeof match !== \"number\" && match.TAG === /* Submitting */0) {\n                    return /* NoUpdate */0;\n                  }\n                  var match$1 = validateForm(state.input, validators, state.fieldsStatuses);\n                  if (match$1.TAG !== /* Valid */0) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: match$1.fieldsStatuses,\n                              collectionsStatuses: match$1.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: /* AttemptedToSubmit */1\n                            }\n                          };\n                  }\n                  var output = match$1.output;\n                  var error = state.formStatus;\n                  var tmp;\n                  tmp = typeof error === \"number\" || error.TAG !== /* SubmissionFailed */1 ? undefined : Caml_option.some(error._0);\n                  return {\n                          TAG: /* UpdateWithSideEffects */1,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: match$1.fieldsStatuses,\n                            collectionsStatuses: match$1.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* Submitting */0,\n                              _0: tmp\n                            },\n                            submissionStatus: /* AttemptedToSubmit */1\n                          },\n                          _1: (function (param) {\n                              var dispatch = param.dispatch;\n                              return Curry._2(onSubmit, output, {\n                                          notifyOnSuccess: (function (input) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmittedStatus */4,\n                                                          _0: input\n                                                        });\n                                            }),\n                                          notifyOnFailure: (function (error) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmissionFailedStatus */5,\n                                                          _0: error\n                                                        });\n                                            }),\n                                          reset: (function (param) {\n                                              return Curry._1(dispatch, /* Reset */7);\n                                            }),\n                                          dismissSubmissionResult: (function (param) {\n                                              return Curry._1(dispatch, /* DismissSubmissionResult */6);\n                                            })\n                                        });\n                            })\n                        };\n                  break;\n              case /* DismissSubmissionError */5 :\n                  var match$2 = state.formStatus;\n                  if (typeof match$2 === \"number\" || match$2.TAG !== /* SubmissionFailed */1) {\n                    return /* NoUpdate */0;\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* DismissSubmissionResult */6 :\n                  var match$3 = state.formStatus;\n                  if (typeof match$3 === \"number\") {\n                    if (match$3 === /* Editing */0) {\n                      return /* NoUpdate */0;\n                    }\n                    \n                  } else if (match$3.TAG === /* Submitting */0) {\n                    return /* NoUpdate */0;\n                  }\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: /* Editing */0,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* Reset */7 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: initialState(initialInput)\n                        };\n              \n            }\n          } else {\n            switch (action.TAG | 0) {\n              case /* UpdateMatchCountField */0 :\n                  var nextInput = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput, state.fieldsStatuses.matchCount, state.submissionStatus, validators_matchCount, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: status,\n                                            rating: init.rating,\n                                            lastName: init.lastName,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateRatingField */1 :\n                  var nextInput$1 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$1,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$1, state.fieldsStatuses.rating, state.submissionStatus, validators_rating, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: status,\n                                            lastName: init.lastName,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateLastNameField */2 :\n                  var nextInput$2 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$2,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$2, state.fieldsStatuses.lastName, state.submissionStatus, validators_lastName, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: init.rating,\n                                            lastName: status,\n                                            firstName: init.firstName\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* UpdateFirstNameField */3 :\n                  var nextInput$3 = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput$3,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput$3, state.fieldsStatuses.firstName, state.submissionStatus, validators_firstName, (function (status) {\n                                    var init = state.fieldsStatuses;\n                                    return {\n                                            matchCount: init.matchCount,\n                                            rating: init.rating,\n                                            lastName: init.lastName,\n                                            firstName: status\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* SetSubmittedStatus */4 :\n                  var input = action._0;\n                  if (input !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: input,\n                              fieldsStatuses: {\n                                matchCount: /* Pristine */0,\n                                rating: /* Pristine */0,\n                                lastName: /* Pristine */0,\n                                firstName: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: {\n                                matchCount: /* Pristine */0,\n                                rating: /* Pristine */0,\n                                lastName: /* Pristine */0,\n                                firstName: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* SetSubmissionFailedStatus */5 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* SubmissionFailed */1,\n                              _0: action._0\n                            },\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* MapSubmissionError */6 :\n                  var map = action._0;\n                  var error$1 = state.formStatus;\n                  if (typeof error$1 === \"number\") {\n                    return /* NoUpdate */0;\n                  }\n                  if (error$1.TAG !== /* Submitting */0) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* SubmissionFailed */1,\n                                _0: Curry._1(map, error$1._0)\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n                  var error$2 = error$1._0;\n                  if (error$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* Submitting */0,\n                                _0: Caml_option.some(Curry._1(map, Caml_option.valFromOption(error$2)))\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              \n            }\n          }\n        }));\n  var dispatch = match[1];\n  var state = match[0];\n  var match$1 = state.formStatus;\n  var tmp;\n  tmp = typeof match$1 === \"number\" || match$1.TAG !== /* Submitting */0 ? false : true;\n  return {\n          updateMatchCount: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateMatchCountField */0,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateRating: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateRatingField */1,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateLastName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateLastNameField */2,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          updateFirstName: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateFirstNameField */3,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          blurMatchCount: (function (param) {\n              return Curry._1(dispatch, /* BlurMatchCountField */0);\n            }),\n          blurRating: (function (param) {\n              return Curry._1(dispatch, /* BlurRatingField */1);\n            }),\n          blurLastName: (function (param) {\n              return Curry._1(dispatch, /* BlurLastNameField */2);\n            }),\n          blurFirstName: (function (param) {\n              return Curry._1(dispatch, /* BlurFirstNameField */3);\n            }),\n          matchCountResult: Formality.exposeFieldResult(state.fieldsStatuses.matchCount),\n          ratingResult: Formality.exposeFieldResult(state.fieldsStatuses.rating),\n          lastNameResult: Formality.exposeFieldResult(state.fieldsStatuses.lastName),\n          firstNameResult: Formality.exposeFieldResult(state.fieldsStatuses.firstName),\n          input: state.input,\n          status: state.formStatus,\n          dirty: (function (param) {\n              var match = state.fieldsStatuses;\n              if (match.matchCount || match.rating || match.lastName || match.firstName) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          valid: (function (param) {\n              var match = validateForm(state.input, validators, state.fieldsStatuses);\n              if (match.TAG === /* Valid */0) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          submitting: tmp,\n          submit: (function (param) {\n              return Curry._1(dispatch, /* Submit */4);\n            }),\n          dismissSubmissionError: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionError */5);\n            }),\n          dismissSubmissionResult: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionResult */6);\n            }),\n          mapSubmissionError: (function (map) {\n              return Curry._1(dispatch, {\n                          TAG: /* MapSubmissionError */6,\n                          _0: map\n                        });\n            }),\n          reset: (function (param) {\n              return Curry._1(dispatch, /* Reset */7);\n            })\n        };\n}\n\nfunction errorNotification(x) {\n  if (x !== undefined && x.TAG !== /* Ok */0) {\n    return React.createElement(Utils$Coronate.$$Notification.make, {\n                children: x._0,\n                kind: /* Error */2\n              });\n  } else {\n    return null;\n  }\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var form = useForm({\n        firstName: \"\",\n        lastName: \"\",\n        rating: \"1200\",\n        matchCount: \"0\"\n      }, (function (param, cb) {\n          var id = Data_Id$Coronate.random(undefined);\n          Curry._1(dispatch, {\n                TAG: /* Set */1,\n                _0: id,\n                _1: {\n                  firstName: param.firstName,\n                  id: id,\n                  lastName: param.lastName,\n                  matchCount: param.matchCount,\n                  rating: param.rating,\n                  type_: /* Person */0\n                }\n              });\n          if (addPlayerCallback !== undefined) {\n            Curry._1(addPlayerCallback, id);\n          }\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  return React.createElement(\"form\", {\n              onSubmit: (function ($$event) {\n                  $$event.preventDefault();\n                  return Curry._1(form.submit, undefined);\n                })\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"form-newplayer-rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          id: \"form-newplayer-rating\",\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, \"Add\"))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var dialog = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */2,\n                _0: \"Players\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */2,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setTrue, undefined);\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, {}), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, Belt_Array.map(sorted.table, (function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(p.id)\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Router$Coronate.HashLink.make, {\n                                                children: Data_Player$Coronate.fullName(p),\n                                                to_: {\n                                                  TAG: /* Player */1,\n                                                  _0: p.id\n                                                }\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.rating)), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.matchCount)), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var id = p.id;\n                                                    $$event.preventDefault();\n                                                    var playerOpt = Belt_Map.get(players, id);\n                                                    if (playerOpt === undefined) {\n                                                      return ;\n                                                    }\n                                                    var message = \"Are you sure you want to delete \" + Data_Player$Coronate.fullName(playerOpt) + \"?\";\n                                                    if (window.confirm(message)) {\n                                                      Curry._1(playersDispatch, {\n                                                            TAG: /* Del */0,\n                                                            _0: id\n                                                          });\n                                                      return Curry._1(configDispatch, {\n                                                                  TAG: /* DelAvoidSingle */2,\n                                                                  _0: id\n                                                                });\n                                                    }\n                                                    \n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, {}), React.createElement(VisuallyHidden, {\n                                                    children: \"Delete \" + Data_Player$Coronate.fullName(p)\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: (function (param) {\n                      return Curry._1(dialog.setFalse, undefined);\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null,\n                  className: \"\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setFalse, undefined);\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var type_ = player.type_;\n  var initialMatchCount = player.matchCount;\n  var playerId = player.id;\n  var form = useForm({\n        firstName: player.firstName,\n        lastName: player.lastName,\n        rating: String(player.rating),\n        matchCount: String(initialMatchCount)\n      }, (function (param, cb) {\n          Curry._1(playersDispatch, {\n                TAG: /* Set */1,\n                _0: playerId,\n                _1: {\n                  firstName: param.firstName,\n                  id: playerId,\n                  lastName: param.lastName,\n                  matchCount: param.matchCount,\n                  rating: param.rating,\n                  type_: type_\n                }\n              });\n          Curry._1(cb.notifyOnSuccess, undefined);\n          return Curry._1(cb.reset, undefined);\n        }));\n  var playerName = form.input.firstName + \" \" + form.input.lastName;\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */2,\n                _0: \"Profile for \" + playerName\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */2,\n                                _0: \"\"\n                              });\n                  });\n        }), [\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Curry._1(Data_Id$Coronate.Pair.$$Set.toMap, config.avoidPairs);\n  var singAvoidList = Belt_Map.getWithDefault(avoidMap, playerId, Belt_Set.make(Data_Id$Coronate.id));\n  var unavoided = Belt_Array.keep(Belt_Map.keysToArray(players), (function (id) {\n          if (Belt_Set.has(singAvoidList, id)) {\n            return false;\n          } else {\n            return !Data_Id$Coronate.eq(id, playerId);\n          }\n        }));\n  var match = React.useState(function () {\n        return Belt_Array.get(unavoided, 0);\n      });\n  var setSelectedAvoider = match[1];\n  var selectedAvoider = match[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider === undefined) {\n      return ;\n    }\n    var selectedAvoider$1 = Caml_option.valFromOption(selectedAvoider);\n    var pair = Data_Id$Coronate.Pair.make(playerId, selectedAvoider$1);\n    if (pair === undefined) {\n      return ;\n    }\n    Curry._1(configDispatch, {\n          TAG: /* AddAvoidPair */0,\n          _0: Caml_option.valFromOption(pair)\n        });\n    var id = Belt_Array.get(unavoided, 0);\n    var newSelected;\n    if (id !== undefined) {\n      var id$1 = Caml_option.valFromOption(id);\n      newSelected = Data_Id$Coronate.eq(id$1, selectedAvoider$1) ? Belt_Array.get(unavoided, 1) : Caml_option.some(id$1);\n    } else {\n      newSelected = Belt_Array.get(unavoided, 1);\n    }\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return newSelected;\n                }));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var match$1 = form.matchCountResult;\n  var tmp;\n  tmp = match$1 !== undefined ? (\n      match$1.TAG === /* Ok */0 ? String(Data_Ratings$Coronate.EloRank.getKFactor(match$1._0)) : \"\"\n    ) : String(Data_Ratings$Coronate.EloRank.getKFactor(initialMatchCount));\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(Router$Coronate.HashLink.make, {\n                  children: null,\n                  to_: /* PlayerList */2,\n                  onClick: (function ($$event) {\n                      if (Curry._1(form.dirty, undefined) && !window.confirm(\"Discard changes?\")) {\n                        $$event.preventDefault();\n                        return ;\n                      }\n                      \n                    })\n                }, React.createElement(ReactFeather.ChevronLeft, {}), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onSubmit: (function ($$event) {\n                      $$event.preventDefault();\n                      return Curry._1(form.submit, undefined);\n                    })\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          type: \"text\",\n                          value: form.input.firstName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurFirstName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateFirstName, (function (input, firstName) {\n                                            return {\n                                                    firstName: firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.firstNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          type: \"text\",\n                          value: form.input.lastName,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurLastName, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateLastName, (function (input, lastName) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: lastName,\n                                                    rating: input.rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.lastNameResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          name: \"matchCount\",\n                          type: \"number\",\n                          value: form.input.matchCount,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurMatchCount, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateMatchCount, (function (input, matchCount) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: input.rating,\n                                                    matchCount: matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.matchCountResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          type: \"number\",\n                          value: form.input.rating,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurRating, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateRating, (function (input, rating) {\n                                            return {\n                                                    firstName: input.firstName,\n                                                    lastName: input.lastName,\n                                                    rating: rating,\n                                                    matchCount: input.matchCount\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        })), errorNotification(form.ratingResult), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: tmp\n                        })), React.createElement(\"p\", undefined, React.createElement(\"button\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined)\n                        }, Curry._1(form.dirty, undefined) ? \"Save\" : \"Saved\"))), React.createElement(\"h3\", undefined, \"Players to avoid\"), Belt_Set.isEmpty(singAvoidList) ? React.createElement(\"p\", {\n                    className: \"disabled\"\n                  }, \"None\") : React.createElement(\"ul\", undefined, Belt_Array.map(Belt_Set.toArray(singAvoidList), (function (pId) {\n                          var fullName = Data_Player$Coronate.fullName(Data_Player$Coronate.getMaybe(players, pId));\n                          return React.createElement(\"li\", {\n                                      key: Data_Id$Coronate.toString(pId)\n                                    }, fullName, React.createElement(\"button\", {\n                                          \"aria-label\": \"Remove \" + fullName + \" from avoid list.\",\n                                          className: \"danger button-ghost\",\n                                          title: \"Remove \" + fullName + \" from avoid list.\",\n                                          onClick: (function (param) {\n                                              var pair = Data_Id$Coronate.Pair.make(playerId, pId);\n                                              if (pair !== undefined) {\n                                                return Curry._1(configDispatch, {\n                                                            TAG: /* DelAvoidPair */1,\n                                                            _0: Caml_option.valFromOption(pair)\n                                                          });\n                                              }\n                                              \n                                            })\n                                        }, React.createElement(ReactFeather.Trash2, {})));\n                        }))), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: Data_Id$Coronate.toString(Caml_option.valFromOption(selectedAvoider)),\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Belt_Array.map(unavoided, (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: Data_Id$Coronate.toString(pId),\n                                              value: Data_Id$Coronate.toString(pId)\n                                            }, Data_Player$Coronate.fullName(Data_Player$Coronate.getMaybe(players, pId)));\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nvar Profile = {\n  make: PagePlayers$Profile\n};\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllPlayers(undefined);\n  var playersDispatch = match.dispatch;\n  var players = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, {\n                TAG: /* SetTable */2,\n                _0: Belt_Map.valuesToArray(players)\n              });\n          \n        }), [\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(undefined);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var player = Belt_Map.get(players, Caml_option.valFromOption(id));\n    tmp = player !== undefined ? React.createElement(PagePlayers$Profile, {\n            player: player,\n            players: players,\n            playersDispatch: playersDispatch,\n            config: match$2[0],\n            configDispatch: configDispatch,\n            windowDispatch: windowDispatch\n          }) : React.createElement(\"div\", undefined, \"Loading...\");\n  } else {\n    tmp = React.createElement(PagePlayers$PlayerList, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch,\n          windowDispatch: windowDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp,\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  NewPlayerForm ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Match$Blossom from \"rescript-blossom/src/Match.bs.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Scoring$Coronate from \"./Data_Scoring.bs.js\";\n\nfunction id(param) {\n  return param.id;\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_int_compare, (function (x) {\n                return x.rating;\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return [\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction make(scoreData, playerData, avoidPairs) {\n  var avoidMap = Curry._1(Data_Id$Coronate.Pair.$$Set.toMap, avoidPairs);\n  var data = Belt_Map.mapWithKey(playerData, (function (key, data) {\n          var x = Belt_Map.get(scoreData, key);\n          var playerStats = x !== undefined ? x : Data_Scoring$Coronate.make(key);\n          var x$1 = Belt_Map.get(avoidMap, key);\n          var newAvoidIds = x$1 !== undefined ? Caml_option.valFromOption(x$1) : Belt_Set.make(Data_Id$Coronate.id);\n          return {\n                  id: data.id,\n                  avoidIds: newAvoidIds,\n                  colorScore: Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.sum(playerStats.colorScores)),\n                  lastColor: playerStats.lastColor,\n                  halfPos: 0,\n                  isUpperHalf: false,\n                  opponents: Belt_List.map(playerStats.opponentResults, (function (param) {\n                          return param[0];\n                        })),\n                  rating: data.rating,\n                  score: Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.calcScore(playerStats.results, playerStats.adjustment))\n                };\n        }));\n  var dataArr = Belt_Map.valuesToArray(data);\n  return Belt_Map.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataArr, (function (param) {\n                                return param.score === playerData.score;\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return Data_Id$Coronate.eq(x.id, playerData.id);\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? [\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? [\n                        match$2,\n                        false\n                      ] : [\n                        0,\n                        false\n                      ]\n                  );\n                return {\n                        id: playerData.id,\n                        avoidIds: playerData.avoidIds,\n                        colorScore: playerData.colorScore,\n                        lastColor: playerData.lastColor,\n                        halfPos: match$3[0],\n                        isUpperHalf: match$3[1],\n                        opponents: playerData.opponents,\n                        rating: playerData.rating,\n                        score: playerData.score\n                      };\n              }));\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nvar maxPriority = halfPosition(1.0) + 4.0 + 16.0 / 1.0 + 32.0;\n\nfunction calcPairIdeal(player1, player2) {\n  if (Data_Id$Coronate.eq(player1.id, player2.id)) {\n    return 0.0;\n  }\n  var partial_arg = player2.id;\n  var metBefore = Belt_List.some(player1.opponents, (function (param) {\n          return Data_Id$Coronate.eq(partial_arg, param);\n        }));\n  var mustAvoid = Belt_Set.has(player1.avoidIds, player2.id);\n  var match = player1.lastColor;\n  var match$1 = player2.lastColor;\n  var isDiffDueColor = match !== undefined && match$1 !== undefined ? match !== match$1 : true;\n  var scoreDiff = Math.abs(player1.score - player2.score) + 1.0;\n  var halfDiff = Pervasives.abs(player1.halfPos - player2.halfPos | 0) + 1 | 0;\n  var isDiffHalf = player1.isUpperHalf !== player2.isUpperHalf && player1.score === player2.score;\n  return (\n          isDiffDueColor ? 4.0 : 0.0\n        ) + 16.0 / scoreDiff + (\n            isDiffHalf ? halfPosition : sameHalfPriority\n          )(halfDiff) + (\n          !metBefore && !mustAvoid ? 32.0 : 0.0\n        );\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1.score, data2.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1.rating, data2.rating);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.some(p.opponents, (function (param) {\n                  return Data_Id$Coronate.eq(dummyId, param);\n                }));\n  };\n  if (Belt_Map.size(data) % 2 === 0) {\n    return [\n            data,\n            undefined\n          ];\n  }\n  var dataArr = Belt_SortArray.stableSortBy(Belt_Array.keep(Belt_Map.valuesToArray(data), hasNotHadBye), sortByScoreThenRating);\n  var playerIdsWithoutByes = Belt_Array.map(dataArr, (function (p) {\n          return p.id;\n        }));\n  var hasntHadByeFn = function (id) {\n    return Belt_Array.some(playerIdsWithoutByes, (function (param) {\n                  return Data_Id$Coronate.eq(id, param);\n                }));\n  };\n  var nextByeSignups = Belt_Array.keep(byeQueue, hasntHadByeFn);\n  var id = Belt_Array.get(nextByeSignups, 0);\n  var dataForNextBye;\n  if (id !== undefined) {\n    var x = Belt_Map.get(data, Caml_option.valFromOption(id));\n    dataForNextBye = x !== undefined ? x : Belt_Array.getExn(dataArr, 0);\n  } else {\n    var data$1 = Belt_Array.get(dataArr, 0);\n    dataForNextBye = data$1 !== undefined ? data$1 : Belt_Array.getExn(Belt_SortArray.stableSortBy(Belt_Map.valuesToArray(data), sortByScoreThenRating), 0);\n  }\n  var dataWithoutBye = Belt_Map.remove(data, dataForNextBye.id);\n  return [\n          dataWithoutBye,\n          dataForNextBye\n        ];\n}\n\nfunction assignColorsForPair(param) {\n  var player2 = param[1];\n  var player1 = param[0];\n  if (player1.colorScore < player2.colorScore) {\n    return [\n            player2.id,\n            player1.id\n          ];\n  } else {\n    return [\n            player1.id,\n            player2.id\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0].score + param[1].score;\n}\n\nfunction netRating(param) {\n  return param[0].rating + param[1].rating | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nvar IdMatch = Match$Blossom.comparable(Data_Id$Coronate.compare);\n\nfunction pairPlayers(pairData) {\n  return Belt_Array.map(Belt_SortArray.stableSortBy(Belt_Array.keepMap(Belt_Set.toArray(Match$Blossom.reduce(Match$Blossom.make(undefined, Belt_Map.reduce(pairData, /* [] */0, (function (acc, p1Id, p1) {\n                                        return Belt_Map.reduce(pairData, acc, (function (acc2, p2Id, p2) {\n                                                      return {\n                                                              hd: [\n                                                                p1Id,\n                                                                p2Id,\n                                                                calcPairIdeal(p1, p2)\n                                                              ],\n                                                              tl: acc2\n                                                            };\n                                                    }));\n                                      })), IdMatch), Belt_Set.make(Data_Id$Coronate.Pair.id), (function (acc, p1, p2) {\n                                var pair = Data_Id$Coronate.Pair.make(p1, p2);\n                                if (pair !== undefined) {\n                                  return Belt_Set.add(acc, Caml_option.valFromOption(pair));\n                                } else {\n                                  return acc;\n                                }\n                              }))), (function (pair) {\n                        var match = Data_Id$Coronate.Pair.toTuple(pair);\n                        var match$1 = Belt_Map.get(pairData, match[0]);\n                        var match$2 = Belt_Map.get(pairData, match[1]);\n                        if (match$1 !== undefined && match$2 !== undefined) {\n                          return [\n                                  match$1,\n                                  match$2\n                                ];\n                        }\n                        \n                      })), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  id ,\n  make ,\n  maxPriority ,\n  calcPairIdeal ,\n  setByePlayer ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Scoring$Coronate from \"../Data/Data_Scoring.bs.js\";\n\nfunction useRoundData(roundId, param) {\n  var match = param.tourney;\n  var roundList = match.roundList;\n  var scoreAdjustments = match.scoreAdjustments;\n  var activePlayers = param.activePlayers;\n  var scoreData = React.useMemo((function () {\n          return Data_Scoring$Coronate.fromTournament(roundList, scoreAdjustments);\n        }), [\n        roundList,\n        scoreAdjustments\n      ]);\n  var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n  var match$1 = Data_Rounds$Coronate.get(roundList, roundId);\n  var unmatched;\n  if (match$1 !== undefined && isThisTheLastRound) {\n    var matched = Data_Rounds$Coronate.Round.getMatched(Caml_option.valFromOption(match$1));\n    unmatched = Belt_Map.removeMany(activePlayers, matched);\n  } else {\n    unmatched = Belt_Map.make(Data_Id$Coronate.id);\n  }\n  var unmatchedCount = Belt_Map.size(unmatched);\n  var unmatchedWithDummy = unmatchedCount % 2 !== 0 ? Belt_Map.set(unmatched, Data_Id$Coronate.dummy, Data_Player$Coronate.dummy) : unmatched;\n  var activePlayersCount = Belt_Map.size(activePlayers);\n  return {\n          activePlayersCount: activePlayersCount,\n          scoreData: scoreData,\n          unmatched: unmatched,\n          unmatchedCount: unmatchedCount,\n          unmatchedWithDummy: unmatchedWithDummy\n        };\n}\n\nfunction getScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating) {\n  var data = Belt_Map.get(scoreData, player.id);\n  var match = data !== undefined ? data : Data_Scoring$Coronate.make(player.id);\n  var opponentResults = match.opponentResults;\n  var hasBye = Belt_List.some(opponentResults, (function (param) {\n          return Data_Id$Coronate.isDummy(param[0]);\n        }));\n  var x = Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.sum(match.colorScores));\n  var colorBalance = x < 0.0 ? \"White +\" + String(Math.abs(x)) : (\n      x > 0.0 ? \"Black +\" + String(x) : \"Even\"\n    );\n  var opponentResults$1 = Belt_Array.mapWithIndex(Belt_List.toArray(opponentResults), (function (i, param) {\n          var result = param[1];\n          var opId = param[0];\n          var tmp;\n          if (result !== 0) {\n            switch (result) {\n              case /* One */1 :\n                  tmp = \"Won\";\n                  break;\n              case /* NegOne */2 :\n                  tmp = \"Lost\";\n                  break;\n              case /* Half */3 :\n                  tmp = \"Draw\";\n                  break;\n              \n            }\n          } else {\n            tmp = \"Lost\";\n          }\n          return React.createElement(\"li\", {\n                      key: Data_Id$Coronate.toString(opId) + (\"-\" + String(i))\n                    }, Data_Player$Coronate.fullName(Curry._1(getPlayer, opId)), \" - \", tmp);\n        }));\n  var avoidListHtml = Belt_Array.map(Belt_Option.mapWithDefault(Belt_Map.get(Curry._1(Data_Id$Coronate.Pair.$$Set.toMap, avoidPairs), player.id), [], Belt_Set.toArray), (function (pId) {\n          var p = Belt_Map.get(players, pId);\n          if (p !== undefined) {\n            return React.createElement(\"li\", {\n                        key: Data_Id$Coronate.toString(pId)\n                      }, Data_Player$Coronate.fullName(p));\n          } else {\n            return null;\n          }\n        }));\n  var rating = React.createElement(React.Fragment, undefined, origRating, newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n  return {\n          player: player,\n          hasBye: hasBye,\n          colorBalance: colorBalance,\n          score: Curry._1(Data_Scoring$Coronate.Score.Sum.toFloat, Data_Scoring$Coronate.Score.calcScore(match.results, match.adjustment)),\n          rating: rating,\n          opponentResults: opponentResults$1,\n          avoidListHtml: avoidListHtml\n        };\n}\n\nexport {\n  useRoundData ,\n  getScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Formality from \"re-formality/src/Formality.bs.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Belt_MutableQueue from \"bs-platform/lib/es6/belt_MutableQueue.js\";\nimport * as Externals$Coronate from \"../Externals/Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Formality__ReactUpdate from \"re-formality/src/Formality__ReactUpdate.bs.js\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney.playerIds;\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_Set.add(playerIds, id),\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_Set.keep(playerIds, (function (pId) {\n                          return !Data_Id$Coronate.eq(pId, id);\n                        })),\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_Set.fromArray(Belt_Map.keysToArray(players), Data_Id$Coronate.id),\n                                      scoreAdjustments: tourney.scoreAdjustments,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_Set.make(Data_Id$Coronate.id),\n                                      scoreAdjustments: tourney.scoreAdjustments,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (param) {\n                            var lastName = param.lastName;\n                            var id = param.id;\n                            var firstName = param.firstName;\n                            return React.createElement(\"tr\", {\n                                        key: Data_Id$Coronate.toString(id)\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + Data_Id$Coronate.toString(id)\n                                                    }, \"Select \" + firstName + \" \" + lastName)\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + Data_Id$Coronate.toString(id),\n                                                checked: Belt_Set.has(playerIds, id),\n                                                type: \"checkbox\",\n                                                value: Data_Id$Coronate.toString(id),\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: Belt_Set.add(playerIds, id),\n                                  scoreAdjustments: tourney.scoreAdjustments,\n                                  byeQueue: tourney.byeQueue,\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return Belt_Array.some(Belt_Array.keep(Belt_MutableQueue.toArray(matches), (function (match) {\n                    if (Data_Id$Coronate.eq(match.whiteId, playerId)) {\n                      return true;\n                    } else {\n                      return Data_Id$Coronate.eq(match.blackId, playerId);\n                    }\n                  })), (function (match) {\n                if (Data_Id$Coronate.isDummy(match.whiteId)) {\n                  return true;\n                } else {\n                  return Data_Id$Coronate.isDummy(match.blackId);\n                }\n              }));\n}\n\nfunction errorNotification(x) {\n  if (x !== undefined && x.TAG !== /* Ok */0) {\n    return React.createElement(Utils$Coronate.$$Notification.make, {\n                children: x._0,\n                kind: /* Error */2\n              });\n  } else {\n    return null;\n  }\n}\n\nvar validators = {\n  scoreAdjustment: {\n    strategy: /* OnFirstSuccessOrFirstBlur */3,\n    validate: (function (input) {\n        var x = Belt_Float.fromString(input.scoreAdjustment);\n        if (x !== undefined) {\n          return {\n                  TAG: /* Ok */0,\n                  _0: x\n                };\n        } else {\n          return {\n                  TAG: /* Error */1,\n                  _0: \"Score adjustment must be a number.\"\n                };\n        }\n      })\n  }\n};\n\nfunction initialState(input) {\n  return {\n          input: input,\n          fieldsStatuses: {\n            scoreAdjustment: /* Pristine */0\n          },\n          collectionsStatuses: undefined,\n          formStatus: /* Editing */0,\n          submissionStatus: /* NeverSubmitted */0\n        };\n}\n\nfunction validateForm(input, validators, fieldsStatuses) {\n  var match = fieldsStatuses.scoreAdjustment;\n  var match$1 = match ? match._0 : Curry._1(validators.scoreAdjustment.validate, input);\n  if (match$1.TAG === /* Ok */0) {\n    return {\n            TAG: /* Valid */0,\n            output: {\n              scoreAdjustment: match$1._0\n            },\n            fieldsStatuses: {\n              scoreAdjustment: /* Dirty */{\n                _0: match$1,\n                _1: /* Shown */0\n              }\n            },\n            collectionsStatuses: undefined\n          };\n  } else {\n    return {\n            TAG: /* Invalid */1,\n            fieldsStatuses: {\n              scoreAdjustment: /* Dirty */{\n                _0: match$1,\n                _1: /* Shown */0\n              }\n            },\n            collectionsStatuses: undefined\n          };\n  }\n}\n\nfunction useForm(initialInput, onSubmit) {\n  var memoizedInitialState = React.useMemo((function () {\n          return initialState(initialInput);\n        }), [initialInput]);\n  var match = Formality__ReactUpdate.useReducer(memoizedInitialState, (function (state, action) {\n          if (typeof action === \"number\") {\n            switch (action) {\n              case /* BlurScoreAdjustmentField */0 :\n                  var result = Formality.validateFieldOnBlurWithValidator(state.input, state.fieldsStatuses.scoreAdjustment, validators.scoreAdjustment, (function (status) {\n                          return {\n                                  scoreAdjustment: status\n                                };\n                        }));\n                  if (result !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: result,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: state.formStatus,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              case /* Submit */1 :\n                  var match = state.formStatus;\n                  if (typeof match !== \"number\" && match.TAG === /* Submitting */0) {\n                    return /* NoUpdate */0;\n                  }\n                  var match$1 = validateForm(state.input, validators, state.fieldsStatuses);\n                  if (match$1.TAG !== /* Valid */0) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: match$1.fieldsStatuses,\n                              collectionsStatuses: match$1.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: /* AttemptedToSubmit */1\n                            }\n                          };\n                  }\n                  var output = match$1.output;\n                  var error = state.formStatus;\n                  var tmp;\n                  tmp = typeof error === \"number\" || error.TAG !== /* SubmissionFailed */1 ? undefined : Caml_option.some(error._0);\n                  return {\n                          TAG: /* UpdateWithSideEffects */1,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: match$1.fieldsStatuses,\n                            collectionsStatuses: match$1.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* Submitting */0,\n                              _0: tmp\n                            },\n                            submissionStatus: /* AttemptedToSubmit */1\n                          },\n                          _1: (function (param) {\n                              var dispatch = param.dispatch;\n                              return Curry._2(onSubmit, output, {\n                                          notifyOnSuccess: (function (input) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmittedStatus */1,\n                                                          _0: input\n                                                        });\n                                            }),\n                                          notifyOnFailure: (function (error) {\n                                              return Curry._1(dispatch, {\n                                                          TAG: /* SetSubmissionFailedStatus */2,\n                                                          _0: error\n                                                        });\n                                            }),\n                                          reset: (function (param) {\n                                              return Curry._1(dispatch, /* Reset */4);\n                                            }),\n                                          dismissSubmissionResult: (function (param) {\n                                              return Curry._1(dispatch, /* DismissSubmissionResult */3);\n                                            })\n                                        });\n                            })\n                        };\n                  break;\n              case /* DismissSubmissionError */2 :\n                  var match$2 = state.formStatus;\n                  if (typeof match$2 === \"number\" || match$2.TAG !== /* SubmissionFailed */1) {\n                    return /* NoUpdate */0;\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Editing */0,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* DismissSubmissionResult */3 :\n                  var match$3 = state.formStatus;\n                  if (typeof match$3 === \"number\") {\n                    if (match$3 === /* Editing */0) {\n                      return /* NoUpdate */0;\n                    }\n                    \n                  } else if (match$3.TAG === /* Submitting */0) {\n                    return /* NoUpdate */0;\n                  }\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: /* Editing */0,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* Reset */4 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: initialState(initialInput)\n                        };\n              \n            }\n          } else {\n            switch (action.TAG | 0) {\n              case /* UpdateScoreAdjustmentField */0 :\n                  var nextInput = Curry._1(action._0, state.input);\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: nextInput,\n                            fieldsStatuses: Formality.validateFieldOnChangeWithValidator(nextInput, state.fieldsStatuses.scoreAdjustment, state.submissionStatus, validators.scoreAdjustment, (function (status) {\n                                    return {\n                                            scoreAdjustment: status\n                                          };\n                                  })),\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: state.formStatus,\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* SetSubmittedStatus */1 :\n                  var input = action._0;\n                  if (input !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: input,\n                              fieldsStatuses: {\n                                scoreAdjustment: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: {\n                                scoreAdjustment: /* Pristine */0\n                              },\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: /* Submitted */1,\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n              case /* SetSubmissionFailedStatus */2 :\n                  return {\n                          TAG: /* Update */0,\n                          _0: {\n                            input: state.input,\n                            fieldsStatuses: state.fieldsStatuses,\n                            collectionsStatuses: state.collectionsStatuses,\n                            formStatus: {\n                              TAG: /* SubmissionFailed */1,\n                              _0: action._0\n                            },\n                            submissionStatus: state.submissionStatus\n                          }\n                        };\n              case /* MapSubmissionError */3 :\n                  var map = action._0;\n                  var error$1 = state.formStatus;\n                  if (typeof error$1 === \"number\") {\n                    return /* NoUpdate */0;\n                  }\n                  if (error$1.TAG !== /* Submitting */0) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* SubmissionFailed */1,\n                                _0: Curry._1(map, error$1._0)\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  }\n                  var error$2 = error$1._0;\n                  if (error$2 !== undefined) {\n                    return {\n                            TAG: /* Update */0,\n                            _0: {\n                              input: state.input,\n                              fieldsStatuses: state.fieldsStatuses,\n                              collectionsStatuses: state.collectionsStatuses,\n                              formStatus: {\n                                TAG: /* Submitting */0,\n                                _0: Caml_option.some(Curry._1(map, Caml_option.valFromOption(error$2)))\n                              },\n                              submissionStatus: state.submissionStatus\n                            }\n                          };\n                  } else {\n                    return /* NoUpdate */0;\n                  }\n              \n            }\n          }\n        }));\n  var dispatch = match[1];\n  var state = match[0];\n  var match$1 = state.formStatus;\n  var tmp;\n  tmp = typeof match$1 === \"number\" || match$1.TAG !== /* Submitting */0 ? false : true;\n  return {\n          updateScoreAdjustment: (function (nextInputFn, nextValue) {\n              return Curry._1(dispatch, {\n                          TAG: /* UpdateScoreAdjustmentField */0,\n                          _0: (function (__x) {\n                              return Curry._2(nextInputFn, __x, nextValue);\n                            })\n                        });\n            }),\n          blurScoreAdjustment: (function (param) {\n              return Curry._1(dispatch, /* BlurScoreAdjustmentField */0);\n            }),\n          scoreAdjustmentResult: Formality.exposeFieldResult(state.fieldsStatuses.scoreAdjustment),\n          input: state.input,\n          status: state.formStatus,\n          dirty: (function (param) {\n              var match = state.fieldsStatuses;\n              if (match.scoreAdjustment) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          valid: (function (param) {\n              var match = validateForm(state.input, validators, state.fieldsStatuses);\n              if (match.TAG === /* Valid */0) {\n                return true;\n              } else {\n                return false;\n              }\n            }),\n          submitting: tmp,\n          submit: (function (param) {\n              return Curry._1(dispatch, /* Submit */1);\n            }),\n          dismissSubmissionError: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionError */2);\n            }),\n          dismissSubmissionResult: (function (param) {\n              return Curry._1(dispatch, /* DismissSubmissionResult */3);\n            }),\n          mapSubmissionError: (function (map) {\n              return Curry._1(dispatch, {\n                          TAG: /* MapSubmissionError */3,\n                          _0: map\n                        });\n            }),\n          reset: (function (param) {\n              return Curry._1(dispatch, /* Reset */4);\n            })\n        };\n}\n\nfunction PageTourneyPlayers$OptionsForm$More(Props) {\n  var setTourney = Props.setTourney;\n  var dialog = Props.dialog;\n  var tourney = Props.tourney;\n  var p = Props.p;\n  var scoreAdjustment = Belt_Option.mapWithDefault(Belt_Map.get(tourney.scoreAdjustments, p.id), \"0\", (function (prim) {\n          return String(prim);\n        }));\n  var form = useForm({\n        scoreAdjustment: scoreAdjustment\n      }, (function (output, callback) {\n          var scoreAdjustment = output.scoreAdjustment;\n          if (scoreAdjustment !== 0) {\n            Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: Belt_Map.set(tourney.scoreAdjustments, p.id, scoreAdjustment),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n          } else {\n            Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: Belt_Map.remove(tourney.scoreAdjustments, p.id),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n          }\n          Curry._1(callback.notifyOnSuccess, undefined);\n          return Curry._1(dialog.setFalse, undefined);\n        }));\n  return React.createElement(React.Fragment, undefined, React.createElement(\"button\", {\n                  className: \"button-micro button-primary\",\n                  onClick: (function (param) {\n                      return Curry._1(dialog.setFalse, undefined);\n                    })\n                }, \"close\"), React.createElement(\"h2\", undefined, \"Options for \" + Data_Player$Coronate.fullName(p)), React.createElement(\"form\", {\n                  onSubmit: (function ($$event) {\n                      $$event.preventDefault();\n                      return Curry._1(form.submit, undefined);\n                    })\n                }, React.createElement(\"h3\", undefined, React.createElement(\"label\", {\n                          className: \"title-30\",\n                          htmlFor: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment\"\n                        }, \"Score adjustment\")), React.createElement(\"p\", {\n                      className: \"caption-30\",\n                      id: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment-description\"\n                    }, \"Score adjustment will be added to this player's actual score.\\n              It can be negative.\"), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          \"aria-describedby\": Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment-description\",\n                          id: Data_Id$Coronate.toString(p.id) + \"-scoreAdjustment\",\n                          disabled: form.submitting,\n                          size: 3,\n                          step: 0.5,\n                          type: \"number\",\n                          value: form.input.scoreAdjustment,\n                          onBlur: (function (param) {\n                              return Curry._1(form.blurScoreAdjustment, undefined);\n                            }),\n                          onChange: (function ($$event) {\n                              return Curry._2(form.updateScoreAdjustment, (function (_input, value) {\n                                            return {\n                                                    scoreAdjustment: value\n                                                  };\n                                          }), $$event.target.value);\n                            })\n                        }), \" \", React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          onClick: (function ($$event) {\n                              $$event.preventDefault();\n                              return Curry._2(form.updateScoreAdjustment, (function (_input, value) {\n                                            return {\n                                                    scoreAdjustment: value\n                                                  };\n                                          }), \"0\");\n                            })\n                        }, \"Reset\")), errorNotification(form.scoreAdjustmentResult), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          disabled: form.submitting || !Curry._1(form.valid, undefined),\n                          type: \"submit\",\n                          value: \"Save\"\n                        }))));\n}\n\nfunction PageTourneyPlayers$OptionsForm(Props) {\n  var setTourney = Props.setTourney;\n  var tourney = Props.tourney;\n  var byeQueue = Props.byeQueue;\n  var p = Props.p;\n  var dialog = Hooks$Coronate.useBool(false);\n  return React.createElement(React.Fragment, undefined, React.createElement(\"button\", {\n                  className: \"button-micro\",\n                  disabled: byeQueue.includes(p.id),\n                  onClick: (function (param) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: tourney.playerIds,\n                                  scoreAdjustments: tourney.scoreAdjustments,\n                                  byeQueue: Belt_Array.concat(byeQueue, [p.id]),\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }, \"Bye signup\"), \" \", React.createElement(\"button\", {\n                  className: \"button-micro\",\n                  onClick: (function (param) {\n                      return Curry._1(dialog.setTrue, undefined);\n                    })\n                }, React.createElement(\"span\", {\n                      \"aria-hidden\": true\n                    }, React.createElement(ReactFeather.MoreHorizontal, {})), React.createElement(VisuallyHidden, {\n                      children: \"More options for \" + Data_Player$Coronate.fullName(p)\n                    })), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: dialog.setFalse,\n                  ariaLabel: \"Options for \" + Data_Player$Coronate.fullName(p),\n                  children: React.createElement(PageTourneyPlayers$OptionsForm$More, {\n                        setTourney: setTourney,\n                        dialog: dialog,\n                        tourney: tourney,\n                        p: p\n                      }),\n                  className: \"\"\n                }));\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (p) {\n                    return React.createElement(\"tr\", {\n                                key: Data_Id$Coronate.toString(p.id),\n                                className: \"player \" + Data_Player$Coronate.Type.toString(p.type_)\n                              }, React.createElement(\"td\", undefined, Data_Player$Coronate.fullName(p)), React.createElement(\"td\", undefined, React.createElement(PageTourneyPlayers$OptionsForm, {\n                                        setTourney: setTourney,\n                                        tourney: tourney,\n                                        byeQueue: byeQueue,\n                                        p: p\n                                      })));\n                  })));\n}\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var byeQueue = tourney.byeQueue;\n  var playerIds = tourney.playerIds;\n  var setTourney = tournament.setTourney;\n  var getPlayer = tournament.getPlayer;\n  var match = React.useState(function () {\n        return Belt_Set.isEmpty(playerIds);\n      });\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney.roundList);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, {}), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: tournament.activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length !== 0 ? React.createElement(\"table\", {\n                            style: {\n                              width: \"100%\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, Belt_Array.map(byeQueue, (function (pId) {\n                                      return React.createElement(\"tr\", {\n                                                  key: Data_Id$Coronate.toString(pId),\n                                                  className: hasHadBye(matches, pId) ? \"disabled\" : \"\"\n                                                }, React.createElement(\"td\", undefined, Data_Player$Coronate.fullName(Curry._1(getPlayer, pId))), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                          className: \"button-micro\",\n                                                          onClick: (function (param) {\n                                                              return Curry._1(setTourney, {\n                                                                          id: tourney.id,\n                                                                          name: tourney.name,\n                                                                          date: tourney.date,\n                                                                          playerIds: tourney.playerIds,\n                                                                          scoreAdjustments: tourney.scoreAdjustments,\n                                                                          byeQueue: byeQueue.filter(function (id) {\n                                                                                return !Data_Id$Coronate.eq(pId, id);\n                                                                              }),\n                                                                          tieBreaks: tourney.tieBreaks,\n                                                                          roundList: tourney.roundList\n                                                                        });\n                                                            })\n                                                        }, \"Remove\")));\n                                    })))) : React.createElement(\"p\", {\n                            className: \"caption-20\"\n                          }, \"No one has signed up yet.\")), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null,\n                      className: \"\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament.players,\n                          playersDispatch: tournament.playersDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Belt_MutableQueue from \"bs-platform/lib/es6/belt_MutableQueue.js\";\nimport * as Externals$Coronate from \"../Externals/Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Pairing$Coronate from \"../Data/Data_Pairing.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport * as TournamentUtils$Coronate from \"./TournamentUtils.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_Map.keep(pairData, (function (id, param) {\n          return Belt_Map.has(playerMap, id);\n        }));\n  var match = Data_Pairing$Coronate.setByePlayer(byeQueue, Data_Id$Coronate.dummy, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Belt_MutableQueue.fromArray(Data_Pairing$Coronate.pairPlayers(match[0]));\n  if (byePlayerData !== undefined) {\n    Belt_MutableQueue.add(pairs, [\n          Data_Pairing$Coronate.id(Caml_option.valFromOption(byePlayerData)),\n          Data_Id$Coronate.dummy\n        ]);\n  }\n  return Belt_MutableQueue.map(pairs, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                var white = Data_Player$Coronate.getMaybe(playerMap, whiteId);\n                var black = Data_Player$Coronate.getMaybe(playerMap, blackId);\n                return Data_Match$Coronate.scoreByeMatch({\n                            id: Data_Id$Coronate.random(undefined),\n                            whiteId: whiteId,\n                            blackId: blackId,\n                            whiteNewRating: white.rating,\n                            blackNewRating: black.rating,\n                            whiteOrigRating: white.rating,\n                            blackOrigRating: black.rating,\n                            result: /* NotSet */3\n                          }, byeValue);\n              }));\n}\n\nvar sortByName = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.player.firstName;\n    })\n};\n\nvar sortByIdeal = {\n  TAG: /* GetFloat */2,\n  _0: (function (x) {\n      return x.ideal;\n    })\n};\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n          return {\n                  player: player,\n                  ideal: 0.0\n                };\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var p1 = stagedPlayers[0];\n    if (p1 !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return !Data_Id$Coronate.eq(Caml_option.valFromOption(p1), id);\n      }\n    }\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      return !Data_Id$Coronate.eq(Caml_option.valFromOption(p2), id);\n    } else {\n      return true;\n    }\n  };\n  React.useEffect((function () {\n          var calcIdealOrNot = function (player) {\n            var id = stagedPlayers[0];\n            var selectedId;\n            if (id !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : Caml_option.some(Caml_option.valFromOption(id));\n            } else {\n              var id$1 = stagedPlayers[1];\n              selectedId = id$1 !== undefined ? Caml_option.some(Caml_option.valFromOption(id$1)) : undefined;\n            }\n            if (selectedId === undefined) {\n              return 0.0;\n            }\n            var selectedPlayer = Belt_Map.get(pairData, Caml_option.valFromOption(selectedId));\n            if (selectedPlayer !== undefined) {\n              if (player !== undefined) {\n                return Data_Pairing$Coronate.calcPairIdeal(Caml_option.valFromOption(selectedPlayer), Caml_option.valFromOption(player)) / Data_Pairing$Coronate.maxPriority;\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n                  return {\n                          player: player,\n                          ideal: calcIdealOrNot(Belt_Map.get(pairData, player.id))\n                        };\n                }));\n          Curry._1(sortedDispatch, {\n                TAG: /* SetTable */2,\n                _0: table\n              });\n          \n        }), [\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_Map.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, Belt_Array.map(sorted.table, (function (param) {\n                          var player = param.player;\n                          return React.createElement(\"tr\", {\n                                      key: Data_Id$Coronate.toString(player.id)\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player.id),\n                                              onClick: (function (param) {\n                                                  var id = player.id;\n                                                  var p1 = stagedPlayers[0];\n                                                  if (p1 !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return ;\n                                                    }\n                                                    var p1$1 = Caml_option.valFromOption(p1);\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return [\n                                                                          Caml_option.some(p1$1),\n                                                                          Caml_option.some(id)\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2 = stagedPlayers[1];\n                                                  if (p2 === undefined) {\n                                                    return Curry._1(setStagedPlayers, (function (param) {\n                                                                  return [\n                                                                          Caml_option.some(id),\n                                                                          undefined\n                                                                        ];\n                                                                }));\n                                                  }\n                                                  var p2$1 = Caml_option.valFromOption(p2);\n                                                  return Curry._1(setStagedPlayers, (function (param) {\n                                                                return [\n                                                                        Caml_option.some(id),\n                                                                        Caml_option.some(p2$1)\n                                                                      ];\n                                                              }));\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, {}), React.createElement(VisuallyHidden, {\n                                                  children: \"Add \" + Data_Player$Coronate.fullName(player)\n                                                }))), React.createElement(\"td\", undefined, Data_Player$Coronate.fullName(player)), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral(param.ideal).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney.roundList;\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName = white !== undefined ? Data_Player$Coronate.fullName(Curry._1(getPlayer, Caml_option.valFromOption(white))) : \"\";\n  var blackName = black !== undefined ? Data_Player$Coronate.fullName(Curry._1(getPlayer, Caml_option.valFromOption(black))) : \"\";\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return [\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return [\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match = function (param) {\n    var white = stagedPlayers[0];\n    if (white === undefined) {\n      return ;\n    }\n    var black = stagedPlayers[1];\n    if (black === undefined) {\n      return ;\n    }\n    var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round, [Data_Match$Coronate.manualPair([\n                Curry._1(getPlayer, Caml_option.valFromOption(white)),\n                Curry._1(getPlayer, Caml_option.valFromOption(black))\n              ], byeValue)]);\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n    if (roundList$1 !== undefined) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            scoreAdjustments: tourney.scoreAdjustments,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks,\n            roundList: Caml_option.valFromOption(roundList$1)\n          });\n    }\n    return Curry._1(setStagedPlayers, (function (param) {\n                  return [\n                          undefined,\n                          undefined\n                        ];\n                }));\n  };\n  var p1 = stagedPlayers[0];\n  var matchIdeal;\n  if (p1 !== undefined) {\n    var p2 = stagedPlayers[1];\n    if (p2 !== undefined) {\n      var match$1 = Belt_Map.get(pairData, Caml_option.valFromOption(p1));\n      var match$2 = Belt_Map.get(pairData, Caml_option.valFromOption(p2));\n      if (match$1 !== undefined && match$2 !== undefined) {\n        var ideal = Data_Pairing$Coronate.calcPairIdeal(Caml_option.valFromOption(match$1), Caml_option.valFromOption(match$2));\n        matchIdeal = Numeral(ideal / Data_Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, {}), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, {}), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return [\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, {}), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match\n                    }, React.createElement(ReactFeather.Check, {}), \" Match selected\")));\n}\n\nfunction PairPicker$PlayerInfo(Props) {\n  var player = Props.player;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var match = TournamentUtils$Coronate.getScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating);\n  var player$1 = match.player;\n  return React.createElement(\"div\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, Data_Player$Coronate.fullName(player$1)), React.createElement(\"dl\", undefined, React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score), React.createElement(\"dt\", {\n                      id: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                    }), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(\"dd\", undefined, match.rating), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", {\n                      style: {\n                        margin: \"0\"\n                      }\n                    }, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"dt\", undefined, \"Players to avoid\"), React.createElement(\"dd\", {\n                      style: {\n                        margin: \"0\"\n                      }\n                    }, React.createElement(\"ul\", undefined, match.avoidListHtml))));\n}\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState(function () {\n        return [\n                undefined,\n                undefined\n              ];\n      });\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(undefined);\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var byeQueue = tourney.byeQueue;\n  var setTourney = tournament.setTourney;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var activePlayers = tournament.activePlayers;\n  var match$2 = match$1[0];\n  var byeValue = match$2.byeValue;\n  var avoidPairs = match$2.avoidPairs;\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var dialog = Hooks$Coronate.useBool(false);\n  var pairData = React.useMemo((function () {\n          return Data_Pairing$Coronate.make(scoreData, activePlayers, avoidPairs);\n        }), [\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function () {\n          if (p1 !== undefined) {\n            var match = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p1));\n            if (match !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return [\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p2));\n            if (match$1 !== undefined) {\n              \n            } else {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return [\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n          }\n          \n        }), [\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round === undefined) {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n  var round$1 = Caml_option.valFromOption(round);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: unmatchedCount === 0,\n                      onClick: (function (param) {\n                          var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round$1, Belt_MutableQueue.toArray(autoPair(pairData, byeValue, unmatched, byeQueue)));\n                          var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                          if (roundList$1 !== undefined) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: tourney.name,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        scoreAdjustments: tourney.scoreAdjustments,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: Caml_option.valFromOption(roundList$1)\n                                      });\n                          }\n                          \n                        })\n                    }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setTrue, undefined);\n                        })\n                    }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PairPicker$SelectList, {\n                            pairData: pairData,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            unmatched: unmatchedWithDummy\n                          })\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null,\n                      style: {\n                        flexGrow: \"1\"\n                      }\n                    }, React.createElement(PairPicker$Stage, {\n                          getPlayer: getPlayer,\n                          pairData: pairData,\n                          roundId: roundId,\n                          stagedPlayers: stagedPlayers,\n                          setStagedPlayers: setStagedPlayers,\n                          setTourney: setTourney,\n                          byeValue: byeValue,\n                          tourney: tourney,\n                          round: round$1\n                        }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                          children: Belt_Array.map([\n                                p1,\n                                p2\n                              ], (function (id) {\n                                  if (id === undefined) {\n                                    return null;\n                                  }\n                                  var playerId = Caml_option.valFromOption(id);\n                                  return React.createElement(Utils$Coronate.Panel.make, {\n                                              children: React.createElement(PairPicker$PlayerInfo, {\n                                                    player: Curry._1(getPlayer, playerId),\n                                                    scoreData: scoreData,\n                                                    players: players,\n                                                    avoidPairs: avoidPairs,\n                                                    origRating: Curry._1(getPlayer, playerId).rating,\n                                                    newRating: undefined,\n                                                    getPlayer: getPlayer\n                                                  }),\n                                              key: Data_Id$Coronate.toString(playerId)\n                                            });\n                                }))\n                        }))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: dialog.state,\n                  onDismiss: dialog.setFalse,\n                  ariaLabel: \"Select players\",\n                  children: null,\n                  className: \"\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dialog.setFalse, undefined);\n                        })\n                    }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                      tourney: tourney,\n                      setTourney: setTourney,\n                      players: players,\n                      playersDispatch: tournament.playersDispatch\n                    })));\n}\n\nvar make = PairPicker;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"../Externals/Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Ratings$Coronate from \"../Data/Data_Ratings.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport * as TournamentUtils$Coronate from \"./TournamentUtils.bs.js\";\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var player = Props.player;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var match = TournamentUtils$Coronate.getScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating);\n  var player$1 = match.player;\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, Data_Player$Coronate.fullName(player$1)), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"dd\", {\n                        \"aria-label\": \"Rating for \" + Data_Player$Coronate.fullName(player$1)\n                      }, match.rating),\n                  testId: \"rating-\" + Data_Id$Coronate.toString(player$1.id)\n                }), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"dt\", undefined, \"Players to avoid:\"), React.createElement(\"dd\", undefined, React.createElement(\"ul\", undefined, match.avoidListHtml)));\n}\n\nfunction PageRound$MatchRow(Props) {\n  var isCompactOpt = Props.isCompact;\n  var pos = Props.pos;\n  var m = Props.m;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var classNameOpt = Props.className;\n  var avoidPairs = Props.avoidPairs;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var dialog = Hooks$Coronate.useBool(false);\n  var whitePlayer = Curry._1(getPlayer, m.whiteId);\n  var blackPlayer = Curry._1(getPlayer, m.blackId);\n  var isDummyRound = Data_Id$Coronate.isDummy(m.whiteId) || Data_Id$Coronate.isDummy(m.blackId);\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: \"pageround__wonicon\"\n        });\n    var lost = React.createElement(VisuallyHidden, {\n          children: \"Lost\"\n        });\n    var match = m.result;\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (m.result === newResult) {\n      return ;\n    }\n    var blackId = m.blackId;\n    var whiteId = m.whiteId;\n    var whiteOpt = Belt_Map.get(players, whiteId);\n    var blackOpt = Belt_Map.get(players, blackId);\n    var match;\n    var exit = 0;\n    if (whiteOpt !== undefined && blackOpt !== undefined && newResult < 3) {\n      match = Data_Ratings$Coronate.calcNewRatings(m.whiteOrigRating, m.blackOrigRating, whiteOpt.matchCount, blackOpt.matchCount, newResult);\n    } else {\n      exit = 1;\n    }\n    if (exit === 1) {\n      match = [\n        m.whiteOrigRating,\n        m.blackOrigRating\n      ];\n    }\n    var blackNewRating = match[1];\n    var whiteNewRating = match[0];\n    var whiteOpt$1 = Belt_Option.map(whiteOpt, (function (white) {\n            return {\n                    firstName: white.firstName,\n                    id: white.id,\n                    lastName: white.lastName,\n                    matchCount: white.matchCount,\n                    rating: whiteNewRating,\n                    type_: white.type_\n                  };\n          }));\n    var blackOpt$1 = Belt_Option.map(blackOpt, (function (black) {\n            return {\n                    firstName: black.firstName,\n                    id: black.id,\n                    lastName: black.lastName,\n                    matchCount: black.matchCount,\n                    rating: blackNewRating,\n                    type_: black.type_\n                  };\n          }));\n    var match$1 = m.result;\n    if (match$1 >= 3) {\n      Belt_Option.forEach(whiteOpt$1, (function (white) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: whiteId,\n                          _1: {\n                            firstName: white.firstName,\n                            id: white.id,\n                            lastName: white.lastName,\n                            matchCount: white.matchCount + 1 | 0,\n                            rating: white.rating,\n                            type_: white.type_\n                          }\n                        });\n            }));\n      Belt_Option.forEach(blackOpt$1, (function (black) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: blackId,\n                          _1: {\n                            firstName: black.firstName,\n                            id: black.id,\n                            lastName: black.lastName,\n                            matchCount: black.matchCount + 1 | 0,\n                            rating: black.rating,\n                            type_: black.type_\n                          }\n                        });\n            }));\n    } else if (newResult === /* NotSet */3) {\n      Belt_Option.forEach(whiteOpt$1, (function (white) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: whiteId,\n                          _1: {\n                            firstName: white.firstName,\n                            id: white.id,\n                            lastName: white.lastName,\n                            matchCount: white.matchCount - 1 | 0,\n                            rating: white.rating,\n                            type_: white.type_\n                          }\n                        });\n            }));\n      Belt_Option.forEach(blackOpt$1, (function (black) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: blackId,\n                          _1: {\n                            firstName: black.firstName,\n                            id: black.id,\n                            lastName: black.lastName,\n                            matchCount: black.matchCount - 1 | 0,\n                            rating: black.rating,\n                            type_: black.type_\n                          }\n                        });\n            }));\n    } else {\n      Belt_Option.forEach(whiteOpt$1, (function (white) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: whiteId,\n                          _1: white\n                        });\n            }));\n      Belt_Option.forEach(blackOpt$1, (function (black) {\n              return Curry._1(playersDispatch, {\n                          TAG: /* Set */1,\n                          _0: blackId,\n                          _1: black\n                        });\n            }));\n    }\n    var newMatch_id = m.id;\n    var newMatch_whiteId = m.whiteId;\n    var newMatch_blackId = m.blackId;\n    var newMatch_whiteOrigRating = m.whiteOrigRating;\n    var newMatch_blackOrigRating = m.blackOrigRating;\n    var newMatch = {\n      id: newMatch_id,\n      whiteId: newMatch_whiteId,\n      blackId: newMatch_blackId,\n      whiteNewRating: whiteNewRating,\n      blackNewRating: blackNewRating,\n      whiteOrigRating: newMatch_whiteOrigRating,\n      blackOrigRating: newMatch_blackOrigRating,\n      result: newResult\n    };\n    Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n            return Curry._1(setTourney, {\n                        id: tourney.id,\n                        name: tourney.name,\n                        date: tourney.date,\n                        playerIds: tourney.playerIds,\n                        scoreAdjustments: tourney.scoreAdjustments,\n                        byeQueue: tourney.byeQueue,\n                        tieBreaks: tourney.tieBreaks,\n                        roundList: roundList\n                      });\n          }));\n    \n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: dialog.state,\n            onDismiss: (function (param) {\n                return Curry._1(dialog.setFalse, undefined);\n              }),\n            ariaLabel: \"Match information\",\n            children: null,\n            className: \"\"\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(dialog.setFalse, undefined);\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney.name), React.createElement(\"p\", undefined, \"Round \" + String(roundId + 1 | 0) + \" match \" + String(pos + 1 | 0)), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: whitePlayer,\n                          origRating: m.whiteOrigRating,\n                          newRating: m.whiteNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players,\n                          avoidPairs: avoidPairs\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: blackPlayer,\n                          origRating: m.blackOrigRating,\n                          newRating: m.blackNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players,\n                          avoidPairs: avoidPairs\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: \"pageround__controls data__input\"\n        }, Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n                return !Data_Id$Coronate.eq(id, m.id);\n              })) ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  return Caml_option.some(m.id);\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, {}), React.createElement(VisuallyHidden, {\n                    children: \"Edit match for \" + Data_Player$Coronate.fullName(whitePlayer) + \" versus \" + Data_Player$Coronate.fullName(blackPlayer)\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch, (function (param) {\n                                  \n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, {})), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(dialog.setTrue, undefined);\n                })\n            }, React.createElement(ReactFeather.Info, {}), React.createElement(VisuallyHidden, {\n                  children: \"View information for match: \" + Data_Player$Coronate.fullName(whitePlayer) + \" versus \" + Data_Player$Coronate.fullName(blackPlayer)\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.append(className, Cn.mapSome(selectedMatch, (function (id) {\n                          if (Data_Id$Coronate.eq(m.id, id)) {\n                            return \"selected\";\n                          } else {\n                            return \"\";\n                          }\n                        })))\n            }, React.createElement(\"th\", {\n                  className: \"pageround__row-id table__number\",\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: \"pageround__playerresult\"\n                }, resultDisplay(/* White */0)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: \"table__player row__player \" + Data_Player$Coronate.Type.toString(whitePlayer.type_),\n                        id: \"match-\" + (String(pos) + \"-white\")\n                      }, Data_Player$Coronate.fullName(whitePlayer)),\n                  testId: \"match-\" + (String(pos) + \"-white\")\n                }), React.createElement(\"td\", {\n                  className: \"pageround__playerresult\"\n                }, resultDisplay(/* Black */1)), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"td\", {\n                        className: \"table__player row__player \" + Data_Player$Coronate.Type.toString(blackPlayer.type_),\n                        id: \"match-\" + (String(pos) + \"-black\")\n                      }, Data_Player$Coronate.fullName(blackPlayer)),\n                  testId: \"match-\" + (String(pos) + \"-black\")\n                }), React.createElement(\"td\", {\n                  className: \"pageround__matchresult data__input row__controls\"\n                }, React.createElement(Utils$Coronate.TestId.make, {\n                      children: React.createElement(\"select\", {\n                            className: \"pageround__winnerSelect\",\n                            disabled: isDummyRound,\n                            value: Data_Match$Coronate.Result.toString(m.result),\n                            onBlur: setMatchResultBlur,\n                            onChange: setMatchResultChange\n                          }, React.createElement(\"option\", {\n                                value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                              }, \"Select winner\"), React.createElement(\"option\", {\n                                value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                              }, \"White won\"), React.createElement(\"option\", {\n                                value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                              }, \"Black won\"), React.createElement(\"option\", {\n                                value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                              }, \"Draw\")),\n                      testId: \"match-\" + (String(pos) + \"-select\")\n                    })), tmp);\n}\n\nfunction PageRound$RoundTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var match = Db$Coronate.useConfig(undefined);\n  var avoidPairs = match[0].avoidPairs;\n  return React.createElement(\"table\", {\n              className: \"pageround__table\"\n            }, matches.length === 0 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", roundId + 1 | 0), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: \"pageround__row-id\",\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, Belt_Array.mapWithIndex(matches, (function (pos, m) {\n                        var tmp = {\n                          isCompact: isCompact,\n                          pos: pos,\n                          m: m,\n                          roundId: roundId,\n                          setSelectedMatch: setSelectedMatch,\n                          scoreData: scoreData,\n                          tournament: tournament,\n                          className: \"pageround__td\",\n                          avoidPairs: avoidPairs,\n                          key: Data_Id$Coronate.toString(m.id)\n                        };\n                        if (selectedMatch !== undefined) {\n                          tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n                        }\n                        return React.createElement(PageRound$MatchRow, tmp);\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var match = React.useState(function () {\n        \n      });\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var newRound = Data_Rounds$Coronate.Round.moveMatch(round, matchId, direction);\n    if (newRound === undefined) {\n      return ;\n    }\n    var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, Caml_option.valFromOption(newRound));\n    if (roundList$1 !== undefined) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Caml_option.valFromOption(roundList$1)\n                });\n    }\n    \n  };\n  var matches = Data_Rounds$Coronate.get(tourney.roundList, roundId);\n  if (matches === undefined) {\n    return React.createElement(Pages$Coronate.NotFound.make, {});\n  }\n  var matches$1 = Caml_option.valFromOption(matches);\n  var tmp = {\n    roundId: roundId,\n    matches: Data_Rounds$Coronate.Round.toArray(matches$1),\n    setSelectedMatch: setSelectedMatch,\n    tournament: tournament,\n    scoreData: scoreData\n  };\n  if (selectedMatch !== undefined) {\n    tmp.selectedMatch = Caml_option.valFromOption(selectedMatch);\n  }\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match !== undefined && match.result !== /* NotSet */3) {\n                                    Belt_Array.forEach([\n                                          [\n                                            match.whiteId,\n                                            match.whiteOrigRating\n                                          ],\n                                          [\n                                            match.blackId,\n                                            match.blackOrigRating\n                                          ]\n                                        ], (function (param) {\n                                            var player = Belt_Map.get(players, param[0]);\n                                            if (player !== undefined) {\n                                              return Curry._1(playersDispatch, {\n                                                          TAG: /* Set */1,\n                                                          _0: player.id,\n                                                          _1: {\n                                                            firstName: player.firstName,\n                                                            id: player.id,\n                                                            lastName: player.lastName,\n                                                            matchCount: player.matchCount - 1 | 0,\n                                                            rating: param[1],\n                                                            type_: player.type_\n                                                          }\n                                                        });\n                                            }\n                                            \n                                          }));\n                                  }\n                                  var newRound = Data_Rounds$Coronate.Round.removeMatchById(matches$1, __x);\n                                  var roundList$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                  if (roundList$1 !== undefined) {\n                                    Curry._1(setTourney, {\n                                          id: tourney.id,\n                                          name: tourney.name,\n                                          date: tourney.date,\n                                          playerIds: tourney.playerIds,\n                                          scoreAdjustments: tourney.scoreAdjustments,\n                                          byeQueue: tourney.byeQueue,\n                                          tieBreaks: tourney.tieBreaks,\n                                          roundList: Caml_option.valFromOption(roundList$1)\n                                        });\n                                  }\n                                  return Curry._1(setSelectedMatch, (function (param) {\n                                                \n                                              }));\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Trash2, {}), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  var match_ = Data_Rounds$Coronate.Round.getMatchById(matches$1, __x);\n                                  if (match_ === undefined) {\n                                    return ;\n                                  }\n                                  var newMatch = Data_Match$Coronate.swapColors(match_);\n                                  Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                          return Curry._1(setTourney, {\n                                                      id: tourney.id,\n                                                      name: tourney.name,\n                                                      date: tourney.date,\n                                                      playerIds: tourney.playerIds,\n                                                      scoreAdjustments: tourney.scoreAdjustments,\n                                                      byeQueue: tourney.byeQueue,\n                                                      tieBreaks: tourney.tieBreaks,\n                                                      roundList: roundList\n                                                    });\n                                        }));\n                                  \n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.Repeat, {}), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, -1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowUp, {}), \" Move up\"), \" \", React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      disabled: selectedMatch === undefined,\n                      onClick: (function (param) {\n                          Belt_Option.map(selectedMatch, (function (__x) {\n                                  return moveMatch(__x, 1, matches$1);\n                                }));\n                          \n                        })\n                    }, React.createElement(ReactFeather.ArrowDown, {}), \" Move down\")), Data_Rounds$Coronate.Round.size(matches$1) === 0 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, tmp));\n}\n\nfunction PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var match = TournamentUtils$Coronate.useRoundData(roundId, tournament);\n  var unmatchedCount = match.unmatchedCount;\n  var scoreData = match.scoreData;\n  var activePlayersCount = match.activePlayersCount;\n  var initialTab = unmatchedCount === activePlayersCount ? 1 : 0;\n  var match$1 = React.useState(function () {\n        return initialTab;\n      });\n  var setOpenTab = match$1[1];\n  React.useEffect((function () {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          \n        }), [\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, {}), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, {}), \" Unmatched players (\" + String(unmatchedCount) + \")\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, unmatchedCount !== 0 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: match.unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: match.unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar make = PageRound;\n\nexport {\n  RoundTable ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.bs.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Tournament$Coronate from \"../Data/Data_Tournament.bs.js\";\nimport * as LocalForage_Map$Coronate from \"../Externals/LocalForage_Map.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  if (roundCount !== Pervasives.neg_infinity) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney = Data_Tournament$Coronate.make(Data_Id$Coronate.random(undefined), \"\");\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var tourneyId$1 = Data_Id$Coronate.toString(tourneyId);\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney.roundList;\n  var playerIds = tourney.playerIds;\n  var name = tourney.name;\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(undefined);\n  var arePlayersLoaded = match$1.loaded;\n  var players = match$1.items;\n  var match$2 = React.useState(function () {\n        return /* NotLoaded */0;\n      });\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */2,\n                _0: name\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */2,\n                                _0: \"\"\n                              });\n                  });\n        }), [\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(LocalForage_Map$Coronate.getItem(Db$Coronate.tournaments, tourneyId$1))), (function (value) {\n                      if (didCancel.contents) {\n                        return ;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (!didCancel.contents) {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                  \n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    \n                  });\n        }), [tourneyId$1]);\n  React.useEffect((function () {\n          if (tourneyLoaded !== 1 || !Data_Id$Coronate.eq(Data_Id$Coronate.fromString(tourneyId$1), tourney.id)) {\n            \n          } else {\n            LocalForage_Map$Coronate.setItem(Db$Coronate.tournaments, tourneyId$1, tourney);\n          }\n          \n        }), [\n        tourneyLoaded,\n        tourneyId$1,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_Map.keep(players, (function (id, param) {\n                  return Belt_Set.has(playerIds, id);\n                }));\n          var roundCount = calcNumOfRounds(Belt_Map.size(activePlayers));\n          var isItOver = Data_Rounds$Coronate.size(roundList) >= roundCount;\n          var isNewRoundReady = Data_Rounds$Coronate.size(roundList) === 0 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, Data_Rounds$Coronate.size(roundList) - 1 | 0);\n          return Curry._1(children, {\n                      activePlayers: activePlayers,\n                      getPlayer: (function (param) {\n                          return Data_Player$Coronate.getMaybe(players, param);\n                        }),\n                      isItOver: isItOver,\n                      isNewRoundReady: isNewRoundReady,\n                      players: players,\n                      playersDispatch: match$1.dispatch,\n                      roundCount: roundCount,\n                      tourney: tourney,\n                      setTourney: setTourney\n                    });\n        }\n        break;\n    case /* Error */2 :\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\",\n                    windowDispatch: windowDispatch\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\",\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = LoadTournament;\n\nexport {\n  make ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Dom/Webapi__Dom__Element.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = String(date.getFullYear());\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var month = rawMonth < 9.0 ? \"0\" + String(rawMonth + 1.0) : String(rawMonth + 1.0);\n  var day = rawDate < 10.0 ? \"0\" + String(rawDate) : String(rawDate);\n  return year + \"-\" + month + \"-\" + day;\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var date = tourney.date;\n  var name = tourney.name;\n  var setTourney = tournament.setTourney;\n  var match = React.useState(function () {\n        return /* NotEditing */2;\n      });\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            \n          }));\n    \n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          \n        }), [editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to .\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = rawDate.split(\"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = [\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = [\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Belt_Float.fromString(match$1[0]);\n    var month$1 = Belt_Float.fromString(match$1[1]);\n    var date = Belt_Float.fromString(match$1[2]);\n    if (year$1 !== undefined && month$1 !== undefined && date !== undefined) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: new Date(year$1, month$1 - 1.0, date),\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n    \n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, {}), React.createElement(VisuallyHidden, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: $$event.currentTarget.value,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        scoreAdjustments: tourney.scoreAdjustments,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: tourney.roundList\n                                      });\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, {}))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, {}), React.createElement(VisuallyHidden, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, {}))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Router$Coronate.HashLink.make, {\n                      children: \"app options\",\n                      to_: /* Options */4\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Scoring$Coronate from \"../Data/Data_Scoring.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var size = Props.size;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var tieBreaks = tourney.tieBreaks;\n  var standingTree = Data_Scoring$Coronate.createStandingTree(Belt_Array.keep(Data_Scoring$Coronate.createStandingArray(Data_Scoring$Coronate.fromTournament(tourney.roundList, tourney.scoreAdjustments), tieBreaks), (function (param) {\n              return !Data_Id$Coronate.isDummy(param.id);\n            })), tieBreaks);\n  return React.createElement(\"table\", {\n              className: \"pagescores__table\"\n            }, React.createElement(\"caption\", {\n                  className: size ? \"title-40\" : \"title-30\"\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: \"pagescores__topheader\"\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), size ? Belt_Array.map(tieBreaks, (function (tb) {\n                              return React.createElement(\"th\", {\n                                          key: Data_Scoring$Coronate.TieBreak.toString(tb),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, Data_Scoring$Coronate.TieBreak.toPrettyString(tb));\n                            })) : null)), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingTree)), (function (rank, standingsFlat) {\n                        return Belt_Array.mapWithIndex(Belt_Array.reverse(Belt_List.toArray(standingsFlat)), (function (i, standing) {\n                                      return React.createElement(\"tr\", {\n                                                  key: Data_Id$Coronate.toString(standing.id),\n                                                  className: \"pagescores__row\"\n                                                }, i === 0 ? React.createElement(\"th\", {\n                                                        className: \"table__number pagescores__number pagescores__rank pagescores__row-th\",\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, rank + 1 | 0) : null, size ? React.createElement(Utils$Coronate.TestId.make, {\n                                                        children: React.createElement(\"th\", {\n                                                              className: \"pagescores__row-th pagescores__playername\",\n                                                              scope: \"row\"\n                                                            }, Data_Player$Coronate.fullName(Curry._1(getPlayer, standing.id))),\n                                                        testId: \"rank-\" + (String(rank + 1 | 0) + (\".\" + String(i)))\n                                                      }) : React.createElement(\"td\", {\n                                                        className: \"pagescores__row-td pagescores__playername\"\n                                                      }, Data_Player$Coronate.fullName(Curry._1(getPlayer, standing.id))), React.createElement(\"td\", {\n                                                      className: \"pagescores__number pagescores__row-td table__number\"\n                                                    }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, standing.score).format(\"1/2\")), size ? Belt_Array.map(tieBreaks, (function (tb) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Data_Scoring$Coronate.TieBreak.toString(tb),\n                                                                      className: \"pagescores__row-td table__number\"\n                                                                    }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, Data_Scoring$Coronate.getTieBreak(standing, tb)).format(\"1/2\"));\n                                                        })) : null);\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney.tieBreaks;\n  var match = React.useState(function () {\n        \n      });\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            scoreAdjustments: tourney.scoreAdjustments,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks.filter(function (tbId) {\n                  return defaultId(id) !== tbId;\n                }),\n            roundList: tourney.roundList\n          });\n      return Curry._1(setSelectedTb, (function (param) {\n                    \n                  }));\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks.concat([defaultId(id)]),\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb === undefined) {\n      return ;\n    }\n    var index = tieBreaks.indexOf(selectedTb);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: tourney.date,\n                playerIds: tourney.playerIds,\n                scoreAdjustments: tourney.scoreAdjustments,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: Utils$Coronate.$$Array.swap(tourney.tieBreaks, index, index + direction | 0),\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, {}), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, {}), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.append(\"button-micro\", Cn.onSome(\"button-primary\", selectedTb)),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            \n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(tieBreaks, (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak),\n                                            className: Belt_Option.mapWithDefault(selectedTb, \"\", (function (x) {\n                                                    if (x === tieBreak) {\n                                                      return \"selected\";\n                                                    } else {\n                                                      return \"\";\n                                                    }\n                                                  }))\n                                          }, React.createElement(\"td\", undefined, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          if (selectedTb === tieBreak) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          \n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, selectedTb !== undefined && selectedTb === tieBreak ? \"Done\" : \"Edit\")));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map([\n                              /* Median */0,\n                              /* Solkoff */1,\n                              /* Cumulative */2,\n                              /* CumulativeOfOpposition */3,\n                              /* MostBlack */4\n                            ], (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Data_Scoring$Coronate.TieBreak.toString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: tieBreaks.includes(tieBreak) ? \"disabled\" : \"enabled\"\n                                                  }, Data_Scoring$Coronate.TieBreak.toPrettyString(tieBreak))), React.createElement(\"td\", undefined, tieBreaks.includes(tieBreak) ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, {}), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, {}), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            size: /* Expanded */1,\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament.setTourney\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (Data_Id$Coronate.eq(player1Id, player2Id)) {\n    return React.createElement(ReactFeather.X, {\n                className: \"pagescores__x\"\n              });\n  }\n  var scoreData$1 = Belt_Map.get(scoreData, player1Id);\n  if (scoreData$1 === undefined) {\n    return null;\n  }\n  var result = Data_Scoring$Coronate.oppResultsToSumById(scoreData$1, player2Id);\n  if (result !== undefined) {\n    return Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, Caml_option.valFromOption(result)).format(\"1/2\");\n  } else {\n    return null;\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_Map.getExn(scoreData, playerId).firstRating;\n  var match = Belt_Map.getExn(scoreData, playerId).ratings;\n  var lastRating = match ? match.hd : firstRating;\n  var change = Numeral(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: \"pagescores__row-td table__number\"\n                }, lastRating), React.createElement(\"td\", {\n                  className: \"pagescores__row-td table__number body-10\"\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var param = Props.tournament;\n  var match = param.tourney;\n  var getPlayer = param.getPlayer;\n  var scoreData = Data_Scoring$Coronate.fromTournament(match.roundList, match.scoreAdjustments);\n  var standings = Data_Scoring$Coronate.createStandingArray(scoreData, match.tieBreaks);\n  return React.createElement(\"table\", {\n              className: \"pagescores__table\"\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Belt_Array.mapWithIndex(standings, (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, rank + 1 | 0);\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Belt_Array.mapWithIndex(standings, (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: \"pagescores__row\"\n                                  }, React.createElement(\"th\", {\n                                        className: \"pagescores__row-th pagescores__rank\",\n                                        scope: \"col\"\n                                      }, index + 1 | 0), React.createElement(\"th\", {\n                                        className: \"pagescores__row-th pagescores__playername\",\n                                        scope: \"row\"\n                                      }, Data_Player$Coronate.fullName(Curry._1(getPlayer, standing.id))), Belt_Array.mapWithIndex(standings, (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: \"pagescores__row-td table__number\"\n                                                    }, getXScore(scoreData, standing.id, opponent.id));\n                                        })), React.createElement(\"td\", {\n                                        className: \"pagescores__row-td table__number\"\n                                      }, Curry._1(Data_Scoring$Coronate.Score.Sum.toNumeral, standing.score).format(\"1/2\")), getRatingChangeTds(scoreData, standing.id));\n                      }))));\n}\n\nvar make = PageTourneyScores;\n\nvar Crosstable = {\n  make: PageTourneyScores$Crosstable\n};\n\nexport {\n  make ,\n  ScoreTable ,\n  Crosstable ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney.roundList);\n  var lastRound = Data_Rounds$Coronate.get(tourney.roundList, lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = Caml_option.valFromOption(lastRound);\n    tmp = Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: Data_Rounds$Coronate.Round.toArray(matches),\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(\"div\", {\n                  className: \"content-area\"\n                }, React.createElement(Utils$Coronate.PanelContainer.make, {\n                      children: null,\n                      style: {\n                        justifyContent: \"center\"\n                      }\n                    }, React.createElement(Utils$Coronate.Panel.make, {\n                          children: tmp\n                        }), React.createElement(Utils$Coronate.Panel.make, {\n                          children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                                size: /* Compact */0,\n                                tourney: tourney,\n                                getPlayer: tournament.getPlayer,\n                                title: \"Rankings\"\n                              })\n                        }))));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament.isNewRoundReady ? (\n      tournament.isItOver ? [\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : [\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : [\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"div\", {\n                  className: \"win__footer-block\"\n                }, \"Rounds: \", Data_Rounds$Coronate.size(tournament.tourney.roundList), React.createElement(\"small\", undefined, \" out of \"), tournament.roundCount), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"div\", {\n                  className: \"win__footer-block\"\n                }, \"Registered players: \", Belt_Map.size(tournament.activePlayers)), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  \n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var windowDispatch = Props.windowDispatch;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var isItOver = tournament.isItOver;\n  var activePlayers = tournament.activePlayers;\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (!window.confirm(\"Are you sure you want to delete the last round?\")) {\n      return ;\n    }\n    ReasonReactRouter.push(\"#/tourneys/\" + Data_Id$Coronate.toString(tourney.id));\n    var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n    var round = Data_Rounds$Coronate.get(roundList, lastRoundId);\n    if (round !== undefined) {\n      Belt_Array.forEach(Data_Rounds$Coronate.Round.toArray(Caml_option.valFromOption(round)), (function (match_) {\n              if (match_.result >= 3) {\n                return ;\n              } else {\n                return Belt_Array.forEach([\n                            [\n                              match_.whiteId,\n                              match_.whiteOrigRating\n                            ],\n                            [\n                              match_.blackId,\n                              match_.blackOrigRating\n                            ]\n                          ], (function (param) {\n                              var player = Belt_Map.get(players, param[0]);\n                              if (player === undefined) {\n                                return ;\n                              }\n                              var matchCount = player.matchCount - 1 | 0;\n                              return Curry._1(playersDispatch, {\n                                          TAG: /* Set */1,\n                                          _0: player.id,\n                                          _1: {\n                                            firstName: player.firstName,\n                                            id: player.id,\n                                            lastName: player.lastName,\n                                            matchCount: matchCount,\n                                            rating: param[1],\n                                            type_: player.type_\n                                          }\n                                        });\n                            }));\n              }\n            }));\n    }\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          scoreAdjustments: tourney.scoreAdjustments,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.delLastRound(roundList)\n        });\n    if (Data_Rounds$Coronate.size(roundList) === 0) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  scoreAdjustments: tourney.scoreAdjustments,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    }\n    \n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* TournamentList */1,\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.ChevronLeft, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Setup */3\n                              },\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.Settings, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Players */0\n                              },\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.Users, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Status */4\n                              },\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.Activity, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Crosstable */2\n                              },\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.Layers, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: {\n                                TAG: /* Tournament */0,\n                                _0: tourney.id,\n                                _1: /* Scores */1\n                              },\n                              onDragStart: noDraggy,\n                              onClick: (function (param) {\n                                  return Curry._1(windowDispatch, {\n                                              TAG: /* SetSidebar */1,\n                                              _0: false\n                                            });\n                                })\n                            }, React.createElement(ReactFeather.List, {}), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, Belt_Array.mapWithIndex(Data_Rounds$Coronate.toArray(roundList), (function (id, param) {\n                            return React.createElement(\"li\", {\n                                        key: String(id)\n                                      }, React.createElement(Router$Coronate.HashLink.make, {\n                                            children: null,\n                                            to_: {\n                                              TAG: /* Tournament */0,\n                                              _0: tourney.id,\n                                              _1: /* Round */{\n                                                _0: id\n                                              }\n                                            },\n                                            onDragStart: noDraggy,\n                                            onClick: (function (param) {\n                                                return Curry._1(windowDispatch, {\n                                                            TAG: /* SetSidebar */1,\n                                                            _0: false\n                                                          });\n                                              })\n                                          }, id + 1 | 0, Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id) ? React.createElement(\"span\", {\n                                                  className: \"sidebar__hide-on-close caption-20\"\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, {})) : React.createElement(\"span\", {\n                                                  className: \"sidebar__hide-on-close caption-20\"\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, {}))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament.isNewRoundReady,\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: Data_Rounds$Coronate.size(roundList) === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, {}), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var subPage = Props.subPage;\n  var windowDispatch = Props.windowDispatch;\n  return React.createElement(LoadTournament$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  if (typeof subPage === \"number\") {\n                    switch (subPage) {\n                      case /* Players */0 :\n                          tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Scores */1 :\n                          tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Crosstable */2 :\n                          tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Setup */3 :\n                          tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Status */4 :\n                          tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = React.createElement(PageRound$Coronate.make, {\n                          roundId: subPage._0,\n                          tournament: tournament\n                        });\n                  }\n                  return React.createElement(Window$Coronate.Body.make, {\n                              children: tmp,\n                              windowDispatch: windowDispatch,\n                              footerFunc: (function (param) {\n                                  return React.createElement(PageTourney$Footer, {\n                                              tournament: tournament\n                                            });\n                                }),\n                              sidebarFunc: (function (param) {\n                                  return React.createElement(PageTourney$Sidebar, {\n                                              tournament: tournament,\n                                              windowDispatch: param\n                                            });\n                                })\n                            });\n                }),\n              tourneyId: tourneyId,\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals/Externals.bs.js\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nvar dateSort = {\n  TAG: /* GetDate */3,\n  _0: (function (x) {\n      return x.date;\n    })\n};\n\nvar nameSort = {\n  TAG: /* GetString */0,\n  _0: (function (x) {\n      return x.name;\n    })\n};\n\nfunction PageTournamentList(Props) {\n  var windowDispatchOpt = Props.windowDispatch;\n  var windowDispatch = windowDispatchOpt !== undefined ? windowDispatchOpt : (function (param) {\n        \n      });\n  var match = Db$Coronate.useAllTournaments(undefined);\n  var dispatch = match.dispatch;\n  var tourneys = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState(function () {\n        return \"\";\n      });\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var dialog = Hooks$Coronate.useBool(false);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, {\n                TAG: /* SetTitle */2,\n                _0: \"Tournament list\"\n              });\n          return (function (param) {\n                    return Curry._1(windowDispatch, {\n                                TAG: /* SetTitle */2,\n                                _0: \"\"\n                              });\n                  });\n        }), [windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, {\n                TAG: /* SetTable */2,\n                _0: Belt_Map.valuesToArray(tourneys)\n              });\n          \n        }), [\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Data_Id$Coronate.random(undefined);\n    Curry._1(dispatch, {\n          TAG: /* Set */1,\n          _0: id,\n          _1: Data_Tournament$Coronate.make(id, newTourneyName)\n        });\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(dialog.setFalse, undefined);\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(dialog.setTrue, undefined);\n                              })\n                          }, React.createElement(ReactFeather.Plus, {}), \" Add tournament\")), Belt_Map.isEmpty(tourneys) ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, Belt_Array.map(sorted.table, (function (param) {\n                                    var name = param.name;\n                                    var id = param.id;\n                                    return React.createElement(\"tr\", {\n                                                key: Data_Id$Coronate.toString(id)\n                                              }, React.createElement(\"td\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                                                        children: name,\n                                                        to_: {\n                                                          TAG: /* Tournament */0,\n                                                          _0: id,\n                                                          _1: /* Players */0\n                                                        }\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: param.date\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + name + \"\",\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + name,\n                                                        onClick: (function (param) {\n                                                            var message = \"Are you sure you want to delete \" + name + \"?\";\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, {\n                                                                          TAG: /* Del */0,\n                                                                          _0: id\n                                                                        });\n                                                            }\n                                                            \n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, {}))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: dialog.state,\n                        onDismiss: dialog.setFalse,\n                        ariaLabel: \"Create new tournament\",\n                        children: null,\n                        className: \"\"\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(dialog.setFalse, undefined);\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                                        htmlFor: \"tourney-name\"\n                                      }, \"Name:\"), React.createElement(\"input\", {\n                                        id: \"tourney-name\",\n                                        name: \"tourney-name\",\n                                        placeholder: \"tournament name\",\n                                        required: true,\n                                        type: \"text\",\n                                        value: newTourneyName,\n                                        onChange: updateNewName\n                                      })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                        className: \"button-primary\",\n                                        type: \"submit\",\n                                        value: \"Create\"\n                                      })))))),\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/legacy/ReactDOMRe.bs.js\";\nimport * as Localforage from \"localforage\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as LocalforageGetitems from \"localforage-getitems\";\nimport * as LocalforageSetitems from \"localforage-setitems\";\nimport * as LocalforageRemoveitems from \"localforage-removeitems\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nfunction App$App(Props) {\n  var url = Router$Coronate.useHashUrl(undefined);\n  return React.createElement(Window$Coronate.make, {\n              children: (function (windowDispatch) {\n                  var tmp;\n                  if (typeof url === \"number\") {\n                    switch (url) {\n                      case /* Index */0 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.Splash.make, {}),\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* TournamentList */1 :\n                          tmp = React.createElement(PageTournamentList$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* PlayerList */2 :\n                          tmp = React.createElement(PagePlayers$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* TimeCalculator */3 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.TimeCalculator.make, {}),\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* Options */4 :\n                          tmp = React.createElement(PageOptions$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* NotFound */5 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.NotFound.make, {}),\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = url.TAG === /* Tournament */0 ? React.createElement(PageTourney$Coronate.make, {\n                            tourneyId: url._0,\n                            subPage: url._1,\n                            windowDispatch: windowDispatch\n                          }) : React.createElement(PagePlayers$Coronate.make, {\n                            id: url._0,\n                            windowDispatch: windowDispatch\n                          });\n                  }\n                  return React.createElement(\"main\", {\n                              className: \"app__main\"\n                            }, tmp);\n                }),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: App$App\n};\n\nfunction init(param) {\n  return ReactDOMRe.renderToElementWithId(React.createElement(App$App, {}), \"root\");\n}\n\nLocalforageGetitems.extendPrototype(Localforage);\n\nLocalforageRemoveitems.extendPrototype(Localforage);\n\nLocalforageSetitems.extendPrototype(Localforage);\n\nexport {\n  App ,\n  init ,\n  \n}\n/*  Not a pure module */\n","import { init } from \"./App.bs\";\ninit();\n"],"sourceRoot":""}