{"version":3,"sources":["index.js","assets/icon-min.svg","assets/caution.svg","styles/index.js","Externals.bs.js","Utils.bs.js","Scoring.bs.js","Data.bs.js","Hooks.bs.js","DemoData.bs.js","Db.bs.js","Icons.bs.js","Electron.bs.js","Window.bs.js","Pages.bs.js","TestData.bs.js","PageOptions.bs.js","PagePlayers.bs.js","Pairing.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/PageRound.bs.js","PageTournament/TournamentDataReducers.bs.js","PageTournament/TournamentData.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","App.bs.js","serviceWorker.js","Index.bs.js"],"names":["require","module","exports","__webpack_require__","p","r","__webpack_exports__","LocalForage","DataType","name","storeName","Localforage","createInstance","param","LocalforageGetitems","LocalforageSetitems","LocalforageRemoveitems","string_of_numbered","x","string_of_month","month","string_of_year","year","IntlDateTimeFormat","locale","day","hour","minute","Belt_Option","undefined","descend","prim","prim$1","prim$2","Ramda","alert","window","nanoid","Nanoid","absf","Math","abs","sortWith","confirm","move","addFloat","a","b","arraySumFloat","arr","reduce","listSumFloat","list","Belt_List","last","Caml_array","length","WebpackAssets","Entities","listToReactArray","func","acc","item","concat","Curry","config","Externals$Coronate","dtobj","Intl","DateTimeFormat","DateFormat","Props","date","React","dateTime","toISOString","format","config$1","dtobj$1","panels","Css","panel","Panel","children","match","className","match$1","style","Caml_option","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","container","text","icon","success","warning","error","$$Notification","match$4","kind","tooltip","match$2","match$3","ReactFeather","aria-label","title","Router","hashString","split","to_","onDragStart","hash","ReasonReactRouter","ariaCurrent","aria-current","href","Numeral","value","_format","_roundingFunction","whole","floor","remainder","fraction","toString","regexps","unformat","Number","github_url","license_url","issues_url","isNotDummy","scoreDict","oppId","Belt_MapString","getPlayerScore","id","Utils$Coronate","getOpponentScores","filter","map","runningReducer","score","getCumulativeScore","tieBreakMethods","Belt_SortArray","param$1","slice","getNamefromIndex","index","Belt_Array","createBlankScoreData","createStandingList","methods","scoreData","selectedTieBreakFuncs","i","standings","sortTieBreakFuncList","createStandingTree","standingList","standing","standing1","standing2","includes","lastIndex","getKFactor","matchCount","ne","Caml_int32","keepAboveFloor","rating","Ratings","param$2","blackRating","whiteRating","whiteElo","EloRank","blackElo","whiteScoreExpected","getExpected","blackScoreExpected","updateRating","dummy_id","avoidPairReducer","pair","id2","id1","newList1","newList2","dummyPlayer","makeMissingPlayer","Player","firstName","lastName","type_","playerId","playerDict","Js_dict","playerMap","tToJs$1","whiteId","blackId","whiteNewRating","blackNewRating","whiteOrigRating","blackOrigRating","whiteScore","blackScore","tFromJs$1","Tournament","byeQueue","playerIds","roundList","tieBreaks","tourney","round","Date","Config","avoidPairs","byeValue","lastBackup","rounds2Matches","lastRound","getUnmatched","players","roundId","matchedIds","match_","key","player","isRoundComplete","unmatched","results","colorToScore","color","dummyId","makeScoreData","existingData","origRating","newRating","result","oldData","Scoring$Coronate","ratings","newResultsNoByes","oldOppResults","oppResult","newOpponentResults","Converters","matchList","newDataWhite","newDataBlack","playerData","scoreMap","avoidMap","data","playerStats","newAvoidIds","newData","ascend","getter","Caml_obj","sortedTableReducer","state","action","newState","tag","sortFunc","direction","str","toLowerCase","table","useSortedTable","isDescending","initialState","dispatch","SortButton","sortKey","chevronStyle","opacity","width","onClick","Block","aria-hidden","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","tournaments","ConfigDb","configStore","Players","playerStore","Tournaments","tourneyStore","jsDictToReMap","dict","transformer","reMapToJsDict","genericDbReducer","useAllItemsFromDb","store","reducer","fromJs","toJs","items","setIsLoaded","Hooks$Coronate","didCancel","getItems","then","Promise","resolve","setItems","keys","stateKeys","deleted","removeItems","useAllPlayers","Data$Coronate","useAllTournaments","configReducer","user2","user1","p2","p1","useConfig","valuesJs","values","IconData","Reason","Icons$SimpleIcon","height","ariaLabel","match$5","ariaHidden","role","ReactDOMRe","fill","hex","viewBox","d","path","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","electron","ifElectron","fn","remote","getCurrentWindow","openInBrowser","$$event","preventDefault","shell","openExternal","target","macOSDoubleClick","win","doubleClickAction","systemPreferences","getUserDefault","$$window","isMaximized","unmaximize","maximize","minimize","isWin","navigator","appVersion","isMac","isElectron","IfElectron","os","global_title","formatTitle","initialWinState","windowContext","makeProps","make","Provider","useWindowContext","Window$About","display","justifyContent","textAlign","flex","alt","src","join","Electron$Coronate","windowReducer","button","svg","close","Window$MSWindowsControls","middleButton","setFullScreen","Icons$Coronate","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","sidebarCallback","Body","footerFunc","sidebarFunc","make$1","Webapi__Dom__Document","unregisterListeners","removeAllListeners","on","isFocused","isFullScreen","Dialog","isOpen","onDismiss","backgroundColor","link","Pages$CautionFooter","container$1","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","Splash","Window$Coronate","all","DemoData$Coronate","catch","fontSize","NotFound","getDateForFile","getFullYear","getMonth","getDay","decodeWith","json","Js_json","Db$Coronate","decodePlayer","decodeTourney","decodeOptions","jsonToData","PageOptions$LastBackupDate","getTime","tourneysDispatch","playersDispatch","setText","configDispatch","windowDispatch","exportData","JSON","stringify","exportDataURI","encodeURIComponent","loadData","tourneys","checked","type","onChange","download","htmlFor","reader","FileReader","onload","ev","rawJson","exit","parse","exn","readAsText","currentTarget","files","onSubmit","spellCheck","cols","rows","newText","sortName","sortRating","sortMatchCount","defaultFirstName","defaultLastName","defaultRating","PagePlayers$NewPlayerForm","setFirstName","setLastName","setRating","updateField","Caml_format","required","String","NewPlayerForm","PagePlayers$List","sorted","sortDispatch","setIsDialogOpen","$$event$1","playerOpt","PagePlayers$Profile","playerName","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","handleChange","defaultValue","disabled","readOnly","pId","newSelected","onBlur","tmp","Pages$Coronate","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","isDiffDueColor","metBefore","mustAvoid","scoreDiff","halfDiff","Pervasives","descendingRating","setUpperHalves","dataList","upperHalfIds","isUpperHalf","halfPos","indexOf","newPlayerData","partial_arg","sortByScoreThenRating","assignColorsForPair","netScore","netRating","partial_arg$1","pair1","pair2","sortByNetScoreThenRating","PageTourneyPlayers$Selecting","tourneyDispatch","togglePlayer","PagePlayers$Coronate","Selecting","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","matches","colSpan","flexShrink","sortByName","sortByIdeal","PairPicker$SelectList","pairData","stagedPlayers","setStagedPlayers","stagePlayersOption_000","stagePlayersOption_001","stagePlayersOption","sortedDispatch","isNullSelected","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","Pairing$Coronate","PairPicker$Stage","whiteName","blackName","getPlayer","stagedPlayersOption_000","stagedPlayersOption_001","blackOpt","whiteOpt","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","ideal","PairPicker$PlayerInfo","colorScores","opponentResults","colorBalance","hasBye","avoidList","prettyBalance","opId","unmatchedCount","unmatchedWithDummy","setIsModalOpen","flexGrow","PageTourneyPlayers$Coronate","winnerSelect","td","rowId","controls","matchResult","playerResult","PageRound$PlayerMatchInfo","oppResultsEntries","fullName","jsMapperConstantArray","resultCodesToJs","Js_mapperRt","PageRound$MatchRow","isCompact","pos","selectedMatch","setSelectedMatch","resultCode","whitePlayer","blackPlayer","isDummyRound","resultDisplay","setMatchResult","jsResultCode","safeCode","newBlackScore","newWhiteScore","white","black","newRatings","tmp$1","scoreData$1","scope","PageRound$RoundTable","RoundTable","findById","PageRound$Round","moveMatch","matchId","oldIndex","newIndex","matchList$1","forEach","PageRound$PageRoundBase","activePlayersCount","initialTab","setOpenTab","Tabs","PairPicker$Coronate","PageRound$WithRoundData","scoreByeMatch","autoPair","filteredData","datum","dataForNextBye","playersWithoutByes","nextByeSignups","byePlayerData","pairs","playerIdArray","playerArray","EdmondsBlossom","accArr","playerMatches","Infinity","p1Index","p2Index","matched","pairsWithBye","manualPair","tournamentReducer","idToDel","tbId","roundId$1","roundList$1","roundId$2","roundList$2","matchIndex","findIndex","roundId$3","matchId$1","roundList$3","roundId$4","matchId$2","roundList$4","matchIndex$1","oldMatch","roundId$5","roundList$5","newValue","roundList$6","playersReducer","id$1","player$2","emptyTourney","tourneyId","TournamentDataReducers$Coronate","setLoadStatus","loadStatus","getItem","console","log","allTheIds","newIds","Object","oldIds","setItem","roundCount","playerCount","ceil","log2","isFinite","calcNumOfRounds","isItOver","isNewRoundReady","makeDateInput","rawMonth","rawDate","getDate","setEditing","editing","nameInput","dateInput","focusRef","myref","current","focus","ref","year$1","month$1","aria-describedby","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreakNames","standingTree","standingsFlat","rank$1","rowSpan","j","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","moveTb","marginTop","m","Crosstable","opponent","index2","player1Id","player2Id","getXScore","firstRating","lastRating","change","getRatingChangeTds","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","basePath","hashPath","TournamentData$Coronate","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","dateSort","nameSort","setNewTourneyName","newTourneyName","t","newId","newTourney","placeholder","url","PageOptions$Coronate","PageTourney$Coronate","PageTournamentList$Coronate","Boolean","location","hostname","unregister","serviceWorker","ready","registration","ServiceWorker$1","App$Coronate","ServiceWorker"],"mappings":"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P,wBACM,aACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,UACP,wBACM,SACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,OACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,OACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,OACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,SACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,GACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,YACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,IACD,WAGJ,CACT,wBACY,CACK,WACP,wBACM,QACE,EACJ,IACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,OACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,UACE,EACJ,IACD,aAKjB6J,GAAc7J,IAAoC,CACrC,CACT,wBACY,CACY,GACZ,IAAImF,KAAK,4BACX,wBACE,mBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,GACA,IAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACL,EACA,IAGT,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACL,EACA,IAGT,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACL,EACA,IAGT,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACL,EACA,KAIC,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,6BACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,GACA,IAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,IACA,KACL,EACA,IAGT,IAEU,CACrB,EACA,EACA,EACA,OCxmBR2E,GAAW3O,IAASE,EAAwC,GAAiB,GAAI,IAEjF0O,GAAc5O,IAAS2O,GAAmB,GAJ1B,WAI6C,WAE7DE,GAAU7O,IAASE,EAAwC,GAAiB,GAAI,IAEhF4O,GAAc9O,IAAS6O,GAAkB,GARzB,WAQ4C,WAE5DE,GAAc/O,IAASE,EAAwC,GAAiB,GAAI,IAEpF8O,GAAehP,IAAS+O,GAAsB,GAZ9B,WAYiD,eAErE,SAASE,GAAcC,EAAMC,GAC3B,OAAOtK,IAAyBgE,IAAgBqG,GAAM/J,IAAK,SAAUtI,GACnD,MAAO,CACCA,EAAM,GACNmD,IAASmP,EAAatS,EAAM,QAKxD,SAASuS,GAAcjK,EAAKgK,GAC1B,OAAOtG,IAAkBhE,IAAuBM,GAAKA,IAAK,SAAUtI,GAClD,MAAO,CACCA,EAAM,GACNmD,IAASmP,EAAatS,EAAM,QA0BxD,SAASwS,GAAiBtC,EAAOC,GAC/B,OAAqB,EAAbA,EAAOE,KACb,KAAK,EACD,OAAOrI,IAAsBkI,EAAOC,EAAO,IAC/C,KAAK,EACD,OAAOnI,IAAmBkI,EAAOC,EAAO,GAAIA,EAAO,IACvD,KAAK,EACD,OAAOA,EAAO,IAKtB,SAASsC,GAAkBC,EAAOC,EAASC,EAAQC,GACjD,IAAItO,EAAQX,aAAiBT,IAAUwP,GAAU3K,KAC7C8I,EAAWvM,EAAM,GACjBuO,EAAQvO,EAAM,GACdE,EAAUb,WAAgB,WACtB,OAAO,IAEXmP,EAActO,EAAQ,GACtBgN,EAAWhN,EAAQ,GA+CvB,OA9CAuO,GAAqCvB,GACrC7N,YAAiB,SAAU5D,GACnB,IAAIiT,EAAwB,EAAe,GAU3C,OATAP,EAAMQ,SAAS,MAAMC,KAAM,SAAUhF,GAO7B,OANK8E,EAAU,KACb9P,IAAS2N,EAAwBO,IAAS,EAAG,CAACe,GAAcjE,EAASyE,MACrEzP,IAAS4P,EAAc,SAAU/S,GACzB,OAAO,KAGVoT,QAAQC,QAAQlF,KAEvB,SAAUnO,GAER,OADAiT,EAAU,IAAK,EACR,IAEJ,CACfP,EACA5B,EACAiC,EACAH,IAENhP,YAAiB,SAAU5D,GACfyR,GACFiB,EAAMY,SAASf,GAAcO,EAAOD,IAAOM,KAAM,SAAUnT,GAWnD,OAVA0S,EAAMa,OAAOJ,KAAM,SAAUI,GACrB,IAAIC,EAAYxL,IAA2B8K,GACvCW,EAAUF,EAAKlL,OAAQ,SAAUhI,GAC7B,OAAQmT,EAAU1J,SAASzJ,KAKnC,OAHIoT,EAAQ9Q,OAAS,GACnB+P,EAAMgB,YAAYD,GAEbL,QAAQC,QAAgB,KAEhCD,QAAQC,QAAgB,MAK5B,CACfX,EACAI,EACArB,EACAoB,IAEC,CACCC,EACAhC,GAIV,SAAS6C,GAAc3T,GACrB,OAAOyS,GAAkBR,GAAaO,GAAkBoB,GAAkC,GAAIA,GAAgC,IAGhI,SAASC,GAAkB7T,GACzB,OAAOyS,GAAkBN,GAAcK,GAAkBoB,GAA0C,GAAIA,GAAwC,IAGjJ,SAASE,GAAc5D,EAAOC,GAC5B,OAAqB,EAAbA,EAAOE,KACb,KAAK,EACD,MAAO,CACiBH,EAAsB,GAAGhN,OAAkB,CAACiN,EAAO,KACrDD,EAAoB,GAClBA,EAAsB,IAElD,KAAK,EACD,IAAI3L,EAAQ4L,EAAO,GACf4D,EAAQxP,EAAM,GACdyP,EAAQzP,EAAM,GAClB,MAAO,CACiB2L,EAAsB,GAAG7H,OAAQ,SAAUrI,GACnD,IAAIiU,EAAKjU,EAAM,GACXkU,EAAKlU,EAAM,GACf,QAAoB,CACRkU,EACAD,GACAnK,SAASkK,IAAqB,CAC9BE,EACAD,GACAnK,SAASiK,MAEf7D,EAAoB,GAClBA,EAAsB,IAElD,KAAK,EACD,IAAIhI,EAAKiI,EAAO,GAChB,MAAO,CACiBD,EAAsB,GAAG7H,OAAQ,SAAUrI,GACnD,OAAmB,CACTA,EAAM,GACNA,EAAM,IACN8J,SAAS5B,KAEbgI,EAAoB,GAClBA,EAAsB,IAElD,KAAK,EACD,MAAO,CACiBC,EAAO,GACTD,EAAoB,GAClBA,EAAsB,IAElD,KAAK,EACD,MAAO,CACiBA,EAAsB,GACxBC,EAAO,GACLD,EAAsB,IAElD,KAAK,EACD,OAAOC,EAAO,GAClB,KAAK,EACD,MAAO,CACiBD,EAAsB,GACxBA,EAAoB,GAClBC,EAAO,KAMvC,SAASgE,GAAUnU,GACjB,IAAIuE,EAAQX,aAAiBkQ,GAAeF,GAAmC,IAC3E9C,EAAWvM,EAAM,GACjBnB,EAASmB,EAAM,GACfE,EAAUb,WAAgB,WACtB,OAAO,IAEXmP,EAActO,EAAQ,GACtBgN,EAAWhN,EAAQ,GAiCvB,OAhCAb,YAAiB,WACT,IAAIqP,EAAwB,EAAe,GAa3C,OAZAlB,GAAYmB,SAAS,MAAMC,KAAM,SAAUiB,GACnC,IAAIC,EAAST,GAAkC,GAAGQ,GASlD,OARKnB,EAAU,KACb9P,IAAS2N,EAA6BO,IAAS,EAAG,CAACgD,EAAuB,MAC1ElR,IAAS2N,EAA2BO,IAAS,EAAG,CAACgD,EAAqB,MACtElR,IAAS2N,EAA6BO,IAAS,EAAG,CAACgD,EAAuB,MAC1ElR,IAAS4P,EAAc,SAAU/S,GACzB,OAAO,KAGVoT,QAAQC,QAAgB,KAE/B,SAAUrT,GAER,OADAiT,EAAU,IAAK,EACR,IAEJ,CACfF,EACAjC,IAENlN,YAAiB,WACL6N,GACFM,GAAYuB,SAASM,GAAgC,GAAGxQ,KAI7C,CACfA,EACAqO,IAEC,CACCrO,EACA0N,GAIV,2CC9JA,IAAIwD,GAAuB,SAAcC,GAEzC,SAASC,GAAiB9Q,GACxB,IAAIa,EAAQb,EAAM+Q,OACdA,OAAmBzT,IAAVuD,EAAsBA,EAAQ,KACvCE,EAAUf,EAAMyN,MAChBA,OAAoBnQ,IAAZyD,EAAwBA,EAAU,KAC1CsB,EAAUrC,EAAMc,UAChBA,OAAwBxD,IAAZ+E,EAAwBA,EAAU,GAC9CC,EAAUtC,EAAMgB,MAChBA,OAAoB1D,IAAZgF,EAAwBrB,IAA0BqB,GAAW,GACrEJ,EAAUlC,EAAMgR,UAChBA,OAAwB1T,IAAZ4E,EAAwBA,EAAU0O,GAAmB,GAAGnO,MAAQ,QAC5EwO,EAAUjR,EAAMkR,WAChBA,OAAyB5T,IAAZ2T,GAAwBA,EACzC,OAAO/Q,gBAAoB,MAAO,CACtB0N,cAAesD,EACf1O,aAAcwO,EACdlQ,UAAWA,EACXqQ,KAAM,MACNnQ,MAAOoQ,IAA8B,GAAG,CAClCC,KAAM,IAAMT,GAAmB,GAAGU,KACjCtQ,GACP+P,OAAQA,EACRtD,MAAOA,EACP8D,QAAS,aACRrR,gBAAoB,OAAQ,CACzBsR,EAAGZ,GAAmB,GAAGa,QAI3CX,GAAiBY,YAAcd,GAAmB,GAAGnO,MAErD,IAAIkP,GAAuB,CAAWb,IAElCc,GAAyB,CAAcC,MAE3C,SAASC,GAAmB9R,GAC1B,IAAIa,EAAQb,EAAM+Q,OACdA,OAAmBzT,IAAVuD,EAAsBA,EAAQ,KACvCE,EAAUf,EAAMyN,MAChBA,OAAoBnQ,IAAZyD,EAAwBA,EAAU,KAC1CsB,EAAUrC,EAAMc,UAChBA,OAAwBxD,IAAZ+E,EAAwBA,EAAU,GAC9CC,EAAUtC,EAAMgB,MAChBA,OAAoB1D,IAAZgF,EAAwBrB,IAA0BqB,GAAW,GACrEJ,EAAUlC,EAAMgR,UAChBA,OAAwB1T,IAAZ4E,EAAwBA,EAAU0P,GAAqB,GAAGnP,MAAQ,QAC9EwO,EAAUjR,EAAMkR,WAChBA,OAAyB5T,IAAZ2T,GAAwBA,EACzC,OAAO/Q,gBAAoB,MAAO,CACtB0N,cAAesD,EACf1O,aAAcwO,EACdlQ,UAAWA,EACXqQ,KAAM,MACNnQ,MAAOoQ,IAA8B,GAAG,CAClCC,KAAM,IAAMO,GAAqB,GAAGN,KACnCtQ,GACP+P,OAAQA,EACRtD,MAAOA,EACP8D,QAAS,aACRrR,gBAAoB,OAAQ,CACzBsR,EAAGI,GAAqB,GAAGH,QAI7CK,GAAmBJ,YAAcE,GAAqB,GAAGnP,MAEzD,IAAIsP,GAAsB,CAAWD,IAkBrC,IAAIE,GAAoB,CAhBxB,SAAqBhS,GACnB,IAAIa,EAAQb,EAAMc,UACdA,OAAsBxD,IAAVuD,EAAsBA,EAAQ,GAC9C,OAAOX,gBAAoB,MAAO,CACtBY,UAAWA,EACXiQ,OAAQ,KACRtD,MAAO,KACP4D,KAAM,OACNE,QAAS,YACTU,MAAO,8BACN/R,gBAAoB,OAAQ,CACzBsR,EAAG,wHACHH,KAAM,YAsBxB,IAAIa,GAAuB,CAhB3B,SAAwBlS,GACtB,IAAIa,EAAQb,EAAMc,UACdA,OAAsBxD,IAAVuD,EAAsBA,EAAQ,GAC9C,OAAOX,gBAAoB,MAAO,CACtBY,UAAWA,EACXiQ,OAAQ,KACRtD,MAAO,KACP4D,KAAM,OACNE,QAAS,YACTU,MAAO,8BACN/R,gBAAoB,OAAQ,CACzBsR,EAAG,gDACHH,KAAM,YAsBxB,IAAIc,GAAuB,CAhB3B,SAAwBnS,GACtB,IAAIa,EAAQb,EAAMc,UACdA,OAAsBxD,IAAVuD,EAAsBA,EAAQ,GAC9C,OAAOX,gBAAoB,MAAO,CACtBY,UAAWA,EACXiQ,OAAQ,KACRtD,MAAO,KACP4D,KAAM,OACNE,QAAS,YACTU,MAAO,8BACN/R,gBAAoB,OAAQ,CACzBsR,EAAG,4BACHH,KAAM,YAsBxB,IAAIe,GAAsB,CAhB1B,SAAuBpS,GACrB,IAAIa,EAAQb,EAAMc,UACdA,OAAsBxD,IAAVuD,EAAsBA,EAAQ,GAC9C,OAAOX,gBAAoB,MAAO,CACtBY,UAAWA,EACXiQ,OAAQ,KACRtD,MAAO,KACP4D,KAAM,OACNE,QAAS,YACTU,MAAO,8BACN/R,gBAAoB,OAAQ,CACzBsR,EAAG,mHACHH,KAAM,iFCtOpBgB,GAAYxU,OAAOpC,QAAUoC,OAAOpC,QAAQ,iBAAc6B,EAE9D,SAASgV,GAAWC,GAClB,QAAiBjV,IAAb+U,GACF,OAAOpR,IAAiBxB,IAAS8S,EAAItR,IAA0BoR,MAK/CC,GAAY,SAAUD,GAClC,OAAOA,EAASG,OAAOC,qBAG/B,SAASC,GAAcC,GAKrB,OAJAL,GAAY,SAAUD,GAEd,OADAM,EAAQC,iBACDP,EAASQ,MAAMC,aAAaH,EAAQI,OAAO5P,QAEnD,EAaT,SAAS6P,GAAiBL,GAmBxB,OAlBAL,GAAY,SAAUD,GACd,IAAIU,EAASJ,EAAQI,OACrB,IAAIA,EAAOjS,UAAUsF,WAAY2M,EAAOjS,UAAUsF,SAAS,wBAazD,OAAO,EAZP,IAdY6M,EAcRC,EAAoBb,EAASG,OAAOW,kBAAkBC,eAAe,2BAA4B,UACjGC,EAAWhB,EAASG,OAAOC,mBAC/B,OAAQS,GACN,IAAK,WACD,OAlBMD,EAkBgBI,GAjB9BC,eACNL,EAAIM,aACG,IAEPN,EAAIO,WACG,GAaG,IAAK,WAED,OADAH,EAASI,WACF,EACX,QACE,OAAO,KAMd,EAGT,IAAIC,GAAQC,UAAUC,WAAWxN,SAAS,WAEtCyN,GAAQF,UAAUC,WAAWxN,SAAS,OAEtCvF,GAAQyR,GAAY,SAAUhW,GAC1B,OAAO,IAGXwX,QAAuBxW,IAAVuD,IAAsBA,GAavC,IAAIkT,GAAyB,CAX7B,SAA6B/T,GAC3B,IAAIY,EAAWZ,EAAMY,SACjBoT,EAAKhU,EAAMgU,GAEf,YAAiB1W,IAAb+U,KADmB2B,EAAKH,GAAQH,IAE3BjU,IAASmB,EAAUK,IAA0BoR,KAE7C,gBC3DP4B,GAAe,WAEnB,SAASC,GAAYzR,GAEnB,OAD6B,IAAjBA,EAAMxD,OAETgV,GAEAxR,EAAQ,cA0BnB,IAAI0R,GAA8B,EACpB,GACM,GACA,GACD,GACE,EACR,IAOb,IAAIhH,GAA0B,CAC5BgH,GALF,SAA0B7X,GACxB,OAAO,IAQL8X,GAAgBlU,gBAAoBiN,IAExC,SAASkH,GAAUhR,EAAOzC,EAAUtE,GAClC,MAAO,CACC+G,MAAOA,EACPzC,SAAUA,GAIpB,IAAI0T,GAAOF,GAAcG,SAazB,SAASC,GAAiBlY,GACxB,OAAO4D,aAAiBkU,IAG1B,SAASK,GAAazU,GACpB,OAAOE,gBAAoB,UAAW,CAC1Bc,MAAO,CACL0T,QAAS,OACTjH,MAAO,OACPkH,eAAgB,kBAEjBzU,gBAAoB,MAAO,CACxBc,MAAO,CACL4T,UAAW,SACXC,KAAM,YAEP3U,gBAAoB,MAAO,CACxB4U,IAAK,GACL/D,OAAQ,MACRgE,IAAKtQ,EAAuC,GAC5CgJ,MAAO,SACJvN,gBAAoB,MAAO,CAClCc,MAAO,CACL6T,KAAM,YAEP3U,gBAAoB,KAAM,CACvBY,UAAW,QACXE,MAAO,CACL4T,UAAW,SAEZ,YAAa1U,gBAAoB,SAAK5C,EAAsB,CAC3D,aACAmH,EAAkC,GAClC,aACAA,EAAkC,GAClC,WACAuQ,KAAK,KAAM9U,gBAAoB,SAAK5C,EAAW,8BAA+B4C,gBAAoB,SAAK5C,EAAW4C,gBAAoB,IAAK,CACzIiD,KAAMsB,GACNiJ,QAASuH,IACR,4BAA6B/U,gBAAoB,UAAM5C,GAAY,cAAe4C,gBAAoB,IAAK,CAC5GiD,KAAMsB,GACNiJ,QAASuH,IACR,qBAAsB,OAKjD,SAASC,GAAc1I,EAAOC,GAC5B,OAAqB,EAAbA,EAAOE,KACb,KAAK,EACD,MAAO,CACaF,EAAO,GACDD,EAAwB,GACxBA,EAAwB,GACzBA,EAAuB,GACrBA,EAAyB,GACjCA,EAAiB,IAExC,KAAK,EACD,MAAO,CACaA,EAAkB,GACZC,EAAO,GACPD,EAAwB,GACzBA,EAAuB,GACrBA,EAAyB,GACjCA,EAAiB,IAExC,KAAK,EACD,MAAO,CACaA,EAAkB,GACZA,EAAwB,GACxBC,EAAO,GACRD,EAAuB,GACrBA,EAAyB,GACjCA,EAAiB,IAExC,KAAK,EACD,MAAO,CACaA,EAAkB,GACZA,EAAwB,GACxBA,EAAwB,GACzBC,EAAO,GACLD,EAAyB,GACjCA,EAAiB,IAExC,KAAK,EACD,MAAO,CACaA,EAAkB,GACZA,EAAwB,GACxBA,EAAwB,GACzBA,EAAuB,GACrBC,EAAO,GACfD,EAAiB,IAExC,KAAK,EACD,MAAO,CACaA,EAAkB,GACZA,EAAwB,GACxBA,EAAwB,GACzBA,EAAuB,GACrBA,EAAyB,GACjCC,EAAO,KAMlC,IAAI9K,GAAYlB,IAAkB,CAC5BA,IAAsB,EACf,WACU,CACA,QACK,EACX,UACD,KAEO,CACP,MACA,MAIF,CACNA,IAAoB,CACd,OACC,IAEC,KAIZ0U,GAAS1U,IAAkB,CACzBA,IAAUgE,GAAyC,KAC3C,CACNhE,IAAsB,CAChB,MACA,KAEE,CACNA,IAA0B,UAClB,CACNA,IAAmB,CACb,MACA,KAEE,CACNA,IAAyB,EAClB,UACD,MAEE,CACNA,KAA4B,WACpB,CACNA,IAAkB,CACZA,KAA2B,WACnB,CACNA,IAAW,YAAa,QAChB,CACNA,KAA4B,WACpB,MAIV,CACNA,IAAa,OAAgB,CACvBA,IAAwB,WAChB,IAEN,WAUxB2U,GAAM3U,IAAkB,CACtBA,IAAwB,WAChB,CACNA,IAAW,iBAAkB,cACrB,KAIZ4U,GAAQ5U,IAAkB,CACxBA,IAAkB,CACZA,IAAoBgE,GAAwC,KACpD,IAEN,IAUd,SAAS6Q,GAAyBtV,GAChC,IAAIwM,EAAQxM,EAAMwM,MAEd6G,EADWrT,EAAMqS,SACGG,OAAOC,mBAC3B8C,EAAe/I,EAAwB,GAAKtM,gBAAoB,SAAU,CACtEY,UAAWI,IAAgB,CACrBiU,GACQ,CACN,eACQ,KAGhBzH,QAAU,SAAUpR,GAEhB,OADA+W,EAASmC,eAAc,GAChB,IAEVtV,gBAAoBqC,KAAwB,CACzCzB,UAAWsU,MAEnB5I,EAAuB,GAAKtM,gBAAoB,SAAU,CAClDY,UAAWI,IAAgB,CACrBiU,GACQ,CACN,eACQ,KAGhBzH,QAAU,SAAUpR,GAEhB,OADA+W,EAASE,aACF,IAEVrT,gBAAoBuV,GAAiC,GAAI,CACtD3U,UAAWsU,MACPlV,gBAAoB,SAAU,CACtCY,UAAWI,IAAgB,CACrBiU,GACQ,CACN,eACQ,KAGhBzH,QAAU,SAAUpR,GAEhB,OADA+W,EAASG,WACF,IAEVtT,gBAAoBuV,GAAkC,GAAI,CACvD3U,UAAWsU,MAG3B,OAAOlV,gBAAoB,MAAO,CACtBY,UAAWa,IACVzB,gBAAoB,SAAU,CAC3BY,UAAWI,IAAgB,CACrBiU,GACQ,CACN,eACQ,KAGhBzH,QAAU,SAAUpR,GAEhB,OADA+W,EAASI,WACF,IAEVvT,gBAAoBuV,GAAkC,GAAI,CACvD3U,UAAWsU,MACRG,EAAcrV,gBAAoB,SAAU,CACnDY,UAAWI,IAAgB,CACrBiU,GACQ,CACNE,GACQ,CACN,eACQ,MAIlB3H,QAAU,SAAUpR,GAEhB,OADA+W,EAASgC,QACF,IAEVnV,gBAAoBuV,GAA+B,GAAI,CACpD3U,UAAWsU,OAIjC,IAKIM,GAAWjV,IAAkB,CAC3BA,IAAUgE,GAAyC,KAC3C,IAKVkR,GAAgBV,IAA2BA,GAE3CW,GAAiB1U,IAAgB,CAC/BwU,GACQ,CACNxU,IAAU,uBAAwByU,IAC1B,CACNzU,IAAU,gBAAiByU,IACnB,MAKlB,SAASE,GAAgB7V,GACvB,IAAIwM,EAAQxM,EAAMwM,MACdY,EAAWpN,EAAMoN,SACrB,OAAOlN,gBAAoB,SAAU,CACzBY,UAAWI,IAAgB,CACrB,cACQ,CACN,uBACQ,CACNA,IAAU,wBAAyByU,KAAkBnJ,EAAwB,IACrE,MAIlBsJ,cAAeb,IACd/U,gBAAoB,WAAO5C,EAAW4C,gBAAoB+U,GAAuC,GAAI,CAC9FrU,SAAW,SAAUtE,GACjB,OAAO4D,gBAAoB,OAAQ,CACvBc,MAAO,CACL0T,QAAS,cACTqB,YAAa,MACbC,WAAY,MACZC,WAAY,WAEb/V,gBAAoB,MAAO,CACxB4U,IAAK,GACL/D,OAAQ,KACRgE,IAAKtQ,EAAuC,GAC5CgJ,MAAO,SAG3BuG,GAAiB,IACf9T,gBAAoB,SAAU,CAChCY,UAAW8U,GACXlI,QAAU,SAAUpR,GAChB,OAAOmD,IAAS2N,EAA0BO,IAAS,EAAG,EAAEnB,EAAyB,QAEpFtM,gBAAoBqC,KAAsB,IAAMrC,gBAAoB2N,KAAwB,CACzFjN,SAAU,oBACPV,gBAAoB,SAAU,CACrCY,UAAW8U,GACXlI,QAAU,SAAUpR,GAChB,OAAOmD,IAAS2N,EAAyBO,IAAS,EAAG,EAAC,OAEzDzN,gBAAoBqC,KAAyB,IAAMrC,gBAAoB2N,KAAwB,CAC5FjN,SAAU,qBACNV,gBAAoB,MAAO,CACvCY,UAAWI,IAAgB,CACrB,UACQ,CACN,uBACQ,CACNA,IAAU,WAAYsL,EAAkB,IAChC,MAIlBxL,MAAO,CACLkV,KAAM,IACNH,YAAa,OACbC,WAAY,OACZG,SAAU,WACVC,MAAO,IACPxB,UAAW,SACXnH,MAAO,QAERyG,GAAY1H,EAAiB,KAAMtM,gBAAoB+U,GAAuC,GAAI,CACnGrU,SAAW,SAAUyR,GACjB,OAAOnS,gBAAoBoV,GAA0B,CACzC9I,MAAOA,EACP6F,SAAUA,KAG1B2B,GAAiB,KAgHnC,SAASqC,GAASC,GAEhB,OADAA,EAAE1D,iBACK,EAGT,SAAS2D,GAAsBvW,GAC7B,OAAOE,gBAAoB,WAAO5C,EAAW4C,gBAAoB,KAAM,CACvDc,MAAO,CACLwV,OAAQ,MAETtW,gBAAoB,UAAM5C,EAAW4C,gBAAoBuE,GAAoC,GAAa,GAAI,CACvG7D,SAAU,KACViC,IAAK,YACLC,YAAauT,IACZnW,gBAAoBqC,KAAoB,IAAMrC,gBAAoB,OAAQ,CACvEY,UAAW,0BACV2D,EAAkC,GAAK,iBAAkBvE,gBAAoB,UAAM5C,EAAW4C,gBAAoBuE,GAAoC,GAAa,GAAI,CAC5K7D,SAAU,KACViC,IAAK,WACLC,YAAauT,IACZnW,gBAAoBqC,KAAoB,IAAMrC,gBAAoB,OAAQ,CACvEY,UAAW,0BACV2D,EAAkC,GAAK,aAAcvE,gBAAoB,UAAM5C,EAAW4C,gBAAoBuE,GAAoC,GAAa,GAAI,CACxK7D,SAAU,KACViC,IAAK,WACLC,YAAauT,IACZnW,gBAAoBqC,KAAuB,IAAMrC,gBAAoB,OAAQ,CAC1EY,UAAW,0BACV2D,EAAkC,GAAK,aAAcvE,gBAAoB,UAAM5C,EAAW4C,gBAAoBuE,GAAoC,GAAa,GAAI,CACxK7D,SAAU,KACViC,IAAK,IACLC,YAAauT,IACZnW,gBAAoBqC,KAAyB,IAAMrC,gBAAoB,OAAQ,CAC5EY,UAAW,0BACV2D,EAAkC,GAAK,YAKtE,SAASgS,GAAgBna,GACvB,OAAO4D,gBAAoBqW,GAAuB,IA4BpD,IAAIG,GAAmB,CAzBvB,SAAqB1W,GACnB,IAAIY,EAAWZ,EAAMY,SACjB+V,EAAa3W,EAAM2W,WACnB9V,EAAQb,EAAM4W,YACdA,OAAwBtZ,IAAVuD,EAAsBA,EAAQ4V,GAChD,OAAOvW,gBAAoB,MAAO,CACtBY,UAAWI,IAAgB,CACrB,UACQ,CACNA,IAAU,oBAAqByV,GACvB,MAGfzW,gBAAoB,MAAO,CACxBY,UAAW,gBACVrB,IAASmX,EAAqB,IAAK1W,gBAAoB,MAAO,CAC/DY,UAAW,gBACVF,QAA0BtD,IAAfqZ,EAA2BzW,gBAAoB,SAAU,CACnEY,UAAWI,IAAgB,CACrB,cACQ,KAEbzB,IAASkX,EAAoB,IAAM,QAKpDE,GA3KJ,SAAkB7W,GAChB,IAAIY,EAAWZ,EAAMY,SACjBE,EAAYd,EAAMc,UAClBD,EAAQX,aAAiBgV,GAAef,IACxC/G,EAAWvM,EAAM,GACjB2L,EAAQ3L,EAAM,GACd4B,EAAQ+J,EAAiB,GAiD7B,OAhDAtM,YAAiB,WACT7C,IAAgByZ,KAAqC9I,UAAY,SAAUrR,GAEnE,OADAA,EAAE8F,MAAQyR,GAAYzR,GACf,KAGF,CAACA,IACtBvC,YAAiB,WACT,IAAIb,EAAO4V,GAA8B,SAAU5C,GAC3C,IAAIY,EAAMZ,EAASG,OAAOC,mBACtBsE,EAAsB,SAAUza,GAOlC,OANA2W,EAAI+D,mBAAmB,qBACvB/D,EAAI+D,mBAAmB,qBACvB/D,EAAI+D,mBAAmB,QACvB/D,EAAI+D,mBAAmB,SACvB/D,EAAI+D,mBAAmB,YACvB/D,EAAI+D,mBAAmB,cAChB,GAwBT,OAtBAD,IACA9D,EAAIgE,GAAG,oBAAsB,SAAU3a,GAC/B,OAAOmD,IAAS2N,EAA6BO,IAAS,EAAG,EAAC,OAElEsF,EAAIgE,GAAG,oBAAsB,SAAU3a,GAC/B,OAAOmD,IAAS2N,EAA6BO,IAAS,EAAG,EAAC,OAElEsF,EAAIgE,GAAG,WAAa,SAAU3a,GACtB,OAAOmD,IAAS2N,EAA4BO,IAAS,EAAG,EAAC,OAEjEsF,EAAIgE,GAAG,aAAe,SAAU3a,GACxB,OAAOmD,IAAS2N,EAA4BO,IAAS,EAAG,EAAC,OAEjEsF,EAAIgE,GAAG,OAAS,SAAU3a,GAClB,OAAOmD,IAAS2N,EAAuBO,IAAS,EAAG,EAAC,OAE5DsF,EAAIgE,GAAG,QAAU,SAAU3a,GACnB,OAAOmD,IAAS2N,EAAuBO,IAAS,EAAG,EAAC,OAE5DlO,IAAS2N,EAAuBO,IAAS,EAAG,EAAEsF,EAAIiE,eAClDzX,IAAS2N,EAA6BO,IAAS,EAAG,CAACsF,EAAIkE,kBACvD1X,IAAS2N,EAA4BO,IAAS,EAAG,CAACsF,EAAIK,iBAC/CyD,IAEf,QAAazZ,IAAT+B,EACF,OAAOA,GAGI,CAAC+N,IACflN,gBAAoB,MAAO,CACtBY,UAAWI,IAAgB,CACrBJ,EACQ,CACNI,IAAU,eAAgBsL,EAAyB,IAC3C,CACNtL,IAAU,kBAAmBsL,EAAyB,IAC9C,CACNtL,IAAU,cAAesL,EAAkB,IACnC,CACNtL,IAAU,YAAa+T,IACf,CACN/T,IAAU,UAAW+T,IACb,CACN/T,IAAU,aAAc+T,IAChB,WAQzB/U,gBAAoB2V,GAAiB,CAClCrJ,MAAOA,EACPY,SAAUA,IACRlN,gBAAoBoU,GAAMD,GAAqB,CAC7C7H,EACAY,GACCxM,IAAuBV,gBAAoBkX,KAAe,CAC/DC,OAAQ7K,EAAwB,GAChC8K,UAAY,SAAUhb,GAClB,OAAOmD,IAAS2N,EAAyBO,IAAS,EAAG,EAAC,MAE1D/M,SAAU,KACVI,MAAO,CACLuW,gBAAiB,mBAElBrX,gBAAoB,SAAU,CAC3BY,UAAW,eACX4M,QAAU,SAAUpR,GAChB,OAAOmD,IAAS2N,EAAyBO,IAAS,EAAG,EAAC,OAEzD,SAAUzN,gBAAoBuU,GAAc,OC1jB/D9S,GAAYlB,IAAkB,CAC5BA,IAAwB,EACjB,UACD,MAEE,CACNA,IAAiC,WACzB,CACNA,KAAuB,YACf,CACNA,KAA+B,WACvB,CACNA,IAA+B,UACvB,CACNA,IAA0B,UAClB,CACNA,IAA2B,UACnB,CACNA,IAA8B,CACxB,QACAgE,EAA0C,KAExC,WAUxB7C,GAAOnB,IAAkB,CACvBA,IAAqB,CACf,MACA,IAEE,CACNA,IAAoBgE,GAAwC,KACpD,CACNhE,IAAUgE,GAAyC,KAC3C,CACNhE,IAA0B,CACpB,MACA,IAEE,OAMhB+W,GAAO/W,IAAkB,CACvBA,IAAUgE,GAAyC,KAC3C,CACNhE,IAAoB,CACdA,IAAUgE,GAAyC,KAC3C,IAEN,CACNhE,IAAmB,CACbA,IAAUgE,GAAyC,KAC3C,IAEN,CACNhE,IAAkB,CACZA,IAAUgE,GAAyC,KAC3C,IAEN,CACNhE,IAAkB,CACZA,IAAUgE,GAAyC,KAC3C,IAEN,QAatB,SAASgT,GAAoBzX,GAC3B,OAAOE,gBAAoB,QAAS,CACxBY,UAAWI,IAAgB,CACrBS,GACQ,CACN,UACQ,MAGfzB,gBAAoB,IAAK,CACtBY,UAAWc,IACV,eAAM,sEAAuE1B,gBAAoB,OAAQ,CACtG0N,eAAe,EACfuD,KAAM,OACL,kBAAS1M,EAAkC,GAAIvE,gBAAoB,IAAK,CACzEY,UAAW0W,GACXrU,KAAMsB,GACNiJ,QAASuH,IACR,kBAAmB,MAG1C,IAKIyC,GAAcjX,IAAkB,CAC9BA,KAAuB,YACf,CACNA,KAA+B,WACvB,CACNA,IAA6B,UACrB,CACNA,IAAyB,EAClB,UACD,MAEE,CACNA,IAAqC,WAC7B,CACNA,IAAoBgE,GAAyC,KACrD,SAQpBkT,GAAOlX,IAAkB,CACvBA,KAAuB,WAAsB,YACrC,CACNA,IAAoB,CACd,MACA,KAEE,CACNA,IAA0B,WAClB,MAKdmX,GAASnX,IAAkB,CACzBA,IAAqB,CACf,MACA,IACY,WACV,IAGVoX,GAASpX,IAAkB,CACzBA,IAAoBgE,GAAwC,KACpD,CACNhE,IAAUgE,GAAyC,KAC3C,CACNhE,KAAwB,UAAoB,CACtC,MACA,KAEE,CACNA,KAAuB,YACf,CACNA,IAAqC,WAC7B,QAOlBqX,GAAarX,IAAkB,CAC7BA,IAAUgE,GAAyC,KAC3C,CACNhE,IAAkB,CACZA,IAAUgE,GAAyC,KAC3C,IAEN,KAIZhC,GAAQhC,IAAkB,CACxBA,IAAUgE,GAAyC,KAC3C,CACNhE,KAAuB,WAAsB,YACrC,CACNA,KAAuB,YACf,CACNA,IAA2B,UACnB,OAMhBsX,GAAYtX,IAAkB,CAC5BA,IAAe,GACP,CACNA,IAAyB,CACnB,MACA,IAEE,KAIZuX,GAAYvX,IAAkB,CAC5BA,IAAa,GACL,IAGVwX,GAAWxX,IAAkB,CAC3BA,KAA0B,WAClB,CACNA,KAAsB,WACd,KA2GhB,IAAIyX,GAAqB,CAvGD,CACPR,GACLC,GACEC,GACAC,GACIC,GACLrV,GACIsV,GACAC,GACDC,IAGhB,SAAsBjY,GACpB,OAAOE,gBAAoBiY,GAA+B,GAAI,CAClDvX,SAAUV,gBAAoB,MAAO,CAC/BY,UAAW4W,IACVxX,gBAAoB,QAAS,CAC1BY,UAAW6W,IACVzX,gBAAoB,UAAM5C,EAAW4C,gBAAoB,KAAM,CACxDY,UAAW8W,IACV1X,gBAAoB,SAAU,CAC3BY,UAAW,iBACX4M,QAAU,SAAUpR,GAChB,OJxNpC0R,SAASC,KAAKjN,MAAQ,OACxB0O,QAAQ0I,IAAe,CACb/J,GAAYuB,SAASM,GAAgC,GAAGmI,KACxD9J,GAAYqB,SAASf,GAAcwJ,GAA2BnI,GAAgC,KAC9FzB,GAAamB,SAASf,GAAcwJ,GAA+BnI,GAAwC,OAC1GT,KAAM,SAAUpM,GAGjB,OAFAoB,EAAqB,qBACnBuJ,SAASC,KAAKjN,MAAQ,OACjB0O,QAAQC,QAAQtM,KACrBiV,MAAO,SAAUhc,GAErB,OADE0R,SAASC,KAAKjN,MAAQ,OACjB0O,QAAQC,QAAmB,CACd,EACA,EACA,MAGrB,IIyM4B,oCAAqC,cAAezP,gBAAoB,KAAM,CACnFY,UAAW8W,IACV1X,gBAAoBqC,KAAwB,IAAM,wBAAyBrC,gBAAoB,KAAM,CACtGY,UAAW8W,IACV,qCAAsC1X,gBAAoBuE,GAAwC,GAAI,CAC3G7D,SAAU,KACVuB,KAAmB,GAClB,yCAA0CjC,gBAAoB,UAAM5C,GAAY,4CAA6C4C,gBAAoB,MAAO,CAC7JY,UAAW2B,IACVvC,gBAAoB,MAAO,CACxBY,UAAWiX,IACV7X,gBAAoB,MAAO,CACxB4U,IAAK,GACL/D,OAAQ,KACRgE,IAAKtQ,EAAuC,GAC5CgJ,MAAO,QACJvN,gBAAoB,MAAO,CAClCY,UAAWkX,IACV9X,gBAAoB,KAAM,CACvBY,UAAW,QACXE,MAAO,CACLuX,SAAU,SAEX,YAAarY,gBAAoB,IAAK,CACvCY,UAAWI,IAAgB,CACrB+W,GACQ,CACN,aACQ,MAGf,wBAAyB/X,gBAAoB,SAAU,CAChEY,UAAWI,IAAgB,CACrB2W,GACQ,CACN,UACQ,MAGf3X,gBAAoB,MAAO,CACxBc,MAAO,CACL4T,UAAW,SAEZ1U,gBAAoB,SAAK5C,EAAW,aAAgBmH,EAAkC,GAAK,uBAAyBvE,gBAAoB,SAAK5C,EAAW,6BAA8B4C,gBAAoB,UAAM5C,GAAY4C,gBAAoB,IAAK,CAC9OY,UAAWgX,GACX3U,KAAMsB,GACNiJ,QAASuH,IACR,4BAA6B,cAAe/U,gBAAoB,IAAK,CACtEY,UAAWgX,GACX3U,KAAMsB,GACNiJ,QAASuH,IACR,qBAAsB,MAAO/U,gBAAoB,MAAO,CACjEc,MAAO,CACL4T,UAAW,UAEZ1U,gBAAoB,SAAK5C,EAAW4C,gBAAoB,IAAK,CACtDY,UAAWgX,GACX3U,KAAMsB,GACNiJ,QAASuH,IACR,6CAA8C/U,gBAAoB,SAAK5C,EAAW,cAAe4C,gBAAoB,IAAK,CAC3HY,UAAWgX,GACX3U,KAAM,8BACNuK,QAASuH,IACR,YAAa,MAAO/U,gBAAoB,IAAK,CAC9CY,UAAWgX,GACX3U,KAAM,2CACNuK,QAASuH,IACR,eAAgB,KAAM/U,gBAAoB,OAAQ,CACnDc,MAAO,CACLuX,SAAU,SAEXrY,gBAAoBuV,GAAgC,GAAI,IAAM,IAAKvV,gBAAoBuV,GAA+B,GAAI,SACjJkB,WAAa,SAAUra,GACnB,OAAO4D,gBAAoBuX,GAAqB,SAgBlE,IAAIe,GAAuB,CAN3B,SAAwBxY,GACtB,OAAOE,gBAAoB,IAAK,CACpBY,UAAW,gBACV,4DCvUkB,IAAI2I,KAAK,4BAQ5BnF,IAAoC,CACjC,CACT,wBACY,CACK,SACP,wBACM,GACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,QACE,EACJ,KACD,WAGJ,CACT,wBACY,CACK,UACP,wBACM,YACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,WACE,IACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,GACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,WACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,SACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,YACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,UACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,SACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,SACP,wBACM,cACE,EACJ,IACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,MACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,QACP,wBACM,YACE,GACJ,IACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,YACE,GACJ,IACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,QACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,OACP,wBACM,MACE,GACJ,KACD,WAGJ,CACT,wBACY,CACK,MACP,wBACM,QACE,GACJ,KACD,aAKHA,IAAoC,CACrC,CACT,wBACY,CACY,GACZ,IAAImF,KAAK,4BACX,wBACE,oBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CAAY,IACZ,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,sBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBAEqB,CAAY,CACnB,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACL,EACA,KAGC,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,gBACa,CACrB,wBACA,wBACA,yBAEqB,CACV,CACG,CACF,wBACK,wBACA,wBACO,KACA,KACC,KACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,IACA,EACC,IACA,EACL,EACA,IAGT,CACG,CACF,wBACK,wBACA,wBACO,KACA,IACC,KACA,IACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACL,EACA,IAGT,CACG,CACF,wBACK,wBACA,wBACO,IACA,KACC,IACA,KACL,EACA,GAEN,CACF,wBACK,wBACA,wBACO,KACA,EACC,KACA,EACL,EACA,KAIC,CACrB,EACA,EACA,EACA,KAIK,CACT,wBACY,CACY,GACZ,IAAIA,KAAK,4BACX,wBACE,iBACa,CACrB,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,yBA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","file":"static/js/main.afc9fa57.chunk.js","sourcesContent":["require(\"./Index.bs\");","module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","import \"typeface-fira-sans\";\nimport \"./index.css\";\nimport \"photon-colors/photon-colors.css\";\n/* https://design.firefox.com/photon/ */\nimport \"./colors.css\";\nimport \"./buttons.css\";\nimport \"./forms.css\";\nimport \"./layout.css\";\nimport \"./typography.css\";\nimport \"./tables.css\";\nimport \"./tabs.css\";\nimport \"./toolbar.css\";\nimport \"@reach/dialog/styles.css\";","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Localforage from \"localforage\";\nimport * as LocalforageGetitems from \"localforage-getitems\";\nimport * as LocalforageSetitems from \"localforage-setitems\";\nimport * as LocalforageRemoveitems from \"localforage-removeitems\";\n\nvar EloRank = /* module */[];\n\nfunction Instance(DataType) {\n  var make = function (name, storeName) {\n    return Localforage.default.createInstance({\n                name: name,\n                storeName: storeName\n              });\n  };\n  return /* module */[/* make */make];\n}\n\nvar $$Map = /* module */[/* Instance */Instance];\n\nfunction Instance$1(DataType) {\n  var make = function (name, storeName) {\n    return Localforage.default.createInstance({\n                name: name,\n                storeName: storeName\n              });\n  };\n  return /* module */[/* make */make];\n}\n\nvar Obj = /* module */[/* Instance */Instance$1];\n\nfunction loadGetItems(param) {\n  LocalforageGetitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nfunction loadSetItems(param) {\n  LocalforageSetitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nfunction loadRemoveItems(param) {\n  LocalforageRemoveitems.extendPrototype(Localforage.default);\n  return /* () */0;\n}\n\nvar Plugins = /* module */[\n  /* loadGetItems */loadGetItems,\n  /* loadSetItems */loadSetItems,\n  /* loadRemoveItems */loadRemoveItems\n];\n\nvar LocalForage = /* module */[\n  /* Map */$$Map,\n  /* Obj */Obj,\n  /* Plugins */Plugins\n];\n\nLocalforageGetitems.extendPrototype(Localforage.default);\n\nLocalforageSetitems.extendPrototype(Localforage.default);\n\nLocalforageRemoveitems.extendPrototype(Localforage.default);\n\nvar VisuallyHidden = /* module */[];\n\nvar Dialog = /* module */[];\n\nvar Tabs = /* module */[];\n\nvar TabList = /* module */[];\n\nvar Tab = /* module */[];\n\nvar TabPanels = /* module */[];\n\nvar TabPanel = /* module */[];\n\nvar ReachTabs = /* module */[\n  /* Tabs */Tabs,\n  /* TabList */TabList,\n  /* Tab */Tab,\n  /* TabPanels */TabPanels,\n  /* TabPanel */TabPanel\n];\n\nfunction string_of_locale(locale) {\n  return \"en-US\";\n}\n\nfunction string_of_numbered(x) {\n  return \"2-digit\";\n}\n\nfunction string_of_month(month) {\n  return \"short\";\n}\n\nfunction string_of_year(year) {\n  return \"numeric\";\n}\n\nfunction config(day, month, year, hour, minute, param) {\n  return {\n          day: Belt_Option.mapWithDefault(day, undefined, string_of_numbered),\n          month: Belt_Option.mapWithDefault(month, undefined, string_of_month),\n          year: Belt_Option.mapWithDefault(year, undefined, string_of_year),\n          hour: Belt_Option.mapWithDefault(hour, undefined, string_of_numbered),\n          minute: Belt_Option.mapWithDefault(minute, undefined, string_of_numbered)\n        };\n}\n\nvar IntlDateTimeFormat = /* module */[\n  /* string_of_locale */string_of_locale,\n  /* string_of_numbered */string_of_numbered,\n  /* string_of_month */string_of_month,\n  /* string_of_year */string_of_year,\n  /* config */config\n];\n\nexport {\n  EloRank ,\n  LocalForage ,\n  VisuallyHidden ,\n  Dialog ,\n  ReachTabs ,\n  IntlDateTimeFormat ,\n  \n}\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Ramda from \"ramda\";\nimport * as React from \"react\";\nimport * as Nanoid from \"nanoid\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\n\nfunction splitAt(prim, prim$1) {\n  return Ramda.splitAt(prim, prim$1);\n}\n\nfunction descend(prim, prim$1, prim$2) {\n  return Ramda.descend(prim, prim$1, prim$2);\n}\n\nfunction ascend(prim, prim$1, prim$2) {\n  return Ramda.ascend(prim, prim$1, prim$2);\n}\n\nfunction alert(prim) {\n  window.alert(prim);\n  return /* () */0;\n}\n\nfunction nanoid(prim) {\n  return Nanoid.default();\n}\n\nfunction absf(prim) {\n  return Math.abs(prim);\n}\n\nfunction sortWith(prim, prim$1) {\n  return Ramda.sortWith(prim, prim$1);\n}\n\nfunction sortWithF(prim, prim$1) {\n  return Ramda.sortWith(prim, prim$1);\n}\n\nfunction confirm(prim) {\n  return window.confirm(prim);\n}\n\nfunction move(prim, prim$1, prim$2) {\n  return Ramda.move(prim, prim$1, prim$2);\n}\n\nfunction add(a, b) {\n  return a + b | 0;\n}\n\nfunction arraySum(arr) {\n  return arr.reduce(add, 0);\n}\n\nfunction addFloat(a, b) {\n  return a + b;\n}\n\nfunction arraySumFloat(arr) {\n  return arr.reduce(addFloat, 0.0);\n}\n\nfunction listSumFloat(list) {\n  return Belt_List.reduce(list, 0.0, addFloat);\n}\n\nfunction last(arr) {\n  return Caml_array.caml_array_get(arr, arr.length - 1 | 0);\n}\n\nfunction splitInHalf(arr) {\n  return Ramda.splitAt(arr.length / 2 | 0, arr);\n}\n\nvar logo = ( require(\"./assets/icon-min.svg\") );\n\nvar caution = ( require(\"./assets/caution.svg\") );\n\nvar WebpackAssets = /* module */[\n  /* logo */logo,\n  /* caution */caution\n];\n\nvar Entities = /* module */[\n  /* nbsp */\"\\xa0\",\n  /* copy */\"\\xa9\"\n];\n\nfunction listToReactArray(list, func) {\n  return Belt_List.reduce(list, /* array */[], (function (acc, item) {\n                return acc.concat(/* array */[Curry._1(func, item)]);\n              }));\n}\n\nfunction DateTimeFormatComponent(Config) {\n  var dtobj = new Intl.DateTimeFormat(Externals$Coronate.IntlDateTimeFormat[/* string_of_locale */0](Config[/* locale */0]), Config[/* config */1]);\n  var Utils$DateTimeFormatComponent = function (Props) {\n    var date = Props.date;\n    return React.createElement(\"time\", {\n                dateTime: date.toISOString()\n              }, dtobj.format(date));\n  };\n  return /* module */[\n          /* IDTF */0,\n          /* dtobj */dtobj,\n          /* make */Utils$DateTimeFormatComponent\n        ];\n}\n\nvar config = Externals$Coronate.IntlDateTimeFormat[/* config */4](/* two_digit */156521338, /* short */-64519044, /* numeric */734061261, undefined, undefined, /* () */0);\n\nvar dtobj = new Intl.DateTimeFormat(Externals$Coronate.IntlDateTimeFormat[/* string_of_locale */0](/* en_us */-260666444), config);\n\nfunction Utils$DateTimeFormatComponent(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, dtobj.format(date));\n}\n\nvar DateFormat = /* module */[\n  /* IDTF */0,\n  /* dtobj */dtobj,\n  /* make */Utils$DateTimeFormatComponent\n];\n\nvar config$1 = Externals$Coronate.IntlDateTimeFormat[/* config */4](/* two_digit */156521338, /* short */-64519044, /* numeric */734061261, /* two_digit */156521338, /* two_digit */156521338, /* () */0);\n\nvar dtobj$1 = new Intl.DateTimeFormat(Externals$Coronate.IntlDateTimeFormat[/* string_of_locale */0](/* en_us */-260666444), config$1);\n\nfunction Utils$DateTimeFormatComponent$1(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, dtobj$1.format(date));\n}\n\nvar DateTimeFormat = /* module */[\n  /* IDTF */0,\n  /* dtobj */dtobj$1,\n  /* make */Utils$DateTimeFormatComponent$1\n];\n\nvar panels = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Css.style(/* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* panels */panels,\n  /* panel */panel\n];\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = /* module */[/* make */Utils$Panel];\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  var match$1 = Props.style;\n  var style = match$1 !== undefined ? Caml_option.valFromOption(match$1) : { };\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = /* module */[/* make */Utils$PanelContainer];\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_000 = /* magenta_50 : `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_001 = /* magenta_60 : `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_002 = /* magenta_70 : `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_003 = /* magenta_80 : `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_004 = /* magenta_90 : `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_005 = /* purple_30 : `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_006 = /* purple_40 : `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_007 = /* purple_50 : `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_008 = /* purple_60 : `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_009 = /* purple_70 : `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_010 = /* purple_80 : `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_011 = /* purple_90 : `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_012 = /* blue_40 : `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_013 = /* blue_50 : `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_014 = /* blue_50_A30 : `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_015 = /* blue_60 : `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_016 = /* blue_70 : `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_017 = /* blue_80 : `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_018 = /* blue_90 : `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_019 = /* teal_50 : `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_020 = /* teal_60 : `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_021 = /* teal_70 : `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_022 = /* teal_80 : `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_023 = /* teal_90 : `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_025 = /* green_60 : `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_026 = /* green_70 : `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_027 = /* green_80 : `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_030 = /* yellow_60 : `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_031 = /* yellow_70 : `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_032 = /* yellow_80 : `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_034 = /* red_50 : `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_036 = /* red_70 : `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_037 = /* red_80 : `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_038 = /* red_90 : `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_039 = /* orange_50 : `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_040 = /* orange_60 : `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_041 = /* orange_70 : `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_042 = /* orange_80 : `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_043 = /* orange_90 : `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_044 = /* grey_10 : `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_045 = /* grey_10_A10 : `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_046 = /* grey_10_A20 : `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_047 = /* grey_10_A40 : `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_048 = /* grey_10_A60 : `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_049 = /* grey_10_A80 : `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_050 = /* grey_20 : `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_051 = /* grey_30 : `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_052 = /* grey_40 : `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_053 = /* grey_50 : `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_054 = /* grey_60 : `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_055 = /* grey_70 : `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_056 = /* grey_80 : `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_057 = /* grey_90 : `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_058 = /* grey_90_A05 : `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_059 = /* grey_90_A10 : `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_060 = /* grey_90_A20 : `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_061 = /* grey_90_A30 : `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_062 = /* grey_90_A40 : `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_063 = /* grey_90_A50 : `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_064 = /* grey_90_A60 : `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_065 = /* grey_90_A70 : `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_066 = /* grey_90_A80 : `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_067 = /* grey_90_A90 : `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_068 = /* ink_70 : `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_069 = /* ink_80 : `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_070 = /* ink_90 : `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = /* module */[\n  PhotonColors_000,\n  PhotonColors_001,\n  PhotonColors_002,\n  PhotonColors_003,\n  PhotonColors_004,\n  PhotonColors_005,\n  PhotonColors_006,\n  PhotonColors_007,\n  PhotonColors_008,\n  PhotonColors_009,\n  PhotonColors_010,\n  PhotonColors_011,\n  PhotonColors_012,\n  PhotonColors_013,\n  PhotonColors_014,\n  PhotonColors_015,\n  PhotonColors_016,\n  PhotonColors_017,\n  PhotonColors_018,\n  PhotonColors_019,\n  PhotonColors_020,\n  PhotonColors_021,\n  PhotonColors_022,\n  PhotonColors_023,\n  /* green_50 */green_50,\n  PhotonColors_025,\n  PhotonColors_026,\n  PhotonColors_027,\n  /* green_90 */green_90,\n  /* yellow_50 */yellow_50,\n  PhotonColors_030,\n  PhotonColors_031,\n  PhotonColors_032,\n  /* yellow_90 */yellow_90,\n  PhotonColors_034,\n  /* red_60 */red_60,\n  PhotonColors_036,\n  PhotonColors_037,\n  PhotonColors_038,\n  PhotonColors_039,\n  PhotonColors_040,\n  PhotonColors_041,\n  PhotonColors_042,\n  PhotonColors_043,\n  PhotonColors_044,\n  PhotonColors_045,\n  PhotonColors_046,\n  PhotonColors_047,\n  PhotonColors_048,\n  PhotonColors_049,\n  PhotonColors_050,\n  PhotonColors_051,\n  PhotonColors_052,\n  PhotonColors_053,\n  PhotonColors_054,\n  PhotonColors_055,\n  PhotonColors_056,\n  PhotonColors_057,\n  PhotonColors_058,\n  PhotonColors_059,\n  PhotonColors_060,\n  PhotonColors_061,\n  PhotonColors_062,\n  PhotonColors_063,\n  PhotonColors_064,\n  PhotonColors_065,\n  PhotonColors_066,\n  PhotonColors_067,\n  PhotonColors_068,\n  PhotonColors_069,\n  PhotonColors_070,\n  /* white_100 */white_100\n];\n\nvar container = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Css.style(/* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Css.style(/* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Css.style(/* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nvar Style$1 = /* module */[\n  /* container */container,\n  /* text */text,\n  /* icon */icon,\n  /* success */success,\n  /* warning */warning,\n  /* error */error\n];\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var match = Props.kind;\n  var kind = match !== undefined ? match : /* Generic */3;\n  var match$1 = Props.tooltip;\n  var tooltip = match$1 !== undefined ? match$1 : \"\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4;\n  switch (kind) {\n    case 0 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case 1 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case 2 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.X, { }),\n          error\n        ];\n        break;\n    case 3 : \n        match$4 = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match$4[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match$4[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nvar $$Notification = /* module */[\n  /* Style */Style$1,\n  /* make */Utils$Notification\n];\n\nfunction hashPath(hashString) {\n  return Belt_List.fromArray(hashString.split(\"/\"));\n}\n\nfunction Utils$Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var hash = match[/* hash */1];\n  var isCurrent = to_ === \"/\" ? hash === \"\" || hash === to_ : hash === to_;\n  var ariaCurrent = isCurrent ? \"true\" : \"false\";\n  return React.createElement(\"a\", {\n              \"aria-current\": ariaCurrent,\n              href: \"#\" + to_,\n              onDragStart: onDragStart\n            }, children);\n}\n\nvar HashLink = /* module */[/* make */Utils$Router$HashLink];\n\nvar Router = /* module */[\n  /* hashPath */hashPath,\n  /* HashLink */HashLink\n];\n\nNumeral.registerFormat(\"fraction\", {\n      format: (function (value, _format, _roundingFunction) {\n          var whole = Math.floor(value);\n          var remainder = value - whole;\n          var fraction = remainder !== 0.25 ? (\n              remainder !== 0.5 ? (\n                  remainder !== 0.75 ? \"\" : \"\"\n                ) : \"\"\n            ) : \"\";\n          var match = whole === 0.0 && fraction !== \"\";\n          var stringedWhole = match ? \"\" : whole.toString();\n          return stringedWhole + fraction;\n        }),\n      regexps: {\n        format: (/(1\\/2)/),\n        unformat: (/(1\\/2)/)\n      },\n      unformat: (function (value) {\n          return Number(value);\n        })\n    });\n\nvar Tabs = 0;\n\nvar VisuallyHidden = 0;\n\nvar Dialog = 0;\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nexport {\n  Tabs ,\n  VisuallyHidden ,\n  Dialog ,\n  splitAt ,\n  descend ,\n  ascend ,\n  alert ,\n  nanoid ,\n  absf ,\n  sortWith ,\n  sortWithF ,\n  confirm ,\n  move ,\n  add ,\n  arraySum ,\n  addFloat ,\n  arraySumFloat ,\n  listSumFloat ,\n  last ,\n  splitInHalf ,\n  github_url ,\n  license_url ,\n  issues_url ,\n  WebpackAssets ,\n  Entities ,\n  listToReactArray ,\n  DateTimeFormatComponent ,\n  DateFormat ,\n  DateTimeFormat ,\n  Style ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  Router ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as EloRank from \"elo-rank\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nfunction isNotDummy(scoreDict, oppId) {\n  var match = Belt_MapString.get(scoreDict, oppId);\n  if (match !== undefined) {\n    return !match[/* isDummy */3];\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.listSumFloat(match[/* results */7]);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Belt_MapString.keysToArray(match[/* opponentResults */4]).filter((function (param) {\n                    return isNotDummy(scoreDict, param);\n                  })).map((function (param) {\n                  return getPlayerScore(scoreDict, param);\n                }));\n  } else {\n    return /* array */[];\n  }\n}\n\nfunction getMedianScore(scoreDict, id) {\n  return Utils$Coronate.arraySumFloat(Belt_SortArray.stableSortBy(getOpponentScores(scoreDict, id), (function (param, param$1) {\n                      return Utils$Coronate.ascend((function (x) {\n                                    return x;\n                                  }), param, param$1);\n                    })).slice(1, -1));\n}\n\nfunction getSolkoffScore(scoreDict, id) {\n  return Utils$Coronate.arraySumFloat(getOpponentScores(scoreDict, id));\n}\n\nfunction runningReducer(acc, score) {\n  var lastScore = acc ? acc[0] : 0.0;\n  return /* :: */[\n          lastScore + score,\n          acc\n        ];\n}\n\nfunction getCumulativeScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.listSumFloat(Belt_List.reduce(match[/* resultsNoByes */8], /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.arraySumFloat(Belt_MapString.keysToArray(match[/* opponentResults */4]).filter((function (param) {\n                        return isNotDummy(scoreDict, param);\n                      })).map((function (param) {\n                      return getCumulativeScore(scoreDict, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scoreDict, id) {\n  var match = Belt_MapString.get(scoreDict, id);\n  if (match !== undefined) {\n    return Utils$Coronate.listSumFloat(match[/* colorScores */0]);\n  } else {\n    return 0.0;\n  }\n}\n\nvar tieBreakMethods = /* array */[\n  /* record */[\n    /* func */getMedianScore,\n    /* id */0,\n    /* name */\"Median\"\n  ],\n  /* record */[\n    /* func */getSolkoffScore,\n    /* id */1,\n    /* name */\"Solkoff\"\n  ],\n  /* record */[\n    /* func */getCumulativeScore,\n    /* id */2,\n    /* name */\"Cumulative score\"\n  ],\n  /* record */[\n    /* func */getCumulativeOfOpponentScore,\n    /* id */3,\n    /* name */\"Cumulative of opposition\"\n  ],\n  /* record */[\n    /* func */getColorBalanceScore,\n    /* id */4,\n    /* name */\"Most black\"\n  ]\n];\n\nfunction getNamefromIndex(index) {\n  return Belt_Array.getExn(tieBreakMethods, index)[/* name */2];\n}\n\nfunction getTieBreakNames(idList) {\n  return idList.map(getNamefromIndex);\n}\n\nfunction createBlankScoreData(id) {\n  return /* record */[\n          /* colorScores : [] */0,\n          /* colors : [] */0,\n          /* id */id,\n          /* isDummy */false,\n          /* opponentResults */Belt_MapString.empty,\n          /* ratings : [] */0,\n          /* firstRating */0,\n          /* results : [] */0,\n          /* resultsNoByes : [] */0\n        ];\n}\n\nfunction createStandingList(methods, scoreData) {\n  var selectedTieBreakFuncs = methods.map((function (i) {\n          return Belt_Array.getExn(tieBreakMethods, i)[/* func */0];\n        }));\n  var standings = Belt_MapString.keysToArray(scoreData).map((function (id) {\n          return /* record */[\n                  /* id */id,\n                  /* score */getPlayerScore(scoreData, id),\n                  /* tieBreaks */selectedTieBreakFuncs.map((function (func) {\n                          return Curry._2(func, scoreData, id);\n                        }))\n                ];\n        }));\n  var sortTieBreakFuncList = selectedTieBreakFuncs.map((function (param, index) {\n          return (function (param, param$1) {\n              return Utils$Coronate.descend((function (x) {\n                            return Belt_Array.get(x[/* tieBreaks */2], index);\n                          }), param, param$1);\n            });\n        }));\n  var sortFuncList = /* array */[(function (param, param$1) {\n          return Utils$Coronate.descend((function (x) {\n                        return x[/* score */1];\n                      }), param, param$1);\n        })].concat(sortTieBreakFuncList);\n  return Utils$Coronate.sortWith(sortFuncList, standings);\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  var equalScores = standing1[/* score */1] !== standing2[/* score */1];\n  if (equalScores) {\n    return false;\n  } else {\n    return !standing1[/* tieBreaks */2].reduce((function (acc, value, i) {\n                    return /* array */[value !== Belt_Array.getExn(standing2[/* tieBreaks */2], i)].concat(acc);\n                  }), /* array */[]).includes(true);\n  }\n}\n\nfunction createStandingTree(standingList) {\n  return standingList.reduce((function (acc, standing, i) {\n                var match = i === 0;\n                var isNewRank = match ? true : !areScoresEqual(standing, Belt_Array.getExn(standingList, i - 1 | 0));\n                if (isNewRank) {\n                  return acc.concat(/* array */[/* array */[standing]]);\n                } else {\n                  var lastIndex = acc.length - 1 | 0;\n                  Belt_Array.set(acc, lastIndex, Belt_Array.getExn(acc, lastIndex).concat(/* array */[standing]));\n                  return acc;\n                }\n              }), /* array */[]);\n}\n\nfunction getKFactor(matchCount) {\n  var match = matchCount > 0;\n  var ne = match ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  var match = rating > 100;\n  if (match) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(param, param$1, param$2) {\n  var blackRating = param[1];\n  var whiteRating = param[0];\n  var whiteElo = new EloRank.default(getKFactor(param$1[0]));\n  var blackElo = new EloRank.default(getKFactor(param$1[1]));\n  var whiteScoreExpected = whiteElo.getExpected(whiteRating, blackRating);\n  var blackScoreExpected = blackElo.getExpected(blackRating, whiteRating);\n  return /* tuple */[\n          keepAboveFloor(whiteElo.updateRating(whiteScoreExpected, param$2[0], whiteRating)),\n          keepAboveFloor(blackElo.updateRating(blackScoreExpected, param$2[1], blackRating))\n        ];\n}\n\nvar Ratings = /* module */[\n  /* getKFactor */getKFactor,\n  /* floor */100,\n  /* keepAboveFloor */keepAboveFloor,\n  /* EloRank */0,\n  /* calcNewRatings */calcNewRatings\n];\n\nexport {\n  isNotDummy ,\n  getPlayerScore ,\n  getOpponentScores ,\n  getMedianScore ,\n  getSolkoffScore ,\n  runningReducer ,\n  getCumulativeScore ,\n  getCumulativeOfOpponentScore ,\n  getColorBalanceScore ,\n  tieBreakMethods ,\n  getNamefromIndex ,\n  getTieBreakNames ,\n  createBlankScoreData ,\n  createStandingList ,\n  areScoresEqual ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* elo-rank Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\n\nvar dummy_id = \"________DUMMY________\";\n\nfunction avoidPairReducer(acc, pair) {\n  var id2 = pair[1];\n  var id1 = pair[0];\n  var match = Belt_MapString.get(acc, id1);\n  var newList1 = match !== undefined ? /* :: */[\n      id2,\n      match\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var match$1 = Belt_MapString.get(acc, id2);\n  var newList2 = match$1 !== undefined ? /* :: */[\n      id1,\n      match$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_MapString.set(Belt_MapString.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction tToJs(param) {\n  return {\n          firstName: param[/* firstName */0],\n          id: param[/* id */1],\n          lastName: param[/* lastName */2],\n          matchCount: param[/* matchCount */3],\n          rating: param[/* rating */4],\n          type_: param[/* type_ */5]\n        };\n}\n\nfunction tFromJs(param) {\n  return /* record */[\n          /* firstName */param.firstName,\n          /* id */param.id,\n          /* lastName */param.lastName,\n          /* matchCount */param.matchCount,\n          /* rating */param.rating,\n          /* type_ */param.type_\n        ];\n}\n\nfunction isDummyId(playerId) {\n  return playerId === dummy_id;\n}\n\nvar dummyPlayer = /* record */[\n  /* firstName */\"Bye\",\n  /* id */dummy_id,\n  /* lastName */\"Player\",\n  /* matchCount */0,\n  /* rating */0,\n  /* type_ */\"dummy\"\n];\n\nfunction makeMissingPlayer(id) {\n  return /* record */[\n          /* firstName */\"Anonymous\",\n          /* id */id,\n          /* lastName */\"Player\",\n          /* matchCount */0,\n          /* rating */0,\n          /* type_ */\"missing\"\n        ];\n}\n\nfunction getPlayerMaybe(playerDict, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    var match = Js_dict.get(playerDict, id);\n    if (match !== undefined) {\n      return match;\n    } else {\n      return makeMissingPlayer(id);\n    }\n  }\n}\n\nfunction getPlayerMaybeMap(playerMap, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    return Belt_MapString.getWithDefault(playerMap, id, makeMissingPlayer(id));\n  }\n}\n\nvar Player = /* module */[\n  /* tToJs */tToJs,\n  /* tFromJs */tFromJs,\n  /* isDummyId */isDummyId,\n  /* dummyPlayer */dummyPlayer,\n  /* makeMissingPlayer */makeMissingPlayer,\n  /* getPlayerMaybe */getPlayerMaybe,\n  /* getPlayerMaybeMap */getPlayerMaybeMap\n];\n\nfunction tToJs$1(param) {\n  return {\n          id: param[/* id */0],\n          whiteId: param[/* whiteId */1],\n          blackId: param[/* blackId */2],\n          whiteNewRating: param[/* whiteNewRating */3],\n          blackNewRating: param[/* blackNewRating */4],\n          whiteOrigRating: param[/* whiteOrigRating */5],\n          blackOrigRating: param[/* blackOrigRating */6],\n          whiteScore: param[/* whiteScore */7],\n          blackScore: param[/* blackScore */8]\n        };\n}\n\nfunction tFromJs$1(param) {\n  return /* record */[\n          /* id */param.id,\n          /* whiteId */param.whiteId,\n          /* blackId */param.blackId,\n          /* whiteNewRating */param.whiteNewRating,\n          /* blackNewRating */param.blackNewRating,\n          /* whiteOrigRating */param.whiteOrigRating,\n          /* blackOrigRating */param.blackOrigRating,\n          /* whiteScore */param.whiteScore,\n          /* blackScore */param.blackScore\n        ];\n}\n\nvar Match = /* module */[\n  /* tToJs */tToJs$1,\n  /* tFromJs */tFromJs$1\n];\n\nfunction tToJs$2(param) {\n  return {\n          byeQueue: param[/* byeQueue */0],\n          date: param[/* date */1],\n          id: param[/* id */2],\n          name: param[/* name */3],\n          playerIds: param[/* playerIds */4],\n          roundList: param[/* roundList */5],\n          tieBreaks: param[/* tieBreaks */6]\n        };\n}\n\nfunction tFromJs$2(param) {\n  return /* record */[\n          /* byeQueue */param.byeQueue,\n          /* date */param.date,\n          /* id */param.id,\n          /* name */param.name,\n          /* playerIds */param.playerIds,\n          /* roundList */param.roundList,\n          /* tieBreaks */param.tieBreaks\n        ];\n}\n\nfunction tToJsDeep(tourney) {\n  return {\n          byeQueue: tourney[/* byeQueue */0],\n          date: tourney[/* date */1],\n          id: tourney[/* id */2],\n          name: tourney[/* name */3],\n          playerIds: tourney[/* playerIds */4],\n          roundList: tourney[/* roundList */5].map((function (round) {\n                  return round.map(tToJs$1);\n                })),\n          tieBreaks: tourney[/* tieBreaks */6]\n        };\n}\n\nfunction tFromJsDeep(tourney) {\n  return /* record */[\n          /* byeQueue */tourney.byeQueue,\n          /* date */tourney.date,\n          /* id */tourney.id,\n          /* name */tourney.name,\n          /* playerIds */tourney.playerIds,\n          /* roundList */tourney.roundList.map((function (round) {\n                  return round.map(tFromJs$1);\n                })),\n          /* tieBreaks */tourney.tieBreaks\n        ];\n}\n\nfunction tFromJsonDeep(tourney) {\n  return /* record */[\n          /* byeQueue */tourney.byeQueue,\n          /* date */new Date(tourney.date),\n          /* id */tourney.id,\n          /* name */tourney.name,\n          /* playerIds */tourney.playerIds,\n          /* roundList */tourney.roundList.map((function (round) {\n                  return round.map(tFromJs$1);\n                })),\n          /* tieBreaks */tourney.tieBreaks\n        ];\n}\n\nvar Tournament = /* module */[\n  /* tToJs */tToJs$2,\n  /* tFromJs */tFromJs$2,\n  /* tToJsDeep */tToJsDeep,\n  /* tFromJsDeep */tFromJsDeep,\n  /* tFromJsonDeep */tFromJsonDeep\n];\n\nfunction tToJs$3(param) {\n  return {\n          avoidPairs: param[/* avoidPairs */0],\n          byeValue: param[/* byeValue */1],\n          lastBackup: param[/* lastBackup */2]\n        };\n}\n\nfunction tFromJs$3(param) {\n  return /* record */[\n          /* avoidPairs */param.avoidPairs,\n          /* byeValue */param.byeValue,\n          /* lastBackup */param.lastBackup\n        ];\n}\n\nvar defaults_000 = /* avoidPairs : array */[];\n\nvar defaults_002 = /* lastBackup */new Date(0.0);\n\nvar defaults = /* record */[\n  defaults_000,\n  /* byeValue */1.0,\n  defaults_002\n];\n\nvar Config = /* module */[\n  /* tToJs */tToJs$3,\n  /* tFromJs */tFromJs$3,\n  /* defaults */defaults\n];\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? (function (param) {\n            return (function (param$1) {\n                return roundList.slice(param, param$1);\n              });\n          })(0)(lastRound + 1 | 0) : roundList;\n  return rounds.reduce((function (acc, round) {\n                return acc.concat(round);\n              }), /* array */[]);\n}\n\nfunction getUnmatched(roundList, players, roundId) {\n  var match = Belt_Array.get(roundList, roundId);\n  var matchList = match !== undefined ? match : /* array */[];\n  var matchedIds = matchList.reduce((function (acc, match_) {\n          return acc.concat(/* array */[\n                      match_[/* whiteId */1],\n                      match_[/* blackId */2]\n                    ]);\n        }), /* array */[]);\n  return Belt_MapString.reduce(players, Belt_MapString.empty, (function (acc, key, player) {\n                if (matchedIds.includes(key)) {\n                  return acc;\n                } else {\n                  return Belt_MapString.set(acc, key, player);\n                }\n              }));\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  if (roundId < (roundList.length - 1 | 0)) {\n    return true;\n  } else {\n    var unmatched = getUnmatched(roundList, players, roundId);\n    var results = Belt_Array.getExn(roundList, roundId).map((function (match_) {\n            return match_[/* whiteScore */7] + match_[/* blackScore */8];\n          }));\n    if (Belt_MapString.keysToArray(unmatched).length === 0) {\n      return !results.includes(0.0);\n    } else {\n      return false;\n    }\n  }\n}\n\nfunction colorToScore(color) {\n  var match = color === 1;\n  if (match) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nfunction getOppColor(color) {\n  var match = color === 0;\n  if (match) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nvar dummyId = \"________DUMMY________\";\n\nfunction isDummyId$1(playerId) {\n  return playerId === dummyId;\n}\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var match = Belt_MapString.get(existingData, playerId);\n  var oldData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(playerId);\n  var ratings = oldData[/* ratings */5];\n  var match$1 = ratings ? /* tuple */[\n      /* :: */[\n        newRating,\n        ratings\n      ],\n      origRating\n    ] : /* tuple */[\n      /* :: */[\n        newRating,\n        /* [] */0\n      ],\n      origRating\n    ];\n  var match$2 = oppId === dummyId;\n  var newResultsNoByes = match$2 ? oldData[/* resultsNoByes */8] : /* :: */[\n      result,\n      oldData[/* resultsNoByes */8]\n    ];\n  var oldOppResults = oldData[/* opponentResults */4];\n  var match$3 = Belt_MapString.get(oldOppResults, oppId);\n  var oppResult = match$3 !== undefined ? match$3 + result : result;\n  var newOpponentResults = Belt_MapString.set(oldOppResults, oppId, oppResult);\n  return /* record */[\n          /* colorScores : :: */[\n            colorToScore(color),\n            oldData[/* colorScores */0]\n          ],\n          /* colors : :: */[\n            color,\n            oldData[/* colors */1]\n          ],\n          /* id */playerId,\n          /* isDummy */playerId === dummyId,\n          /* opponentResults */newOpponentResults,\n          /* ratings */match$1[0],\n          /* firstRating */match$1[1],\n          /* results : :: */[\n            result,\n            oldData[/* results */7]\n          ],\n          /* resultsNoByes */newResultsNoByes\n        ];\n}\n\nfunction matches2ScoreData(matchList) {\n  return matchList.reduce((function (acc, match_) {\n                var newDataWhite = makeScoreData(acc, match_[/* whiteId */1], match_[/* whiteOrigRating */5], match_[/* whiteNewRating */3], match_[/* whiteScore */7], match_[/* blackId */2], 0);\n                var newDataBlack = makeScoreData(acc, match_[/* blackId */2], match_[/* blackOrigRating */6], match_[/* blackNewRating */4], match_[/* blackScore */8], match_[/* whiteId */1], 1);\n                return Belt_MapString.set(Belt_MapString.set(acc, match_[/* whiteId */1], newDataWhite), match_[/* blackId */2], newDataBlack);\n              }), Belt_MapString.empty);\n}\n\nfunction createPairingData(playerData, avoidPairs, scoreMap) {\n  var avoidMap = avoidPairs.reduce(avoidPairReducer, Belt_MapString.empty);\n  return Belt_MapString.reduce(playerData, Belt_MapString.empty, (function (acc, key, data) {\n                var match = Belt_MapString.get(scoreMap, key);\n                var playerStats = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(key);\n                var match$1 = Belt_MapString.get(avoidMap, key);\n                var newAvoidIds = match$1 !== undefined ? match$1 : /* [] */0;\n                var newData_000 = /* id */data[/* id */1];\n                var newData_002 = /* colorScores */playerStats[/* colorScores */0];\n                var newData_003 = /* colors */playerStats[/* colors */1];\n                var newData_006 = /* opponents */Belt_List.fromArray(Belt_MapString.keysToArray(playerStats[/* opponentResults */4]));\n                var newData_007 = /* rating */data[/* rating */4];\n                var newData_008 = /* score */Utils$Coronate.listSumFloat(playerStats[/* results */7]);\n                var newData = /* record */[\n                  newData_000,\n                  /* avoidIds */newAvoidIds,\n                  newData_002,\n                  newData_003,\n                  /* halfPos */0,\n                  /* isUpperHalf */false,\n                  newData_006,\n                  newData_007,\n                  newData_008\n                ];\n                return Belt_MapString.set(acc, key, newData);\n              }));\n}\n\nvar Converters = /* module */[\n  /* blackValue */1.0,\n  /* whiteValue */-1.0,\n  /* black */1,\n  /* white */0,\n  /* colorToScore */colorToScore,\n  /* getOppColor */getOppColor,\n  /* dummyId */dummyId,\n  /* isDummyId */isDummyId$1,\n  /* makeScoreData */makeScoreData,\n  /* matches2ScoreData */matches2ScoreData,\n  /* createPairingData */createPairingData\n];\n\nexport {\n  dummy_id ,\n  avoidPairReducer ,\n  Player ,\n  Match ,\n  Tournament ,\n  Config ,\n  rounds2Matches ,\n  getUnmatched ,\n  isRoundComplete ,\n  Converters ,\n  \n}\n/* defaults Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction ascend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, a), Curry._1(getter, b));\n}\n\nfunction descend(getter, a, b) {\n  return Caml_obj.caml_compare(Curry._1(getter, b), Curry._1(getter, a));\n}\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case 0 : \n          newState = /* record */[\n            /* isDescending */action[0],\n            /* key */state[/* key */1],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case 1 : \n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* key */action[0],\n            /* table */state[/* table */2]\n          ];\n          break;\n      case 2 : \n          newState = /* record */[\n            /* isDescending */state[/* isDescending */0],\n            /* key */state[/* key */1],\n            /* table */action[0]\n          ];\n          break;\n      \n    }\n  }\n  var match = newState[/* isDescending */0];\n  var direction = match ? descend : ascend;\n  var match$1 = newState[/* key */1];\n  var sortFunc;\n  if (match$1.tag) {\n    sortFunc = Curry._1(direction, match$1[0]);\n  } else {\n    var func = match$1[0];\n    sortFunc = Curry._1(direction, (function (str) {\n            return Curry._1(func, str).toLowerCase();\n          }));\n  }\n  var table = Belt_SortArray.stableSortBy(newState[/* table */2], sortFunc);\n  return /* record */[\n          /* isDescending */newState[/* isDescending */0],\n          /* key */newState[/* key */1],\n          /* table */table\n        ];\n}\n\nfunction useSortedTable(table, key, isDescending) {\n  var initialState = /* record */[\n    /* isDescending */isDescending,\n    /* key */key,\n    /* table */table\n  ];\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          return undefined;\n        }), /* array */[dispatch]);\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortKey = Props.sortKey;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var match = data[/* key */1] === sortKey;\n  var chevronStyle = match ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  var match$1 = data[/* isDescending */0];\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  var match = data[/* key */1] === sortKey;\n                  if (match) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data[/* isDescending */0]]));\n                  } else {\n                    return Curry._1(dispatch, /* SetKey */Block.__(1, [sortKey]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, match$1 ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = /* module */[/* make */Hooks$SortButton];\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), /* array */[isLoaded]);\n  return /* () */0;\n}\n\nexport {\n  ascend ,\n  descend ,\n  sortedTableReducer ,\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nvar config_000 = /* avoidPairs : array */[\n  /* tuple */[\n    \"BarbaraGordon_cL6SpI2\",\n    \"JamesGordon_1ts9xICT3\"\n  ],\n  /* tuple */[\n    \"Joker_v0z2416fpAZ9o2c\",\n    \"HarleyQuinn_-10-02VPH\"\n  ],\n  /* tuple */[\n    \"HelenaWayne_fE6O0DJcE\",\n    \"BruceWayne_lv_ZsUHTU9\"\n  ]\n];\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue */1.0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        /* record */[\n          /* firstName */\"Bruce\",\n          /* id */\"BruceWayne_lv_ZsUHTU9\",\n          /* lastName */\"Wayne\",\n          /* matchCount */9,\n          /* rating */1998,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"DickGrayson_1C2rCokHH\",\n        /* record */[\n          /* firstName */\"Dick\",\n          /* id */\"DickGrayson_1C2rCokHH\",\n          /* lastName */\"Grayson\",\n          /* matchCount */9,\n          /* rating */1909,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"AlfredPennyworth_y4dW\",\n        /* record */[\n          /* firstName */\"Alfred\",\n          /* id */\"AlfredPennyworth_y4dW\",\n          /* lastName */\"Pennyworth\",\n          /* matchCount */9,\n          /* rating */1999,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        /* record */[\n          /* firstName */\"Barbara\",\n          /* id */\"BarbaraGordon_cL6SpI2\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1345,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"KateKane_klFW6gDfUOTX\",\n        /* record */[\n          /* firstName */\"Kate\",\n          /* id */\"KateKane_klFW6gDfUOTX\",\n          /* lastName */\"Kane\",\n          /* matchCount */9,\n          /* rating */1539,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"SelinaKyle_rJBH-45Xoy\",\n        /* record */[\n          /* firstName */\"Selina\",\n          /* id */\"SelinaKyle_rJBH-45Xoy\",\n          /* lastName */\"Kyle\",\n          /* matchCount */9,\n          /* rating */1495,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"JasonTodd_fc9CeOa-Luw\",\n        /* record */[\n          /* firstName */\"Jason\",\n          /* id */\"JasonTodd_fc9CeOa-Luw\",\n          /* lastName */\"Todd\",\n          /* matchCount */7,\n          /* rating */1101,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"JamesGordon_1ts9xICT3\",\n        /* record */[\n          /* firstName */\"James\",\n          /* id */\"JamesGordon_1ts9xICT3\",\n          /* lastName */\"Gordon\",\n          /* matchCount */7,\n          /* rating */1167,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        /* record */[\n          /* firstName */\"Helena\",\n          /* id */\"HelenaWayne_fE6O0DJcE\",\n          /* lastName */\"Wayne\",\n          /* matchCount */7,\n          /* rating */1087,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        /* record */[\n          /* firstName */\"Joker\",\n          /* id */\"Joker_v0z2416fpAZ9o2c\",\n          /* lastName */\"\",\n          /* matchCount */1,\n          /* rating */1538,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"HarleyQuinn_-10-02VPH\",\n        /* record */[\n          /* firstName */\"Harley\",\n          /* id */\"HarleyQuinn_-10-02VPH\",\n          /* lastName */\"Quinn\",\n          /* matchCount */1,\n          /* rating */1648,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"VictorFries_cWaQoW014\",\n        /* record */[\n          /* firstName */\"Victor\",\n          /* id */\"VictorFries_cWaQoW014\",\n          /* lastName */\"Fries\",\n          /* matchCount */1,\n          /* rating */862,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"OswaldCobblepot_lfCro\",\n        /* record */[\n          /* firstName */\"Oswald\",\n          /* id */\"OswaldCobblepot_lfCro\",\n          /* lastName */\"Cobblepot\",\n          /* matchCount */1,\n          /* rating */1812,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"RasAlGhul_k9n8k852bHr\",\n        /* record */[\n          /* firstName */\"Ra's\",\n          /* id */\"RasAlGhul_k9n8k852bHr\",\n          /* lastName */\"al Ghul\",\n          /* matchCount */1,\n          /* rating */1404,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"PamelaIsley_vH5vD8uPB\",\n        /* record */[\n          /* firstName */\"Pamela\",\n          /* id */\"PamelaIsley_vH5vD8uPB\",\n          /* lastName */\"Isley\",\n          /* matchCount */1,\n          /* rating */965,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"EdwardNigma_j80JfWOZq\",\n        /* record */[\n          /* firstName */\"Edward\",\n          /* id */\"EdwardNigma_j80JfWOZq\",\n          /* lastName */\"Nigma\",\n          /* matchCount */1,\n          /* rating */948,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"JonathanCrane_R4Q8tVW\",\n        /* record */[\n          /* firstName */\"Jonathan\",\n          /* id */\"JonathanCrane_R4Q8tVW\",\n          /* lastName */\"Crane\",\n          /* matchCount */1,\n          /* rating */899,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"HarveyDent_0eYIiP_Ij5\",\n        /* record */[\n          /* firstName */\"Harvey\",\n          /* id */\"HarveyDent_0eYIiP_Ij5\",\n          /* lastName */\"Dent\",\n          /* matchCount */1,\n          /* rating */1649,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"HugoStrange_az43f9mtS\",\n        /* record */[\n          /* firstName */\"Hugo\",\n          /* id */\"HugoStrange_az43f9mtS\",\n          /* lastName */\"Strange\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ */\"person\"\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"CaouTNel9k70jUJ0h6SYM\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-05-22T12:14:47.670Z\"),\n          /* id */\"CaouTNel9k70jUJ0h6SYM\",\n          /* name */\"Wayne Manor Open\",\n          /* playerIds : array */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            \"DickGrayson_1C2rCokHH\",\n            \"AlfredPennyworth_y4dW\",\n            \"BarbaraGordon_cL6SpI2\",\n            \"KateKane_klFW6gDfUOTX\",\n            \"SelinaKyle_rJBH-45Xoy\",\n            \"JasonTodd_fc9CeOa-Luw\",\n            \"JamesGordon_1ts9xICT3\",\n            \"HelenaWayne_fE6O0DJcE\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"FUASEeyES6ez_ROoT6qmU\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1236,\n                /* blackNewRating */2109,\n                /* whiteOrigRating */1238,\n                /* blackOrigRating */2108,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"gqPyD66QMPF-pup41xsB2\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */2260,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */2260,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"KpS1lQSzsQWQ3VVWJyA2P\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1553,\n                /* blackNewRating */1722,\n                /* whiteOrigRating */1527,\n                /* blackOrigRating */1755,\n                /* whiteScore */0.5,\n                /* blackScore */0.5\n              ],\n              /* record */[\n                /* id */\"OgFuy-wq8mz378EWat46u\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1278,\n                /* blackNewRating */1887,\n                /* whiteOrigRating */1284,\n                /* blackOrigRating */1881,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"f8Ps3GUmd0ZRsBBY8rZOp\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */831,\n                /* blackNewRating */0,\n                /* whiteOrigRating */831,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"6seKrw7ehbhL766g6L2PF\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */2122,\n                /* blackNewRating */1672,\n                /* whiteOrigRating */2109,\n                /* blackOrigRating */1685,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"TCSjz48ZXqjamtYUFNg0B\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"HelenaWayne_fE6O0DJcE\",\n                /* whiteNewRating */1887,\n                /* blackNewRating */830,\n                /* whiteOrigRating */1887,\n                /* blackOrigRating */831,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"zF64DEsN8sHydpDDsg37E\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */2101,\n                /* blackNewRating */1437,\n                /* whiteOrigRating */2260,\n                /* blackOrigRating */1278,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"qVGt1EJq9y0MmvFtumM0A\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1574,\n                /* blackNewRating */1207,\n                /* whiteOrigRating */1545,\n                /* blackOrigRating */1236,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"UhfHaRWr_-BtVo22xAuJu\",\n                /* whiteId */\"JamesGordon_1ts9xICT3\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1049,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1049,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"odrOOnZJUe0YAwkfUDqUb\",\n                /* whiteId */\"AlfredPennyworth_y4dW\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1990,\n                /* whiteOrigRating */2101,\n                /* blackOrigRating */1887,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"qzCMqUwNIDAcFSAuA5yCm\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */990,\n                /* blackNewRating */2008,\n                /* whiteOrigRating */830,\n                /* blackOrigRating */2122,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"6QgVqdtcJPjfVp3UZ8S9g\",\n                /* whiteId */\"SelinaKyle_rJBH-45Xoy\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1529,\n                /* blackNewRating */1464,\n                /* whiteOrigRating */1437,\n                /* blackOrigRating */1574,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"as45gODKMLC5-3_UsTyx5\",\n                /* whiteId */\"KateKane_klFW6gDfUOTX\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1542,\n                /* blackNewRating */1244,\n                /* whiteOrigRating */1672,\n                /* blackOrigRating */1049,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"Pc0CWecSfeGNfvBPjyEIj\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1207,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"xj0y_Iqkb-g3MDGgmYx2-\",\n                /* whiteId */\"BruceWayne_lv_ZsUHTU9\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */1998,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */1990,\n                /* blackOrigRating */1542,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"HWYWtsyaqUkHRExM6kQrt\",\n                /* whiteId */\"DickGrayson_1C2rCokHH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */2009,\n                /* blackNewRating */1243,\n                /* whiteOrigRating */2008,\n                /* blackOrigRating */1244,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"uAzHZVMC71liQZ-6fWWeD\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */983,\n                /* blackNewRating */1534,\n                /* whiteOrigRating */990,\n                /* blackOrigRating */1529,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"_tCBn9YNIyto-vXpxm7WI\",\n                /* whiteId */\"JasonTodd_fc9CeOa-Luw\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */1205,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */1207,\n                /* blackOrigRating */1998,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"L7yatE2oVKlV7LOY6-d7Y\",\n                /* whiteId */\"BarbaraGordon_cL6SpI2\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1464,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1464,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"tvAdS4YbSOznrBgrg0ITA\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-05-29T12:15:20.593Z\"),\n          /* id */\"tvAdS4YbSOznrBgrg0ITA\",\n          /* name */\"The Battle for Gotham City\",\n          /* playerIds : array */[\n            \"BruceWayne_lv_ZsUHTU9\",\n            \"DickGrayson_1C2rCokHH\",\n            \"AlfredPennyworth_y4dW\",\n            \"BarbaraGordon_cL6SpI2\",\n            \"KateKane_klFW6gDfUOTX\",\n            \"SelinaKyle_rJBH-45Xoy\",\n            \"JasonTodd_fc9CeOa-Luw\",\n            \"JamesGordon_1ts9xICT3\",\n            \"HelenaWayne_fE6O0DJcE\",\n            \"Joker_v0z2416fpAZ9o2c\",\n            \"HarleyQuinn_-10-02VPH\",\n            \"VictorFries_cWaQoW014\",\n            \"OswaldCobblepot_lfCro\",\n            \"RasAlGhul_k9n8k852bHr\",\n            \"PamelaIsley_vH5vD8uPB\",\n            \"EdwardNigma_j80JfWOZq\",\n            \"JonathanCrane_R4Q8tVW\",\n            \"HarveyDent_0eYIiP_Ij5\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"5f8GYcR8V44NYvTN1cZle\",\n                /* whiteId */\"EdwardNigma_j80JfWOZq\",\n                /* blackId */\"BruceWayne_lv_ZsUHTU9\",\n                /* whiteNewRating */948,\n                /* blackNewRating */1998,\n                /* whiteOrigRating */950,\n                /* blackOrigRating */1998,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"GPTct4sL368SryTLFUu8E\",\n                /* whiteId */\"JonathanCrane_R4Q8tVW\",\n                /* blackId */\"AlfredPennyworth_y4dW\",\n                /* whiteNewRating */899,\n                /* blackNewRating */1999,\n                /* whiteOrigRating */900,\n                /* blackOrigRating */1999,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"AxtoztZ6O19nyrLfZ4YaU\",\n                /* whiteId */\"HarveyDent_0eYIiP_Ij5\",\n                /* blackId */\"DickGrayson_1C2rCokHH\",\n                /* whiteNewRating */1649,\n                /* blackNewRating */1909,\n                /* whiteOrigRating */850,\n                /* blackOrigRating */2009,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"bUM_tWQsAtPe1gqRzlXd1\",\n                /* whiteId */\"RasAlGhul_k9n8k852bHr\",\n                /* blackId */\"SelinaKyle_rJBH-45Xoy\",\n                /* whiteNewRating */1404,\n                /* blackNewRating */1495,\n                /* whiteOrigRating */1050,\n                /* blackOrigRating */1534,\n                /* whiteScore */0.5,\n                /* blackScore */0.5\n              ],\n              /* record */[\n                /* id */\"bAOVlP-M5xaPk1qofNReb\",\n                /* whiteId */\"OswaldCobblepot_lfCro\",\n                /* blackId */\"BarbaraGordon_cL6SpI2\",\n                /* whiteNewRating */1812,\n                /* blackNewRating */1345,\n                /* whiteOrigRating */1100,\n                /* blackOrigRating */1464,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"4omlgiGSaE1BmrHdABSym\",\n                /* whiteId */\"PamelaIsley_vH5vD8uPB\",\n                /* blackId */\"KateKane_klFW6gDfUOTX\",\n                /* whiteNewRating */965,\n                /* blackNewRating */1539,\n                /* whiteOrigRating */1000,\n                /* blackOrigRating */1534,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"ysdEVYS2AyuKyOAwLLpTF\",\n                /* whiteId */\"HarleyQuinn_-10-02VPH\",\n                /* blackId */\"JamesGordon_1ts9xICT3\",\n                /* whiteNewRating */1648,\n                /* blackNewRating */1167,\n                /* whiteOrigRating */1200,\n                /* blackOrigRating */1242,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"YoJ9WGokAYrmJjfxCCf87\",\n                /* whiteId */\"VictorFries_cWaQoW014\",\n                /* blackId */\"Joker_v0z2416fpAZ9o2c\",\n                /* whiteNewRating */862,\n                /* blackNewRating */1538,\n                /* whiteOrigRating */1150,\n                /* blackOrigRating */1250,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"Az7SBl3cs7rbwKPBI0IsU\",\n                /* whiteId */\"HelenaWayne_fE6O0DJcE\",\n                /* blackId */\"JasonTodd_fc9CeOa-Luw\",\n                /* whiteNewRating */1087,\n                /* blackNewRating */1101,\n                /* whiteOrigRating */983,\n                /* blackOrigRating */1205,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\n\nvar database_name = \"Coronate\";\n\nvar ConfigDb = Curry._1(Externals$Coronate.LocalForage[/* Obj */1][/* Instance */0], []);\n\nvar configStore = Curry._2(ConfigDb[/* make */0], database_name, \"Options\");\n\nvar Players = Curry._1(Externals$Coronate.LocalForage[/* Map */0][/* Instance */0], []);\n\nvar playerStore = Curry._2(Players[/* make */0], database_name, \"Players\");\n\nvar Tournaments = Curry._1(Externals$Coronate.LocalForage[/* Map */0][/* Instance */0], []);\n\nvar tourneyStore = Curry._2(Tournaments[/* make */0], database_name, \"Tournaments\");\n\nfunction jsDictToReMap(dict, transformer) {\n  return Belt_MapString.fromArray(Js_dict.entries(dict).map((function (param) {\n                    return /* tuple */[\n                            param[0],\n                            Curry._1(transformer, param[1])\n                          ];\n                  })));\n}\n\nfunction reMapToJsDict(map, transformer) {\n  return Js_dict.fromArray(Belt_MapString.toArray(map).map((function (param) {\n                    return /* tuple */[\n                            param[0],\n                            Curry._1(transformer, param[1])\n                          ];\n                  })));\n}\n\nfunction loadDemoDB(param) {\n  ((document.body.style = \"wait\"));\n  Promise.all(/* tuple */[\n            configStore.setItems(Data$Coronate.Config[/* tToJs */0](DemoData$Coronate.config)),\n            playerStore.setItems(reMapToJsDict(DemoData$Coronate.players, Data$Coronate.Player[/* tToJs */0])),\n            tourneyStore.setItems(reMapToJsDict(DemoData$Coronate.tournaments, Data$Coronate.Tournament[/* tToJsDeep */2]))\n          ]).then((function (value) {\n            Utils$Coronate.alert(\"Demo data loaded!\");\n            ((document.body.style = \"auto\"));\n            return Promise.resolve(value);\n          })).catch((function (param) {\n          ((document.body.style = \"auto\"));\n          return Promise.resolve(/* tuple */[\n                      /* () */0,\n                      /* () */0,\n                      /* () */0\n                    ]);\n        }));\n  return /* () */0;\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return Belt_MapString.remove(state, action[0]);\n    case 1 : \n        return Belt_MapString.set(state, action[0], action[1]);\n    case 2 : \n        return action[0];\n    \n  }\n}\n\nfunction useAllItemsFromDb(store, reducer, fromJs, toJs) {\n  var match = React.useReducer(Curry.__2(reducer), Belt_MapString.empty);\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(isLoaded);\n  React.useEffect((function (param) {\n          var didCancel = /* record */[/* contents */false];\n          store.getItems(null).then((function (results) {\n                  if (!didCancel[0]) {\n                    Curry._1(dispatch, /* SetState */Block.__(2, [jsDictToReMap(results, fromJs)]));\n                    Curry._1(setIsLoaded, (function (param) {\n                            return true;\n                          }));\n                  }\n                  return Promise.resolve(results);\n                }));\n          return (function (param) {\n                    didCancel[0] = false;\n                    return /* () */0;\n                  });\n        }), /* tuple */[\n        store,\n        dispatch,\n        setIsLoaded,\n        fromJs\n      ]);\n  React.useEffect((function (param) {\n          if (isLoaded) {\n            store.setItems(reMapToJsDict(items, toJs)).then((function (param) {\n                    store.keys().then((function (keys) {\n                            var stateKeys = Belt_MapString.keysToArray(items);\n                            var deleted = keys.filter((function (x) {\n                                    return !stateKeys.includes(x);\n                                  }));\n                            if (deleted.length > 0) {\n                              store.removeItems(deleted);\n                            }\n                            return Promise.resolve(/* () */0);\n                          }));\n                    return Promise.resolve(/* () */0);\n                  }));\n            return undefined;\n          }\n          \n        }), /* tuple */[\n        store,\n        items,\n        isLoaded,\n        toJs\n      ]);\n  return /* tuple */[\n          items,\n          dispatch\n        ];\n}\n\nfunction useAllPlayers(param) {\n  return useAllItemsFromDb(playerStore, genericDbReducer, Data$Coronate.Player[/* tFromJs */1], Data$Coronate.Player[/* tToJs */0]);\n}\n\nfunction useAllTournaments(param) {\n  return useAllItemsFromDb(tourneyStore, genericDbReducer, Data$Coronate.Tournament[/* tFromJsDeep */3], Data$Coronate.Tournament[/* tToJsDeep */2]);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0].concat(/* array */[action[0]]),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 1 : \n        var match = action[0];\n        var user2 = match[1];\n        var user1 = match[0];\n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0].filter((function (param) {\n                        var p2 = param[1];\n                        var p1 = param[0];\n                        return !(/* array */[\n                                    p1,\n                                    p2\n                                  ].includes(user1) && /* array */[\n                                    p1,\n                                    p2\n                                  ].includes(user2));\n                      })),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 2 : \n        var id = action[0];\n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0].filter((function (param) {\n                        return !/* array */[\n                                  param[0],\n                                  param[1]\n                                ].includes(id);\n                      })),\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 3 : \n        return /* record */[\n                /* avoidPairs */action[0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 4 : \n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */action[0],\n                /* lastBackup */state[/* lastBackup */2]\n              ];\n    case 5 : \n        return action[0];\n    case 6 : \n        return /* record */[\n                /* avoidPairs */state[/* avoidPairs */0],\n                /* byeValue */state[/* byeValue */1],\n                /* lastBackup */action[0]\n              ];\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data$Coronate.Config[/* defaults */2]);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          configStore.getItems(null).then((function (valuesJs) {\n                  var values = Data$Coronate.Config[/* tFromJs */1](valuesJs);\n                  if (!didCancel[0]) {\n                    Curry._1(dispatch, /* SetAvoidPairs */Block.__(3, [values[/* avoidPairs */0]]));\n                    Curry._1(dispatch, /* SetByeValue */Block.__(4, [values[/* byeValue */1]]));\n                    Curry._1(dispatch, /* SetLastBackup */Block.__(6, [values[/* lastBackup */2]]));\n                    Curry._1(setIsLoaded, (function (param) {\n                            return true;\n                          }));\n                  }\n                  return Promise.resolve(/* () */0);\n                }));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), /* tuple */[\n        setIsLoaded,\n        dispatch\n      ]);\n  React.useEffect((function () {\n          if (isLoaded) {\n            configStore.setItems(Data$Coronate.Config[/* tToJs */0](config));\n            return undefined;\n          }\n          \n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nvar LocalForage = 0;\n\nexport {\n  LocalForage ,\n  database_name ,\n  ConfigDb ,\n  configStore ,\n  Players ,\n  playerStore ,\n  Tournaments ,\n  tourneyStore ,\n  jsDictToReMap ,\n  reMapToJsDict ,\n  loadDemoDB ,\n  genericDbReducer ,\n  useAllItemsFromDb ,\n  useAllPlayers ,\n  useAllTournaments ,\n  configReducer ,\n  useConfig ,\n  \n}\n/* ConfigDb Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = /* module */[];\n\nvar Alert = /* module */[];\n\nvar ArrowDown = /* module */[];\n\nvar ArrowLeft = /* module */[];\n\nvar ArrowUp = /* module */[];\n\nvar Award = /* module */[];\n\nvar Check = /* module */[];\n\nvar CheckCircle = /* module */[];\n\nvar ChevronDown = /* module */[];\n\nvar ChevronLeft = /* module */[];\n\nvar ChevronRight = /* module */[];\n\nvar ChevronUp = /* module */[];\n\nvar Circle = /* module */[];\n\nvar Download = /* module */[];\n\nvar Edit = /* module */[];\n\nvar Help = /* module */[];\n\nvar Info = /* module */[];\n\nvar Layers = /* module */[];\n\nvar List = /* module */[];\n\nvar Plus = /* module */[];\n\nvar Repeat = /* module */[];\n\nvar Settings = /* module */[];\n\nvar Sidebar = /* module */[];\n\nvar Trash = /* module */[];\n\nvar Unfullscreen = /* module */[];\n\nvar UserMinus = /* module */[];\n\nvar UserPlus = /* module */[];\n\nvar Users = /* module */[];\n\nvar X = /* module */[];\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var match = Props.height;\n    var height = match !== undefined ? match : \"24\";\n    var match$1 = Props.width;\n    var width = match$1 !== undefined ? match$1 : \"24\";\n    var match$2 = Props.className;\n    var className = match$2 !== undefined ? match$2 : \"\";\n    var match$3 = Props.style;\n    var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n    var match$4 = Props.ariaLabel;\n    var ariaLabel = match$4 !== undefined ? match$4 : IconData[/* icon */0].title + \" Icon\";\n    var match$5 = Props.ariaHidden;\n    var ariaHidden = match$5 !== undefined ? match$5 : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: ReactDOMRe.Style[/* combine */0]({\n                      fill: \"#\" + IconData[/* icon */0].hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData[/* icon */0].path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData[/* icon */0].title;\n  return /* module */[/* make */Icons$SimpleIcon];\n}\n\nvar IconData = /* module */[/* default */Reason.default];\n\nfunction Icons$SimpleIcon(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData[/* icon */0].title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style[/* combine */0]({\n                    fill: \"#\" + IconData[/* icon */0].hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData[/* icon */0].path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData[/* icon */0].title;\n\nvar Reason$1 = /* module */[/* make */Icons$SimpleIcon];\n\nvar IconData$1 = /* module */[/* default */React$1.default];\n\nfunction Icons$SimpleIcon$1(Props) {\n  var match = Props.height;\n  var height = match !== undefined ? match : \"24\";\n  var match$1 = Props.width;\n  var width = match$1 !== undefined ? match$1 : \"24\";\n  var match$2 = Props.className;\n  var className = match$2 !== undefined ? match$2 : \"\";\n  var match$3 = Props.style;\n  var style = match$3 !== undefined ? Caml_option.valFromOption(match$3) : { };\n  var match$4 = Props.ariaLabel;\n  var ariaLabel = match$4 !== undefined ? match$4 : IconData$1[/* icon */0].title + \" Icon\";\n  var match$5 = Props.ariaHidden;\n  var ariaHidden = match$5 !== undefined ? match$5 : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style[/* combine */0]({\n                    fill: \"#\" + IconData$1[/* icon */0].hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1[/* icon */0].path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1[/* icon */0].title;\n\nvar React$2 = /* module */[/* make */Icons$SimpleIcon$1];\n\nfunction Icons$Close(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = /* module */[/* make */Icons$Close];\n\nfunction Icons$Maximize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = /* module */[/* make */Icons$Maximize];\n\nfunction Icons$Minimize(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = /* module */[/* make */Icons$Minimize];\n\nfunction Icons$Restore(Props) {\n  var match = Props.className;\n  var className = match !== undefined ? match : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = /* module */[/* make */Icons$Restore];\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\n\nvar electron = (window.require ? window.require(\"electron\") : undefined);\n\nfunction ifElectron(fn) {\n  if (electron !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron)));\n  }\n  \n}\n\nvar currentWindow = ifElectron((function (electron) {\n        return electron.remote.getCurrentWindow();\n      }));\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  return /* () */0;\n}\n\nfunction toggleMaximize(win) {\n  if (win.isMaximized()) {\n    win.unmaximize();\n    return /* () */0;\n  } else {\n    win.maximize();\n    return /* () */0;\n  }\n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (target.className.includes && target.className.includes(\"double-click-control\")) {\n            var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n            var $$window = electron.remote.getCurrentWindow();\n            switch (doubleClickAction) {\n              case \"Maximize\" : \n                  return toggleMaximize($$window);\n              case \"Minimize\" : \n                  $$window.minimize();\n                  return /* () */0;\n              default:\n                return /* () */0;\n            }\n          } else {\n            return 0;\n          }\n        }));\n  return /* () */0;\n}\n\nvar isWin = navigator.appVersion.includes(\"Windows\");\n\nvar isMac = navigator.appVersion.includes(\"Mac\");\n\nvar match = ifElectron((function (param) {\n        return true;\n      }));\n\nvar isElectron = match !== undefined ? match : false;\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var os = Props.os;\n  var isThisTheRightOs = os ? isMac : isWin;\n  if (electron !== undefined && isThisTheRightOs) {\n    return Curry._1(children, Caml_option.valFromOption(electron));\n  } else {\n    return null;\n  }\n}\n\nvar IfElectron = /* module */[/* make */Electron$IfElectron];\n\nexport {\n  electron ,\n  ifElectron ,\n  currentWindow ,\n  openInBrowser ,\n  toggleMaximize ,\n  macOSDoubleClick ,\n  isWin ,\n  isMac ,\n  isElectron ,\n  IfElectron ,\n  \n}\n/* electron Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Webapi__Dom__Document from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Document.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  var match = title.length === 0;\n  if (match) {\n    return global_title;\n  } else {\n    return title + \" - Coronate\";\n  }\n}\n\nfunction windowstateToJs(param) {\n  return {\n          isBlur: param[/* isBlur */0],\n          isDialogOpen: param[/* isDialogOpen */1],\n          isFullScreen: param[/* isFullScreen */2],\n          isMaximized: param[/* isMaximized */3],\n          isSidebarOpen: param[/* isSidebarOpen */4],\n          title: param[/* title */5]\n        };\n}\n\nfunction windowstateFromJs(param) {\n  return /* record */[\n          /* isBlur */param.isBlur,\n          /* isDialogOpen */param.isDialogOpen,\n          /* isFullScreen */param.isFullScreen,\n          /* isMaximized */param.isMaximized,\n          /* isSidebarOpen */param.isSidebarOpen,\n          /* title */param.title\n        ];\n}\n\nvar initialWinState = /* record */[\n  /* isBlur */false,\n  /* isDialogOpen */false,\n  /* isFullScreen */false,\n  /* isMaximized */false,\n  /* isSidebarOpen */true,\n  /* title */\"\"\n];\n\nfunction initialState_001(param) {\n  return /* () */0;\n}\n\nvar initialState = /* tuple */[\n  initialWinState,\n  initialState_001\n];\n\nvar windowContext = React.createContext(initialState);\n\nfunction makeProps(value, children, param) {\n  return {\n          value: value,\n          children: children\n        };\n}\n\nvar make = windowContext.Provider;\n\nvar Provider = /* module */[\n  /* makeProps */makeProps,\n  /* make */make\n];\n\nvar Context = /* module */[\n  /* initialState */initialState,\n  /* windowContext */windowContext,\n  /* Provider */Provider\n];\n\nfunction useWindowContext(param) {\n  return React.useContext(windowContext);\n}\n\nfunction Window$About(Props) {\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets[/* logo */0],\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), React.createElement(\"p\", undefined, /* array */[\n                        \"Copyright \",\n                        Utils$Coronate.Entities[/* copy */1],\n                        \" 2019 John\",\n                        Utils$Coronate.Entities[/* nbsp */0],\n                        \"Jackson\"\n                      ].join(\"\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar About = /* module */[/* make */Window$About];\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        return /* record */[\n                /* isBlur */action[0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 1 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */action[0],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 2 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */action[0],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 3 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */action[0],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */state[/* title */5]\n              ];\n    case 4 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */action[0],\n                /* title */state[/* title */5]\n              ];\n    case 5 : \n        return /* record */[\n                /* isBlur */state[/* isBlur */0],\n                /* isDialogOpen */state[/* isDialogOpen */1],\n                /* isFullScreen */state[/* isFullScreen */2],\n                /* isMaximized */state[/* isMaximized */3],\n                /* isSidebarOpen */state[/* isSidebarOpen */4],\n                /* title */action[0]\n              ];\n    \n  }\n}\n\nvar container = Css.style(/* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.focus(/* :: */[\n                        Css.borderStyle(/* none */-922086728),\n                        /* :: */[\n                          Css.unsafe(\"boxShadow\", \"none\"),\n                          /* :: */[\n                            Css.outlineStyle(/* none */-922086728),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  /* :: */[\n                    Css.selector(\" svg\", /* :: */[\n                          Css.display(/* inline */423610969),\n                          /* [] */0\n                        ]),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Css.style(/* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Css.style(/* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* red_50 */34]),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* container */container,\n  /* button */button,\n  /* svg */svg,\n  /* close */close\n];\n\nfunction Window$MSWindowsControls(Props) {\n  var state = Props.state;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  var middleButton = state[/* isFullScreen */2] ? React.createElement(\"button\", {\n          className: Cn.make(/* :: */[\n                button,\n                /* :: */[\n                  \"button-ghost\",\n                  /* [] */0\n                ]\n              ]),\n          onClick: (function (param) {\n              $$window.setFullScreen(false);\n              return /* () */0;\n            })\n        }, React.createElement(ReactFeather.Minimize2, {\n              className: svg\n            })) : (\n      state[/* isMaximized */3] ? React.createElement(\"button\", {\n              className: Cn.make(/* :: */[\n                    button,\n                    /* :: */[\n                      \"button-ghost\",\n                      /* [] */0\n                    ]\n                  ]),\n              onClick: (function (param) {\n                  $$window.unmaximize();\n                  return /* () */0;\n                })\n            }, React.createElement(Icons$Coronate.Restore[/* make */0], {\n                  className: svg\n                })) : React.createElement(\"button\", {\n              className: Cn.make(/* :: */[\n                    button,\n                    /* :: */[\n                      \"button-ghost\",\n                      /* [] */0\n                    ]\n                  ]),\n              onClick: (function (param) {\n                  $$window.maximize();\n                  return /* () */0;\n                })\n            }, React.createElement(Icons$Coronate.Maximize[/* make */0], {\n                  className: svg\n                }))\n    );\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Minimize[/* make */0], {\n                      className: svg\n                    })), middleButton, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* :: */[\n                            \"button-ghost\",\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Close[/* make */0], {\n                      className: svg\n                    })));\n}\n\nvar MSWindowsControls = /* module */[\n  /* Style */Style,\n  /* make */Window$MSWindowsControls\n];\n\nvar button$1 = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* [] */0\n    ]);\n\nvar Style$1 = /* module */[/* button */button$1];\n\nvar isElectronMac = Electron$Coronate.isMac && Electron$Coronate.isElectron;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var state = Props.state;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !state[/* isFullScreen */2]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron[/* make */0], {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets[/* logo */0],\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!state[/* isSidebarOpen */4]]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", state[/* isBlur */0]),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(state[/* title */5])), React.createElement(Electron$Coronate.IfElectron[/* make */0], {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  state: state,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nvar TitleBar = /* module */[\n  /* Style */Style$1,\n  /* isElectronMac */isElectronMac,\n  /* toolbarClasses */toolbarClasses,\n  /* make */Window$TitleBar\n];\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, initialWinState);\n  var dispatch = match[1];\n  var state = match[0];\n  var title = state[/* title */5];\n  React.useEffect((function () {\n          Belt_Option.map(Webapi__Dom__Document.asHtmlDocument(document), (function (x) {\n                  x.title = formatTitle(title);\n                  return /* () */0;\n                }));\n          return undefined;\n        }), /* array */[title]);\n  React.useEffect((function () {\n          var func = Electron$Coronate.ifElectron((function (electron) {\n                  var win = electron.remote.getCurrentWindow();\n                  var unregisterListeners = function (param) {\n                    win.removeAllListeners(\"enter-full-screen\");\n                    win.removeAllListeners(\"leave-full-screen\");\n                    win.removeAllListeners(\"blur\");\n                    win.removeAllListeners(\"focus\");\n                    win.removeAllListeners(\"maximize\");\n                    win.removeAllListeners(\"unmaximize\");\n                    return /* () */0;\n                  };\n                  unregisterListeners(/* () */0);\n                  win.on(\"enter-full-screen\", (function (param) {\n                          return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                        }));\n                  win.on(\"leave-full-screen\", (function (param) {\n                          return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                        }));\n                  win.on(\"maximize\", (function (param) {\n                          return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                        }));\n                  win.on(\"unmaximize\", (function (param) {\n                          return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                        }));\n                  win.on(\"blur\", (function (param) {\n                          return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                        }));\n                  win.on(\"focus\", (function (param) {\n                          return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                        }));\n                  Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                  Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                  Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                  return unregisterListeners;\n                }));\n          if (func !== undefined) {\n            return func;\n          }\n          \n        }), /* array */[dispatch]);\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", state[/* isSidebarOpen */4]),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !state[/* isSidebarOpen */4]),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", state[/* isBlur */0]),\n                          /* :: */[\n                            Cn.ifTrue(\"isWindows\", Electron$Coronate.isWin),\n                            /* :: */[\n                              Cn.ifTrue(\"isMacOS\", Electron$Coronate.isMac),\n                              /* :: */[\n                                Cn.ifTrue(\"isElectron\", Electron$Coronate.isElectron),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  state: state,\n                  dispatch: dispatch\n                }), React.createElement(make, makeProps(/* tuple */[\n                      state,\n                      dispatch\n                    ], children, /* () */0)), React.createElement(Dialog.Dialog, {\n                  isOpen: state[/* isDialogOpen */1],\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/tourneys\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/players\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/options\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                          children: null,\n                          to_: \"/\",\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities[/* nbsp */0] + \"Info\")))));\n}\n\nvar DefaultSidebar = /* module */[/* make */Window$DefaultSidebar];\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var match = Props.sidebarFunc;\n  var sidebarFunc = match !== undefined ? match : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, /* () */0)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, /* () */0)) : null);\n}\n\nvar Body = /* module */[/* make */Window$Body];\n\nvar make$1 = $$Window;\n\nexport {\n  global_title ,\n  formatTitle ,\n  windowstateToJs ,\n  windowstateFromJs ,\n  initialWinState ,\n  Context ,\n  useWindowContext ,\n  About ,\n  windowReducer ,\n  MSWindowsControls ,\n  TitleBar ,\n  make$1 as make,\n  noDraggy ,\n  DefaultSidebar ,\n  sidebarCallback ,\n  Body ,\n  \n}\n/* windowContext Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.backgroundRepeat(/* repeat */108828507),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.flexDirection(/* column */-963948842),\n            /* :: */[\n              Css.justifyContent(/* center */98248149),\n              /* :: */[\n                Css.textAlign(/* center */98248149),\n                /* :: */[\n                  Css.alignItems(/* center */98248149),\n                  /* :: */[\n                    Css.backgroundImage(/* `url */[\n                          5843823,\n                          Utils$Coronate.WebpackAssets[/* caution */1]\n                        ]),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* :: */[\n        Css.backgroundColor(Utils$Coronate.PhotonColors[/* ink_90 */70]),\n        /* :: */[\n          Css.color(Utils$Coronate.PhotonColors[/* grey_10 */44]),\n          /* :: */[\n            Css.borderRadius(/* `px */[\n                  25096,\n                  4\n                ]),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar link = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n      /* :: */[\n        Css.visited(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n              /* [] */0\n            ]),\n        /* :: */[\n          Css.active(/* :: */[\n                Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                /* [] */0\n              ]),\n          /* :: */[\n            Css.focus(/* :: */[\n                  Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                  /* [] */0\n                ]),\n            /* :: */[\n              Css.hover(/* :: */[\n                    Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n                    /* [] */0\n                  ]),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar Styles = /* module */[\n  /* container */container,\n  /* text */text,\n  /* link */link\n];\n\nfunction Pages$CautionFooter(Props) {\n  return React.createElement(\"aside\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      \"body-20\",\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"p\", {\n                  className: text\n                }, \"\", \" This is beta software. Want to help make it better? Check out the \", React.createElement(\"span\", {\n                      \"aria-hidden\": true,\n                      role: \"img\"\n                    }, \"  \"), Utils$Coronate.Entities[/* nbsp */0], React.createElement(\"a\", {\n                      className: link,\n                      href: Utils$Coronate.github_url,\n                      onClick: Electron$Coronate.openInBrowser\n                    }, \"Git repository\"), \".\"));\n}\n\nvar CautionFooter = /* module */[\n  /* Styles */Styles,\n  /* make */Pages$CautionFooter\n];\n\nvar container$1 = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors[/* grey_10 */44]),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Css.style(/* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Css.style(/* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Css.style(/* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors[/* ink_80 */69]),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_20 */50]),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* teal_50 */19]),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors[/* teal_60 */20]),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Css.style(/* :: */[\n      Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Css.style(/* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Css.style(/* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Css.style(/* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = /* module */[\n  /* container */container$1,\n  /* hint */hint,\n  /* hintLi */hintLi,\n  /* footer */footer,\n  /* footerLink */footerLink,\n  /* title */title,\n  /* titleIcon */titleIcon,\n  /* titleText */titleText,\n  /* subtitle */subtitle\n];\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: container$1\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(/* () */0);\n                                      })\n                                  }, \"Click here to load the demo data\"), \"(optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification[/* make */1], {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets[/* logo */0],\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities[/* copy */1] + \" 2019 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonML\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason[/* make */0], { }), \" \", React.createElement(Icons$Coronate.React[/* make */0], { })))))),\n              footerFunc: (function (param) {\n                  return React.createElement(Pages$CautionFooter, { });\n                })\n            });\n}\n\nvar Splash = /* module */[\n  /* Style */Style,\n  /* make */Pages$Splash\n];\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = /* module */[/* make */Pages$NotFound];\n\nexport {\n  CautionFooter ,\n  Splash ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\n\nvar config_000 = /* avoidPairs : array */[\n  /* tuple */[\n    \"TVs_Frank____________\",\n    \"TVs_Son_of_TVs_Frank_\"\n  ],\n  /* tuple */[\n    \"Pearl_Forrester______\",\n    \"Dr_Clayton_Forrester_\"\n  ],\n  /* tuple */[\n    \"Kinga_Forrester______\",\n    \"Dr_Clayton_Forrester_\"\n  ],\n  /* tuple */[\n    \"Kinga_Forrester______\",\n    \"Pearl_Forrester______\"\n  ]\n];\n\nvar config_002 = /* lastBackup */new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = /* record */[\n  config_000,\n  /* byeValue */1.0,\n  config_002\n];\n\nvar players = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Cambot_______________\",\n        /* record */[\n          /* firstName */\"Cambot\",\n          /* id */\"Cambot_______________\",\n          /* lastName */\"\",\n          /* matchCount */25,\n          /* rating */1500,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Crow_T_Robot_________\",\n        /* record */[\n          /* firstName */\"Crow T\",\n          /* id */\"Crow_T_Robot_________\",\n          /* lastName */\"Robot\",\n          /* matchCount */5,\n          /* rating */1700,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Dr_Clayton_Forrester_\",\n        /* record */[\n          /* firstName */\"Clayton\",\n          /* id */\"Dr_Clayton_Forrester_\",\n          /* lastName */\"Forrester\",\n          /* matchCount */40,\n          /* rating */2100,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Grandy_McMaster______\",\n        /* record */[\n          /* firstName */\"Grandy\",\n          /* id */\"Grandy_McMaster______\",\n          /* lastName */\"McMaster\",\n          /* matchCount */100,\n          /* rating */2600,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Gypsy________________\",\n        /* record */[\n          /* firstName */\"Gypsy\",\n          /* id */\"Gypsy________________\",\n          /* lastName */\"\",\n          /* matchCount */15,\n          /* rating */1600,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Joel_Robinson________\",\n        /* record */[\n          /* firstName */\"Joel\",\n          /* id */\"Joel_Robinson________\",\n          /* lastName */\"Robinson\",\n          /* matchCount */70,\n          /* rating */2400,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Jonah_Heston_________\",\n        /* record */[\n          /* firstName */\"Jonah\",\n          /* id */\"Jonah_Heston_________\",\n          /* lastName */\"Heston\",\n          /* matchCount */50,\n          /* rating */2200,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        /* record */[\n          /* firstName */\"Kinga\",\n          /* id */\"Kinga_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */20,\n          /* rating */1900,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Larry_Erhardt________\",\n        /* record */[\n          /* firstName */\"Larry\",\n          /* id */\"Larry_Erhardt________\",\n          /* lastName */\"Erhardt\",\n          /* matchCount */45,\n          /* rating */1300,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Mike_Nelson__________\",\n        /* record */[\n          /* firstName */\"Mike\",\n          /* id */\"Mike_Nelson__________\",\n          /* lastName */\"Nelson\",\n          /* matchCount */60,\n          /* rating */2300,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Newbie_McNewberson___\",\n        /* record */[\n          /* firstName */\"Newbie\",\n          /* id */\"Newbie_McNewberson___\",\n          /* lastName */\"McNewberson\",\n          /* matchCount */0,\n          /* rating */800,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Observer_Brain_Guy___\",\n        /* record */[\n          /* firstName */\"Brain\",\n          /* id */\"Observer_Brain_Guy___\",\n          /* lastName */\"Guy\",\n          /* matchCount */55,\n          /* rating */1200,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        /* record */[\n          /* firstName */\"Pearl\",\n          /* id */\"Pearl_Forrester______\",\n          /* lastName */\"Forrester\",\n          /* matchCount */30,\n          /* rating */2000,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Professor_Bobo_______\",\n        /* record */[\n          /* firstName */\"Bobo\",\n          /* id */\"Professor_Bobo_______\",\n          /* lastName */\"Professor\",\n          /* matchCount */75,\n          /* rating */1000,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Frank____________\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Frank____________\",\n          /* lastName */\"Frank\",\n          /* matchCount */35,\n          /* rating */1400,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"TVs_Son_of_TVs_Frank_\",\n        /* record */[\n          /* firstName */\"TV's\",\n          /* id */\"TVs_Son_of_TVs_Frank_\",\n          /* lastName */\"Max\",\n          /* matchCount */65,\n          /* rating */1100,\n          /* type_ */\"person\"\n        ]\n      ],\n      /* tuple */[\n        \"Tom_Servo____________\",\n        /* record */[\n          /* firstName */\"Tom\",\n          /* id */\"Tom_Servo____________\",\n          /* lastName */\"Servo\",\n          /* matchCount */10,\n          /* rating */1800,\n          /* type_ */\"person\"\n        ]\n      ]\n    ]);\n\nvar tournaments = Belt_MapString.fromArray(/* array */[\n      /* tuple */[\n        \"Bye_Round_Tourney____\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* id */\"Bye_Round_Tourney____\",\n          /* name */\"Bye Round Tourney\",\n          /* playerIds : array */[\n            \"Joel_Robinson________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\",\n            \"Cambot_______________\",\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\"\n          ],\n          /* roundList : array */[/* array */[]],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Round_Tourney_2__\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-12T23:49:47.103Z\"),\n          /* id */\"Bye_Round_Tourney_2__\",\n          /* name */\"Bye Round Tourney 2\",\n          /* playerIds : array */[\n            \"Joel_Robinson________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\",\n            \"Cambot_______________\",\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\"\n          ],\n          /* roundList : array */[/* array */[\n              /* record */[\n                /* id */\"xTXxZHB0sTt__xIAg45fm\",\n                /* whiteId */\"Grandy_McMaster______\",\n                /* blackId */\"Crow_T_Robot_________\",\n                /* whiteNewRating */2592,\n                /* blackNewRating */1833,\n                /* whiteOrigRating */2600,\n                /* blackOrigRating */1700,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"zQcf9RWXK7iuU6ibPzrhU\",\n                /* whiteId */\"Joel_Robinson________\",\n                /* blackId */\"Gypsy________________\",\n                /* whiteNewRating */2400,\n                /* blackNewRating */1600,\n                /* whiteOrigRating */2400,\n                /* blackOrigRating */1600,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"Vw_X0c7O4vshrYEO-oSzR\",\n                /* whiteId */\"Tom_Servo____________\",\n                /* blackId */\"Cambot_______________\",\n                /* whiteNewRating */1738,\n                /* blackNewRating */1526,\n                /* whiteOrigRating */1800,\n                /* blackOrigRating */1500,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"iSDujOVkOTrcLv_KJmd7s\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */800,\n                /* blackNewRating */0,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ]],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Bye_Tourney_3________\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-17T23:00:29.603Z\"),\n          /* id */\"Bye_Tourney_3________\",\n          /* name */\"Bye Tourney 3\",\n          /* playerIds : array */[\n            \"Kinga_Forrester______\",\n            \"Newbie_McNewberson___\",\n            \"Jonah_Heston_________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KkFr4B7FDqiHRWmACgApf\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"Jonah_Heston_________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */2202,\n                /* whiteOrigRating */1900,\n                /* blackOrigRating */2200,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"R_BTsGSziwgyvFZM3yc5u\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */793,\n                /* blackNewRating */0,\n                /* whiteOrigRating */793,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"rcyCfpZU6olav5kdVac44\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"Newbie_McNewberson___\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */953,\n                /* whiteOrigRating */2202,\n                /* blackOrigRating */793,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"Nc0Om5fEuwSuzFls9wmME\",\n                /* whiteId */\"Kinga_Forrester______\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */1894,\n                /* blackNewRating */0,\n                /* whiteOrigRating */1894,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[\n              /* record */[\n                /* id */\"uawjKwbiA38RP8pA--tlw\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Kinga_Forrester______\",\n                /* whiteNewRating */952,\n                /* blackNewRating */1894,\n                /* whiteOrigRating */953,\n                /* blackOrigRating */1894,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"-kwIDxjPhWVRbqxtRZ26_\",\n                /* whiteId */\"Jonah_Heston_________\",\n                /* blackId */\"________DUMMY________\",\n                /* whiteNewRating */2187,\n                /* blackNewRating */0,\n                /* whiteOrigRating */2187,\n                /* blackOrigRating */0,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Simple_Pairing_______\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-14T11:40:34.407Z\"),\n          /* id */\"Simple_Pairing_______\",\n          /* name */\"Simple Pairing\",\n          /* playerIds : array */[\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\",\n            \"Joel_Robinson________\",\n            \"Dr_Clayton_Forrester_\",\n            \"TVs_Frank____________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"KdLva8hWqYHdaU9KnFTe2\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"WDPFsNF1yADs4qofFwCY0\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"R5sXfTOJw5vrJ4IytAjSi\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"2YOsn_JJFnaUMhRBAc9KY\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1597,\n                /* blackNewRating */1728,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ],\n      /* tuple */[\n        \"Pairing_With_Draws___\",\n        /* record */[\n          /* byeQueue : array */[],\n          /* date */new Date(\"2019-06-14T14:18:06.686Z\"),\n          /* id */\"Pairing_With_Draws___\",\n          /* name */\"Pairing with draws\",\n          /* playerIds : array */[\n            \"Newbie_McNewberson___\",\n            \"Grandy_McMaster______\",\n            \"Joel_Robinson________\",\n            \"Dr_Clayton_Forrester_\",\n            \"TVs_Frank____________\",\n            \"Crow_T_Robot_________\",\n            \"Tom_Servo____________\",\n            \"Gypsy________________\"\n          ],\n          /* roundList : array */[\n            /* array */[\n              /* record */[\n                /* id */\"ryWXwvFGwBKQqGBbMYeps\",\n                /* whiteId */\"Crow_T_Robot_________\",\n                /* blackId */\"Grandy_McMaster______\",\n                /* whiteNewRating */1699,\n                /* blackNewRating */2600,\n                /* whiteOrigRating */1700,\n                /* blackOrigRating */2600,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"2KKVbi0AfNxfJAJobTgP5\",\n                /* whiteId */\"Gypsy________________\",\n                /* blackId */\"Joel_Robinson________\",\n                /* whiteNewRating */1650,\n                /* blackNewRating */2389,\n                /* whiteOrigRating */1600,\n                /* blackOrigRating */2400,\n                /* whiteScore */1.0,\n                /* blackScore */0.0\n              ],\n              /* record */[\n                /* id */\"zdlBHBAqgV2qabn2oBa2a\",\n                /* whiteId */\"TVs_Frank____________\",\n                /* blackId */\"Dr_Clayton_Forrester_\",\n                /* whiteNewRating */1400,\n                /* blackNewRating */2100,\n                /* whiteOrigRating */1400,\n                /* blackOrigRating */2100,\n                /* whiteScore */0.0,\n                /* blackScore */1.0\n              ],\n              /* record */[\n                /* id */\"8fGxU3tLpd8GibuSQr9-Y\",\n                /* whiteId */\"Newbie_McNewberson___\",\n                /* blackId */\"Tom_Servo____________\",\n                /* whiteNewRating */1197,\n                /* blackNewRating */1764,\n                /* whiteOrigRating */800,\n                /* blackOrigRating */1800,\n                /* whiteScore */0.5,\n                /* blackScore */0.5\n              ]\n            ],\n            /* array */[]\n          ],\n          /* tieBreaks : array */[\n            0,\n            1,\n            2,\n            3\n          ]\n        ]\n      ]\n    ]);\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Js_json from \"bs-platform/lib/es6/js_json.js\";\nimport * as Numeral from \"numeral\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\n\nfunction s(prim) {\n  return prim;\n}\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return /* array */[\n            date.getFullYear().toString(),\n            Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n            Numeral.default(date.getDay() + 1.0).format(\"00\")\n          ].join(\"-\");\n}\n\nfunction invalidAlert(param) {\n  return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n}\n\nfunction decodeWith(json, func) {\n  return Belt_Option.mapWithDefault(Belt_Option.mapWithDefault(json, undefined, Js_json.decodeObject), undefined, (function (dict) {\n                return Caml_option.some(Db$Coronate.jsDictToReMap(dict, func));\n              }));\n}\n\nfunction decodePlayer(json) {\n  return Data$Coronate.Player[/* tFromJs */1](json);\n}\n\nfunction decodeTourney(json) {\n  return Data$Coronate.Tournament[/* tFromJsonDeep */4](json);\n}\n\nfunction decodeOptions(json) {\n  var match = Js_json.decodeObject(json);\n  if (match !== undefined) {\n    var dict = Caml_option.valFromOption(match);\n    var match$1 = Belt_Option.mapWithDefault(Js_dict.get(dict, \"byeValue\"), undefined, Js_json.decodeNumber);\n    var match$2 = Belt_Option.mapWithDefault(Js_dict.get(dict, \"avoidPairs\"), undefined, Js_json.decodeArray);\n    var match$3 = Belt_Option.mapWithDefault(Js_dict.get(dict, \"lastBackup\"), undefined, Js_json.decodeString);\n    if (match$1 !== undefined && match$2 !== undefined && match$3 !== undefined) {\n      return Data$Coronate.Config[/* tFromJs */1]({\n                  byeValue: match$1,\n                  avoidPairs: match$2,\n                  lastBackup: new Date(match$3)\n                });\n    } else {\n      return undefined;\n    }\n  }\n  \n}\n\nfunction jsonToData(json) {\n  var match = Js_json.decodeObject(json);\n  if (match !== undefined) {\n    var dict = Caml_option.valFromOption(match);\n    return /* tuple */[\n            Belt_Option.mapWithDefault(Js_dict.get(dict, \"options\"), undefined, decodeOptions),\n            decodeWith(Js_dict.get(dict, \"players\"), decodePlayer),\n            decodeWith(Js_dict.get(dict, \"tournaments\"), decodeTourney)\n          ];\n  } else {\n    return /* tuple */[\n            undefined,\n            undefined,\n            undefined\n          ];\n  }\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  var match = date.getTime();\n  if (match !== 0.0) {\n    return React.createElement(Utils$Coronate.DateTimeFormat[/* make */2], {\n                date: date\n              });\n  } else {\n    return \"Never\";\n  }\n}\n\nvar LastBackupDate = /* module */[/* make */PageOptions$LastBackupDate];\n\nfunction PageOptions(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var tourneysDispatch = match[1];\n  var tournaments = match[0];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: Data$Coronate.Config[/* tToJs */0](config),\n                  players: Db$Coronate.reMapToJsDict(players, Data$Coronate.Player[/* tToJs */0]),\n                  tournaments: Db$Coronate.reMapToJsDict(tournaments, Data$Coronate.Tournament[/* tToJsDeep */2])\n                };\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var match$5 = JSON.stringify(exportData);\n  var exportDataURI = match$5 !== undefined ? \"data:application/json,\" + encodeURIComponent(match$5) : \"\";\n  React.useEffect((function () {\n          var json = (JSON.stringify(exportData, null, 4));\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          return undefined;\n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tourneys, players, config) {\n    Curry._1(tourneysDispatch, /* SetState */Block.__(2, [tourneys]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetState */Block.__(2, [players]));\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var exit = 0;\n    var rawJson;\n    try {\n      rawJson = JSON.parse(text);\n      exit = 1;\n    }\n    catch (exn){\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n    if (exit === 1) {\n      var match = jsonToData(rawJson);\n      var match$1 = match[0];\n      if (match$1 !== undefined) {\n        var match$2 = match[1];\n        if (match$2 !== undefined) {\n          var match$3 = match[2];\n          if (match$3 !== undefined) {\n            return loadData(Caml_option.valFromOption(match$3), Caml_option.valFromOption(match$2), match$1);\n          } else {\n            return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n          }\n        } else {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        }\n      } else {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n    }\n    \n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var exit = 0;\n      var rawJson;\n      try {\n        rawJson = JSON.parse(data);\n        exit = 1;\n      }\n      catch (exn){\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n      if (exit === 1) {\n        var match = jsonToData(rawJson);\n        var match$1 = match[0];\n        if (match$1 !== undefined) {\n          var match$2 = match[1];\n          if (match$2 !== undefined) {\n            var match$3 = match[2];\n            if (match$3 !== undefined) {\n              return loadData(Caml_option.valFromOption(match$3), Caml_option.valFromOption(match$2), match$1);\n            } else {\n              return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n            }\n          } else {\n            return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n          }\n        } else {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        }\n      }\n      \n    };\n    reader.onload = onload;\n    reader.readAsText(Caml_array.caml_array_get($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    return /* () */0;\n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(DemoData$Coronate.tournaments, DemoData$Coronate.players, DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(TestData$Coronate.tournaments, TestData$Coronate.players, TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  var match$6 = process.env.NODE_ENV !== \"production\";\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === 1.0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [1.0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \" \", React.createElement(\"input\", {\n                                checked: config[/* byeValue */1] === 0.5,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [0.5]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config[/* lastBackup */2]\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(/* () */0) + \".json\"),\n                            href: exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", match$6 ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  s ,\n  getDateForFile ,\n  invalidAlert ,\n  decodeWith ,\n  decodePlayer ,\n  decodeTourney ,\n  decodeOptions ,\n  jsonToData ,\n  LastBackupDate ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"./Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction s(prim) {\n  return prim;\n}\n\nvar sortName = /* KeyString */Block.__(0, [(function (x) {\n        return x[/* firstName */0];\n      })]);\n\nvar sortRating = /* KeyInt */Block.__(1, [(function (x) {\n        return x[/* rating */4];\n      })]);\n\nvar sortMatchCount = /* KeyInt */Block.__(1, [(function (x) {\n        return x[/* matchCount */3];\n      })]);\n\nfunction defaultFirstName(param) {\n  return \"\";\n}\n\nfunction defaultLastName(param) {\n  return \"\";\n}\n\nfunction defaultRating(param) {\n  return 1200;\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var match = React.useState((function () {\n          return \"\";\n        }));\n  var setFirstName = match[1];\n  var firstName = match[0];\n  var match$1 = React.useState((function () {\n          return \"\";\n        }));\n  var setLastName = match$1[1];\n  var lastName = match$1[0];\n  var match$2 = React.useState((function () {\n          return 1200;\n        }));\n  var setRating = match$2[1];\n  var rating = match$2[0];\n  var handleSubmit = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(setFirstName, defaultFirstName);\n    Curry._1(setLastName, defaultLastName);\n    Curry._1(setRating, defaultRating);\n    var id = Utils$Coronate.nanoid(/* () */0);\n    return Curry._1(dispatch, /* SetItem */Block.__(1, [\n                  id,\n                  /* record */[\n                    /* firstName */firstName,\n                    /* id */id,\n                    /* lastName */lastName,\n                    /* matchCount */0,\n                    /* rating */rating,\n                    /* type_ */\"person\"\n                  ]\n                ]));\n  };\n  var updateField = function ($$event) {\n    $$event.preventDefault();\n    var name = $$event.currentTarget.name;\n    var value = $$event.currentTarget.value;\n    switch (name) {\n      case \"firstName\" : \n          return Curry._1(setFirstName, (function (param) {\n                        return value;\n                      }));\n      case \"lastName\" : \n          return Curry._1(setLastName, (function (param) {\n                        return value;\n                      }));\n      case \"rating\" : \n          return Curry._1(setRating, (function (param) {\n                        return Caml_format.caml_int_of_string(value);\n                      }));\n      default:\n        return /* () */0;\n    }\n  };\n  return React.createElement(\"form\", {\n              onSubmit: handleSubmit\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: firstName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: lastName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: String(rating),\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          type: \"submit\",\n                          value: \"Add\"\n                        }))));\n}\n\nvar NewPlayerForm = /* module */[/* make */PagePlayers$NewPlayerForm];\n\nfunction PagePlayers$List(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  var match$1 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Name\",\n                                  sortKey: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Rating\",\n                                  sortKey: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                  children: \"Matches\",\n                                  sortKey: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, sorted[/* table */2].map((function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p[/* id */1],\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                                children: /* array */[\n                                                    p[/* firstName */0],\n                                                    p[/* lastName */2]\n                                                  ].join(\" \"),\n                                                to_: \"/players/\" + p[/* id */1]\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* rating */4])), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p[/* matchCount */3])), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var $$event$1 = $$event;\n                                                    var id = p[/* id */1];\n                                                    $$event$1.preventDefault();\n                                                    var playerOpt = Belt_MapString.get(players, id);\n                                                    if (playerOpt !== undefined) {\n                                                      var player = playerOpt;\n                                                      var message = /* array */[\n                                                          \"Are you sure you want to delete \",\n                                                          player[/* firstName */0],\n                                                          \" \",\n                                                          player[/* lastName */2],\n                                                          \"?\"\n                                                        ].join(\"\");\n                                                      if (Utils$Coronate.confirm(message)) {\n                                                        Curry._1(playersDispatch, /* DelItem */Block.__(0, [id]));\n                                                        return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                      } else {\n                                                        return 0;\n                                                      }\n                                                    } else {\n                                                      return /* () */0;\n                                                    }\n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: /* array */[\n                                                        \"Delete\",\n                                                        p[/* firstName */0],\n                                                        p[/* lastName */2]\n                                                      ].join(\" \")\n                                                  }))));\n                          })))), React.createElement(Dialog.Dialog, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nvar List = /* module */[/* make */PagePlayers$List];\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var playerId = player[/* id */1];\n  var playerName = /* array */[\n      player[/* firstName */0],\n      player[/* lastName */2]\n    ].join(\" \");\n  var match = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = config[/* avoidPairs */0].reduce(Data$Coronate.avoidPairReducer, Belt_MapString.empty);\n  var match$1 = Belt_MapString.get(avoidMap, playerId);\n  var singAvoidList = match$1 !== undefined ? match$1 : /* [] */0;\n  var unavoided = Belt_MapString.keysToArray(players).filter((function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match$2 = React.useState((function () {\n          return Belt_Array.getExn(unavoided, 0);\n        }));\n  var setSelectedAvoider = match$2[1];\n  var selectedAvoider = match$2[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [/* tuple */[\n              playerId,\n              selectedAvoider\n            ]]));\n    var match = Belt_Array.getExn(unavoided, 0) !== selectedAvoider;\n    var newSelected = match ? Belt_Array.getExn(unavoided, 0) : Belt_Array.getExn(unavoided, 1);\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return newSelected;\n                }));\n  };\n  var handleChange = function ($$event) {\n    $$event.preventDefault();\n    var target = $$event.currentTarget;\n    var firstName = target.firstName.value;\n    var lastName = target.lastName.value;\n    var matchCount = Caml_format.caml_int_of_string(target.matchCount.value);\n    var rating = Caml_format.caml_int_of_string(target.rating.value);\n    return Curry._1(playersDispatch, /* SetItem */Block.__(1, [\n                  playerId,\n                  /* record */[\n                    /* firstName */firstName,\n                    /* id */playerId,\n                    /* lastName */lastName,\n                    /* matchCount */matchCount,\n                    /* rating */rating,\n                    /* type_ */player[/* type_ */5]\n                  ]\n                ]));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                  children: null,\n                  to_: \"/players\"\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onChange: handleChange,\n                  onSubmit: handleChange\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* firstName */0],\n                          name: \"firstName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          defaultValue: player[/* lastName */2],\n                          name: \"lastName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* matchCount */3]),\n                          name: \"matchCount\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          defaultValue: String(player[/* rating */4]),\n                          name: \"rating\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: String(Scoring$Coronate.Ratings[/* getKFactor */0](player[/* matchCount */3]))\n                        }))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Utils$Coronate.listToReactArray(singAvoidList, (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: pId\n                                  }, Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* firstName */0], \" \", Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* lastName */2], React.createElement(\"button\", {\n                                        \"aria-label\": /* array */[\n                                            \"Remove\",\n                                            Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* firstName */0],\n                                            Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* lastName */2],\n                                            \"from avoid list.\"\n                                          ].join(\" \"),\n                                        className: \"danger button-ghost\",\n                                        title: /* array */[\n                                            \"Remove\",\n                                            Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* firstName */0],\n                                            Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* lastName */2],\n                                            \"from avoid list.\"\n                                          ].join(\" \"),\n                                        onClick: (function (param) {\n                                            return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [/* tuple */[\n                                                            playerId,\n                                                            pId\n                                                          ]]));\n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), React.createElement(\"select\", {\n                      id: \"avoid-select\",\n                      value: selectedAvoider,\n                      onBlur: handleAvoidBlur,\n                      onChange: handleAvoidChange\n                    }, unavoided.map((function (pId) {\n                            return React.createElement(\"option\", {\n                                        key: pId,\n                                        value: pId\n                                      }, Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* firstName */0], \" \", Data$Coronate.Player[/* getPlayerMaybeMap */6](players, pId)[/* lastName */2]);\n                          }))), \" \", React.createElement(\"input\", {\n                      className: \"button-micro\",\n                      type: \"submit\",\n                      value: \"Add\"\n                    })));\n}\n\nvar Profile = /* module */[/* make */PagePlayers$Profile];\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match[1];\n  var players = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(players)]));\n          return undefined;\n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var match$3 = id;\n    if (match$3) {\n      if (match$3[1]) {\n        tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n      } else {\n        var match$4 = Belt_MapString.get(players, match$3[0]);\n        tmp = match$4 !== undefined ? React.createElement(PagePlayers$Profile, {\n                player: match$4,\n                players: players,\n                playersDispatch: playersDispatch,\n                config: match$2[0],\n                configDispatch: configDispatch\n              }) : React.createElement(\"div\", undefined, \"Loading...\");\n      }\n    } else {\n      tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n    }\n  } else {\n    tmp = React.createElement(PagePlayers$List, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  s ,\n  sortName ,\n  sortRating ,\n  sortMatchCount ,\n  defaultFirstName ,\n  defaultLastName ,\n  defaultRating ,\n  NewPlayerForm ,\n  List ,\n  Profile ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as EdmondsBlossom from \"edmonds-blossom\";\n\nfunction priority(value, condition) {\n  if (condition) {\n    return value;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction divisiblePriority(dividend, divisor) {\n  return dividend / divisor;\n}\n\nfunction avoidMeetingTwice(param) {\n  if (param) {\n    return 32.0;\n  } else {\n    return 0.0;\n  }\n}\n\nfunction sameScores(param) {\n  return 16.0 / param;\n}\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nfunction differentHalf(isDiffHalf) {\n  if (isDiffHalf) {\n    return halfPosition;\n  } else {\n    return sameHalfPriority;\n  }\n}\n\nfunction differentDueColor(param) {\n  if (param) {\n    return 4.0;\n  } else {\n    return 0.0;\n  }\n}\n\nvar maxPriority = Utils$Coronate.arraySumFloat(/* array */[\n      halfPosition(1.0),\n      4.0,\n      16.0 / 1.0,\n      32.0\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1[/* id */0] === player2[/* id */0]) {\n    return 0.0;\n  } else {\n    var metBefore = Belt_List.has(player1[/* opponents */6], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var mustAvoid = Belt_List.has(player1[/* avoidIds */1], player2[/* id */0], (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var match = player1[/* colors */3];\n    var isDiffDueColor;\n    if (match) {\n      var match$1 = player2[/* colors */3];\n      isDiffDueColor = match$1 ? match[0] !== match$1[0] : true;\n    } else {\n      isDiffDueColor = true;\n    }\n    var scoreDiff = Utils$Coronate.absf(player1[/* score */8] - player2[/* score */8]) + 1.0;\n    var halfDiff = Pervasives.abs(player1[/* halfPos */4] - player2[/* halfPos */4] | 0) + 1 | 0;\n    var isDiffHalf = player1[/* isUpperHalf */5] !== player2[/* isUpperHalf */5] && player1[/* score */8] === player2[/* score */8];\n    return Utils$Coronate.arraySumFloat(/* array */[\n                isDiffDueColor ? 4.0 : 0.0,\n                16.0 / scoreDiff,\n                (\n                    isDiffHalf ? halfPosition : sameHalfPriority\n                  )(halfDiff),\n                !metBefore && !mustAvoid ? 32.0 : 0.0\n              ]);\n  }\n}\n\nfunction descendingScore(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* score */8];\n              }), param, param$1);\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend((function (x) {\n                return x[/* rating */7];\n              }), param, param$1);\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_MapString.valuesToArray(data);\n  return Belt_Array.reduce(dataList, Belt_MapString.empty, (function (acc, playerData) {\n                var match = Utils$Coronate.splitInHalf(Belt_SortArray.stableSortBy(dataList.filter((function (p2) {\n                                  return p2[/* score */8] === playerData[/* score */8];\n                                })), descendingRating).map((function (p) {\n                            return p[/* id */0];\n                          })));\n                var upperHalfIds = match[0];\n                var isUpperHalf = upperHalfIds.includes(playerData[/* id */0]);\n                var halfPos = isUpperHalf ? upperHalfIds.indexOf(playerData[/* id */0]) : match[1].indexOf(playerData[/* id */0]);\n                var newPlayerData_000 = /* id */playerData[/* id */0];\n                var newPlayerData_001 = /* avoidIds */playerData[/* avoidIds */1];\n                var newPlayerData_002 = /* colorScores */playerData[/* colorScores */2];\n                var newPlayerData_003 = /* colors */playerData[/* colors */3];\n                var newPlayerData_006 = /* opponents */playerData[/* opponents */6];\n                var newPlayerData_007 = /* rating */playerData[/* rating */7];\n                var newPlayerData_008 = /* score */playerData[/* score */8];\n                var newPlayerData = /* record */[\n                  newPlayerData_000,\n                  newPlayerData_001,\n                  newPlayerData_002,\n                  newPlayerData_003,\n                  /* halfPos */halfPos,\n                  /* isUpperHalf */isUpperHalf,\n                  newPlayerData_006,\n                  newPlayerData_007,\n                  newPlayerData_008\n                ];\n                return Belt_MapString.set(acc, playerData[/* id */0], newPlayerData);\n              }));\n}\n\nvar partial_arg = /* array */[\n  descendingScore,\n  descendingRating\n];\n\nfunction sortByScoreThenRating(param) {\n  return Utils$Coronate.sortWith(partial_arg, param);\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p[/* opponents */6], dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  var match = Belt_MapString.keysToArray(data).length % 2 === 0;\n  if (match) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  } else {\n    var dataList = sortByScoreThenRating(Belt_MapString.valuesToArray(data).filter(hasNotHadBye));\n    var playersWithoutByes = dataList.map((function (p) {\n            return p[/* id */0];\n          }));\n    var hasntHadBye = function (id) {\n      return playersWithoutByes.includes(id);\n    };\n    var nextByeSignups = byeQueue.filter(hasntHadBye);\n    var match$1 = Belt_Array.get(nextByeSignups, 0);\n    var dataForNextBye;\n    if (match$1 !== undefined) {\n      var match$2 = Belt_MapString.get(data, match$1);\n      dataForNextBye = match$2 !== undefined ? match$2 : Utils$Coronate.last(dataList);\n    } else {\n      var match$3 = dataList.length > 0;\n      dataForNextBye = match$3 ? Utils$Coronate.last(dataList) : Utils$Coronate.last(sortByScoreThenRating(Belt_MapString.valuesToArray(data)));\n    }\n    var dataWithoutBye = Belt_MapString.remove(data, dataForNextBye[/* id */0]);\n    return /* tuple */[\n            dataWithoutBye,\n            dataForNextBye\n          ];\n  }\n}\n\nfunction assignColorsForPair(pair) {\n  var player2 = pair[1];\n  var player1 = pair[0];\n  var match = Utils$Coronate.listSumFloat(player1[/* colorScores */2]) < Utils$Coronate.listSumFloat(player2[/* colorScores */2]);\n  if (match) {\n    return /* tuple */[\n            player2[/* id */0],\n            player1[/* id */0]\n          ];\n  } else {\n    return /* tuple */[\n            player1[/* id */0],\n            player2[/* id */0]\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0][/* score */8] + param[1][/* score */8];\n}\n\nfunction netRating(param) {\n  return param[0][/* rating */7] + param[1][/* rating */7];\n}\n\nfunction netScoreDescend(pair1, pair2) {\n  return netScore(pair2) - netScore(pair1);\n}\n\nfunction netRatingDescend(pair1, pair2) {\n  return netRating(pair2) - netRating(pair1);\n}\n\nvar partial_arg$1 = /* array */[\n  netScoreDescend,\n  netRatingDescend\n];\n\nfunction sortByNetScoreThenRating(param) {\n  return Utils$Coronate.sortWithF(partial_arg$1, param);\n}\n\nfunction pairPlayers(pairData) {\n  var playerIdArray = Belt_MapString.keysToArray(pairData);\n  var playerArray = Belt_MapString.valuesToArray(pairData);\n  var pairIdealReducer = function (accArr, player1, index) {\n    var playerMatches = playerArray.slice(index + 1 | 0, Infinity).map((function (player2) {\n            return /* tuple */[\n                    playerIdArray.indexOf(player1[/* id */0]),\n                    playerIdArray.indexOf(player2[/* id */0]),\n                    calcPairIdeal(player1, player2)\n                  ];\n          }));\n    return accArr.concat(playerMatches);\n  };\n  var blossom2Pairs = function (acc, p1Index, p2Index) {\n    var match = p1Index === -1;\n    if (match) {\n      return acc;\n    } else {\n      var p1 = Belt_MapString.getExn(pairData, Belt_Array.getExn(playerIdArray, p1Index));\n      var p2 = Belt_MapString.getExn(pairData, Belt_Array.getExn(playerIdArray, p2Index));\n      var matched = acc.map((function (param) {\n              return param[0];\n            }));\n      var match$1 = !matched.includes(p1) && !matched.includes(p2);\n      if (match$1) {\n        return acc.concat(/* array */[/* tuple */[\n                      p1,\n                      p2\n                    ]]);\n      } else {\n        return acc;\n      }\n    }\n  };\n  return sortByNetScoreThenRating(EdmondsBlossom.default(playerArray.reduce(pairIdealReducer, /* array */[])).reduce(blossom2Pairs, /* array */[])).map(assignColorsForPair);\n}\n\nexport {\n  priority ,\n  divisiblePriority ,\n  avoidMeetingTwice ,\n  sameScores ,\n  halfPosition ,\n  sameHalfPriority ,\n  differentHalf ,\n  differentDueColor ,\n  maxPriority ,\n  calcPairIdeal ,\n  descendingScore ,\n  descendingRating ,\n  setUpperHalves ,\n  sortByScoreThenRating ,\n  setByePlayer ,\n  assignColorsForPair ,\n  netScore ,\n  netRating ,\n  netScoreDescend ,\n  netRatingDescend ,\n  sortByNetScoreThenRating ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var players = match[0];\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [tourney[/* playerIds */4].concat(/* array */[id])]));\n    } else {\n      return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [tourney[/* playerIds */4].filter((function (pId) {\n                            return pId !== id;\n                          }))]));\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [Belt_MapString.keysToArray(players)]));\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* SetTourneyPlayers */Block.__(3, [/* array */[]]));\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_MapString.valuesToArray(players).map((function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p[/* id */1]\n                                      }, React.createElement(\"td\", undefined, p[/* firstName */0]), React.createElement(\"td\", undefined, p[/* lastName */2]), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + p[/* id */1]\n                                                    }, /* array */[\n                                                        \"Select\",\n                                                        p[/* firstName */0],\n                                                        p[/* lastName */2]\n                                                      ].join(\" \"))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + p[/* id */1],\n                                                checked: tourney[/* playerIds */4].includes(p[/* id */1]),\n                                                type: \"checkbox\",\n                                                value: p[/* id */1],\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm[/* make */0], {\n                  dispatch: match[1]\n                }));\n}\n\nvar Selecting = /* module */[/* make */PageTourneyPlayers$Selecting];\n\nfunction hasHadBye(matchList, playerId) {\n  return matchList.filter((function (match_) {\n                    return /* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat(/* array */[\n                              match_[/* whiteId */1],\n                              match_[/* blackId */2]\n                            ]);\n                }), /* array */[]).includes(Data$Coronate.dummy_id);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_MapString.valuesToArray(players).map((function (p) {\n                    return React.createElement(\"tr\", {\n                                key: p[/* id */1],\n                                className: Cn.make(/* :: */[\n                                      p[/* type_ */5],\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p[/* firstName */0]), React.createElement(\"td\", undefined, p[/* lastName */2]), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p[/* id */1]),\n                                        onClick: (function (param) {\n                                            return Curry._1(tourneyDispatch, /* SetByeQueue */Block.__(4, [byeQueue.concat(/* array */[p[/* id */1]])]));\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nvar PlayerList = /* module */[/* make */PageTourneyPlayers$PlayerList];\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var playerIds = tourney[/* playerIds */4];\n  var byeQueue = tourney[/* byeQueue */0];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var activePlayers = tournament[/* activePlayers */0];\n  var match = React.useState((function () {\n          return playerIds.length === 0;\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data$Coronate.rounds2Matches(tourney[/* roundList */5], undefined, /* () */0);\n  var match$1 = byeQueue.length;\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourneyDispatch: tourneyDispatch,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), match$1 !== 0 ? null : React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\"), React.createElement(\"ol\", undefined, byeQueue.map((function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: pId,\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, Belt_MapString.getExn(activePlayers, pId)[/* firstName */0] + (\" \" + (Belt_MapString.getExn(activePlayers, pId)[/* lastName */2] + \" \")), React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(tourneyDispatch, /* SetByeQueue */Block.__(4, [byeQueue.filter((function (id) {\n                                                                          return pId !== id;\n                                                                        }))]));\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Dialog.Dialog, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          tourneyDispatch: tourneyDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  hasHadBye ,\n  PlayerList ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nvar sortByName = /* KeyString */Block.__(0, [(function (x) {\n        return x[/* player */0][/* firstName */0];\n      })]);\n\nvar sortByIdeal = /* KeyFloat */Block.__(2, [(function (x) {\n        return x[/* ideal */1];\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var stagePlayersOption_000 = (p1 == null) ? undefined : Caml_option.some(p1);\n  var stagePlayersOption_001 = (p2 == null) ? undefined : Caml_option.some(p2);\n  var stagePlayersOption = /* tuple */[\n    stagePlayersOption_000,\n    stagePlayersOption_001\n  ];\n  var initialTable = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n          return /* record */[\n                  /* player */player,\n                  /* ideal */0.0\n                ];\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, true);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = /* array */[\n      p1,\n      p2\n    ].includes(null);\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var match = stagePlayersOption_000;\n    if (match !== undefined) {\n      if (stagePlayersOption_001 !== undefined) {\n        return false;\n      } else {\n        return match !== id;\n      }\n    } else {\n      var match$1 = stagePlayersOption_001;\n      if (match$1 !== undefined) {\n        return match$1 !== id;\n      } else {\n        return true;\n      }\n    }\n  };\n  React.useEffect((function (param) {\n          var calcIdealOrNot = function (player) {\n            var match = stagePlayersOption_000;\n            var selectedId;\n            if (match !== undefined) {\n              selectedId = stagePlayersOption_001 !== undefined ? undefined : match;\n            } else {\n              var match$1 = stagePlayersOption_001;\n              selectedId = match$1 !== undefined ? match$1 : undefined;\n            }\n            if (selectedId !== undefined) {\n              var match$2 = Belt_MapString.get(pairData, selectedId);\n              if (match$2 !== undefined) {\n                if (player !== undefined) {\n                  return Pairing$Coronate.calcPairIdeal(match$2, player) / Pairing$Coronate.maxPriority;\n                } else {\n                  return 0.0;\n                }\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_MapString.valuesToArray(unmatched).map((function (player) {\n                  return /* record */[\n                          /* player */player,\n                          /* ideal */calcIdealOrNot(Belt_MapString.get(pairData, player[/* id */1]))\n                        ];\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          return undefined;\n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagePlayersOption\n      ]);\n  var match$1 = Belt_MapString.keysToArray(unmatched).length === 0;\n  if (match$1) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                children: \"Name\",\n                                sortKey: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                children: \"Ideal\",\n                                sortKey: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, sorted[/* table */2].map((function (param) {\n                          var player = param[/* player */0];\n                          return React.createElement(\"tr\", {\n                                      key: player[/* id */1]\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player[/* id */1]),\n                                              onClick: (function (param) {\n                                                  var id = player[/* id */1];\n                                                  var match = stagePlayersOption_000;\n                                                  if (match !== undefined) {\n                                                    if (stagePlayersOption_001 !== undefined) {\n                                                      return /* () */0;\n                                                    } else {\n                                                      var p1 = match;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            p1,\n                                                                            id\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  } else {\n                                                    var match$1 = stagePlayersOption_001;\n                                                    if (match$1 !== undefined) {\n                                                      var p2 = match$1;\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            p2\n                                                                          ];\n                                                                  }));\n                                                    } else {\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            id,\n                                                                            null\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  }\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: /* array */[\n                                                      \"Add\",\n                                                      player[/* firstName */0],\n                                                      player[/* lastName */2]\n                                                    ].join(\" \")\n                                                }))), React.createElement(\"td\", undefined, player[/* firstName */0] + (\" \" + player[/* lastName */2])), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param[/* ideal */1]).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nvar SelectList = /* module */[/* make */PairPicker$SelectList];\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var byeValue = Props.byeValue;\n  var stagedPlayersOption_000 = Caml_option.nullable_to_opt(stagedPlayers[0]);\n  var stagedPlayersOption_001 = Caml_option.nullable_to_opt(stagedPlayers[1]);\n  var blackOpt = stagedPlayersOption_001;\n  var whiteOpt = stagedPlayersOption_000;\n  var noneAreSelected = stagedPlayersOption_000 !== undefined ? false : stagedPlayersOption_001 === undefined;\n  var twoAreSelected = stagedPlayersOption_000 !== undefined ? stagedPlayersOption_001 !== undefined : false;\n  var whiteName;\n  if (whiteOpt !== undefined) {\n    var player = whiteOpt;\n    whiteName = Curry._1(getPlayer, player)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player)[/* lastName */2]);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (blackOpt !== undefined) {\n    var player$1 = blackOpt;\n    blackName = Curry._1(getPlayer, player$1)[/* firstName */0] + (\" \" + Curry._1(getPlayer, player$1)[/* lastName */2]);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            null\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            null,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var match = stagedPlayersOption_000;\n    if (match !== undefined) {\n      var match$1 = stagedPlayersOption_001;\n      if (match$1 !== undefined) {\n        Curry._1(tourneyDispatch, /* ManualPair */Block.__(7, [\n                byeValue,\n                /* tuple */[\n                  Curry._1(getPlayer, match),\n                  Curry._1(getPlayer, match$1)\n                ],\n                roundId\n              ]));\n        return Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              null,\n                              null\n                            ];\n                    }));\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match = stagedPlayersOption_000;\n  var matchIdeal;\n  if (match !== undefined) {\n    var match$1 = stagedPlayersOption_001;\n    if (match$1 !== undefined) {\n      var match$2 = Belt_MapString.get(pairData, match);\n      var match$3 = Belt_MapString.get(pairData, match$1);\n      if (match$2 !== undefined && match$3 !== undefined) {\n        var ideal = Pairing$Coronate.calcPairIdeal(match$2, match$3);\n        matchIdeal = Numeral.default(ideal / Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", whiteOpt !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", blackOpt !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nvar Stage = /* module */[/* make */PairPicker$Stage];\n\nfunction PairPicker$PlayerInfo(Props) {\n  var playerId = Props.playerId;\n  var players = Props.players;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var avoidPairs = Props.avoidPairs;\n  var avoidMap = avoidPairs.reduce(Data$Coronate.avoidPairReducer, Belt_MapString.empty);\n  var match = Belt_MapString.get(scoreData, playerId);\n  var playerData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(playerId);\n  var colorScores = playerData[/* colorScores */0];\n  var opponentResults = playerData[/* opponentResults */4];\n  var results = playerData[/* results */7];\n  var colorBalance = Utils$Coronate.listSumFloat(colorScores);\n  var player = Curry._1(getPlayer, playerId);\n  var hasBye = Belt_MapString.keysToArray(opponentResults).includes(Data$Coronate.dummy_id);\n  var match$1 = Belt_MapString.get(avoidMap, playerId);\n  var avoidList = match$1 !== undefined ? match$1 : /* [] */0;\n  var prettyBalance = colorBalance < 0.0 ? \"White +\" + Utils$Coronate.absf(colorBalance).toString() : (\n      colorBalance > 0.0 ? \"Black +\" + colorBalance.toString() : \"Even\"\n    );\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, player[/* firstName */0] + (\" \" + player[/* lastName */2])), React.createElement(\"p\", undefined, \"Score: \", Utils$Coronate.listSumFloat(results).toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + player[/* id */1]\n                }, \"Rating: \", player[/* rating */4].toString()), React.createElement(\"p\", undefined, \"Color balance: \" + prettyBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, Belt_Array.map(Belt_MapString.toArray(opponentResults), (function (param) {\n                        var result = param[1];\n                        var opId = param[0];\n                        return React.createElement(\"li\", {\n                                    key: opId\n                                  }, /* array */[\n                                      Curry._1(getPlayer, opId)[/* firstName */0],\n                                      Curry._1(getPlayer, opId)[/* lastName */2],\n                                      \"-\",\n                                      result !== 0.0 ? (\n                                          result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                        ) : \"Lost\"\n                                    ].join(\" \"));\n                      }))), React.createElement(\"p\", undefined, \"Players to avoid:\"), React.createElement(\"ol\", undefined, Utils$Coronate.listToReactArray(avoidList, (function (pId) {\n                        var match = Belt_MapString.get(players, pId);\n                        if (match !== undefined) {\n                          return React.createElement(\"li\", {\n                                      key: pId\n                                    }, Curry._1(getPlayer, pId)[/* firstName */0] + (\" \" + Curry._1(getPlayer, pId)[/* lastName */2]));\n                        } else {\n                          return null;\n                        }\n                      }))));\n}\n\nvar PlayerInfo = /* module */[/* make */PairPicker$PlayerInfo];\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  null,\n                  null\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(/* () */0);\n  var config = match$1[0];\n  var avoidPairs = config[/* avoidPairs */0];\n  var byeValue = config[/* byeValue */1];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var activePlayers = tournament[/* activePlayers */0];\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var pairData = React.useMemo((function () {\n          return Pairing$Coronate.setUpperHalves(Data$Coronate.Converters[/* createPairingData */10](activePlayers, avoidPairs, scoreData));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function (param) {\n          if (!(p1 == null)) {\n            var match = Belt_MapString.get(unmatchedWithDummy, p1);\n            if (match === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              null,\n                              param[1]\n                            ];\n                    }));\n            }\n            \n          }\n          if (!(p2 == null)) {\n            var match$1 = Belt_MapString.get(unmatchedWithDummy, p2);\n            if (match$1 === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              null\n                            ];\n                    }));\n            }\n            \n          }\n          return undefined;\n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                width: \"720px\"\n              }\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: unmatchedCount === 0,\n                      onClick: (function (param) {\n                          return Curry._1(tourneyDispatch, /* AutoPair */Block.__(6, [\n                                        config[/* byeValue */1],\n                                        roundId,\n                                        pairData,\n                                        unmatched,\n                                        tourney\n                                      ]));\n                        })\n                    }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(PairPicker$SelectList, {\n                            pairData: pairData,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            unmatched: unmatchedWithDummy\n                          })\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: null,\n                      style: {\n                        flexGrow: \"1\"\n                      }\n                    }, React.createElement(PairPicker$Stage, {\n                          getPlayer: getPlayer,\n                          pairData: pairData,\n                          roundId: roundId,\n                          stagedPlayers: stagedPlayers,\n                          setStagedPlayers: setStagedPlayers,\n                          tourneyDispatch: tourneyDispatch,\n                          byeValue: byeValue\n                        }), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                          children: /* array */[\n                              p1,\n                              p2\n                            ].map((function (id) {\n                                  if (id == null) {\n                                    return null;\n                                  } else {\n                                    return React.createElement(Utils$Coronate.Panel[/* make */0], {\n                                                children: React.createElement(PairPicker$PlayerInfo, {\n                                                      playerId: id,\n                                                      players: players,\n                                                      getPlayer: getPlayer,\n                                                      scoreData: scoreData,\n                                                      avoidPairs: avoidPairs\n                                                    }),\n                                                key: id\n                                              });\n                                  }\n                                }))\n                        }))), React.createElement(Dialog.Dialog, {\n                  isOpen: match$2[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsModalOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsModalOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting[/* make */0], {\n                      tourney: tourney,\n                      tourneyDispatch: tourneyDispatch\n                    })));\n}\n\nvar make = PairPicker;\n\nexport {\n  sortByName ,\n  sortByIdeal ,\n  SelectList ,\n  Stage ,\n  PlayerInfo ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Js_mapperRt from \"bs-platform/lib/es6/js_mapperRt.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar winnerSelect = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Css.style(/* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Css.style(/* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Css.style(/* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nvar Style = /* module */[\n  /* winnerSelect */winnerSelect,\n  /* table */table,\n  /* td */td,\n  /* rowId */rowId,\n  /* controls */controls,\n  /* matchResult */matchResult,\n  /* playerResult */playerResult\n];\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var playerId = Props.playerId;\n  var scoreData = Props.scoreData;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var player = Curry._1(getPlayer, playerId);\n  var match = Belt_MapString.get(scoreData, playerId);\n  var match$1;\n  if (match !== undefined) {\n    var data = match;\n    match$1 = /* tuple */[\n      data[/* colorScores */0],\n      data[/* opponentResults */4],\n      data[/* results */7]\n    ];\n  } else {\n    match$1 = /* tuple */[\n      /* [] */0,\n      Belt_MapString.empty,\n      /* [] */0\n    ];\n  }\n  var opponentResults = match$1[1];\n  var colorBalance = Utils$Coronate.listSumFloat(match$1[0]);\n  var hasBye = Belt_MapString.keysToArray(opponentResults).includes(Data$Coronate.dummy_id);\n  var oppResultsEntries = Belt_MapString.toArray(opponentResults);\n  var prettyBalance = colorBalance < 0.0 ? \"White +\" + Utils$Coronate.absf(colorBalance).toString() : (\n      colorBalance > 0.0 ? \"Black +\" + colorBalance.toString() : \"Even\"\n    );\n  var fullName = player[/* firstName */0] + (\" \" + player[/* lastName */2]);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, Utils$Coronate.listSumFloat(match$1[2]).toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(\"dd\", {\n                  \"aria-label\": \"Rating for \" + fullName\n                }, origRating.toString(), \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\"), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, prettyBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, oppResultsEntries.map((function (param, i) {\n                            var result = param[1];\n                            var opId = param[0];\n                            var match = i < (oppResultsEntries.length - 1 | 0);\n                            if (match) {\n                              return React.createElement(\"li\", {\n                                          key: opId\n                                        }, /* array */[\n                                            Curry._1(getPlayer, opId)[/* firstName */0],\n                                            Curry._1(getPlayer, opId)[/* lastName */2],\n                                            \"-\",\n                                            result !== 0.0 ? (\n                                                result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                              ) : \"Lost\"\n                                          ].join(\" \"));\n                            } else {\n                              return null;\n                            }\n                          })))));\n}\n\nvar PlayerMatchInfo = /* module */[/* make */PageRound$PlayerMatchInfo];\n\nvar jsMapperConstantArray = /* array */[\n  /* tuple */[\n    -937474657,\n    \"Black\"\n  ],\n  /* tuple */[\n    -588596599,\n    \"White\"\n  ],\n  /* tuple */[\n    -432235409,\n    \"NotSet\"\n  ],\n  /* tuple */[\n    759781412,\n    \"Draw\"\n  ]\n];\n\nfunction resultCodesToJs(param) {\n  return Js_mapperRt.binarySearch(4, param, jsMapperConstantArray);\n}\n\nfunction resultCodesFromJs(param) {\n  return Js_mapperRt.revSearch(4, jsMapperConstantArray, param);\n}\n\nfunction PageRound$MatchRow(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var pos = Props.pos;\n  var match_ = Props.match;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var match$1 = Props.className;\n  var className = match$1 !== undefined ? match$1 : \"\";\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var players = tournament[/* players */4];\n  var getPlayer = tournament[/* getPlayer */1];\n  var match$2 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$2[1];\n  var resultCode = match_[/* whiteScore */7] > match_[/* blackScore */8] ? /* White */-588596599 : (\n      match_[/* blackScore */8] > match_[/* whiteScore */7] ? /* Black */-937474657 : (\n          match_[/* whiteScore */7] === 0.5 && match_[/* blackScore */8] === 0.5 ? /* Draw */759781412 : /* NotSet */-432235409\n        )\n    );\n  var whitePlayer = Curry._1(getPlayer, match_[/* whiteId */1]);\n  var blackPlayer = Curry._1(getPlayer, match_[/* blackId */2]);\n  var isDummyRound = /* array */[\n      match_[/* whiteId */1],\n      match_[/* blackId */2]\n    ].includes(Data$Coronate.dummy_id);\n  var whiteName = /* array */[\n      whitePlayer[/* firstName */0],\n      whitePlayer[/* lastName */2]\n    ].join(\" \");\n  var blackName = /* array */[\n      blackPlayer[/* firstName */0],\n      blackPlayer[/* lastName */2]\n    ].join(\" \");\n  var resultDisplay = function (color) {\n    if (resultCode !== -432235409) {\n      if (resultCode !== 759781412) {\n        var match = resultCode === color;\n        if (match) {\n          return React.createElement(ReactFeather.Award, { });\n        } else {\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Lost\"\n                    });\n        }\n      } else {\n        return React.createElement(\"span\", {\n                    \"aria-label\": \"Draw\",\n                    role: \"img\",\n                    style: {\n                      filter: \"grayscale(100%)\"\n                    }\n                  }, \"\");\n      }\n    } else {\n      return React.createElement(VisuallyHidden.default, {\n                  children: \"Not set\"\n                });\n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var match = resultCodesFromJs(jsResultCode);\n    var safeCode = match !== undefined ? match : /* NotSet */-432235409;\n    var result = safeCode >= -432235409 ? (\n        safeCode >= 759781412 ? /* tuple */[\n            0.5,\n            0.5\n          ] : /* tuple */[\n            0.0,\n            0.0\n          ]\n      ) : (\n        safeCode >= -588596599 ? /* tuple */[\n            1.0,\n            0.0\n          ] : /* tuple */[\n            0.0,\n            1.0\n          ]\n      );\n    var newBlackScore = result[1];\n    var newWhiteScore = result[0];\n    if (match_[/* whiteScore */7] !== newWhiteScore || match_[/* blackScore */8] !== newBlackScore) {\n      var white = Belt_MapString.getExn(players, match_[/* whiteId */1]);\n      var black = Belt_MapString.getExn(players, match_[/* blackId */2]);\n      var match$1 = safeCode === /* NotSet */-432235409;\n      var newRatings = match$1 ? /* tuple */[\n          match_[/* whiteOrigRating */5],\n          match_[/* blackOrigRating */6]\n        ] : Scoring$Coronate.Ratings[/* calcNewRatings */4](/* tuple */[\n              match_[/* whiteOrigRating */5],\n              match_[/* blackOrigRating */6]\n            ], /* tuple */[\n              white[/* matchCount */3],\n              black[/* matchCount */3]\n            ], /* tuple */[\n              newWhiteScore,\n              newBlackScore\n            ]);\n      Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n              white[/* id */1],\n              newRatings[0]\n            ]));\n      Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n              black[/* id */1],\n              newRatings[1]\n            ]));\n      if (match_[/* whiteScore */7] + match_[/* blackScore */8] === 0.0) {\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                white[/* id */1],\n                white[/* matchCount */3] + 1 | 0\n              ]));\n        Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                black[/* id */1],\n                black[/* matchCount */3] + 1 | 0\n              ]));\n      }\n      return Curry._1(tourneyDispatch, /* SetMatchResult */Block.__(9, [\n                    match_[/* id */0],\n                    newRatings,\n                    result,\n                    roundId\n                  ]));\n    } else {\n      return 0;\n    }\n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact) {\n    tmp = null;\n  } else {\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Dialog.Dialog, {\n            isOpen: match$2[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tournament[/* tourney */7][/* name */3]), React.createElement(\"p\", undefined, /* array */[\n                  \"Round \",\n                  (roundId + 1 | 0).toString(),\n                  \" match \",\n                  (pos + 1 | 0).toString()\n                ].join(\" \")), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          playerId: match_[/* whiteId */1],\n                          scoreData: scoreData$1,\n                          origRating: match_[/* whiteOrigRating */5],\n                          newRating: match_[/* whiteNewRating */3],\n                          getPlayer: getPlayer\n                        })\n                  }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          playerId: match_[/* blackId */2],\n                          scoreData: scoreData$1,\n                          origRating: match_[/* blackOrigRating */6],\n                          newRating: match_[/* blackNewRating */4],\n                          getPlayer: getPlayer\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, Belt_Option.mapWithDefault(selectedMatch, null, (function (x) {\n                var match = Belt_Option.mapWithDefault((x == null) ? undefined : Caml_option.some(x), true, (function (id) {\n                        return id !== match_[/* id */0];\n                      }));\n                if (match) {\n                  return React.createElement(\"button\", {\n                              className: \"button-ghost\",\n                              title: \"Edit match\",\n                              onClick: (function (param) {\n                                  return Belt_Option.mapWithDefault(setSelectedMatch, /* () */0, (function (x) {\n                                                return Curry._1(x, (function (param) {\n                                                              return match_[/* id */0];\n                                                            }));\n                                              }));\n                                })\n                            }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                                  children: /* array */[\n                                      \"Edit match for\",\n                                      whiteName,\n                                      \"versus\",\n                                      blackName\n                                    ].join(\" \")\n                                }));\n                } else {\n                  return React.createElement(\"button\", {\n                              className: \"button-ghost button-pressed\",\n                              title: \"End editing match\",\n                              onClick: (function (param) {\n                                  return Belt_Option.mapWithDefault(setSelectedMatch, /* () */0, (function (x) {\n                                                return Curry._1(x, (function (param) {\n                                                              return null;\n                                                            }));\n                                              }));\n                                })\n                            }, React.createElement(ReactFeather.CheckCircle, { }));\n                }\n              })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: /* array */[\n                      \"View information for match:\",\n                      whiteName,\n                      \"versus\",\n                      blackName\n                    ].join(\" \")\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (x) {\n                              return Belt_Option.mapWithDefault((x == null) ? undefined : Caml_option.some(x), \"\", (function (id) {\n                                            var match = match_[/* id */0] === id;\n                                            if (match) {\n                                              return \"selected\";\n                                            } else {\n                                              return \"buttons-on-hover\";\n                                            }\n                                          }));\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */-588596599)), React.createElement(\"td\", {\n                  className: \"table__player row__player \" + whitePlayer[/* type_ */5],\n                  id: \"match-\" + (String(pos) + \"-white\")\n                }, whiteName), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */-937474657)), React.createElement(\"td\", {\n                  className: \"table__player row__player \" + blackPlayer[/* type_ */5],\n                  id: \"match-\" + (String(pos) + \"-black\")\n                }, blackName), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: resultCodesToJs(resultCode),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: resultCodesToJs(/* NotSet */-432235409)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: resultCodesToJs(/* White */-588596599)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: resultCodesToJs(/* Black */-937474657)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: resultCodesToJs(/* Draw */759781412)\n                        }, \"Draw\"))), tmp);\n}\n\nvar MatchRow = /* module */[/* make */PageRound$MatchRow];\n\nfunction PageRound$RoundTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var roundId = Props.roundId;\n  var selectedMatch = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament[/* tourney */7];\n  var matchList = tourney[/* roundList */5][roundId];\n  var match$1 = matchList.length === 0;\n  return React.createElement(\"table\", {\n              className: table\n            }, match$1 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString(), \" matches\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, matchList.map((function (match_, pos) {\n                        return React.createElement(PageRound$MatchRow, {\n                                    isCompact: isCompact,\n                                    pos: pos,\n                                    match: match_,\n                                    roundId: roundId,\n                                    selectedMatch: selectedMatch,\n                                    setSelectedMatch: setSelectedMatch,\n                                    scoreData: scoreData,\n                                    tournament: tournament,\n                                    className: td,\n                                    key: match_[/* id */0]\n                                  });\n                      }))));\n}\n\nvar RoundTable = /* module */[/* make */PageRound$RoundTable];\n\nfunction findById(id, list) {\n  return list.filter((function (x) {\n                  return x[/* id */0] === id;\n                }))[0];\n}\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament[/* tourney */7];\n  var players = tournament[/* players */4];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var matchList = Belt_Array.get(tourney[/* roundList */5], roundId);\n  var match = React.useState((function () {\n          return null;\n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, matchList) {\n    var oldIndex = matchList.indexOf(findById(matchId, matchList));\n    var match = (oldIndex + direction | 0) >= 0;\n    var newIndex = match ? oldIndex + direction | 0 : 0;\n    return Curry._1(tourneyDispatch, /* MoveMatch */Block.__(12, [\n                  oldIndex,\n                  newIndex,\n                  roundId\n                ]));\n  };\n  if (matchList !== undefined) {\n    var matchList$1 = matchList;\n    var match$1 = matchList$1.length === 0;\n    return React.createElement(\"div\", {\n                className: \"content-area\"\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    var matchId = x;\n                                    var matchList$2 = matchList$1;\n                                    var match_ = findById(matchId, matchList$2);\n                                    if (match_[/* whiteScore */7] + match_[/* blackScore */8] !== 0.0) {\n                                      /* array */[\n                                          /* tuple */[\n                                            match_[/* whiteId */1],\n                                            match_[/* whiteOrigRating */5]\n                                          ],\n                                          /* tuple */[\n                                            match_[/* blackId */2],\n                                            match_[/* blackOrigRating */6]\n                                          ]\n                                        ].forEach((function (param) {\n                                              var id = param[0];\n                                              var match = Belt_MapString.get(players, id);\n                                              if (match !== undefined) {\n                                                Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                                                        id,\n                                                        match[/* matchCount */3] - 1 | 0\n                                                      ]));\n                                                return Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n                                                              id,\n                                                              param[1]\n                                                            ]));\n                                              } else {\n                                                return /* () */0;\n                                              }\n                                            }));\n                                    }\n                                    Curry._1(tourneyDispatch, /* DelMatch */Block.__(10, [\n                                            matchId,\n                                            roundId\n                                          ]));\n                                    return Curry._1(setSelectedMatch, (function (param) {\n                                                  return null;\n                                                }));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return Curry._1(tourneyDispatch, /* SwapColors */Block.__(11, [\n                                                  x,\n                                                  roundId\n                                                ]));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return moveMatch(x, -1, matchList$1);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === null,\n                        onClick: (function (param) {\n                            Belt_Option.map((selectedMatch == null) ? undefined : Caml_option.some(selectedMatch), (function (x) {\n                                    return moveMatch(x, 1, matchList$1);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), match$1 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, {\n                    roundId: roundId,\n                    selectedMatch: selectedMatch,\n                    setSelectedMatch: setSelectedMatch,\n                    tournament: tournament,\n                    scoreData: scoreData\n                  }));\n  } else {\n    return React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n  }\n}\n\nvar Round = /* module */[/* make */PageRound$Round];\n\nfunction WithRoundData(BaseComponent) {\n  var PageRound$WithRoundData = function (Props) {\n    var roundId = Props.roundId;\n    var tournament = Props.tournament;\n    var roundList = tournament[/* tourney */7][/* roundList */5];\n    var activePlayers = tournament[/* activePlayers */0];\n    var scoreData = React.useMemo((function () {\n            return Data$Coronate.Converters[/* matches2ScoreData */9](Data$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n          }), /* array */[roundList]);\n    var match = roundId === (roundList.length - 1 | 0);\n    var unmatched = match ? Data$Coronate.getUnmatched(roundList, activePlayers, roundId) : Belt_MapString.empty;\n    var unmatchedCount = Belt_MapString.keysToArray(unmatched).length;\n    var match$1 = unmatchedCount % 2 !== 0;\n    var unmatchedWithDummy = match$1 ? Belt_MapString.set(unmatched, Data$Coronate.dummy_id, Curry._1(tournament[/* getPlayer */1], Data$Coronate.dummy_id)) : unmatched;\n    var activePlayersCount = Belt_MapString.keysToArray(activePlayers).length;\n    return React.createElement(BaseComponent[/* make */0], {\n                roundId: roundId,\n                tournament: tournament,\n                activePlayersCount: activePlayersCount,\n                scoreData: scoreData,\n                unmatched: unmatched,\n                unmatchedCount: unmatchedCount,\n                unmatchedWithDummy: unmatchedWithDummy\n              });\n  };\n  return /* module */[/* make */PageRound$WithRoundData];\n}\n\nfunction PageRound$PageRoundBase(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var activePlayersCount = Props.activePlayersCount;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = unmatchedCount === activePlayersCount;\n  var initialTab = match ? 1 : 0;\n  var match$1 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$1[1];\n  React.useEffect((function (param) {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          return undefined;\n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  var match$2 = unmatchedCount !== 0;\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), /* array */[\n                        \" Unmatched players (\",\n                        unmatchedCount.toString(),\n                        \")\"\n                      ].join(\"\"))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, match$2 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar PageRoundBase = /* module */[/* make */PageRound$PageRoundBase];\n\nfunction PageRound$WithRoundData(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var roundList = tournament[/* tourney */7][/* roundList */5];\n  var activePlayers = tournament[/* activePlayers */0];\n  var scoreData = React.useMemo((function () {\n          return Data$Coronate.Converters[/* matches2ScoreData */9](Data$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n        }), /* array */[roundList]);\n  var match = roundId === (roundList.length - 1 | 0);\n  var unmatched = match ? Data$Coronate.getUnmatched(roundList, activePlayers, roundId) : Belt_MapString.empty;\n  var unmatchedCount = Belt_MapString.keysToArray(unmatched).length;\n  var match$1 = unmatchedCount % 2 !== 0;\n  var unmatchedWithDummy = match$1 ? Belt_MapString.set(unmatched, Data$Coronate.dummy_id, Curry._1(tournament[/* getPlayer */1], Data$Coronate.dummy_id)) : unmatched;\n  var activePlayersCount = Belt_MapString.keysToArray(activePlayers).length;\n  return React.createElement(PageRound$PageRoundBase, {\n              roundId: roundId,\n              tournament: tournament,\n              activePlayersCount: activePlayersCount,\n              scoreData: scoreData,\n              unmatched: unmatched,\n              unmatchedCount: unmatchedCount,\n              unmatchedWithDummy: unmatchedWithDummy\n            });\n}\n\nvar PageRound = /* module */[/* make */PageRound$WithRoundData];\n\nfunction PageRound$1(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  return React.createElement(PageRound$WithRoundData, {\n              roundId: roundId,\n              tournament: tournament\n            });\n}\n\nvar make = PageRound$1;\n\nexport {\n  Style ,\n  PlayerMatchInfo ,\n  resultCodesToJs ,\n  resultCodesFromJs ,\n  MatchRow ,\n  RoundTable ,\n  findById ,\n  Round ,\n  WithRoundData ,\n  PageRoundBase ,\n  PageRound ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\n\nfunction scoreByeMatch(byeValue, match_) {\n  if (match_[/* whiteId */1] === Data$Coronate.dummy_id) {\n    return /* record */[\n            /* id */match_[/* id */0],\n            /* whiteId */match_[/* whiteId */1],\n            /* blackId */match_[/* blackId */2],\n            /* whiteNewRating */match_[/* whiteNewRating */3],\n            /* blackNewRating */match_[/* blackNewRating */4],\n            /* whiteOrigRating */match_[/* whiteOrigRating */5],\n            /* blackOrigRating */match_[/* blackOrigRating */6],\n            /* whiteScore */0.0,\n            /* blackScore */byeValue\n          ];\n  } else if (match_[/* blackId */2] === Data$Coronate.dummy_id) {\n    return /* record */[\n            /* id */match_[/* id */0],\n            /* whiteId */match_[/* whiteId */1],\n            /* blackId */match_[/* blackId */2],\n            /* whiteNewRating */match_[/* whiteNewRating */3],\n            /* blackNewRating */match_[/* blackNewRating */4],\n            /* whiteOrigRating */match_[/* whiteOrigRating */5],\n            /* blackOrigRating */match_[/* blackOrigRating */6],\n            /* whiteScore */byeValue,\n            /* blackScore */0.0\n          ];\n  } else {\n    return match_;\n  }\n}\n\nfunction autoPair(pairData, byeValue, playerMap, tourney) {\n  var playerIds = Belt_MapString.keysToArray(playerMap);\n  var filteredData = Belt_MapString.reduce(pairData, Belt_MapString.empty, (function (acc, key, datum) {\n          if (playerIds.includes(key)) {\n            return Belt_MapString.set(acc, key, datum);\n          } else {\n            return acc;\n          }\n        }));\n  var match = Pairing$Coronate.setByePlayer(tourney[/* byeQueue */0], Data$Coronate.dummy_id, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? pairs.concat(/* array */[/* tuple */[\n            byePlayerData[/* id */0],\n            Data$Coronate.dummy_id\n          ]]) : pairs;\n  var partial_arg = Data$Coronate.Player[/* getPlayerMaybeMap */6];\n  var getPlayer = function (param) {\n    return partial_arg(playerMap, param);\n  };\n  var newMatchList = pairsWithBye.map((function (param) {\n          var blackId = param[1];\n          var whiteId = param[0];\n          return /* record */[\n                  /* id */Utils$Coronate.nanoid(/* () */0),\n                  /* whiteId */whiteId,\n                  /* blackId */blackId,\n                  /* whiteNewRating */Curry._1(getPlayer, whiteId)[/* rating */4],\n                  /* blackNewRating */Curry._1(getPlayer, blackId)[/* rating */4],\n                  /* whiteOrigRating */Curry._1(getPlayer, whiteId)[/* rating */4],\n                  /* blackOrigRating */Curry._1(getPlayer, blackId)[/* rating */4],\n                  /* whiteScore */0.0,\n                  /* blackScore */0.0\n                ];\n        }));\n  return newMatchList.map((function (param) {\n                return scoreByeMatch(byeValue, param);\n              }));\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch(byeValue, /* record */[\n              /* id */Utils$Coronate.nanoid(/* () */0),\n              /* whiteId */white[/* id */1],\n              /* blackId */black[/* id */1],\n              /* whiteNewRating */white[/* rating */4],\n              /* blackNewRating */black[/* rating */4],\n              /* whiteOrigRating */white[/* rating */4],\n              /* blackOrigRating */black[/* rating */4],\n              /* whiteScore */0.0,\n              /* blackScore */0.0\n            ]);\n}\n\nfunction tournamentReducer(state, action) {\n  if (typeof action === \"number\") {\n    if (action === 0) {\n      return /* record */[\n              /* byeQueue */state[/* byeQueue */0],\n              /* date */state[/* date */1],\n              /* id */state[/* id */2],\n              /* name */state[/* name */3],\n              /* playerIds */state[/* playerIds */4],\n              /* roundList */state[/* roundList */5].concat(/* array */[/* array */[]]),\n              /* tieBreaks */state[/* tieBreaks */6]\n            ];\n    } else {\n      return /* record */[\n              /* byeQueue */state[/* byeQueue */0],\n              /* date */state[/* date */1],\n              /* id */state[/* id */2],\n              /* name */state[/* name */3],\n              /* playerIds */state[/* playerIds */4],\n              /* roundList */state[/* roundList */5].slice(0, -1),\n              /* tieBreaks */state[/* tieBreaks */6]\n            ];\n    }\n  } else {\n    switch (action.tag | 0) {\n      case 0 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6].concat(/* array */[action[0]])\n                ];\n      case 1 : \n          var idToDel = action[0];\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6].filter((function (tbId) {\n                          return idToDel !== tbId;\n                        }))\n                ];\n      case 2 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */Utils$Coronate.move(action[0], action[1], state[/* tieBreaks */6])\n                ];\n      case 3 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */action[0],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 4 : \n          return /* record */[\n                  /* byeQueue */action[0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 5 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */action[0],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 6 : \n          var roundId = action[1];\n          var roundList = state[/* roundList */5].slice();\n          roundList[roundId] = roundList[roundId].concat(autoPair(action[2], action[0], action[3], action[4]));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 7 : \n          var roundId$1 = action[2];\n          var match = action[1];\n          var roundList$1 = state[/* roundList */5].slice();\n          roundList$1[roundId$1] = roundList$1[roundId$1].concat(/* array */[manualPair(/* tuple */[\n                      match[0],\n                      match[1]\n                    ], action[0])]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$1,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 8 : \n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */action[0],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */state[/* roundList */5],\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 9 : \n          var roundId$2 = action[3];\n          var match$1 = action[2];\n          var match$2 = action[1];\n          var matchId = action[0];\n          var roundList$2 = state[/* roundList */5].slice();\n          roundList$2[roundId$2] = roundList$2[roundId$2].slice();\n          var matchIndex = roundList$2[roundId$2].findIndex((function (match_) {\n                  return match_[/* id */0] === matchId;\n                }));\n          var match_ = Belt_Array.getExn(Belt_Array.getExn(roundList$2, roundId$2), matchIndex);\n          Belt_Array.set(Belt_Array.getExn(roundList$2, roundId$2), matchIndex, /* record */[\n                /* id */match_[/* id */0],\n                /* whiteId */match_[/* whiteId */1],\n                /* blackId */match_[/* blackId */2],\n                /* whiteNewRating */match$2[0],\n                /* blackNewRating */match$2[1],\n                /* whiteOrigRating */match_[/* whiteOrigRating */5],\n                /* blackOrigRating */match_[/* blackOrigRating */6],\n                /* whiteScore */match$1[0],\n                /* blackScore */match$1[1]\n              ]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$2,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 10 : \n          var roundId$3 = action[1];\n          var matchId$1 = action[0];\n          var roundList$3 = state[/* roundList */5].slice();\n          Belt_Array.set(roundList$3, roundId$3, Belt_Array.getExn(roundList$3, roundId$3).filter((function (match_) {\n                      return match_[/* id */0] !== matchId$1;\n                    })));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$3,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 11 : \n          var roundId$4 = action[1];\n          var matchId$2 = action[0];\n          var roundList$4 = state[/* roundList */5].slice();\n          roundList$4[roundId$4] = roundList$4[roundId$4].slice();\n          var matchIndex$1 = roundList$4[roundId$4].findIndex((function (match_) {\n                  return match_[/* id */0] === matchId$2;\n                }));\n          var oldMatch = roundList$4[roundId$4][matchIndex$1];\n          Belt_Array.set(Belt_Array.getExn(roundList$4, roundId$4), matchIndex$1, /* record */[\n                /* id */oldMatch[/* id */0],\n                /* whiteId */oldMatch[/* blackId */2],\n                /* blackId */oldMatch[/* whiteId */1],\n                /* whiteNewRating */oldMatch[/* blackNewRating */4],\n                /* blackNewRating */oldMatch[/* whiteNewRating */3],\n                /* whiteOrigRating */oldMatch[/* blackOrigRating */6],\n                /* blackOrigRating */oldMatch[/* whiteOrigRating */5],\n                /* whiteScore */oldMatch[/* blackScore */8],\n                /* blackScore */oldMatch[/* whiteScore */7]\n              ]);\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$4,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 12 : \n          var roundId$5 = action[2];\n          var roundList$5 = state[/* roundList */5].slice();\n          Belt_Array.set(roundList$5, roundId$5, Utils$Coronate.move(action[0], action[1], Belt_Array.getExn(roundList$5, roundId$5)));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$5,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 13 : \n          var newValue = action[0];\n          var roundList$6 = state[/* roundList */5].map((function (round) {\n                  return round.map((function (match_) {\n                                return scoreByeMatch(newValue, match_);\n                              }));\n                }));\n          return /* record */[\n                  /* byeQueue */state[/* byeQueue */0],\n                  /* date */state[/* date */1],\n                  /* id */state[/* id */2],\n                  /* name */state[/* name */3],\n                  /* playerIds */state[/* playerIds */4],\n                  /* roundList */roundList$6,\n                  /* tieBreaks */state[/* tieBreaks */6]\n                ];\n      case 14 : \n          return action[0];\n      \n    }\n  }\n}\n\nfunction playersReducer(state, action) {\n  switch (action.tag | 0) {\n    case 0 : \n        var player = action[0];\n        return Belt_MapString.set(state, player[/* id */1], player);\n    case 1 : \n        return Belt_MapString.remove(state, action[0]);\n    case 2 : \n        var id = action[0];\n        var player$1 = Belt_MapString.getExn(state, id);\n        return Belt_MapString.set(state, id, /* record */[\n                    /* firstName */player$1[/* firstName */0],\n                    /* id */player$1[/* id */1],\n                    /* lastName */player$1[/* lastName */2],\n                    /* matchCount */action[1],\n                    /* rating */player$1[/* rating */4],\n                    /* type_ */player$1[/* type_ */5]\n                  ]);\n    case 3 : \n        var id$1 = action[0];\n        var player$2 = Belt_MapString.getExn(state, id$1);\n        return Belt_MapString.set(state, id$1, /* record */[\n                    /* firstName */player$2[/* firstName */0],\n                    /* id */player$2[/* id */1],\n                    /* lastName */player$2[/* lastName */2],\n                    /* matchCount */player$2[/* matchCount */3],\n                    /* rating */action[1],\n                    /* type_ */player$2[/* type_ */5]\n                  ]);\n    case 4 : \n        return action[0];\n    \n  }\n}\n\nexport {\n  scoreByeMatch ,\n  autoPair ,\n  manualPair ,\n  tournamentReducer ,\n  playersReducer ,\n  \n}\n/* Data-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as TournamentDataReducers$Coronate from \"./TournamentDataReducers.bs.js\";\n\nfunction getAllPlayerIdsFromMatches(matchList) {\n  return matchList.reduce((function (acc, match_) {\n                return acc.concat(/* array */[\n                            match_[/* whiteId */1],\n                            match_[/* blackId */2]\n                          ]);\n              }), /* array */[]);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(Math.log2(playerCount));\n  var match = Number.isFinite(roundCount);\n  if (match) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_000 = /* byeQueue : array */[];\n\nvar emptyTourney_001 = /* date */new Date(0.0);\n\nvar emptyTourney_002 = /* id */Utils$Coronate.nanoid(/* () */0);\n\nvar emptyTourney_004 = /* playerIds : array */[];\n\nvar emptyTourney_005 = /* roundList : array */[];\n\nvar emptyTourney_006 = /* tieBreaks : array */[1];\n\nvar emptyTourney = /* record */[\n  emptyTourney_000,\n  emptyTourney_001,\n  emptyTourney_002,\n  /* name */\"\",\n  emptyTourney_004,\n  emptyTourney_005,\n  emptyTourney_006\n];\n\nfunction TournamentData(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var match = React.useReducer(TournamentDataReducers$Coronate.tournamentReducer, emptyTourney);\n  var tourneyDispatch = match[1];\n  var tourney = match[0];\n  var name = tourney[/* name */3];\n  var playerIds = tourney[/* playerIds */4];\n  var roundList = tourney[/* roundList */5];\n  var match$1 = React.useReducer(TournamentDataReducers$Coronate.playersReducer, Belt_MapString.empty);\n  var playersDispatch = match$1[1];\n  var players = match$1[0];\n  var match$2 = React.useState((function () {\n          return /* NothingIsLoaded */0;\n        }));\n  var setLoadStatus = match$2[1];\n  var loadStatus = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(loadStatus === /* TourneyAndPlayersAreLoaded */2 || loadStatus === /* Error */3);\n  var match$3 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = /* record */[/* contents */false];\n          Db$Coronate.tourneyStore.getItem(tourneyId).then((function (value) {\n                    if (!didCancel[0]) {\n                      if (value == null) {\n                        Curry._1(setLoadStatus, (function (param) {\n                                return /* Error */3;\n                              }));\n                      } else {\n                        Curry._1(tourneyDispatch, /* SetTournament */Block.__(14, [Data$Coronate.Tournament[/* tFromJsDeep */3](value)]));\n                        Curry._1(setLoadStatus, (function (param) {\n                                return /* TourneyIsLoaded */1;\n                              }));\n                      }\n                    }\n                    return Promise.resolve(/* () */0);\n                  })).catch((function (error) {\n                  console.log(\"Error loading tournament\", error);\n                  return Promise.resolve(/* () */0);\n                }));\n          return (function (param) {\n                    didCancel[0] = true;\n                    return /* () */0;\n                  });\n        }), /* tuple */[\n        tourneyId,\n        tourneyDispatch\n      ]);\n  React.useEffect((function (param) {\n          var didCancel = /* record */[/* contents */false];\n          if (loadStatus !== /* NothingIsLoaded */0) {\n            var allTheIds = getAllPlayerIdsFromMatches(Data$Coronate.rounds2Matches(roundList, undefined, /* () */0)).concat(playerIds);\n            var match = allTheIds.length;\n            if (match !== 0) {\n              Db$Coronate.playerStore.getItems(allTheIds).then((function (values) {\n                        var newIds = Object.keys(values);\n                        var oldIds = Belt_MapString.keysToArray(players);\n                        var changedPlayers = newIds.filter((function (x) {\n                                  return !oldIds.includes(x);\n                                })).concat(oldIds.filter((function (x) {\n                                    return !newIds.includes(x);\n                                  })));\n                        if (changedPlayers.length !== 0 && !didCancel[0]) {\n                          Curry._1(playersDispatch, /* SetPlayers */Block.__(4, [Db$Coronate.jsDictToReMap(values, Data$Coronate.Player[/* tFromJs */1])]));\n                          Curry._1(setLoadStatus, (function (param) {\n                                  return /* TourneyAndPlayersAreLoaded */2;\n                                }));\n                        }\n                        return Promise.resolve(values);\n                      })).catch((function (error) {\n                      console.log(\"Error loading players\", error);\n                      return Promise.resolve({ });\n                    }));\n            } else {\n              if (Belt_MapString.keysToArray(players).length !== 0) {\n                Curry._1(playersDispatch, /* SetPlayers */Block.__(4, [players]));\n              }\n              Curry._1(setLoadStatus, (function (param) {\n                      return /* TourneyAndPlayersAreLoaded */2;\n                    }));\n            }\n          }\n          return (function (param) {\n                    didCancel[0] = false;\n                    return /* () */0;\n                  });\n        }), /* tuple */[\n        roundList,\n        players,\n        playerIds,\n        loadStatus\n      ]);\n  React.useEffect((function (param) {\n          if (loadStatus !== /* NothingIsLoaded */0 && tourneyId === tourney[/* id */2]) {\n            Db$Coronate.tourneyStore.setItem(tourneyId, Data$Coronate.Tournament[/* tToJsDeep */2](tourney));\n          }\n          return undefined;\n        }), /* tuple */[\n        loadStatus,\n        tourneyId,\n        tourney\n      ]);\n  React.useEffect((function () {\n          if (loadStatus === /* TourneyAndPlayersAreLoaded */2) {\n            Db$Coronate.playerStore.setItems(Db$Coronate.reMapToJsDict(players, Data$Coronate.Player[/* tToJs */0]));\n          }\n          return undefined;\n        }), /* tuple */[\n        loadStatus,\n        players\n      ]);\n  var partial_arg = Data$Coronate.Player[/* getPlayerMaybeMap */6];\n  var getPlayer = function (param) {\n    return partial_arg(players, param);\n  };\n  var activePlayers = Belt_MapString.reduce(players, Belt_MapString.empty, (function (acc, key, player) {\n          if (tourney[/* playerIds */4].includes(key)) {\n            return Belt_MapString.set(acc, key, player);\n          } else {\n            return acc;\n          }\n        }));\n  var roundCount = calcNumOfRounds(Belt_MapString.size(activePlayers));\n  var isItOver = roundList.length >= roundCount;\n  var match$4 = roundList.length === 0;\n  var isNewRoundReady = match$4 ? true : Data$Coronate.isRoundComplete(roundList, activePlayers, roundList.length - 1 | 0);\n  if (loadStatus !== 2) {\n    if (loadStatus >= 3) {\n      debugger;\n      return React.createElement(Window$Coronate.Body[/* make */0], {\n                  children: \"Error: tournament couldn't be loaded.\"\n                });\n    } else {\n      return React.createElement(Window$Coronate.Body[/* make */0], {\n                  children: \"Loading...\"\n                });\n    }\n  } else {\n    return Curry._1(children, /* record */[\n                /* activePlayers */activePlayers,\n                /* getPlayer */getPlayer,\n                /* isItOver */isItOver,\n                /* isNewRoundReady */isNewRoundReady,\n                /* players */players,\n                /* playersDispatch */playersDispatch,\n                /* roundCount */roundCount,\n                /* tourney */tourney,\n                /* tourneyDispatch */tourneyDispatch\n              ]);\n  }\n}\n\nvar LocalForage = 0;\n\nvar make = TournamentData;\n\nexport {\n  LocalForage ,\n  getAllPlayerIdsFromMatches ,\n  calcNumOfRounds ,\n  emptyTourney ,\n  make ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var match = rawMonth < 9.0;\n  var month = match ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var match$1 = rawDate < 10.0;\n  var day = match$1 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return /* array */[\n            year,\n            month,\n            day\n          ].join(\"-\");\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Caml_option.nullable_to_opt(myref.current), (function (x) {\n            x.focus();\n            return /* () */0;\n          }));\n    return /* () */0;\n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case 0 : \n                focusRef(nameInput);\n                break;\n            case 1 : \n                focusRef(dateInput);\n                break;\n            case 2 : \n                break;\n            \n          }\n          return undefined;\n        }), /* array */[editing]);\n  var changeToOne = function (param) {\n    Curry._1(tourneyDispatch, /* UpdateByeScores */Block.__(13, [1.0]));\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(tourneyDispatch, /* UpdateByeScores */Block.__(13, [0.5]));\n    return Utils$Coronate.alert(\"Bye scores updated to .\");\n  };\n  var updateDate = function ($$event) {\n    var match = $$event.currentTarget.value.split(\"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(tourneyDispatch, /* SetDate */Block.__(8, [new Date(year$1, month$1, date)]));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, tourney[/* name */3]), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: tourney[/* name */3],\n                        onChange: (function ($$event) {\n                            return Curry._1(tourneyDispatch, /* SetName */Block.__(5, [$$event.currentTarget.value]));\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat[/* make */2], {\n                        date: tourney[/* date */1]\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(tourney[/* date */1]),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n                scored in this tournament. To change the default bye value in\\n                future matches, go to the \", React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                      children: \"app options\",\n                      to_: \"/options\"\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  makeDateInput ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar table = Css.style(/* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Css.style(/* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Css.style(/* [] */0);\n\nvar row = Css.style(/* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* white_100 */71]),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors[/* grey_20 */50]),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Css.style(/* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Css.style(/* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors[/* grey_40 */52]),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors[/* white_100 */71]),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Css.style(/* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Css.style(/* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors[/* grey_90 */57]),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Css.style(/* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar Style = /* module */[\n  /* table */table,\n  /* topHeader */topHeader,\n  /* compact */compact,\n  /* row */row,\n  /* rowTd */rowTd,\n  /* rowTh */rowTh,\n  /* playerName */playerName,\n  /* rank */rank,\n  /* number */number\n];\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var match = Props.isCompact;\n  var isCompact = match !== undefined ? match : false;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var tieBreaks = tourney[/* tieBreaks */6];\n  var roundList = tourney[/* roundList */5];\n  var tieBreakNames = Scoring$Coronate.getTieBreakNames(tieBreaks);\n  var standingTree = Scoring$Coronate.createStandingTree(Scoring$Coronate.createStandingList(tieBreaks, Data$Coronate.Converters[/* matches2ScoreData */9](Data$Coronate.rounds2Matches(roundList, undefined, /* () */0))).filter((function (standing) {\n              return standing[/* id */0] !== Data$Coronate.dummy_id;\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : tieBreakNames.map((function (name, i) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, standingTree.map((function (standingsFlat, rank$1) {\n                        return standingsFlat.map((function (standing, i) {\n                                      var match = i === 0;\n                                      return React.createElement(\"tr\", {\n                                                  key: standing[/* id */0],\n                                                  className: row\n                                                }, match ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: standingsFlat.length,\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing[/* score */1]).format(\"1/2\")), isCompact ? null : standing[/* tieBreaks */2].map((function (score, j) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: String(j),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(score).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = /* module */[/* make */PageTourneyScores$ScoreTable];\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var tourneyDispatch = Props.tourneyDispatch;\n  var tieBreaks = tourney[/* tieBreaks */6];\n  var match = React.useState((function () {\n          return undefined;\n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return 1;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(tourneyDispatch, /* DelTieBreak */Block.__(1, [defaultId(id)]));\n      return Curry._1(setSelectedTb, (function (param) {\n                    return undefined;\n                  }));\n    } else {\n      return Curry._1(tourneyDispatch, /* AddTieBreak */Block.__(0, [defaultId(id)]));\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb !== undefined) {\n      var index = tieBreaks.indexOf(selectedTb);\n      return Curry._1(tourneyDispatch, /* MoveTieBreak */Block.__(2, [\n                    index,\n                    index + direction | 0\n                  ]));\n    } else {\n      return /* () */0;\n    }\n  };\n  return React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            return undefined;\n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, tieBreaks.map((function (id) {\n                                var tmp;\n                                if (selectedTb !== undefined) {\n                                  var match = selectedTb === id;\n                                  tmp = match ? \"Done\" : \"Edit\";\n                                } else {\n                                  tmp = \"Edit\";\n                                }\n                                return React.createElement(\"tr\", {\n                                            key: String(id),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === id),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Belt_Array.getExn(Scoring$Coronate.tieBreakMethods, id)[/* name */2]), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== id,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          var match = selectedTb === id;\n                                                          if (match) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return undefined;\n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return id;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return id;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, tmp)));\n                              }))))), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities[/* nbsp */0]), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Scoring$Coronate.tieBreakMethods.map((function (m) {\n                                var match = tieBreaks.includes(m[/* id */1]);\n                                var match$1 = tieBreaks.includes(m[/* id */1]);\n                                return React.createElement(\"tr\", {\n                                            key: String(m[/* id */1])\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: match ? \"disabled\" : \"enabled\"\n                                                  }, m[/* name */2])), React.createElement(\"td\", undefined, match$1 ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(m[/* id */1]);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nvar SelectTieBreaks = /* module */[/* make */PageTourneyScores$SelectTieBreaks];\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            tourneyDispatch: tourneyDispatch\n                          })\n                    })));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var getPlayer = tournament[/* getPlayer */1];\n  var scoreData = Data$Coronate.Converters[/* matches2ScoreData */9](Data$Coronate.rounds2Matches(tourney[/* roundList */5], undefined, /* () */0));\n  var standings = Scoring$Coronate.createStandingList(tourney[/* tieBreaks */6], scoreData);\n  var getXScore = function (player1Id, player2Id) {\n    if (player1Id === player2Id) {\n      return React.createElement(ReactFeather.X, {\n                  className: \"disabled\"\n                });\n    } else {\n      var match = Belt_MapString.get(scoreData, player1Id);\n      if (match !== undefined) {\n        var match$1 = Belt_MapString.get(match[/* opponentResults */4], player2Id);\n        if (match$1 !== undefined) {\n          return Numeral.default(match$1).format(\"1/2\");\n        } else {\n          return null;\n        }\n      } else {\n        return null;\n      }\n    }\n  };\n  var getRatingChangeTds = function (playerId) {\n    var firstRating = Belt_MapString.getExn(scoreData, playerId)[/* firstRating */6];\n    var match = Belt_MapString.getExn(scoreData, playerId)[/* ratings */5];\n    var lastRating = match ? match[0] : firstRating;\n    var change = Numeral.default(lastRating - firstRating).format(\"+0\");\n    return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                    className: Cn.make(/* :: */[\n                          rowTd,\n                          /* :: */[\n                            \"table__number\",\n                            /* [] */0\n                          ]\n                        ])\n                  }, lastRating.toString()), React.createElement(\"td\", {\n                    className: Cn.make(/* :: */[\n                          rowTd,\n                          /* :: */[\n                            \"table__number body-10\",\n                            /* [] */0\n                          ]\n                        ])\n                  }, change));\n  };\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), standings.map((function (param, rank) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, standings.map((function (standing, index) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing[/* id */0])[/* firstName */0], Utils$Coronate.Entities[/* nbsp */0], Curry._1(getPlayer, standing[/* id */0])[/* lastName */2]), standings.map((function (opponent, index2) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(standing[/* id */0], opponent[/* id */0]));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing[/* score */1]).format(\"1/2\")), getRatingChangeTds(standing[/* id */0]));\n                      }))));\n}\n\nvar Crosstable = /* module */[/* make */PageTourneyScores$Crosstable];\n\nvar make = PageTourneyScores;\n\nexport {\n  Style ,\n  ScoreTable ,\n  SelectTieBreaks ,\n  make ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament[/* tourney */7];\n  var lastRound;\n  if (tourney[/* roundList */5].length === 0) {\n    lastRound = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  } else {\n    var lastRoundId = tourney[/* roundList */5].length - 1 | 0;\n    lastRound = tourney[/* roundList */5][lastRoundId].length === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable[/* make */0], {\n            isCompact: true,\n            roundId: lastRoundId,\n            tournament: tournament\n          });\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer[/* make */0], {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: lastRound\n                    }), React.createElement(Utils$Coronate.Panel[/* make */0], {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable[/* make */0], {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament[/* getPlayer */1],\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Data$Coronate from \"../Data.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as TournamentData$Coronate from \"./TournamentData.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var roundList = tournament[/* tourney */7][/* roundList */5];\n  var match = tournament[/* isNewRoundReady */3] ? (\n      tournament[/* isItOver */2] ? /* tuple */[\n          Utils$Coronate.Entities[/* nbsp */0] + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities[/* nbsp */0] + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities[/* nbsp */0] + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", String(roundList.length), React.createElement(\"small\", undefined, \" out of \"), String(tournament[/* roundCount */6])), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification[/* make */1], {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }));\n}\n\nvar Footer = /* module */[/* make */PageTourney$Footer];\n\nfunction footerFunc(tournament, param) {\n  return React.createElement(PageTourney$Footer, {\n              tournament: tournament\n            });\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourneyDispatch = tournament[/* tourneyDispatch */8];\n  var tourney = tournament[/* tourney */7];\n  var playersDispatch = tournament[/* playersDispatch */5];\n  var isItOver = tournament[/* isItOver */2];\n  var getPlayer = tournament[/* getPlayer */1];\n  var activePlayers = tournament[/* activePlayers */0];\n  var roundList = tourney[/* roundList */5];\n  var basePath = \"/tourneys/\" + tourney[/* id */2];\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    if (isItOver && !Utils$Coronate.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\")) {\n      return 0;\n    } else {\n      return Curry._1(tourneyDispatch, /* AddRound */0);\n    }\n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (Utils$Coronate.confirm(\"Are you sure you want to delete the last round?\")) {\n      ReasonReactRouter.push(\"#/tourneys/\" + tourney[/* id */2]);\n      Utils$Coronate.last(roundList).forEach((function (match_) {\n              var whiteScore = match_[/* whiteScore */7];\n              var blackScore = match_[/* blackScore */8];\n              var whiteId = match_[/* whiteId */1];\n              var blackId = match_[/* blackId */2];\n              var whiteOrigRating = match_[/* whiteOrigRating */5];\n              var blackOrigRating = match_[/* blackOrigRating */6];\n              if (whiteScore + blackScore !== 0.0) {\n                /* array */[\n                    /* tuple */[\n                      whiteId,\n                      whiteOrigRating\n                    ],\n                    /* tuple */[\n                      blackId,\n                      blackOrigRating\n                    ]\n                  ].forEach((function (param) {\n                        var id = param[0];\n                        if (id !== Data$Coronate.dummy_id) {\n                          var matchCount = Curry._1(getPlayer, id)[/* matchCount */3];\n                          Curry._1(playersDispatch, /* SetMatchCount */Block.__(2, [\n                                  id,\n                                  matchCount - 1 | 0\n                                ]));\n                          return Curry._1(playersDispatch, /* SetRating */Block.__(3, [\n                                        id,\n                                        param[1]\n                                      ]));\n                        } else {\n                          return 0;\n                        }\n                      }));\n                return /* () */0;\n              } else {\n                return 0;\n              }\n            }));\n      Curry._1(tourneyDispatch, /* DelLastRound */1);\n      if (roundList.length === 1) {\n        return Curry._1(tourneyDispatch, /* AddRound */0);\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: \"/tourneys\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/setup\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/status\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/crosstable\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                              children: null,\n                              to_: basePath + \"/scores\",\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, roundList.map((function (param, id) {\n                            var match = Data$Coronate.isRoundComplete(roundList, activePlayers, id);\n                            return React.createElement(\"li\", {\n                                        key: String(id)\n                                      }, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                            children: null,\n                                            to_: basePath + (\"/round/\" + String(id)),\n                                            onDragStart: noDraggy\n                                          }, String(id + 1 | 0), match ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament[/* isNewRoundReady */3],\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: roundList.length === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nvar Sidebar = /* module */[/* make */PageTourney$Sidebar];\n\nfunction sidebarFunc(tournament, param) {\n  return React.createElement(PageTourney$Sidebar, {\n              tournament: tournament\n            });\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var hashPath = Props.hashPath;\n  return React.createElement(TournamentData$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  var exit = 0;\n                  if (hashPath) {\n                    switch (hashPath[0]) {\n                      case \"\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"crosstable\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.Crosstable[/* make */0], {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"round\" : \n                          var match = hashPath[1];\n                          if (match && !match[1]) {\n                            tmp = React.createElement(PageRound$Coronate.make, {\n                                  roundId: Caml_format.caml_int_of_string(match[0]),\n                                  tournament: tournament\n                                });\n                          } else {\n                            exit = 1;\n                          }\n                          break;\n                      case \"scores\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"setup\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      case \"status\" : \n                          if (hashPath[1]) {\n                            exit = 1;\n                          } else {\n                            tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                  tournament: tournament\n                                });\n                          }\n                          break;\n                      default:\n                        exit = 1;\n                    }\n                  } else {\n                    exit = 1;\n                  }\n                  if (exit === 1) {\n                    tmp = React.createElement(Pages$Coronate.NotFound[/* make */0], { });\n                  }\n                  return React.createElement(Window$Coronate.Body[/* make */0], {\n                              children: tmp,\n                              footerFunc: (function (param) {\n                                  return footerFunc(tournament, param);\n                                }),\n                              sidebarFunc: (function (param) {\n                                  return sidebarFunc(tournament, param);\n                                })\n                            });\n                }),\n              tourneyId: tourneyId\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  Footer ,\n  footerFunc ,\n  noDraggy ,\n  Sidebar ,\n  sidebarFunc ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Dialog from \"@reach/dialog\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_MapString from \"bs-platform/lib/es6/belt_MapString.js\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction s(prim) {\n  return prim;\n}\n\nvar dateSort = /* KeyDate */Block.__(3, [(function (x) {\n        return x[/* date */1];\n      })]);\n\nvar nameSort = /* KeyString */Block.__(0, [(function (x) {\n        return x[/* name */3];\n      })]);\n\nfunction PageTournamentList(Props) {\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var dispatch = match[1];\n  var tourneys = match[0];\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_MapString.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  var match$4 = Window$Coronate.useWindowContext(/* () */0);\n  var windowDispatch = match$4[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* array */[windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_MapString.valuesToArray(tourneys)]));\n          return undefined;\n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    Curry._1(setNewTourneyName, $$event.currentTarget.value);\n    return /* () */0;\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var newId = Utils$Coronate.nanoid(/* () */0);\n    var newTourney_000 = /* byeQueue : array */[];\n    var newTourney_001 = /* date */new Date();\n    var newTourney_004 = /* playerIds : array */[];\n    var newTourney_005 = /* roundList : array */[];\n    var newTourney_006 = /* tieBreaks : array */[\n      0,\n      1,\n      2\n    ];\n    var newTourney = /* record */[\n      newTourney_000,\n      newTourney_001,\n      /* id */newId,\n      /* name */newTourneyName,\n      newTourney_004,\n      newTourney_005,\n      newTourney_006\n    ];\n    Curry._1(dispatch, /* SetItem */Block.__(1, [\n            newId,\n            newTourney\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    Curry._1(setIsDialogOpen, (function (param) {\n            return false;\n          }));\n    return /* () */0;\n  };\n  var match$5 = Belt_MapString.isEmpty(tourneys);\n  return React.createElement(Window$Coronate.Body[/* make */0], {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), match$5 ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                          children: \"Name\",\n                                          sortKey: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton[/* make */0], {\n                                          children: \"Date\",\n                                          sortKey: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, sorted[/* table */2].map((function (t) {\n                                    return React.createElement(\"tr\", {\n                                                key: t[/* id */2],\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.Router[/* HashLink */1][/* make */0], {\n                                                        children: t[/* name */3],\n                                                        to_: \"/tourneys/\" + t[/* id */2]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat[/* make */2], {\n                                                        date: t[/* date */1]\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + t[/* name */3],\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + t[/* name */3],\n                                                        onClick: (function (param) {\n                                                            var id = t[/* id */2];\n                                                            var name = t[/* name */3];\n                                                            var message = \"Are you sure you want to delete \" + (String(name) + \"?\");\n                                                            if (Utils$Coronate.confirm(message)) {\n                                                              Curry._1(dispatch, /* DelItem */Block.__(0, [id]));\n                                                            }\n                                                            return /* () */0;\n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Dialog.Dialog, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  s ,\n  dateSort ,\n  nameSort ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nfunction App(Props) {\n  var url = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var match = Utils$Coronate.Router[/* hashPath */0](url[/* hash */1]);\n  var tmp;\n  var exit = 0;\n  if (match && match[0] === \"\") {\n    var match$1 = match[1];\n    if (match$1) {\n      switch (match$1[0]) {\n        case \"\" : \n            if (match$1[1]) {\n              exit = 1;\n            } else {\n              tmp = React.createElement(Pages$Coronate.Splash[/* make */1], { });\n            }\n            break;\n        case \"options\" : \n            if (match$1[1]) {\n              exit = 1;\n            } else {\n              tmp = React.createElement(PageOptions$Coronate.make, { });\n            }\n            break;\n        case \"players\" : \n            var id = match$1[1];\n            tmp = id ? React.createElement(PagePlayers$Coronate.make, {\n                    id: id\n                  }) : React.createElement(PagePlayers$Coronate.make, { });\n            break;\n        case \"tourneys\" : \n            var match$2 = match$1[1];\n            if (match$2) {\n              var hashPath = match$2[1];\n              var tourneyId = match$2[0];\n              tmp = hashPath ? React.createElement(PageTourney$Coronate.make, {\n                      tourneyId: tourneyId,\n                      hashPath: hashPath\n                    }) : React.createElement(PageTourney$Coronate.make, {\n                      tourneyId: tourneyId,\n                      hashPath: /* :: */[\n                        \"\",\n                        /* [] */0\n                      ]\n                    });\n            } else {\n              tmp = React.createElement(PageTournamentList$Coronate.make, { });\n            }\n            break;\n        default:\n          exit = 1;\n      }\n    } else {\n      tmp = React.createElement(Pages$Coronate.Splash[/* make */1], { });\n    }\n  } else {\n    exit = 1;\n  }\n  if (exit === 1) {\n    tmp = React.createElement(Window$Coronate.Body[/* make */0], {\n          children: React.createElement(Pages$Coronate.NotFound[/* make */0], { })\n        });\n  }\n  return React.createElement(Window$Coronate.make, {\n              children: React.createElement(\"main\", {\n                    className: \"app__main\"\n                  }, tmp),\n              className: \"app\"\n            });\n}\n\nvar make = App;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as App$Coronate from \"./App.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\n\n((require(\"./styles\")));\n\nReactDOMRe.renderToElementWithId(React.createElement(App$Coronate.make, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  return /* () */0;\n}\n\nvar ServiceWorker$1 = /* module */[/* unregister */unregister];\n\nServiceWorker.unregister();\n\nexport {\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}