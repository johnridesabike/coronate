{"version":3,"sources":["index.js","assets/icon-min.svg","assets/caution.svg","Utils.bs.js","Data/Data_Id.bs.js","Data/Data_Player.bs.js","Data/Data_Match.bs.js","Scoring.bs.js","Data/Data_Config.bs.js","Hooks.bs.js","Data/Data_Rounds.bs.js","DemoData.bs.js","Data/Data_Tournament.bs.js","Db.bs.js","Icons.bs.js","Router.bs.js","Electron.bs.js","Externals.bs.js","Window.bs.js","Pages.bs.js","serviceWorker.js","TestData.bs.js","PageOptions.bs.js","PagePlayers.bs.js","Pairing.bs.js","Data/Data_Converters.bs.js","PageTournament/PageTourneyPlayers.bs.js","PageTournament/PairPicker.bs.js","PageTournament/LoadTournament.bs.js","PageTournament/PageRound.bs.js","PageTournament/PageTourneySetup.bs.js","PageTournament/PageTourneyScores.bs.js","PageTournament/PageTournamentStatus.bs.js","PageTournament/PageTourney.bs.js","PageTournamentList.bs.js","Index.bs.js"],"names":["require","module","exports","ascend","cmp","getter","a","b","Curry","descend","$$Array","last","arr","Caml_array","length","sum","__x","Belt_Array","prim","prim$1","sumF","swap","idx1","idx2","match","match$1","undefined","Caml_option","List","list","Belt_List","toReactArrayReverse","fn","result","item","unshift","toReactArrayReverseWithIndex","i","push","toReactArray","toReactArrayWithIndex","alert","window","WebpackAssets","logo","caution","Entities","formatter","Intl_DateTimeFormat","DateFormat","Props","date","React","dateTime","toISOString","formatter$1","DateTimeFormat","panels","Css","panel","Panel","children","classNameOpt","className","styleOpt","style","Cn","PanelContainer","green_50","green_90","yellow_50","yellow_90","red_60","white_100","PhotonColors","container","text","icon","success","warning","error","TestId","testId","Numeral","make","value","_format","_roundingFunction","whole","Math","floor","remainder","fraction","toString","Number","github_url","license_url","$$String","concat","l","sep","_acc","_l","l$1","acc","l$2","s","toLowerCase","includes","substr","split","on","$$Notification","kindOpt","kind","tooltipOpt","tooltip","ReactFeather","title","random","Nanoid","encode","compare","Caml_primitive","Id","Belt_Id","$$Map","param","Belt_Map","fromStringArray","toStringArray","decode","Json_decode","data","fromString","str","Type","decode$1","json","firstName","id","Data_Id$Coronate","lastName","matchCount","rating","type_","encode$1","Json_encode","dummy_id","isDummyId","playerId","dummyPlayer","getPlayerMaybe","playerMap","makeMissingPlayer","score","Result","toFloat","color","whiteId","blackId","whiteNewRating","blackNewRating","whiteOrigRating","blackOrigRating","byeResultForPlayerColor","byeValue","scoreByeMatch","match_","Data_Player$Coronate","manualPair","black","white","Color","opposite","toScore","createBlankScoreData","firstRatingOpt","firstRating","colorScores","colors","isDummy","opponentResults","ratings","results","resultsNoByes","isNotDummy","scores","oppId","getPlayerScore","Utils$Coronate","getOpponentScores","getMedianScore","Belt_Option","getSolkoffScore","runningReducer","getCumulativeScore","getCumulativeOfOpponentScore","key","getColorBalanceScore","mapTieBreak","createStandingList","methods","funcList","tbType","partial_arg","tieBreaks","param$1","x","_tieBreaks","tieBreaks$1","rest","getTieBreak","tieBreak","x$1","createStandingTree","standingList","standing","lastRank","pastRanks","standing1","standing2","comparisons","areScoresEqual","getExpected","pow","updateRating","expected","actual","current","round","getKFactor","ne","Caml_int32","keepAboveFloor","TieBreak","toPrettyString","Ratings","EloRank","calcNewRatings","whiteRating","blackRating","whiteMatchCount","blackMatchCount","whiteElo","blackElo","whiteExpected","blackExpected","whiteResult","Data_Match$Coronate","blackResult","fromFloat","T","d","c","w","y","z","empty","Belt_Set","toMapReducer","id2","id1","newList1","newList2","decode$2","avoidPairs","lastBackup","encode$2","$$default","Date","AvoidPairs","fromArray","toMap","sortedTableReducer","state","action","newState","tag","isDescending","column","table","sortFunc","direction","func","func$1","getTime","Belt_SortArray","useSortedTable","initialState","dispatch","SortButton","sortColumn","chevronStyle","opacity","width","onClick","Block","VisuallyHidden","useLoadingCursorUntil","isLoaded","document","body","cursor","useScoreInfo","player","scoreData","getPlayer","players","origRating","newRating","Scoring$Coronate","hasBye","colorBalance","abs","avoidMap","Data_Config$Coronate","match$2","avoidList","opponentResults$1","opId","avoidListHtml","pId","format","getMatched","getMatchById","setMatch","wasSuccessful","Round","size","addMatches","removeMatchById","moveMatch","matchId","oldIndex","indexOf","newIndex","empty$1","size$1","getLastKey","rounds","set","setMatch$1","rounds2Matches","roundList","lastRound","isRoundComplete","roundId","matched","unmatched","addRound","delLastRound","slice","updateByeScores","get","config","tournaments","name","playerIds","byeQueue","Data_Rounds$Coronate","prim$2","prim$3","prim$4","prim$5","prim$6","tmp","storeName","description","driver","version","configDb","Record$LocalForage","Map$LocalForage","Data_Tournament$Coronate","genericDbReducer","useAllDb","store","items","setLoaded","loaded","Hooks$Coronate","didCancel","contents","$$Promise","toResult","fromBsPromise","console","Localforage","keys","stateKeys","deleted","filter","useAllPlayers","useAllTournaments","configReducer","p2","p1","useConfig","setIsLoaded","values","IconData","Reason","Icons$SimpleIcon","heightOpt","height","widthOpt","ariaLabelOpt","ariaLabel","ariaHiddenOpt","ariaHidden","role","ReactDOMRe","combine","fill","hex","viewBox","path","displayName","Reason$1","IconData$1","React$1","Icons$SimpleIcon$1","React$2","Close","xmlns","Maximize","Minimize","Restore","toString$1","subPage","String","useHashUrl","ReasonReactRouter","hash","match$3","match$4","Belt_Int","fromPath","HashLink","to_","onDragStart","href","isCurrent","electron","ifElectron","remote","getCurrentWindow","openInBrowser","$$event","preventDefault","shell","openExternal","target","macOSDoubleClick","doubleClickAction","systemPreferences","getUserDefault","$$window","isMaximized","unmaximize","maximize","toggleMaximize","minimize","isWin","navigator","appVersion","isMac","isElectron","IfElectron","os","Dialog$1","isOpen","onDismiss","Dialog","formatTitle","windowReducer","isBlur","isDialogOpen","isFullScreen","isSidebarOpen","Window$About","display","justifyContent","textAlign","flex","alt","src","Electron$Coronate","button","svg","close","Window$MSWindowsControls","Icons$Coronate","setFullScreen","button$1","isElectronMac","toolbarClasses","Window$TitleBar","onDoubleClick","marginRight","marginLeft","alignItems","left","position","right","noDraggy","e","Window$DefaultSidebar","margin","Router$Coronate","sidebarCallback","Body","footerFunc","sidebarFuncOpt","sidebarFunc","win","unregisterListeners","removeAllListeners","isFocused","Externals$Coronate","backgroundColor","hint","hintLi","footer","footerLink","titleIcon","titleText","subtitle","log2","num","log","fixNumber","Pervasives","updateInt","minimum","currentTarget","safeValue","NotFound","Splash","Window$Coronate","$$catch","Promise","all","DemoData$Coronate","fontSize","TimeCalculator","setPlayers","setBreakTime","breakTime","setTotalTime","totalTime","htmlFor","min","type","onChange","ceil","step","Belt_Float","Boolean","location","hostname","unregister","serviceWorker","ready","then","registration","getDateForFile","getFullYear","getMonth","getDate","decodeOptions","dict","dict$1","Js_dict","encodeOptions","map","map$1","PageOptions$LastBackupDate","windowDispatch","Db$Coronate","tourneysDispatch","playersDispatch","setText","configDispatch","exportData","exportDataURI","encodeURIComponent","Json","encoded","JSON","stringify","loadData","checked","download","reader","FileReader","onload","ev","val","raw_exn","exn","Caml_js_exceptions","readAsText","files","onSubmit","spellCheck","cols","rows","newText","sortName","sortRating","sortMatchCount","defaultFirstName","defaultLastName","defaultRating","PagePlayers$NewPlayerForm","addPlayerCallback","setFirstName","setLastName","setRating","updateField","Caml_format","required","NewPlayerForm","PagePlayers$PlayerList","sorted","sortDispatch","setIsDialogOpen","p","$$event$1","playerOpt","message","confirm","PagePlayers$Profile","playerName","singAvoidList","unavoided","setSelectedAvoider","selectedAvoider","handleChange","defaultValue","disabled","readOnly","newSelected","selectedAvoider$1","onBlur","halfPosition","sameHalfPriority","maxPriority","calcPairIdeal","player1","player2","metBefore","opponents","mustAvoid","avoidIds","isDiffDueColor","scoreDiff","halfDiff","halfPos","isDiffHalf","isUpperHalf","descendingRating","setUpperHalves","dataList","playerData","midpoint","splitInHalf","getIndex","sortByScoreThenRating","data1","data2","assignColorsForPair","netScore","netRating","sortByNetScoreThenRating","pair1","pair2","pairEq","makeScoreData","existingData","oldData","newResultsNoByes","oldOppResults","oppResult","matches2ScoreData","matchList","whiteData","blackData","PageTourneyPlayers$Selecting","tourney","setTourney","togglePlayer","PagePlayers$Coronate","Selecting","hasHadBye","matches","reduce","PageTourneyPlayers$PlayerList","tournament","activePlayers","setIsSelecting","colSpan","flexShrink","autoPair","pairData","filteredData","dummyId","dataForNextBye","playerIdsWithoutByes","nextByeSignups","Pairing$Coronate","byePlayerData","pairs","Match$Blossom","p1Id","acc2","p2Id","pairsWithBye","sortByName","sortByIdeal","ideal","PairPicker$SelectList","stagedPlayers","setStagedPlayers","sortedDispatch","isOnePlayerSelected","isPlayerSelectable","calcIdealOrNot","selectedId","PairPicker$Stage","whiteName","blackName","noneAreSelected","twoAreSelected","player$1","matchIdeal","unstage","newRound","PairPicker$PlayerInfo","fullName","unmatchedCount","unmatchedWithDummy","setIsModalOpen","playerStats","newAvoidIds","newData","Data_Converters$Coronate","round$1","round$2","flexGrow","PageTourneyPlayers$Coronate","calcNumOfRounds","playerCount","roundCount","emptyTourney","tournamentReducer","tourneyId","arePlayersLoaded","setTourneyLoaded","tourneyLoaded","isItOver","isNewRoundReady","winnerSelect","td","rowId","controls","matchResult","playerResult","PageRound$PlayerMatchInfo","PageRound$MatchRow","isCompactOpt","isCompact","pos","m","selectedMatchOpt","selectedMatch","setSelectedMatch","whitePlayer","blackPlayer","isDummyRound","resultDisplay","playerColor","won","lost","setMatchResult","jsResultCode","newResult","white_firstName","white_id","white_lastName","white_matchCount","white_type_","white$1","black_firstName","black_id","black_lastName","black_matchCount","black_type_","black$1","newMatch","tmp$1","setSelectedMatch$1","scoreData$1","scope","PageRound$RoundTable","RoundTable","PageRound$Round","Pages$Coronate","isThisTheLastRound","activePlayersCount","LoadTournament$Coronate","initialTab","setOpenTab","Tabs","index","PairPicker$Coronate","makeDateInput","year","rawMonth","rawDate","month","day","setEditing","editing","nameInput","dateInput","focusRef","myref","Webapi__Dom__Element","focus","ref","year$1","month$1","topHeader","compact","row","rowTd","rowTh","rank","number","PageTourneyScores$ScoreTable","tieBreakNames","standingTree","rank$1","standingsFlat","rowSpan","ScoreTable","PageTourneyScores$SelectTieBreaks","setSelectedTb","selectedTb","defaultId","toggleTb","tbId","moveTb","marginTop","Crosstable","standings","index2","opponent","player1Id","player2Id","getXScore","lastRating","change","getRatingChangeTds","lastRoundId","PageRound$Coronate","PageTourneyScores$Coronate","PageTourney$Footer","tooltipText","minHeight","PageTourney$Sidebar","PageTourneySetup$Coronate","PageTournamentStatus$Coronate","tournament$1","dateSort","nameSort","tourneys","setNewTourneyName","newTourneyName","t","placeholder","Index$App","url","PageTournamentList$Coronate","PageOptions$Coronate","PageTourney$Coronate","App","ServiceWorker$1","ServiceWorker"],"mappings":"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","file":"static/js/main.891533f5.chunk.js","sourcesContent":["require(\"./Index.bs\");","module.exports = __webpack_public_path__ + \"static/media/icon-min.53b3e3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/caution.01a9c1c3.svg\";","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"@johnridesabike/bs-numeral/src/Numeral.bs.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Intl_DateTimeFormat from \"bs-intl/src/Intl_DateTimeFormat.bs.js\";\n\nfunction ascend(cmp, getter, a, b) {\n  return Curry._2(cmp, Curry._1(getter, a), Curry._1(getter, b));\n}\n\nfunction descend(cmp, getter, a, b) {\n  return Curry._2(cmp, Curry._1(getter, b), Curry._1(getter, a));\n}\n\nfunction last(arr) {\n  return Caml_array.caml_array_get(arr, arr.length - 1 | 0);\n}\n\nfunction sum(__x) {\n  return Belt_Array.reduce(__x, 0, (function (prim, prim$1) {\n                return prim + prim$1 | 0;\n              }));\n}\n\nfunction sumF(__x) {\n  return Belt_Array.reduce(__x, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction swap(arr, idx1, idx2) {\n  var match = Belt_Array.get(arr, idx1);\n  var match$1 = Belt_Array.get(arr, idx2);\n  if (match !== undefined && match$1 !== undefined) {\n    Belt_Array.set(arr, idx1, Caml_option.valFromOption(match$1));\n    Belt_Array.set(arr, idx2, Caml_option.valFromOption(match));\n    return arr;\n  } else {\n    return arr;\n  }\n}\n\nvar $$Array = {\n  last: last,\n  sum: sum,\n  sumF: sumF,\n  swap: swap\n};\n\nfunction sumF$1(list) {\n  return Belt_List.reduce(list, 0.0, (function (prim, prim$1) {\n                return prim + prim$1;\n              }));\n}\n\nfunction toReactArrayReverse(list, fn) {\n  var result = [];\n  Belt_List.forEach(list, (function (item) {\n          return result.unshift(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayReverseWithIndex(list, fn) {\n  var result = [];\n  Belt_List.forEachWithIndex(Belt_List.reverse(list), (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nfunction toReactArray(list, fn) {\n  var result = [];\n  Belt_List.forEach(list, (function (item) {\n          return result.push(Curry._1(fn, item));\n        }));\n  return result;\n}\n\nfunction toReactArrayWithIndex(list, fn) {\n  var result = [];\n  Belt_List.forEachWithIndex(list, (function (i, item) {\n          return result.push(Curry._2(fn, i, item));\n        }));\n  return result;\n}\n\nvar List = {\n  sumF: sumF$1,\n  toReactArrayReverse: toReactArrayReverse,\n  toReactArrayReverseWithIndex: toReactArrayReverseWithIndex,\n  toReactArray: toReactArray,\n  toReactArrayWithIndex: toReactArrayWithIndex\n};\n\nfunction concat(l, sep) {\n  var _acc = \"\";\n  var _l = Belt_List.reverse(l);\n  while(true) {\n    var l$1 = _l;\n    var acc = _acc;\n    if (l$1) {\n      var l$2 = l$1[1];\n      var s = l$1[0];\n      if (l$2) {\n        _l = l$2;\n        _acc = sep + (s + acc);\n        continue ;\n      } else {\n        return s + acc;\n      }\n    } else {\n      return acc;\n    }\n  };\n}\n\nfunction includes(s, substr) {\n  return s.includes(substr);\n}\n\nfunction split(s, on) {\n  return s.split(on);\n}\n\nfunction alert(__x) {\n  window.alert(__x);\n  return /* () */0;\n}\n\nvar logo = require(\"./assets/icon-min.svg\");\n\nvar caution = require(\"./assets/caution.svg\");\n\nvar WebpackAssets = {\n  logo: logo,\n  caution: caution\n};\n\nvar Entities = {\n  nbsp: \"\\xa0\",\n  copy: \"\\xa9\"\n};\n\nvar formatter = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, undefined, undefined, undefined, undefined, undefined, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter, date));\n}\n\nvar DateFormat = {\n  make: Utils$MakeDateTimeFormat\n};\n\nvar formatter$1 = Intl_DateTimeFormat.make([\"en-US\"], /* TwoDigit */1, undefined, undefined, /* TwoDigit */1, undefined, undefined, undefined, /* TwoDigit */1, /* Short */3, undefined, undefined, undefined, undefined, /* Numeric */0, /* () */0);\n\nfunction Utils$MakeDateTimeFormat$1(Props) {\n  var date = Props.date;\n  return React.createElement(\"time\", {\n              dateTime: date.toISOString()\n            }, Intl_DateTimeFormat.format(formatter$1, date));\n}\n\nvar DateTimeFormat = {\n  make: Utils$MakeDateTimeFormat$1\n};\n\nvar panels = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexWrap(/* wrap */-822134326),\n        /* :: */[\n          Css.media(\"screen and (min-width: 600px)\", /* :: */[\n                Css.flexWrap(/* nowrap */867913355),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar panel = Curry._1(Css.style, /* :: */[\n      Css.marginRight(/* `px */[\n            25096,\n            16\n          ]),\n      /* [] */0\n    ]);\n\nfunction Utils$Panel(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panel,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar Panel = {\n  make: Utils$Panel\n};\n\nfunction Utils$PanelContainer(Props) {\n  var children = Props.children;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    panels,\n                    /* :: */[\n                      className,\n                      /* [] */0\n                    ]\n                  ]),\n              style: style\n            }, children);\n}\n\nvar PanelContainer = {\n  make: Utils$PanelContainer\n};\n\nvar green_50 = /* `hex */[\n  5194459,\n  \"30e60b\"\n];\n\nvar green_90 = /* `hex */[\n  5194459,\n  \"003706\"\n];\n\nvar yellow_50 = /* `hex */[\n  5194459,\n  \"ffe900\"\n];\n\nvar yellow_90 = /* `hex */[\n  5194459,\n  \"3e2800\"\n];\n\nvar red_60 = /* `hex */[\n  5194459,\n  \"d70022\"\n];\n\nvar white_100 = /* `hex */[\n  5194459,\n  \"ffffff\"\n];\n\nvar PhotonColors_magenta_50 = /* `hex */[\n  5194459,\n  \"ff1ad9\"\n];\n\nvar PhotonColors_magenta_60 = /* `hex */[\n  5194459,\n  \"ed00b5\"\n];\n\nvar PhotonColors_magenta_70 = /* `hex */[\n  5194459,\n  \"b5007f\"\n];\n\nvar PhotonColors_magenta_80 = /* `hex */[\n  5194459,\n  \"7d004f\"\n];\n\nvar PhotonColors_magenta_90 = /* `hex */[\n  5194459,\n  \"440027\"\n];\n\nvar PhotonColors_purple_30 = /* `hex */[\n  5194459,\n  \"c069ff\"\n];\n\nvar PhotonColors_purple_40 = /* `hex */[\n  5194459,\n  \"ad3bff\"\n];\n\nvar PhotonColors_purple_50 = /* `hex */[\n  5194459,\n  \"9400ff\"\n];\n\nvar PhotonColors_purple_60 = /* `hex */[\n  5194459,\n  \"8000d7\"\n];\n\nvar PhotonColors_purple_70 = /* `hex */[\n  5194459,\n  \"6200a4\"\n];\n\nvar PhotonColors_purple_80 = /* `hex */[\n  5194459,\n  \"440071\"\n];\n\nvar PhotonColors_purple_90 = /* `hex */[\n  5194459,\n  \"25003e\"\n];\n\nvar PhotonColors_blue_40 = /* `hex */[\n  5194459,\n  \"45a1ff\"\n];\n\nvar PhotonColors_blue_50 = /* `hex */[\n  5194459,\n  \"0a84ff\"\n];\n\nvar PhotonColors_blue_50_A30 = /* `hex */[\n  5194459,\n  \"0a84ff4c\"\n];\n\nvar PhotonColors_blue_60 = /* `hex */[\n  5194459,\n  \"0060df\"\n];\n\nvar PhotonColors_blue_70 = /* `hex */[\n  5194459,\n  \"003eaa\"\n];\n\nvar PhotonColors_blue_80 = /* `hex */[\n  5194459,\n  \"002275\"\n];\n\nvar PhotonColors_blue_90 = /* `hex */[\n  5194459,\n  \"000f40\"\n];\n\nvar PhotonColors_teal_50 = /* `hex */[\n  5194459,\n  \"00feff\"\n];\n\nvar PhotonColors_teal_60 = /* `hex */[\n  5194459,\n  \"00c8d7\"\n];\n\nvar PhotonColors_teal_70 = /* `hex */[\n  5194459,\n  \"008ea4\"\n];\n\nvar PhotonColors_teal_80 = /* `hex */[\n  5194459,\n  \"005a71\"\n];\n\nvar PhotonColors_teal_90 = /* `hex */[\n  5194459,\n  \"002d3e\"\n];\n\nvar PhotonColors_green_60 = /* `hex */[\n  5194459,\n  \"12bc00\"\n];\n\nvar PhotonColors_green_70 = /* `hex */[\n  5194459,\n  \"058b00\"\n];\n\nvar PhotonColors_green_80 = /* `hex */[\n  5194459,\n  \"006504\"\n];\n\nvar PhotonColors_yellow_60 = /* `hex */[\n  5194459,\n  \"d7b600\"\n];\n\nvar PhotonColors_yellow_70 = /* `hex */[\n  5194459,\n  \"a47f00\"\n];\n\nvar PhotonColors_yellow_80 = /* `hex */[\n  5194459,\n  \"715100\"\n];\n\nvar PhotonColors_red_50 = /* `hex */[\n  5194459,\n  \"ff0039\"\n];\n\nvar PhotonColors_red_70 = /* `hex */[\n  5194459,\n  \"a4000f\"\n];\n\nvar PhotonColors_red_80 = /* `hex */[\n  5194459,\n  \"5a0002\"\n];\n\nvar PhotonColors_red_90 = /* `hex */[\n  5194459,\n  \"3e0200\"\n];\n\nvar PhotonColors_orange_50 = /* `hex */[\n  5194459,\n  \"ff9400\"\n];\n\nvar PhotonColors_orange_60 = /* `hex */[\n  5194459,\n  \"d76e00\"\n];\n\nvar PhotonColors_orange_70 = /* `hex */[\n  5194459,\n  \"a44900\"\n];\n\nvar PhotonColors_orange_80 = /* `hex */[\n  5194459,\n  \"712b00\"\n];\n\nvar PhotonColors_orange_90 = /* `hex */[\n  5194459,\n  \"3e1300\"\n];\n\nvar PhotonColors_grey_10 = /* `hex */[\n  5194459,\n  \"f9f9fa\"\n];\n\nvar PhotonColors_grey_10_A10 = /* `hex */[\n  5194459,\n  \"f9f9fa19\"\n];\n\nvar PhotonColors_grey_10_A20 = /* `hex */[\n  5194459,\n  \"f9f9fa33\"\n];\n\nvar PhotonColors_grey_10_A40 = /* `hex */[\n  5194459,\n  \"f9f9fa66\"\n];\n\nvar PhotonColors_grey_10_A60 = /* `hex */[\n  5194459,\n  \"f9f9fa99\"\n];\n\nvar PhotonColors_grey_10_A80 = /* `hex */[\n  5194459,\n  \"f9f9facc\"\n];\n\nvar PhotonColors_grey_20 = /* `hex */[\n  5194459,\n  \"ededf0\"\n];\n\nvar PhotonColors_grey_30 = /* `hex */[\n  5194459,\n  \"d7d7db\"\n];\n\nvar PhotonColors_grey_40 = /* `hex */[\n  5194459,\n  \"b1b1b3\"\n];\n\nvar PhotonColors_grey_50 = /* `hex */[\n  5194459,\n  \"737373\"\n];\n\nvar PhotonColors_grey_60 = /* `hex */[\n  5194459,\n  \"4a4a4f\"\n];\n\nvar PhotonColors_grey_70 = /* `hex */[\n  5194459,\n  \"38383d\"\n];\n\nvar PhotonColors_grey_80 = /* `hex */[\n  5194459,\n  \"2a2a2e\"\n];\n\nvar PhotonColors_grey_90 = /* `hex */[\n  5194459,\n  \"0c0c0d\"\n];\n\nvar PhotonColors_grey_90_A05 = /* `hex */[\n  5194459,\n  \"0c0c0d0c\"\n];\n\nvar PhotonColors_grey_90_A10 = /* `hex */[\n  5194459,\n  \"0c0c0d19\"\n];\n\nvar PhotonColors_grey_90_A20 = /* `hex */[\n  5194459,\n  \"0c0c0d33\"\n];\n\nvar PhotonColors_grey_90_A30 = /* `hex */[\n  5194459,\n  \"0c0c0d4c\"\n];\n\nvar PhotonColors_grey_90_A40 = /* `hex */[\n  5194459,\n  \"0c0c0d66\"\n];\n\nvar PhotonColors_grey_90_A50 = /* `hex */[\n  5194459,\n  \"0c0c0d7f\"\n];\n\nvar PhotonColors_grey_90_A60 = /* `hex */[\n  5194459,\n  \"0c0c0d99\"\n];\n\nvar PhotonColors_grey_90_A70 = /* `hex */[\n  5194459,\n  \"0c0c0db2\"\n];\n\nvar PhotonColors_grey_90_A80 = /* `hex */[\n  5194459,\n  \"0c0c0dcc\"\n];\n\nvar PhotonColors_grey_90_A90 = /* `hex */[\n  5194459,\n  \"0c0c0de5\"\n];\n\nvar PhotonColors_ink_70 = /* `hex */[\n  5194459,\n  \"363959\"\n];\n\nvar PhotonColors_ink_80 = /* `hex */[\n  5194459,\n  \"202340\"\n];\n\nvar PhotonColors_ink_90 = /* `hex */[\n  5194459,\n  \"0f1126\"\n];\n\nvar PhotonColors = {\n  magenta_50: PhotonColors_magenta_50,\n  magenta_60: PhotonColors_magenta_60,\n  magenta_70: PhotonColors_magenta_70,\n  magenta_80: PhotonColors_magenta_80,\n  magenta_90: PhotonColors_magenta_90,\n  purple_30: PhotonColors_purple_30,\n  purple_40: PhotonColors_purple_40,\n  purple_50: PhotonColors_purple_50,\n  purple_60: PhotonColors_purple_60,\n  purple_70: PhotonColors_purple_70,\n  purple_80: PhotonColors_purple_80,\n  purple_90: PhotonColors_purple_90,\n  blue_40: PhotonColors_blue_40,\n  blue_50: PhotonColors_blue_50,\n  blue_50_A30: PhotonColors_blue_50_A30,\n  blue_60: PhotonColors_blue_60,\n  blue_70: PhotonColors_blue_70,\n  blue_80: PhotonColors_blue_80,\n  blue_90: PhotonColors_blue_90,\n  teal_50: PhotonColors_teal_50,\n  teal_60: PhotonColors_teal_60,\n  teal_70: PhotonColors_teal_70,\n  teal_80: PhotonColors_teal_80,\n  teal_90: PhotonColors_teal_90,\n  green_50: green_50,\n  green_60: PhotonColors_green_60,\n  green_70: PhotonColors_green_70,\n  green_80: PhotonColors_green_80,\n  green_90: green_90,\n  yellow_50: yellow_50,\n  yellow_60: PhotonColors_yellow_60,\n  yellow_70: PhotonColors_yellow_70,\n  yellow_80: PhotonColors_yellow_80,\n  yellow_90: yellow_90,\n  red_50: PhotonColors_red_50,\n  red_60: red_60,\n  red_70: PhotonColors_red_70,\n  red_80: PhotonColors_red_80,\n  red_90: PhotonColors_red_90,\n  orange_50: PhotonColors_orange_50,\n  orange_60: PhotonColors_orange_60,\n  orange_70: PhotonColors_orange_70,\n  orange_80: PhotonColors_orange_80,\n  orange_90: PhotonColors_orange_90,\n  grey_10: PhotonColors_grey_10,\n  grey_10_A10: PhotonColors_grey_10_A10,\n  grey_10_A20: PhotonColors_grey_10_A20,\n  grey_10_A40: PhotonColors_grey_10_A40,\n  grey_10_A60: PhotonColors_grey_10_A60,\n  grey_10_A80: PhotonColors_grey_10_A80,\n  grey_20: PhotonColors_grey_20,\n  grey_30: PhotonColors_grey_30,\n  grey_40: PhotonColors_grey_40,\n  grey_50: PhotonColors_grey_50,\n  grey_60: PhotonColors_grey_60,\n  grey_70: PhotonColors_grey_70,\n  grey_80: PhotonColors_grey_80,\n  grey_90: PhotonColors_grey_90,\n  grey_90_A05: PhotonColors_grey_90_A05,\n  grey_90_A10: PhotonColors_grey_90_A10,\n  grey_90_A20: PhotonColors_grey_90_A20,\n  grey_90_A30: PhotonColors_grey_90_A30,\n  grey_90_A40: PhotonColors_grey_90_A40,\n  grey_90_A50: PhotonColors_grey_90_A50,\n  grey_90_A60: PhotonColors_grey_90_A60,\n  grey_90_A70: PhotonColors_grey_90_A70,\n  grey_90_A80: PhotonColors_grey_90_A80,\n  grey_90_A90: PhotonColors_grey_90_A90,\n  ink_70: PhotonColors_ink_70,\n  ink_80: PhotonColors_ink_80,\n  ink_90: PhotonColors_ink_90,\n  white_100: white_100\n};\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.justifyContent(/* center */98248149),\n          /* :: */[\n            Css.minHeight(/* `px */[\n                  25096,\n                  32\n                ]),\n            /* :: */[\n              Css.fontSize(/* `px */[\n                    25096,\n                    13\n                  ]),\n              /* :: */[\n                Css.fontWeight(/* `num */[\n                      5496390,\n                      400\n                    ]),\n                /* :: */[\n                  Css.paddingTop(/* `px */[\n                        25096,\n                        4\n                      ]),\n                  /* :: */[\n                    Css.paddingBottom(/* `px */[\n                          25096,\n                          4\n                        ]),\n                    /* :: */[\n                      Css.margin2(/* `px */[\n                            25096,\n                            4\n                          ], /* zero */-789508312),\n                      /* :: */[\n                        Css.borderRadius(/* `px */[\n                              25096,\n                              4\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar text = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar icon = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* :: */[\n            Css.flexShrink(1.0),\n            /* :: */[\n              Css.margin2(/* zero */-789508312, /* `px */[\n                    25096,\n                    4\n                  ]),\n              /* :: */[\n                Css.fontSize(/* `px */[\n                      25096,\n                      16\n                    ]),\n                /* :: */[\n                  Css.cursor(/* help */-989121855),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar success = Curry._1(Css.style, /* :: */[\n      Css.color(green_90),\n      /* :: */[\n        Css.backgroundColor(green_50),\n        /* [] */0\n      ]\n    ]);\n\nvar warning = Curry._1(Css.style, /* :: */[\n      Css.color(yellow_90),\n      /* :: */[\n        Css.backgroundColor(yellow_50),\n        /* [] */0\n      ]\n    ]);\n\nvar error = Curry._1(Css.style, /* :: */[\n      Css.color(white_100),\n      /* :: */[\n        Css.backgroundColor(red_60),\n        /* [] */0\n      ]\n    ]);\n\nfunction Utils$Notification(Props) {\n  var children = Props.children;\n  var kindOpt = Props.kind;\n  var tooltipOpt = Props.tooltip;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var kind = kindOpt !== undefined ? kindOpt : /* Generic */3;\n  var tooltip = tooltipOpt !== undefined ? tooltipOpt : \"\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var match;\n  switch (kind) {\n    case /* Success */0 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.Check, { }),\n          success\n        ];\n        break;\n    case /* Warning */1 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.AlertTriangle, { }),\n          warning\n        ];\n        break;\n    case /* Error */2 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.X, { }),\n          error\n        ];\n        break;\n    case /* Generic */3 :\n        match = /* tuple */[\n          React.createElement(ReactFeather.Info, { }),\n          \"\"\n        ];\n        break;\n    \n  }\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    container,\n                    /* :: */[\n                      match[1],\n                      /* :: */[\n                        className,\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: style\n            }, React.createElement(\"div\", {\n                  \"aria-label\": tooltip,\n                  className: icon,\n                  title: tooltip\n                }, match[0]), React.createElement(\"div\", {\n                  className: text\n                }, children));\n}\n\nfunction Utils$TestId(Props) {\n  var children = Props.children;\n  var testId = Props.testId;\n  return React.cloneElement(children, {\n              \"data-testid\": testId\n            });\n}\n\nvar TestId = {\n  make: Utils$TestId\n};\n\nNumeral.registerFormat(\"fraction\", Numeral.Format.make(Numeral.RegExps.make(/(1\\/2)/, /(1\\/2)/), (function (value, _format, _roundingFunction) {\n            var whole = Math.floor(value);\n            var remainder = value - whole;\n            var fraction = remainder !== 0.25 ? (\n                remainder !== 0.5 ? (\n                    remainder !== 0.75 ? \"\" : \"\"\n                  ) : \"\"\n              ) : \"\";\n            var stringedWhole = whole === 0.0 && fraction !== \"\" ? \"\" : whole.toString();\n            return stringedWhole + fraction;\n          }), (function (value) {\n            return Number(value);\n          })));\n\nvar github_url = \"https://github.com/johnridesabike/coronate\";\n\nvar license_url = \"https://github.com/johnridesabike/coronate/blob/master/LICENSE\";\n\nvar issues_url = \"https://github.com/johnridesabike/coronate/issues/new\";\n\nfunction String_toLowerCase(prim) {\n  return prim.toLowerCase();\n}\n\nvar $$String = {\n  concat: concat,\n  toLowerCase: String_toLowerCase,\n  includes: includes,\n  split: split\n};\n\nvar $$Notification = {\n  make: Utils$Notification\n};\n\nexport {\n  github_url ,\n  license_url ,\n  issues_url ,\n  ascend ,\n  descend ,\n  $$Array ,\n  List ,\n  $$String ,\n  alert ,\n  WebpackAssets ,\n  Entities ,\n  DateFormat ,\n  DateTimeFormat ,\n  Panel ,\n  PanelContainer ,\n  PhotonColors ,\n  $$Notification ,\n  TestId ,\n  \n}\n/* logo Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Nanoid from \"nanoid\";\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\n\nfunction random(prim) {\n  return Nanoid.nanoid();\n}\n\nfunction encode(prim) {\n  return prim;\n}\n\nvar compare = Caml_primitive.caml_string_compare;\n\nvar Id = Belt_Id.MakeComparable({\n      cmp: compare\n    });\n\nfunction make(param) {\n  return Belt_Map.make(Id);\n}\n\nfunction fromStringArray(arr) {\n  return Belt_Map.fromArray(arr, Id);\n}\n\nvar toStringArray = Belt_Map.toArray;\n\nvar $$Map = {\n  make: make,\n  fromStringArray: fromStringArray,\n  toStringArray: toStringArray\n};\n\nvar decode = Json_decode.string;\n\nexport {\n  random ,\n  encode ,\n  decode ,\n  compare ,\n  $$Map ,\n  \n}\n/* Id Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toString(data) {\n  switch (data) {\n    case /* Person */0 :\n        return \"person\";\n    case /* Dummy */1 :\n        return \"dummy\";\n    case /* Missing */2 :\n        return \"missing\";\n    \n  }\n}\n\nfunction fromString(str) {\n  switch (str) {\n    case \"dummy\" :\n        return /* Dummy */1;\n    case \"missing\" :\n        return /* Missing */2;\n    case \"person\" :\n        return /* Person */0;\n    default:\n      return /* Person */0;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(data) {\n  return fromString(Json_decode.string(data));\n}\n\nvar Type = {\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          firstName: Json_decode.field(\"firstName\", Json_decode.string, json),\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          lastName: Json_decode.field(\"lastName\", Json_decode.string, json),\n          matchCount: Json_decode.field(\"matchCount\", Json_decode.$$int, json),\n          rating: Json_decode.field(\"rating\", Json_decode.$$int, json),\n          type_: Json_decode.field(\"type_\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"firstName\",\n                data.firstName\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"id\",\n                  Data_Id$Coronate.encode(data.id)\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastName\",\n                    data.lastName\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"matchCount\",\n                      data.matchCount\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"rating\",\n                        data.rating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"type_\",\n                          toString(data.type_)\n                        ],\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar dummy_id = \"________DUMMY________\";\n\nfunction isDummyId(playerId) {\n  return playerId === dummy_id;\n}\n\nvar dummyPlayer = {\n  firstName: \"Bye\",\n  id: dummy_id,\n  lastName: \"Player\",\n  matchCount: 0,\n  rating: 0,\n  type_: /* Dummy */1\n};\n\nfunction makeMissingPlayer(id) {\n  return {\n          firstName: \"Anonymous\",\n          id: id,\n          lastName: \"Player\",\n          matchCount: 0,\n          rating: 0,\n          type_: /* Missing */2\n        };\n}\n\nfunction getPlayerMaybe(playerMap, id) {\n  if (id === dummy_id) {\n    return dummyPlayer;\n  } else {\n    return Belt_Map.getWithDefault(playerMap, id, makeMissingPlayer(id));\n  }\n}\n\nexport {\n  Type ,\n  encode$1 as encode,\n  decode$1 as decode,\n  dummy_id ,\n  isDummyId ,\n  dummyPlayer ,\n  makeMissingPlayer ,\n  getPlayerMaybe ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction toFloat(score, color) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        if (color) {\n          return 0.0;\n        } else {\n          return 1.0;\n        }\n    case /* BlackWon */1 :\n        if (color) {\n          return 1.0;\n        } else {\n          return 0.0;\n        }\n    case /* Draw */2 :\n        return 0.5;\n    case /* NotSet */3 :\n        return 0.0;\n    \n  }\n}\n\nfunction toString(score) {\n  switch (score) {\n    case /* WhiteWon */0 :\n        return \"whiteWon\";\n    case /* BlackWon */1 :\n        return \"blackWon\";\n    case /* Draw */2 :\n        return \"draw\";\n    case /* NotSet */3 :\n        return \"notSet\";\n    \n  }\n}\n\nfunction fromString(score) {\n  switch (score) {\n    case \"blackWon\" :\n        return /* BlackWon */1;\n    case \"draw\" :\n        return /* Draw */2;\n    case \"whiteWon\" :\n        return /* WhiteWon */0;\n    default:\n      return /* NotSet */3;\n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  return fromString(Json_decode.string(json));\n}\n\nvar Result = {\n  toFloat: toFloat,\n  toString: toString,\n  fromString: fromString,\n  encode: encode,\n  decode: decode\n};\n\nfunction decode$1(json) {\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          whiteId: Json_decode.field(\"whiteId\", Data_Id$Coronate.decode, json),\n          blackId: Json_decode.field(\"blackId\", Data_Id$Coronate.decode, json),\n          whiteNewRating: Json_decode.field(\"whiteNewRating\", Json_decode.$$int, json),\n          blackNewRating: Json_decode.field(\"blackNewRating\", Json_decode.$$int, json),\n          whiteOrigRating: Json_decode.field(\"whiteOrigRating\", Json_decode.$$int, json),\n          blackOrigRating: Json_decode.field(\"blackOrigRating\", Json_decode.$$int, json),\n          result: Json_decode.field(\"result\", decode, json)\n        };\n}\n\nfunction encode$1(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"whiteId\",\n                  Data_Id$Coronate.encode(data.whiteId)\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"blackId\",\n                    Data_Id$Coronate.encode(data.blackId)\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"whiteNewRating\",\n                      data.whiteNewRating\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"blackNewRating\",\n                        data.blackNewRating\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"whiteOrigRating\",\n                          data.whiteOrigRating\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"blackOrigRating\",\n                            data.blackOrigRating\n                          ],\n                          /* :: */[\n                            /* tuple */[\n                              \"result\",\n                              toString(data.result)\n                            ],\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction byeResultForPlayerColor(byeValue, color) {\n  if (byeValue) {\n    return /* Draw */2;\n  } else if (color) {\n    return /* BlackWon */1;\n  } else {\n    return /* WhiteWon */0;\n  }\n}\n\nfunction scoreByeMatch(match_, byeValue) {\n  var match = Data_Player$Coronate.isDummyId(match_.whiteId);\n  var match$1 = Data_Player$Coronate.isDummyId(match_.blackId);\n  if (match) {\n    if (match$1) {\n      return match_;\n    } else {\n      return {\n              id: match_.id,\n              whiteId: match_.whiteId,\n              blackId: match_.blackId,\n              whiteNewRating: match_.whiteNewRating,\n              blackNewRating: match_.blackNewRating,\n              whiteOrigRating: match_.whiteOrigRating,\n              blackOrigRating: match_.blackOrigRating,\n              result: byeResultForPlayerColor(byeValue, /* Black */1)\n            };\n    }\n  } else if (match$1) {\n    return {\n            id: match_.id,\n            whiteId: match_.whiteId,\n            blackId: match_.blackId,\n            whiteNewRating: match_.whiteNewRating,\n            blackNewRating: match_.blackNewRating,\n            whiteOrigRating: match_.whiteOrigRating,\n            blackOrigRating: match_.blackOrigRating,\n            result: byeResultForPlayerColor(byeValue, /* White */0)\n          };\n  } else {\n    return match_;\n  }\n}\n\nfunction manualPair(param, byeValue) {\n  var black = param[1];\n  var white = param[0];\n  return scoreByeMatch({\n              id: Data_Id$Coronate.random(/* () */0),\n              whiteId: white.id,\n              blackId: black.id,\n              whiteNewRating: white.rating,\n              blackNewRating: black.rating,\n              whiteOrigRating: white.rating,\n              blackOrigRating: black.rating,\n              result: /* NotSet */3\n            }, byeValue);\n}\n\nfunction swapColors(match_) {\n  var match = match_.result;\n  var result;\n  switch (match) {\n    case /* WhiteWon */0 :\n        result = /* BlackWon */1;\n        break;\n    case /* BlackWon */1 :\n        result = /* WhiteWon */0;\n        break;\n    case /* Draw */2 :\n        result = /* Draw */2;\n        break;\n    case /* NotSet */3 :\n        result = /* NotSet */3;\n        break;\n    \n  }\n  return {\n          id: match_.id,\n          whiteId: match_.blackId,\n          blackId: match_.whiteId,\n          whiteNewRating: match_.blackNewRating,\n          blackNewRating: match_.whiteNewRating,\n          whiteOrigRating: match_.blackOrigRating,\n          blackOrigRating: match_.whiteOrigRating,\n          result: result\n        };\n}\n\nexport {\n  Result ,\n  decode$1 as decode,\n  encode$1 as encode,\n  byeResultForPlayerColor ,\n  scoreByeMatch ,\n  manualPair ,\n  swapColors ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Caml_int32 from \"bs-platform/lib/es6/caml_int32.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Data_Match$Coronate from \"./Data/Data_Match.bs.js\";\n\nfunction opposite(param) {\n  if (param) {\n    return /* White */0;\n  } else {\n    return /* Black */1;\n  }\n}\n\nfunction toScore(param) {\n  if (param) {\n    return 1.0;\n  } else {\n    return -1.0;\n  }\n}\n\nvar Color = {\n  opposite: opposite,\n  toScore: toScore\n};\n\nfunction toString(data) {\n  switch (data) {\n    case /* Median */0 :\n        return \"median\";\n    case /* Solkoff */1 :\n        return \"solkoff\";\n    case /* Cumulative */2 :\n        return \"cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"cumulativeOfOpposition\";\n    case /* MostBlack */4 :\n        return \"mostBlack\";\n    \n  }\n}\n\nfunction toPrettyString(tieBreak) {\n  switch (tieBreak) {\n    case /* Median */0 :\n        return \"Median\";\n    case /* Solkoff */1 :\n        return \"Solkoff\";\n    case /* Cumulative */2 :\n        return \"Cumulative\";\n    case /* CumulativeOfOpposition */3 :\n        return \"Cumulative of opposition\";\n    case /* MostBlack */4 :\n        return \"Most Black\";\n    \n  }\n}\n\nvar encode = toString;\n\nfunction decode(json) {\n  var json$1 = Json_decode.string(json);\n  switch (json$1) {\n    case \"cumulative\" :\n        return /* Cumulative */2;\n    case \"cumulativeOfOpposition\" :\n        return /* CumulativeOfOpposition */3;\n    case \"median\" :\n        return /* Median */0;\n    case \"mostBlack\" :\n        return /* MostBlack */4;\n    case \"solkoff\" :\n        return /* Solkoff */1;\n    default:\n      return /* Median */0;\n  }\n}\n\nfunction createBlankScoreData(firstRatingOpt, id) {\n  var firstRating = firstRatingOpt !== undefined ? firstRatingOpt : 0;\n  return {\n          colorScores: /* [] */0,\n          colors: /* [] */0,\n          id: id,\n          isDummy: false,\n          opponentResults: Data_Id$Coronate.$$Map.make(/* () */0),\n          ratings: /* [] */0,\n          firstRating: firstRating,\n          results: /* [] */0,\n          resultsNoByes: /* [] */0\n        };\n}\n\nfunction isNotDummy(scores, oppId) {\n  var match = Belt_Map.get(scores, oppId);\n  if (match !== undefined) {\n    return !match.isDummy;\n  } else {\n    return true;\n  }\n}\n\nfunction getPlayerScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.results);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getOpponentScores(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Belt_Map.reduce(match.opponentResults, /* [] */0, (function (acc, oppId, param) {\n                  if (isNotDummy(scores, oppId)) {\n                    return /* :: */[\n                            getPlayerScore(scores, oppId),\n                            acc\n                          ];\n                  } else {\n                    return acc;\n                  }\n                }));\n  } else {\n    return /* [] */0;\n  }\n}\n\nfunction getMedianScore(scores, id) {\n  return Belt_Option.mapWithDefault(Belt_List.tail(Belt_Option.mapWithDefault(Belt_List.tail(Belt_List.sort(getOpponentScores(scores, id), Caml_primitive.caml_float_compare)), /* [] */0, Belt_List.reverse)), 0.0, Utils$Coronate.List.sumF);\n}\n\nfunction getSolkoffScore(scores, id) {\n  return Utils$Coronate.List.sumF(getOpponentScores(scores, id));\n}\n\nfunction runningReducer(acc, score) {\n  if (acc) {\n    var last = acc[0];\n    return /* :: */[\n            last + score,\n            /* :: */[\n              last,\n              acc[1]\n            ]\n          ];\n  } else {\n    return /* :: */[\n            score,\n            /* [] */0\n          ];\n  }\n}\n\nfunction getCumulativeScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.reduce(match.resultsNoByes, /* [] */0, runningReducer));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getCumulativeOfOpponentScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(Belt_List.map(Belt_Map.reduce(match.opponentResults, /* [] */0, (function (acc, key, param) {\n                          if (isNotDummy(scores, key)) {\n                            return /* :: */[\n                                    key,\n                                    acc\n                                  ];\n                          } else {\n                            return acc;\n                          }\n                        })), (function (param) {\n                      return getCumulativeScore(scores, param);\n                    })));\n  } else {\n    return 0.0;\n  }\n}\n\nfunction getColorBalanceScore(scores, id) {\n  var match = Belt_Map.get(scores, id);\n  if (match !== undefined) {\n    return Utils$Coronate.List.sumF(match.colorScores);\n  } else {\n    return 0.0;\n  }\n}\n\nfunction mapTieBreak(param) {\n  switch (param) {\n    case /* Median */0 :\n        return getMedianScore;\n    case /* Solkoff */1 :\n        return getSolkoffScore;\n    case /* Cumulative */2 :\n        return getCumulativeScore;\n    case /* CumulativeOfOpposition */3 :\n        return getCumulativeOfOpponentScore;\n    case /* MostBlack */4 :\n        return getColorBalanceScore;\n    \n  }\n}\n\nfunction createStandingList(scores, methods) {\n  var funcList = Belt_List.map(Belt_List.fromArray(methods), (function (tbType) {\n          return /* tuple */[\n                  tbType,\n                  mapTieBreak(tbType)\n                ];\n        }));\n  var partial_arg = Belt_List.fromArray(methods);\n  return Belt_List.sort(Belt_List.reverse(Belt_Map.reduce(scores, /* [] */0, (function (acc, id, data) {\n                        return /* :: */[\n                                {\n                                  id: id,\n                                  score: Utils$Coronate.List.sumF(data.results),\n                                  tieBreaks: Belt_List.map(funcList, (function (param) {\n                                          return /* tuple */[\n                                                  param[0],\n                                                  Curry._2(param[1], scores, id)\n                                                ];\n                                        }))\n                                },\n                                acc\n                              ];\n                      }))), (function (param, param$1) {\n                var tieBreaks = partial_arg;\n                var a = param;\n                var b = param$1;\n                var x = Caml_primitive.caml_float_compare(b.score, a.score);\n                if (x !== 0) {\n                  return x;\n                } else {\n                  var _tieBreaks = tieBreaks;\n                  while(true) {\n                    var tieBreaks$1 = _tieBreaks;\n                    if (tieBreaks$1) {\n                      var rest = tieBreaks$1[1];\n                      var tieBreak = tieBreaks$1[0];\n                      var getTieBreak = (function(tieBreak){\n                      return function getTieBreak(__x) {\n                        return Belt_List.getAssoc(__x, tieBreak, (function (prim, prim$1) {\n                                      return prim === prim$1;\n                                    }));\n                      }\n                      }(tieBreak));\n                      var match = getTieBreak(a.tieBreaks);\n                      var match$1 = getTieBreak(b.tieBreaks);\n                      if (match !== undefined) {\n                        if (match$1 !== undefined) {\n                          var x$1 = Caml_primitive.caml_float_compare(match$1, match);\n                          if (x$1 !== 0) {\n                            return x$1;\n                          } else {\n                            _tieBreaks = rest;\n                            continue ;\n                          }\n                        } else {\n                          _tieBreaks = rest;\n                          continue ;\n                        }\n                      } else {\n                        _tieBreaks = rest;\n                        continue ;\n                      }\n                    } else {\n                      return 0;\n                    }\n                  };\n                }\n              }));\n}\n\nfunction areScoresEqual(standing1, standing2) {\n  if (standing1.score !== standing2.score) {\n    return false;\n  } else {\n    var comparisons = Belt_List.reduce(standing1.tieBreaks, /* [] */0, (function (acc, param) {\n            var match = Belt_List.getAssoc(standing2.tieBreaks, param[0], (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n            if (match !== undefined) {\n              return /* :: */[\n                      param[1] !== match,\n                      acc\n                    ];\n            } else {\n              return acc;\n            }\n          }));\n    return !Belt_List.has(comparisons, true, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  }\n}\n\nfunction createStandingTree(standingList) {\n  return Belt_List.reduce(standingList, /* [] */0, (function (acc, standing) {\n                if (acc) {\n                  var lastRank = acc[0];\n                  if (lastRank) {\n                    var pastRanks = acc[1];\n                    if (areScoresEqual(lastRank[0], standing)) {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                lastRank\n                              ],\n                              pastRanks\n                            ];\n                    } else {\n                      return /* :: */[\n                              /* :: */[\n                                standing,\n                                /* [] */0\n                              ],\n                              /* :: */[\n                                lastRank,\n                                pastRanks\n                              ]\n                            ];\n                    }\n                  } else {\n                    return /* :: */[\n                            /* :: */[\n                              standing,\n                              /* [] */0\n                            ],\n                            acc\n                          ];\n                  }\n                } else {\n                  return /* :: */[\n                          /* :: */[\n                            standing,\n                            /* [] */0\n                          ],\n                          /* [] */0\n                        ];\n                }\n              }));\n}\n\nfunction getExpected(a, b) {\n  return 1 / (1 + Math.pow(10, (b - a | 0) / 400));\n}\n\nfunction updateRating(rating, expected, actual, current) {\n  return Math.round(current + rating * (actual - expected)) | 0;\n}\n\nfunction getKFactor(matchCount) {\n  var ne = matchCount > 0 ? matchCount : 1;\n  return Caml_int32.div(800, ne);\n}\n\nfunction keepAboveFloor(rating) {\n  if (rating > 100) {\n    return rating;\n  } else {\n    return 100;\n  }\n}\n\nfunction calcNewRatings(whiteRating, blackRating, whiteMatchCount, blackMatchCount, result) {\n  var whiteElo = getKFactor(whiteMatchCount);\n  var blackElo = getKFactor(blackMatchCount);\n  var whiteExpected = getExpected(whiteRating, blackRating);\n  var blackExpected = getExpected(blackRating, whiteRating);\n  var whiteResult = Data_Match$Coronate.Result.toFloat(result, /* White */0);\n  var blackResult = Data_Match$Coronate.Result.toFloat(result, /* Black */1);\n  return /* tuple */[\n          keepAboveFloor(updateRating(whiteElo, whiteExpected, whiteResult, whiteRating)),\n          keepAboveFloor(updateRating(blackElo, blackExpected, blackResult, blackRating))\n        ];\n}\n\nvar TieBreak = {\n  encode: encode,\n  decode: decode,\n  toString: toString,\n  toPrettyString: toPrettyString\n};\n\nvar Ratings_EloRank = {\n  getKFactor: getKFactor\n};\n\nvar Ratings = {\n  EloRank: Ratings_EloRank,\n  calcNewRatings: calcNewRatings\n};\n\nexport {\n  Color ,\n  TieBreak ,\n  createBlankScoreData ,\n  createStandingList ,\n  createStandingTree ,\n  Ratings ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Id from \"bs-platform/lib/es6/belt_Id.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\n\nfunction toFloat(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction fromFloat(json) {\n  if (json !== 0.5) {\n    return /* Full */0;\n  } else {\n    return /* Half */1;\n  }\n}\n\nfunction encode(data) {\n  if (data) {\n    return 0.5;\n  } else {\n    return 1.0;\n  }\n}\n\nfunction decode(json) {\n  return fromFloat(Json_decode.$$float(json));\n}\n\nvar ByeValue = {\n  toFloat: toFloat,\n  fromFloat: fromFloat,\n  encode: encode,\n  decode: decode\n};\n\nfunction cmp(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  var w = Data_Id$Coronate.compare(a, c);\n  var x = Data_Id$Coronate.compare(b, d);\n  var y = Data_Id$Coronate.compare(a, d);\n  var z = Data_Id$Coronate.compare(b, c);\n  switch (w) {\n    case -1 :\n        if (x === 1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return -1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return -1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    case 0 :\n        break;\n    case 1 :\n        if (x === -1) {\n          switch (y) {\n            case -1 :\n                if (z === 1) {\n                  return 1;\n                }\n                break;\n            case 0 :\n                break;\n            case 1 :\n                if (z === -1) {\n                  return 1;\n                }\n                break;\n            default:\n              \n          }\n        }\n        break;\n    default:\n      \n  }\n  return ((w + x | 0) + y | 0) + z | 0;\n}\n\nvar T = Belt_Id.MakeComparable({\n      cmp: cmp\n    });\n\nvar empty = Belt_Set.make(T);\n\nfunction fromStringArray(a) {\n  return Belt_Set.fromArray(a, T);\n}\n\nfunction fromArray(param) {\n  return Belt_Set.fromArray(param, T);\n}\n\nfunction decode$1(json) {\n  return Belt_Set.fromArray(Json_decode.array((function (param) {\n                    return Json_decode.pair(Data_Id$Coronate.decode, Data_Id$Coronate.decode, param);\n                  }), json), T);\n}\n\nfunction encode$1(data) {\n  return Json_encode.array((function (param) {\n                return Json_encode.pair(Data_Id$Coronate.encode, Data_Id$Coronate.encode, param);\n              }), Belt_Set.toArray(data));\n}\n\nfunction toMapReducer(acc, param) {\n  var id2 = param[1];\n  var id1 = param[0];\n  var match = Belt_Map.get(acc, id1);\n  var newList1 = match !== undefined ? /* :: */[\n      id2,\n      match\n    ] : /* :: */[\n      id2,\n      /* [] */0\n    ];\n  var match$1 = Belt_Map.get(acc, id2);\n  var newList2 = match$1 !== undefined ? /* :: */[\n      id1,\n      match$1\n    ] : /* :: */[\n      id1,\n      /* [] */0\n    ];\n  return Belt_Map.set(Belt_Map.set(acc, id1, newList1), id2, newList2);\n}\n\nfunction toMap(__x) {\n  return Belt_Set.reduce(__x, Data_Id$Coronate.$$Map.make(/* () */0), toMapReducer);\n}\n\nfunction decode$2(json) {\n  return {\n          avoidPairs: Json_decode.field(\"avoidPairs\", decode$1, json),\n          byeValue: Json_decode.field(\"byeValue\", decode, json),\n          lastBackup: Json_decode.field(\"lastBackup\", Json_decode.date, json)\n        };\n}\n\nfunction encode$2(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"avoidPairs\",\n                encode$1(data.avoidPairs)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"byeValue\",\n                  data.byeValue ? 0.5 : 1.0\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"lastBackup\",\n                    Json_encode.date(data.lastBackup)\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nvar default_lastBackup = new Date(0.0);\n\nvar $$default = {\n  avoidPairs: empty,\n  byeValue: /* Full */0,\n  lastBackup: default_lastBackup\n};\n\nvar AvoidPairs_T = { };\n\nvar AvoidPairs = {\n  T: AvoidPairs_T,\n  empty: empty,\n  fromArray: fromArray,\n  fromStringArray: fromStringArray,\n  toMap: toMap\n};\n\nexport {\n  ByeValue ,\n  AvoidPairs ,\n  decode$2 as decode,\n  encode$2 as encode,\n  $$default ,\n  $$default as default,\n  \n}\n/* T Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction sortedTableReducer(state, action) {\n  var newState;\n  if (typeof action === \"number\") {\n    newState = state;\n  } else {\n    switch (action.tag | 0) {\n      case /* SetIsDescending */0 :\n          newState = {\n            isDescending: action[0],\n            column: state.column,\n            table: state.table\n          };\n          break;\n      case /* SetColumn */1 :\n          newState = {\n            isDescending: state.isDescending,\n            column: action[0],\n            table: state.table\n          };\n          break;\n      case /* SetTable */2 :\n          newState = {\n            isDescending: state.isDescending,\n            column: state.column,\n            table: action[0]\n          };\n          break;\n      \n    }\n  }\n  var direction = newState.isDescending ? Utils$Coronate.descend : Utils$Coronate.ascend;\n  var match = newState.column;\n  var sortFunc;\n  switch (match.tag | 0) {\n    case /* GetString */0 :\n        var func = match[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_string_compare, (function (str) {\n                return Utils$Coronate.$$String.toLowerCase(Curry._1(func, str));\n              }));\n        break;\n    case /* GetInt */1 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_int_compare, match[0]);\n        break;\n    case /* GetFloat */2 :\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, match[0]);\n        break;\n    case /* GetDate */3 :\n        var func$1 = match[0];\n        sortFunc = Curry._2(direction, Caml_primitive.caml_float_compare, (function (date) {\n                return Curry._1(func$1, date).getTime();\n              }));\n        break;\n    \n  }\n  var table = Belt_SortArray.stableSortBy(newState.table, sortFunc);\n  return {\n          isDescending: newState.isDescending,\n          column: newState.column,\n          table: table\n        };\n}\n\nfunction useSortedTable(table, column, isDescending) {\n  var initialState = {\n    isDescending: isDescending,\n    column: column,\n    table: table\n  };\n  var match = React.useReducer(sortedTableReducer, initialState);\n  var dispatch = match[1];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* SortWithoutUpdating */0);\n          return ;\n        }), ([]));\n  return /* tuple */[\n          match[0],\n          dispatch\n        ];\n}\n\nfunction Hooks$SortButton(Props) {\n  var children = Props.children;\n  var sortColumn = Props.sortColumn;\n  var data = Props.data;\n  var dispatch = Props.dispatch;\n  var chevronStyle = data.column === sortColumn ? ({\n        opacity: \"1\"\n      }) : ({\n        opacity: \"0\"\n      });\n  return React.createElement(\"button\", {\n              className: \"button-micro dont-hide button-text-ghost title-20\",\n              style: {\n                width: \"100%\"\n              },\n              onClick: (function (param) {\n                  if (data.column === sortColumn) {\n                    return Curry._1(dispatch, /* SetIsDescending */Block.__(0, [!data.isDescending]));\n                  } else {\n                    return Curry._1(dispatch, /* SetColumn */Block.__(1, [sortColumn]));\n                  }\n                })\n            }, React.createElement(\"span\", {\n                  \"aria-hidden\": true\n                }, React.createElement(ReactFeather.ChevronUp, {\n                      style: {\n                        opacity: \"0\"\n                      }\n                    })), children, data.isDescending ? React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronUp, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort ascending.\"\n                      })) : React.createElement(\"span\", {\n                    style: chevronStyle\n                  }, React.createElement(ReactFeather.ChevronDown, { }), React.createElement(VisuallyHidden.default, {\n                        children: \"Sort descending.\"\n                      })));\n}\n\nvar SortButton = {\n  make: Hooks$SortButton\n};\n\nfunction useLoadingCursorUntil(isLoaded) {\n  React.useEffect((function () {\n          if (isLoaded) {\n            ((document.body.style.cursor = \"auto\"));\n          } else {\n            ((document.body.style.cursor = \"wait\"));\n          }\n          return (function (param) {\n                    return (document.body.style.cursor = \"auto\");\n                  });\n        }), [isLoaded]);\n  return /* () */0;\n}\n\nfunction useScoreInfo(player, scoreData, avoidPairs, getPlayer, players, origRating, newRating, param) {\n  var match = Belt_Map.get(scoreData, player.id);\n  var match$1 = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, player.id);\n  var opponentResults = match$1.opponentResults;\n  var hasBye = Belt_Map.has(opponentResults, Data_Player$Coronate.dummy_id);\n  var x = Utils$Coronate.List.sumF(match$1.colorScores);\n  var colorBalance = x < 0.0 ? \"White +\" + Math.abs(x).toString() : (\n      x > 0.0 ? \"Black +\" + x.toString() : \"Even\"\n    );\n  var avoidMap = Belt_Option.mapWithDefault(avoidPairs, Data_Id$Coronate.$$Map.make(/* () */0), Data_Config$Coronate.AvoidPairs.toMap);\n  var match$2 = Belt_Map.get(avoidMap, player.id);\n  var avoidList = match$2 !== undefined ? match$2 : /* [] */0;\n  var score = Utils$Coronate.List.sumF(match$1.results);\n  var opponentResults$1 = Belt_Array.map(Belt_Map.toArray(opponentResults), (function (param) {\n          var result = param[1];\n          var opId = param[0];\n          return React.createElement(\"li\", {\n                      key: opId\n                    }, Utils$Coronate.$$String.concat(/* :: */[\n                          Curry._1(getPlayer, opId).firstName,\n                          /* :: */[\n                            Curry._1(getPlayer, opId).lastName,\n                            /* :: */[\n                              \"-\",\n                              /* :: */[\n                                result !== 0.0 ? (\n                                    result !== 0.5 && result === 1.0 ? \"Won\" : \"Draw\"\n                                  ) : \"Lost\",\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ], \" \"));\n        }));\n  var avoidListHtml = Utils$Coronate.List.toReactArrayReverse(avoidList, (function (pId) {\n          var match = Belt_Map.get(players, pId);\n          if (match !== undefined) {\n            var match$1 = match;\n            return React.createElement(\"li\", {\n                        key: pId\n                      }, match$1.firstName + (\" \" + match$1.lastName));\n          } else {\n            return null;\n          }\n        }));\n  var rating = React.createElement(React.Fragment, undefined, origRating.toString(), newRating !== undefined ? React.createElement(\"span\", undefined, \" (\", Numeral.default(newRating - origRating | 0).format(\"+0\"), \")\") : null);\n  return {\n          player: player,\n          hasBye: hasBye,\n          colorBalance: colorBalance,\n          score: score,\n          rating: rating,\n          opponentResults: opponentResults$1,\n          avoidListHtml: avoidListHtml\n        };\n}\n\nexport {\n  useSortedTable ,\n  SortButton ,\n  useLoadingCursorUntil ,\n  useScoreInfo ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\n\nvar empty = [];\n\nfunction encode(param) {\n  return Json_encode.array(Data_Match$Coronate.encode, param);\n}\n\nfunction decode(param) {\n  return Json_decode.array(Data_Match$Coronate.decode, param);\n}\n\nfunction size(prim) {\n  return prim.length;\n}\n\nfunction getMatched(round) {\n  return Belt_Array.reduce(round, [], (function (acc, param) {\n                return Belt_Array.concat(acc, [\n                            param.whiteId,\n                            param.blackId\n                          ]);\n              }));\n}\n\nfunction getMatchById(round, id) {\n  return Belt_Array.getBy(round, (function (x) {\n                return x.id === id;\n              }));\n}\n\nfunction removeMatchById(round, id) {\n  return Belt_Array.keep(round, (function (x) {\n                return x.id !== id;\n              }));\n}\n\nfunction setMatch(round, match_) {\n  return Belt_Option.flatMap(Belt_Option.map(Belt_Array.getIndexBy(round, (function (param) {\n                        return param.id === match_.id;\n                      })), (function (x) {\n                    return Belt_Array.set(round, x, match_);\n                  })), (function (wasSuccessful) {\n                if (wasSuccessful) {\n                  return round;\n                }\n                \n              }));\n}\n\nfunction moveMatch(round, matchId, direction) {\n  var match = getMatchById(round, matchId);\n  if (match !== undefined) {\n    var oldIndex = round.indexOf(match);\n    var newIndex = (oldIndex + direction | 0) >= 0 ? oldIndex + direction | 0 : 0;\n    return Utils$Coronate.$$Array.swap(round, oldIndex, newIndex);\n  }\n  \n}\n\nvar Round = {\n  empty: empty,\n  encode: encode,\n  decode: decode,\n  size: size,\n  addMatches: Belt_Array.concat,\n  getMatched: getMatched,\n  getMatchById: getMatchById,\n  removeMatchById: removeMatchById,\n  setMatch: setMatch,\n  moveMatch: moveMatch\n};\n\nvar empty$1 = [[]];\n\nfunction encode$1(param) {\n  return Json_encode.array(encode, param);\n}\n\nfunction decode$1(param) {\n  return Json_decode.array(decode, param);\n}\n\nfunction size$1(prim) {\n  return prim.length;\n}\n\nfunction getLastKey(rounds) {\n  return rounds.length - 1 | 0;\n}\n\nfunction set(rounds, key, round) {\n  var wasSuccessful = Belt_Array.set(rounds, key, round);\n  if (wasSuccessful) {\n    return rounds;\n  }\n  \n}\n\nfunction setMatch$1(rounds, key, match_) {\n  return Belt_Option.flatMap(Belt_Option.flatMap(Belt_Array.get(rounds, key), (function (__x) {\n                    return setMatch(__x, match_);\n                  })), (function (param) {\n                return set(rounds, key, param);\n              }));\n}\n\nfunction rounds2Matches(roundList, lastRound, param) {\n  var rounds = lastRound !== undefined ? Belt_Array.slice(roundList, 0, lastRound + 1 | 0) : roundList;\n  return Belt_Array.reduce(rounds, [], Belt_Array.concat);\n}\n\nfunction isRoundComplete(roundList, players, roundId) {\n  var match = Belt_Array.get(roundList, roundId);\n  if (match !== undefined && roundId >= (roundList.length - 1 | 0)) {\n    var round = match;\n    var matched = getMatched(round);\n    var unmatched = Belt_Map.removeMany(players, matched);\n    var results = Belt_Array.map(round, (function (match_) {\n            return match_.result;\n          }));\n    if (Belt_Map.size(unmatched) === 0) {\n      return !results.includes(/* NotSet */3);\n    } else {\n      return false;\n    }\n  } else {\n    return true;\n  }\n}\n\nfunction addRound(roundList) {\n  return Belt_Array.concat(roundList, [[]]);\n}\n\nfunction delLastRound(roundList) {\n  return roundList.slice(0, -1);\n}\n\nfunction updateByeScores(rounds, byeValue) {\n  return Belt_Array.map(rounds, (function (__x) {\n                return Belt_Array.map(__x, (function (param) {\n                              return Data_Match$Coronate.scoreByeMatch(param, byeValue);\n                            }));\n              }));\n}\n\nvar get = Belt_Array.get;\n\nexport {\n  Round ,\n  empty$1 as empty,\n  encode$1 as encode,\n  decode$1 as decode,\n  size$1 as size,\n  getLastKey ,\n  get ,\n  set ,\n  setMatch$1 as setMatch,\n  rounds2Matches ,\n  isRoundComplete ,\n  addRound ,\n  delLastRound ,\n  updateByeScores ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar config_avoidPairs = Data_Config$Coronate.AvoidPairs.fromArray([\n      /* tuple */[\n        \"BarbaraGordon_cL6SpI2\",\n        \"JamesGordon_1ts9xICT3\"\n      ],\n      /* tuple */[\n        \"Joker_v0z2416fpAZ9o2c\",\n        \"HarleyQuinn_-10-02VPH\"\n      ],\n      /* tuple */[\n        \"HelenaWayne_fE6O0DJcE\",\n        \"BruceWayne_lv_ZsUHTU9\"\n      ]\n    ]);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = [\n  /* tuple */[\n    \"BruceWayne_lv_ZsUHTU9\",\n    {\n      firstName: \"Bruce\",\n      id: \"BruceWayne_lv_ZsUHTU9\",\n      lastName: \"Wayne\",\n      matchCount: 9,\n      rating: 1998,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"DickGrayson_1C2rCokHH\",\n    {\n      firstName: \"Dick\",\n      id: \"DickGrayson_1C2rCokHH\",\n      lastName: \"Grayson\",\n      matchCount: 9,\n      rating: 1909,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"AlfredPennyworth_y4dW\",\n    {\n      firstName: \"Alfred\",\n      id: \"AlfredPennyworth_y4dW\",\n      lastName: \"Pennyworth\",\n      matchCount: 9,\n      rating: 1999,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"BarbaraGordon_cL6SpI2\",\n    {\n      firstName: \"Barbara\",\n      id: \"BarbaraGordon_cL6SpI2\",\n      lastName: \"Gordon\",\n      matchCount: 7,\n      rating: 1345,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"KateKane_klFW6gDfUOTX\",\n    {\n      firstName: \"Kate\",\n      id: \"KateKane_klFW6gDfUOTX\",\n      lastName: \"Kane\",\n      matchCount: 9,\n      rating: 1539,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"SelinaKyle_rJBH-45Xoy\",\n    {\n      firstName: \"Selina\",\n      id: \"SelinaKyle_rJBH-45Xoy\",\n      lastName: \"Kyle\",\n      matchCount: 9,\n      rating: 1495,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JasonTodd_fc9CeOa-Luw\",\n    {\n      firstName: \"Jason\",\n      id: \"JasonTodd_fc9CeOa-Luw\",\n      lastName: \"Todd\",\n      matchCount: 7,\n      rating: 1101,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JamesGordon_1ts9xICT3\",\n    {\n      firstName: \"James\",\n      id: \"JamesGordon_1ts9xICT3\",\n      lastName: \"Gordon\",\n      matchCount: 7,\n      rating: 1167,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HelenaWayne_fE6O0DJcE\",\n    {\n      firstName: \"Helena\",\n      id: \"HelenaWayne_fE6O0DJcE\",\n      lastName: \"Wayne\",\n      matchCount: 7,\n      rating: 1087,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Joker_v0z2416fpAZ9o2c\",\n    {\n      firstName: \"Joker\",\n      id: \"Joker_v0z2416fpAZ9o2c\",\n      lastName: \"\",\n      matchCount: 1,\n      rating: 1538,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HarleyQuinn_-10-02VPH\",\n    {\n      firstName: \"Harley\",\n      id: \"HarleyQuinn_-10-02VPH\",\n      lastName: \"Quinn\",\n      matchCount: 1,\n      rating: 1648,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"VictorFries_cWaQoW014\",\n    {\n      firstName: \"Victor\",\n      id: \"VictorFries_cWaQoW014\",\n      lastName: \"Fries\",\n      matchCount: 1,\n      rating: 862,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"OswaldCobblepot_lfCro\",\n    {\n      firstName: \"Oswald\",\n      id: \"OswaldCobblepot_lfCro\",\n      lastName: \"Cobblepot\",\n      matchCount: 1,\n      rating: 1812,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"RasAlGhul_k9n8k852bHr\",\n    {\n      firstName: \"Ra's\",\n      id: \"RasAlGhul_k9n8k852bHr\",\n      lastName: \"al Ghul\",\n      matchCount: 1,\n      rating: 1404,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"PamelaIsley_vH5vD8uPB\",\n    {\n      firstName: \"Pamela\",\n      id: \"PamelaIsley_vH5vD8uPB\",\n      lastName: \"Isley\",\n      matchCount: 1,\n      rating: 965,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"EdwardNigma_j80JfWOZq\",\n    {\n      firstName: \"Edward\",\n      id: \"EdwardNigma_j80JfWOZq\",\n      lastName: \"Nigma\",\n      matchCount: 1,\n      rating: 948,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"JonathanCrane_R4Q8tVW\",\n    {\n      firstName: \"Jonathan\",\n      id: \"JonathanCrane_R4Q8tVW\",\n      lastName: \"Crane\",\n      matchCount: 1,\n      rating: 899,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HarveyDent_0eYIiP_Ij5\",\n    {\n      firstName: \"Harvey\",\n      id: \"HarveyDent_0eYIiP_Ij5\",\n      lastName: \"Dent\",\n      matchCount: 1,\n      rating: 1649,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"HugoStrange_az43f9mtS\",\n    {\n      firstName: \"Hugo\",\n      id: \"HugoStrange_az43f9mtS\",\n      lastName: \"Strange\",\n      matchCount: 0,\n      rating: 800,\n      type_: /* Person */0\n    }\n  ]\n];\n\nvar tournaments = [\n  /* tuple */[\n    \"CaouTNel9k70jUJ0h6SYM\",\n    {\n      id: \"CaouTNel9k70jUJ0h6SYM\",\n      name: \"Wayne Manor Open\",\n      date: new Date(\"2019-05-22T12:14:47.670Z\"),\n      playerIds: /* :: */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        /* :: */[\n          \"DickGrayson_1C2rCokHH\",\n          /* :: */[\n            \"AlfredPennyworth_y4dW\",\n            /* :: */[\n              \"BarbaraGordon_cL6SpI2\",\n              /* :: */[\n                \"KateKane_klFW6gDfUOTX\",\n                /* :: */[\n                  \"SelinaKyle_rJBH-45Xoy\",\n                  /* :: */[\n                    \"JasonTodd_fc9CeOa-Luw\",\n                    /* :: */[\n                      \"JamesGordon_1ts9xICT3\",\n                      /* :: */[\n                        \"HelenaWayne_fE6O0DJcE\",\n                        /* [] */0\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [\n        [\n          {\n            id: \"FUASEeyES6ez_ROoT6qmU\",\n            whiteId: \"JasonTodd_fc9CeOa-Luw\",\n            blackId: \"DickGrayson_1C2rCokHH\",\n            whiteNewRating: 1236,\n            blackNewRating: 2109,\n            whiteOrigRating: 1238,\n            blackOrigRating: 2108,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"gqPyD66QMPF-pup41xsB2\",\n            whiteId: \"JamesGordon_1ts9xICT3\",\n            blackId: \"AlfredPennyworth_y4dW\",\n            whiteNewRating: 1049,\n            blackNewRating: 2260,\n            whiteOrigRating: 1049,\n            blackOrigRating: 2260,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"KpS1lQSzsQWQ3VVWJyA2P\",\n            whiteId: \"KateKane_klFW6gDfUOTX\",\n            blackId: \"BarbaraGordon_cL6SpI2\",\n            whiteNewRating: 1553,\n            blackNewRating: 1722,\n            whiteOrigRating: 1527,\n            blackOrigRating: 1755,\n            result: /* Draw */2\n          },\n          {\n            id: \"OgFuy-wq8mz378EWat46u\",\n            whiteId: \"SelinaKyle_rJBH-45Xoy\",\n            blackId: \"BruceWayne_lv_ZsUHTU9\",\n            whiteNewRating: 1278,\n            blackNewRating: 1887,\n            whiteOrigRating: 1284,\n            blackOrigRating: 1881,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"f8Ps3GUmd0ZRsBBY8rZOp\",\n            whiteId: \"HelenaWayne_fE6O0DJcE\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 831,\n            blackNewRating: 0,\n            whiteOrigRating: 831,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ],\n        [\n          {\n            id: \"6seKrw7ehbhL766g6L2PF\",\n            whiteId: \"DickGrayson_1C2rCokHH\",\n            blackId: \"KateKane_klFW6gDfUOTX\",\n            whiteNewRating: 2122,\n            blackNewRating: 1672,\n            whiteOrigRating: 2109,\n            blackOrigRating: 1685,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"TCSjz48ZXqjamtYUFNg0B\",\n            whiteId: \"BruceWayne_lv_ZsUHTU9\",\n            blackId: \"HelenaWayne_fE6O0DJcE\",\n            whiteNewRating: 1887,\n            blackNewRating: 830,\n            whiteOrigRating: 1887,\n            blackOrigRating: 831,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"zF64DEsN8sHydpDDsg37E\",\n            whiteId: \"AlfredPennyworth_y4dW\",\n            blackId: \"SelinaKyle_rJBH-45Xoy\",\n            whiteNewRating: 2101,\n            blackNewRating: 1437,\n            whiteOrigRating: 2260,\n            blackOrigRating: 1278,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"qVGt1EJq9y0MmvFtumM0A\",\n            whiteId: \"BarbaraGordon_cL6SpI2\",\n            blackId: \"JasonTodd_fc9CeOa-Luw\",\n            whiteNewRating: 1574,\n            blackNewRating: 1207,\n            whiteOrigRating: 1545,\n            blackOrigRating: 1236,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"UhfHaRWr_-BtVo22xAuJu\",\n            whiteId: \"JamesGordon_1ts9xICT3\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 1049,\n            blackNewRating: 0,\n            whiteOrigRating: 1049,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ],\n        [\n          {\n            id: \"odrOOnZJUe0YAwkfUDqUb\",\n            whiteId: \"AlfredPennyworth_y4dW\",\n            blackId: \"BruceWayne_lv_ZsUHTU9\",\n            whiteNewRating: 1998,\n            blackNewRating: 1990,\n            whiteOrigRating: 2101,\n            blackOrigRating: 1887,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"qzCMqUwNIDAcFSAuA5yCm\",\n            whiteId: \"HelenaWayne_fE6O0DJcE\",\n            blackId: \"DickGrayson_1C2rCokHH\",\n            whiteNewRating: 990,\n            blackNewRating: 2008,\n            whiteOrigRating: 830,\n            blackOrigRating: 2122,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"6QgVqdtcJPjfVp3UZ8S9g\",\n            whiteId: \"SelinaKyle_rJBH-45Xoy\",\n            blackId: \"BarbaraGordon_cL6SpI2\",\n            whiteNewRating: 1529,\n            blackNewRating: 1464,\n            whiteOrigRating: 1437,\n            blackOrigRating: 1574,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"as45gODKMLC5-3_UsTyx5\",\n            whiteId: \"KateKane_klFW6gDfUOTX\",\n            blackId: \"JamesGordon_1ts9xICT3\",\n            whiteNewRating: 1542,\n            blackNewRating: 1244,\n            whiteOrigRating: 1672,\n            blackOrigRating: 1049,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"Pc0CWecSfeGNfvBPjyEIj\",\n            whiteId: \"JasonTodd_fc9CeOa-Luw\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 1207,\n            blackNewRating: 0,\n            whiteOrigRating: 1207,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ],\n        [\n          {\n            id: \"xj0y_Iqkb-g3MDGgmYx2-\",\n            whiteId: \"BruceWayne_lv_ZsUHTU9\",\n            blackId: \"KateKane_klFW6gDfUOTX\",\n            whiteNewRating: 1998,\n            blackNewRating: 1534,\n            whiteOrigRating: 1990,\n            blackOrigRating: 1542,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"HWYWtsyaqUkHRExM6kQrt\",\n            whiteId: \"DickGrayson_1C2rCokHH\",\n            blackId: \"JamesGordon_1ts9xICT3\",\n            whiteNewRating: 2009,\n            blackNewRating: 1243,\n            whiteOrigRating: 2008,\n            blackOrigRating: 1244,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"uAzHZVMC71liQZ-6fWWeD\",\n            whiteId: \"HelenaWayne_fE6O0DJcE\",\n            blackId: \"SelinaKyle_rJBH-45Xoy\",\n            whiteNewRating: 983,\n            blackNewRating: 1534,\n            whiteOrigRating: 990,\n            blackOrigRating: 1529,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"_tCBn9YNIyto-vXpxm7WI\",\n            whiteId: \"JasonTodd_fc9CeOa-Luw\",\n            blackId: \"AlfredPennyworth_y4dW\",\n            whiteNewRating: 1205,\n            blackNewRating: 1999,\n            whiteOrigRating: 1207,\n            blackOrigRating: 1998,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"L7yatE2oVKlV7LOY6-d7Y\",\n            whiteId: \"BarbaraGordon_cL6SpI2\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 1464,\n            blackNewRating: 0,\n            whiteOrigRating: 1464,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ]\n      ]\n    }\n  ],\n  /* tuple */[\n    \"tvAdS4YbSOznrBgrg0ITA\",\n    {\n      id: \"tvAdS4YbSOznrBgrg0ITA\",\n      name: \"The Battle for Gotham City\",\n      date: new Date(\"2019-05-29T12:15:20.593Z\"),\n      playerIds: /* :: */[\n        \"BruceWayne_lv_ZsUHTU9\",\n        /* :: */[\n          \"DickGrayson_1C2rCokHH\",\n          /* :: */[\n            \"AlfredPennyworth_y4dW\",\n            /* :: */[\n              \"BarbaraGordon_cL6SpI2\",\n              /* :: */[\n                \"KateKane_klFW6gDfUOTX\",\n                /* :: */[\n                  \"SelinaKyle_rJBH-45Xoy\",\n                  /* :: */[\n                    \"JasonTodd_fc9CeOa-Luw\",\n                    /* :: */[\n                      \"JamesGordon_1ts9xICT3\",\n                      /* :: */[\n                        \"HelenaWayne_fE6O0DJcE\",\n                        /* :: */[\n                          \"Joker_v0z2416fpAZ9o2c\",\n                          /* :: */[\n                            \"HarleyQuinn_-10-02VPH\",\n                            /* :: */[\n                              \"VictorFries_cWaQoW014\",\n                              /* :: */[\n                                \"OswaldCobblepot_lfCro\",\n                                /* :: */[\n                                  \"RasAlGhul_k9n8k852bHr\",\n                                  /* :: */[\n                                    \"PamelaIsley_vH5vD8uPB\",\n                                    /* :: */[\n                                      \"EdwardNigma_j80JfWOZq\",\n                                      /* :: */[\n                                        \"JonathanCrane_R4Q8tVW\",\n                                        /* :: */[\n                                          \"HarveyDent_0eYIiP_Ij5\",\n                                          /* [] */0\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [\n        [\n          {\n            id: \"5f8GYcR8V44NYvTN1cZle\",\n            whiteId: \"EdwardNigma_j80JfWOZq\",\n            blackId: \"BruceWayne_lv_ZsUHTU9\",\n            whiteNewRating: 948,\n            blackNewRating: 1998,\n            whiteOrigRating: 950,\n            blackOrigRating: 1998,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"GPTct4sL368SryTLFUu8E\",\n            whiteId: \"JonathanCrane_R4Q8tVW\",\n            blackId: \"AlfredPennyworth_y4dW\",\n            whiteNewRating: 899,\n            blackNewRating: 1999,\n            whiteOrigRating: 900,\n            blackOrigRating: 1999,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"AxtoztZ6O19nyrLfZ4YaU\",\n            whiteId: \"HarveyDent_0eYIiP_Ij5\",\n            blackId: \"DickGrayson_1C2rCokHH\",\n            whiteNewRating: 1649,\n            blackNewRating: 1909,\n            whiteOrigRating: 850,\n            blackOrigRating: 2009,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"bUM_tWQsAtPe1gqRzlXd1\",\n            whiteId: \"RasAlGhul_k9n8k852bHr\",\n            blackId: \"SelinaKyle_rJBH-45Xoy\",\n            whiteNewRating: 1404,\n            blackNewRating: 1495,\n            whiteOrigRating: 1050,\n            blackOrigRating: 1534,\n            result: /* Draw */2\n          },\n          {\n            id: \"bAOVlP-M5xaPk1qofNReb\",\n            whiteId: \"OswaldCobblepot_lfCro\",\n            blackId: \"BarbaraGordon_cL6SpI2\",\n            whiteNewRating: 1812,\n            blackNewRating: 1345,\n            whiteOrigRating: 1100,\n            blackOrigRating: 1464,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"4omlgiGSaE1BmrHdABSym\",\n            whiteId: \"PamelaIsley_vH5vD8uPB\",\n            blackId: \"KateKane_klFW6gDfUOTX\",\n            whiteNewRating: 965,\n            blackNewRating: 1539,\n            whiteOrigRating: 1000,\n            blackOrigRating: 1534,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"ysdEVYS2AyuKyOAwLLpTF\",\n            whiteId: \"HarleyQuinn_-10-02VPH\",\n            blackId: \"JamesGordon_1ts9xICT3\",\n            whiteNewRating: 1648,\n            blackNewRating: 1167,\n            whiteOrigRating: 1200,\n            blackOrigRating: 1242,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"YoJ9WGokAYrmJjfxCCf87\",\n            whiteId: \"VictorFries_cWaQoW014\",\n            blackId: \"Joker_v0z2416fpAZ9o2c\",\n            whiteNewRating: 862,\n            blackNewRating: 1538,\n            whiteOrigRating: 1150,\n            blackOrigRating: 1250,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"Az7SBl3cs7rbwKPBI0IsU\",\n            whiteId: \"HelenaWayne_fE6O0DJcE\",\n            blackId: \"JasonTodd_fc9CeOa-Luw\",\n            whiteNewRating: 1087,\n            blackNewRating: 1101,\n            whiteOrigRating: 983,\n            blackOrigRating: 1205,\n            result: /* WhiteWon */0\n          }\n        ],\n        Data_Rounds$Coronate.Round.empty\n      ]\n    }\n  ]\n];\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data_Rounds.bs.js\";\n\nfunction decode(json) {\n  var partial_arg_001 = /* :: */[\n    (function (prim) {\n        return prim;\n      }),\n    /* [] */0\n  ];\n  var partial_arg = /* :: */[\n    Json_decode.date,\n    partial_arg_001\n  ];\n  return {\n          id: Json_decode.field(\"id\", Data_Id$Coronate.decode, json),\n          name: Json_decode.field(\"name\", Json_decode.string, json),\n          date: Json_decode.field(\"date\", (function (param) {\n                  return Json_decode.oneOf(partial_arg, param);\n                }), json),\n          playerIds: Json_decode.field(\"playerIds\", (function (param) {\n                  return Json_decode.list(Data_Id$Coronate.decode, param);\n                }), json),\n          byeQueue: Json_decode.field(\"byeQueue\", (function (param) {\n                  return Json_decode.array(Data_Id$Coronate.decode, param);\n                }), json),\n          tieBreaks: Json_decode.field(\"tieBreaks\", (function (param) {\n                  return Json_decode.array(Scoring$Coronate.TieBreak.decode, param);\n                }), json),\n          roundList: Json_decode.field(\"roundList\", Data_Rounds$Coronate.decode, json)\n        };\n}\n\nfunction encode(data) {\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"id\",\n                Data_Id$Coronate.encode(data.id)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"name\",\n                  data.name\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"date\",\n                    Json_encode.date(data.date)\n                  ],\n                  /* :: */[\n                    /* tuple */[\n                      \"playerIds\",\n                      Json_encode.list(Data_Id$Coronate.encode, data.playerIds)\n                    ],\n                    /* :: */[\n                      /* tuple */[\n                        \"byeQueue\",\n                        Json_encode.array(Data_Id$Coronate.encode, data.byeQueue)\n                      ],\n                      /* :: */[\n                        /* tuple */[\n                          \"tieBreaks\",\n                          Json_encode.array(Scoring$Coronate.TieBreak.encode, data.tieBreaks)\n                        ],\n                        /* :: */[\n                          /* tuple */[\n                            \"roundList\",\n                            Data_Rounds$Coronate.encode(data.roundList)\n                          ],\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nexport {\n  encode ,\n  decode ,\n  \n}\n/* Data_Id-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Set from \"bs-platform/lib/es6/belt_Set.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Localforage from \"localforage\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as Record$LocalForage from \"@johnridesabike/bs-localforage/src/Record.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction func(prim, prim$1, prim$2, prim$3, prim$4, prim$5, prim$6) {\n  var tmp = {\n    name: prim$2,\n    storeName: prim$4\n  };\n  if (prim !== undefined) {\n    tmp.description = Caml_option.valFromOption(prim);\n  }\n  if (prim$1 !== undefined) {\n    tmp.driver = Caml_option.valFromOption(prim$1);\n  }\n  if (prim$3 !== undefined) {\n    tmp.size = Caml_option.valFromOption(prim$3);\n  }\n  if (prim$5 !== undefined) {\n    tmp.version = Caml_option.valFromOption(prim$5);\n  }\n  return tmp;\n}\n\nvar configDb = Record$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Options\", undefined, /* () */0), {\n      decode: Data_Config$Coronate.decode,\n      encode: Data_Config$Coronate.encode\n    });\n\nvar players = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Players\", undefined, /* () */0), {\n      decode: Data_Player$Coronate.decode,\n      encode: Data_Player$Coronate.encode\n    });\n\nvar tournaments = Map$LocalForage.make(func(undefined, undefined, \"Coronate\", undefined, \"Tournaments\", undefined, /* () */0), {\n      decode: Data_Tournament$Coronate.decode,\n      encode: Data_Tournament$Coronate.encode\n    });\n\nfunction loadDemoDB(param) {\n  ((document.body.style.cursor = \"wait\"));\n  return $$Promise.get($$Promise.Js.$$catch($$Promise.Js.fromBsPromise(Promise.all(/* tuple */[\n                          Record$LocalForage.set(configDb, DemoData$Coronate.config),\n                          Map$LocalForage.setItems(players, DemoData$Coronate.players),\n                          Map$LocalForage.setItems(tournaments, DemoData$Coronate.tournaments)\n                        ])), (function (param) {\n                    ((document.body.style.cursor = \"auto\"));\n                    console.error(\"Couldn't load demo data.\");\n                    return $$Promise.resolved(/* tuple */[\n                                /* () */0,\n                                /* () */0,\n                                /* () */0\n                              ]);\n                  })), (function (param) {\n                ((document.body.style.cursor = \"auto\"));\n                return Utils$Coronate.alert(\"Demo data loaded!\");\n              }));\n}\n\nfunction genericDbReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* Del */0 :\n        return Belt_Map.remove(state, action[0]);\n    case /* Set */1 :\n        return Belt_Map.set(state, action[0], action[1]);\n    case /* SetAll */2 :\n        return action[0];\n    \n  }\n}\n\nfunction useAllDb(store) {\n  var match = React.useReducer(genericDbReducer, Data_Id$Coronate.$$Map.make(/* () */0));\n  var dispatch = match[1];\n  var items = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setLoaded = match$1[1];\n  var loaded = match$1[0];\n  Hooks$Coronate.useLoadingCursorUntil(loaded);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getAllItems(store))), (function (results) {\n                      if (didCancel.contents) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetAll */Block.__(2, [Data_Id$Coronate.$$Map.fromStringArray(results)]));\n                        return Curry._1(setLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (error) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    console.error(error);\n                    Localforage.clear();\n                    return Curry._1(setLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (loaded) {\n            $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.setItems(store, Data_Id$Coronate.$$Map.toStringArray(items)))), (function (param) {\n                    return $$Promise.getOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getKeys(store))), (function (keys) {\n                                  var stateKeys = Belt_Map.keysToArray(items);\n                                  var deleted = keys.filter((function (x) {\n                                          return !stateKeys.includes(x);\n                                        }));\n                                  if (deleted.length !== 0) {\n                                    Map$LocalForage.removeItems(store, deleted);\n                                    return /* () */0;\n                                  } else {\n                                    return 0;\n                                  }\n                                }));\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        items,\n        loaded\n      ]);\n  return {\n          items: items,\n          dispatch: dispatch,\n          loaded: loaded\n        };\n}\n\nfunction useAllPlayers(param) {\n  return useAllDb(players);\n}\n\nfunction useAllTournaments(param) {\n  return useAllDb(tournaments);\n}\n\nfunction configReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* AddAvoidPair */0 :\n        return {\n                avoidPairs: Belt_Set.add(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidPair */1 :\n        return {\n                avoidPairs: Belt_Set.remove(state.avoidPairs, action[0]),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* DelAvoidSingle */2 :\n        var id = action[0];\n        return {\n                avoidPairs: Belt_Set.reduce(state.avoidPairs, Data_Config$Coronate.AvoidPairs.empty, (function (acc, param) {\n                        var p2 = param[1];\n                        var p1 = param[0];\n                        if (p1 === id || p2 === id) {\n                          return acc;\n                        } else {\n                          return Belt_Set.add(acc, /* tuple */[\n                                      p1,\n                                      p2\n                                    ]);\n                        }\n                      })),\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetAvoidPairs */3 :\n        return {\n                avoidPairs: action[0],\n                byeValue: state.byeValue,\n                lastBackup: state.lastBackup\n              };\n    case /* SetByeValue */4 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: action[0],\n                lastBackup: state.lastBackup\n              };\n    case /* SetState */5 :\n        return action[0];\n    case /* SetLastBackup */6 :\n        return {\n                avoidPairs: state.avoidPairs,\n                byeValue: state.byeValue,\n                lastBackup: action[0]\n              };\n    \n  }\n}\n\nfunction useConfig(param) {\n  var match = React.useReducer(configReducer, Data_Config$Coronate.$$default);\n  var dispatch = match[1];\n  var config = match[0];\n  var match$1 = React.useState((function () {\n          return false;\n        }));\n  var setIsLoaded = match$1[1];\n  var isLoaded = match$1[0];\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Record$LocalForage.get(configDb))), (function (values) {\n                      if (didCancel.contents) {\n                        return 0;\n                      } else {\n                        Curry._1(dispatch, /* SetState */Block.__(5, [values]));\n                        return Curry._1(setIsLoaded, (function (param) {\n                                      return true;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    Localforage.clear();\n                    Curry._1(dispatch, /* SetState */Block.__(5, [Data_Config$Coronate.$$default]));\n                    return Curry._1(setIsLoaded, (function (param) {\n                                  return true;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), ([]));\n  React.useEffect((function () {\n          if (isLoaded) {\n            Record$LocalForage.set(configDb, config);\n          }\n          return ;\n        }), /* tuple */[\n        config,\n        isLoaded\n      ]);\n  return /* tuple */[\n          config,\n          dispatch\n        ];\n}\n\nexport {\n  loadDemoDB ,\n  tournaments ,\n  useAllPlayers ,\n  useAllTournaments ,\n  useConfig ,\n  \n}\n/* configDb Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as React$1 from \"simple-icons/icons/react\";\nimport * as Reason from \"simple-icons/icons/reason\";\n\nvar Activity = { };\n\nvar Alert = { };\n\nvar ArrowDown = { };\n\nvar ArrowLeft = { };\n\nvar ArrowUp = { };\n\nvar Award = { };\n\nvar Check = { };\n\nvar CheckCircle = { };\n\nvar ChevronDown = { };\n\nvar ChevronLeft = { };\n\nvar ChevronRight = { };\n\nvar ChevronUp = { };\n\nvar Circle = { };\n\nvar Clock = { };\n\nvar Download = { };\n\nvar Edit = { };\n\nvar Help = { };\n\nvar Info = { };\n\nvar Layers = { };\n\nvar List = { };\n\nvar Plus = { };\n\nvar Repeat = { };\n\nvar Settings = { };\n\nvar Sidebar = { };\n\nvar Trash = { };\n\nvar Unfullscreen = { };\n\nvar UserMinus = { };\n\nvar UserPlus = { };\n\nvar Users = { };\n\nvar X = { };\n\nfunction SimpleIcon(IconData) {\n  var Icons$SimpleIcon = function (Props) {\n    var heightOpt = Props.height;\n    var widthOpt = Props.width;\n    var classNameOpt = Props.className;\n    var styleOpt = Props.style;\n    var ariaLabelOpt = Props.ariaLabel;\n    var ariaHiddenOpt = Props.ariaHidden;\n    var height = heightOpt !== undefined ? heightOpt : \"24\";\n    var width = widthOpt !== undefined ? widthOpt : \"24\";\n    var className = classNameOpt !== undefined ? classNameOpt : \"\";\n    var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n    var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n    var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n    return React.createElement(\"svg\", {\n                \"aria-hidden\": ariaHidden,\n                \"aria-label\": ariaLabel,\n                className: className,\n                role: \"img\",\n                style: ReactDOMRe.Style.combine({\n                      fill: \"#\" + IconData.icon.hex\n                    }, style),\n                height: height,\n                width: width,\n                viewBox: \"0 0 24 24\"\n              }, React.createElement(\"path\", {\n                    d: IconData.icon.path\n                  }));\n  };\n  Icons$SimpleIcon.displayName = IconData.icon.title;\n  return {\n          make: Icons$SimpleIcon\n        };\n}\n\nvar IconData = {\n  icon: Reason.default\n};\n\nfunction Icons$SimpleIcon(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine({\n                    fill: \"#\" + IconData.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData.icon.path\n                }));\n}\n\nIcons$SimpleIcon.displayName = IconData.icon.title;\n\nvar Reason$1 = {\n  make: Icons$SimpleIcon\n};\n\nvar IconData$1 = {\n  icon: React$1.default\n};\n\nfunction Icons$SimpleIcon$1(Props) {\n  var heightOpt = Props.height;\n  var widthOpt = Props.width;\n  var classNameOpt = Props.className;\n  var styleOpt = Props.style;\n  var ariaLabelOpt = Props.ariaLabel;\n  var ariaHiddenOpt = Props.ariaHidden;\n  var height = heightOpt !== undefined ? heightOpt : \"24\";\n  var width = widthOpt !== undefined ? widthOpt : \"24\";\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  var ariaLabel = ariaLabelOpt !== undefined ? ariaLabelOpt : IconData$1.icon.title + \" Icon\";\n  var ariaHidden = ariaHiddenOpt !== undefined ? ariaHiddenOpt : false;\n  return React.createElement(\"svg\", {\n              \"aria-hidden\": ariaHidden,\n              \"aria-label\": ariaLabel,\n              className: className,\n              role: \"img\",\n              style: ReactDOMRe.Style.combine({\n                    fill: \"#\" + IconData$1.icon.hex\n                  }, style),\n              height: height,\n              width: width,\n              viewBox: \"0 0 24 24\"\n            }, React.createElement(\"path\", {\n                  d: IconData$1.icon.path\n                }));\n}\n\nIcons$SimpleIcon$1.displayName = IconData$1.icon.title;\n\nvar React$2 = {\n  make: Icons$SimpleIcon$1\n};\n\nfunction Icons$Close(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Close = {\n  make: Icons$Close\n};\n\nfunction Icons$Maximize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 0v11H0V0h11zM9.899 1.101H1.1V9.9H9.9V1.1z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Maximize = {\n  make: Icons$Maximize\n};\n\nfunction Icons$Minimize(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 4.399V5.5H0V4.399h11z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Minimize = {\n  make: Icons$Minimize\n};\n\nfunction Icons$Restore(Props) {\n  var classNameOpt = Props.className;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  return React.createElement(\"svg\", {\n              className: className,\n              height: \"11\",\n              width: \"11\",\n              fill: \"none\",\n              viewBox: \"0 0 11 11\",\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: \"M11 8.798H8.798V11H0V2.202h2.202V0H11v8.798zm-3.298-5.5h-6.6v6.6h6.6v-6.6zM9.9 1.1H3.298v1.101h5.5v5.5h1.1v-6.6z\",\n                  fill: \"#000\"\n                }));\n}\n\nvar Restore = {\n  make: Icons$Restore\n};\n\nexport {\n  Activity ,\n  Alert ,\n  ArrowDown ,\n  ArrowLeft ,\n  ArrowUp ,\n  Award ,\n  Check ,\n  CheckCircle ,\n  ChevronDown ,\n  ChevronLeft ,\n  ChevronRight ,\n  ChevronUp ,\n  Circle ,\n  Clock ,\n  Download ,\n  Edit ,\n  Help ,\n  Info ,\n  Layers ,\n  List ,\n  Plus ,\n  Repeat ,\n  Settings ,\n  Sidebar ,\n  Trash ,\n  Unfullscreen ,\n  UserMinus ,\n  UserPlus ,\n  Users ,\n  X ,\n  SimpleIcon ,\n  Reason$1 as Reason,\n  React$2 as React,\n  Close ,\n  Maximize ,\n  Minimize ,\n  Restore ,\n  \n}\n/* IconData Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\n\nfunction fromPath(param) {\n  if (param) {\n    switch (param[0]) {\n      case \"\" :\n          if (param[1]) {\n            return ;\n          } else {\n            return /* Players */0;\n          }\n      case \"crosstable\" :\n          if (param[1]) {\n            return ;\n          } else {\n            return /* Crosstable */2;\n          }\n      case \"round\" :\n          var match = param[1];\n          if (match && !match[1]) {\n            var match$1 = Belt_Int.fromString(match[0]);\n            if (match$1 !== undefined) {\n              return /* Round */[match$1];\n            } else {\n              return ;\n            }\n          } else {\n            return ;\n          }\n      case \"scores\" :\n          if (param[1]) {\n            return ;\n          } else {\n            return /* Scores */1;\n          }\n      case \"setup\" :\n          if (param[1]) {\n            return ;\n          } else {\n            return /* Setup */3;\n          }\n      case \"status\" :\n          if (param[1]) {\n            return ;\n          } else {\n            return /* Status */4;\n          }\n      default:\n        return ;\n    }\n  } else {\n    return /* Players */0;\n  }\n}\n\nfunction toString(id, subPage) {\n  if (typeof subPage === \"number\") {\n    switch (subPage) {\n      case /* Players */0 :\n          return Utils$Coronate.$$String.concat(/* :: */[\n                      id,\n                      /* :: */[\n                        \"\",\n                        /* [] */0\n                      ]\n                    ], \"/\");\n      case /* Scores */1 :\n          return Utils$Coronate.$$String.concat(/* :: */[\n                      id,\n                      /* :: */[\n                        \"scores\",\n                        /* [] */0\n                      ]\n                    ], \"/\");\n      case /* Crosstable */2 :\n          return Utils$Coronate.$$String.concat(/* :: */[\n                      id,\n                      /* :: */[\n                        \"crosstable\",\n                        /* [] */0\n                      ]\n                    ], \"/\");\n      case /* Setup */3 :\n          return Utils$Coronate.$$String.concat(/* :: */[\n                      id,\n                      /* :: */[\n                        \"setup\",\n                        /* [] */0\n                      ]\n                    ], \"/\");\n      case /* Status */4 :\n          return Utils$Coronate.$$String.concat(/* :: */[\n                      id,\n                      /* :: */[\n                        \"status\",\n                        /* [] */0\n                      ]\n                    ], \"/\");\n      \n    }\n  } else {\n    return Utils$Coronate.$$String.concat(/* :: */[\n                id,\n                /* :: */[\n                  \"round\",\n                  /* :: */[\n                    String(subPage[0]),\n                    /* [] */0\n                  ]\n                ]\n              ], \"/\");\n  }\n}\n\nfunction toString$1(param) {\n  if (typeof param === \"number\") {\n    switch (param) {\n      case /* TournamentList */1 :\n          return \"/tourneys\";\n      case /* PlayerList */2 :\n          return \"/players\";\n      case /* TimeCalculator */3 :\n          return \"/timecalc\";\n      case /* Options */4 :\n          return \"/options\";\n      case /* Index */0 :\n      case /* NotFound */5 :\n          return \"/\";\n      \n    }\n  } else if (param.tag) {\n    return \"/players/\" + param[0];\n  } else {\n    return \"/tourneys/\" + toString(param[0], param[1]);\n  }\n}\n\nfunction useHashUrl(param) {\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var param$1 = Belt_List.fromArray(Utils$Coronate.$$String.split(match.hash, \"/\"));\n  if (param$1 && param$1[0] === \"\") {\n    var match$1 = param$1[1];\n    if (match$1) {\n      switch (match$1[0]) {\n        case \"\" :\n            if (match$1[1]) {\n              return /* NotFound */5;\n            } else {\n              return /* Index */0;\n            }\n        case \"options\" :\n            if (match$1[1]) {\n              return /* NotFound */5;\n            } else {\n              return /* Options */4;\n            }\n        case \"players\" :\n            var match$2 = match$1[1];\n            if (match$2) {\n              if (match$2[1]) {\n                return /* NotFound */5;\n              } else {\n                return /* Player */Block.__(1, [match$2[0]]);\n              }\n            } else {\n              return /* PlayerList */2;\n            }\n        case \"timecalc\" :\n            if (match$1[1]) {\n              return /* NotFound */5;\n            } else {\n              return /* TimeCalculator */3;\n            }\n        case \"tourneys\" :\n            var match$3 = match$1[1];\n            if (match$3) {\n              var match$4 = fromPath(match$3[1]);\n              if (match$4 !== undefined) {\n                return /* Tournament */Block.__(0, [\n                          match$3[0],\n                          match$4\n                        ]);\n              } else {\n                return /* NotFound */5;\n              }\n            } else {\n              return /* TournamentList */1;\n            }\n        default:\n          return /* NotFound */5;\n      }\n    } else {\n      return /* Index */0;\n    }\n  } else {\n    return /* NotFound */5;\n  }\n}\n\nfunction Router$HashLink(Props) {\n  var children = Props.children;\n  var to_ = Props.to_;\n  var onDragStart = Props.onDragStart;\n  var match = ReasonReactRouter.useUrl(undefined, /* () */0);\n  var hash = match.hash;\n  var href = toString$1(to_);\n  var isCurrent = href === \"/\" ? hash === \"\" || hash === href : hash === href;\n  return React.createElement(\"a\", {\n              \"aria-current\": isCurrent,\n              href: \"#\" + href,\n              onDragStart: onDragStart\n            }, children);\n}\n\nvar HashLink = {\n  make: Router$HashLink\n};\n\nvar Tourney = { };\n\nexport {\n  Tourney ,\n  useHashUrl ,\n  HashLink ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nvar match = window.require;\n\nvar electron = match !== undefined ? Curry._1(match, \"electron\") : undefined;\n\nfunction ifElectron(fn) {\n  if (electron !== undefined) {\n    return Caml_option.some(Curry._1(fn, Caml_option.valFromOption(electron)));\n  }\n  \n}\n\nvar currentWindow = ifElectron((function (electron) {\n        return electron.remote.getCurrentWindow();\n      }));\n\nfunction openInBrowser($$event) {\n  ifElectron((function (electron) {\n          $$event.preventDefault();\n          return electron.shell.openExternal($$event.target.href);\n        }));\n  return /* () */0;\n}\n\nfunction toggleMaximize($$window) {\n  if ($$window.isMaximized()) {\n    $$window.unmaximize();\n    return /* () */0;\n  } else {\n    $$window.maximize();\n    return /* () */0;\n  }\n}\n\nfunction macOSDoubleClick($$event) {\n  ifElectron((function (electron) {\n          var target = $$event.target;\n          if (target.className.includes && Utils$Coronate.$$String.includes(target.className, \"double-click-control\")) {\n            var doubleClickAction = electron.remote.systemPreferences.getUserDefault(\"AppleActionOnDoubleClick\", \"string\");\n            var $$window = electron.remote.getCurrentWindow();\n            switch (doubleClickAction) {\n              case \"Maximize\" :\n                  return toggleMaximize($$window);\n              case \"Minimize\" :\n                  $$window.minimize();\n                  return /* () */0;\n              default:\n                return /* () */0;\n            }\n          } else {\n            return 0;\n          }\n        }));\n  return /* () */0;\n}\n\nvar isWin = Utils$Coronate.$$String.includes(navigator.appVersion, \"Windows\");\n\nvar isMac = Utils$Coronate.$$String.includes(navigator.appVersion, \"Mac\");\n\nvar isElectron = electron !== undefined;\n\nfunction Electron$IfElectron(Props) {\n  var children = Props.children;\n  var os = Props.os;\n  var isThisTheRightOs = os ? isMac : isWin;\n  if (electron !== undefined && isThisTheRightOs) {\n    return Curry._1(children, Caml_option.valFromOption(electron));\n  } else {\n    return null;\n  }\n}\n\nvar IfElectron = {\n  make: Electron$IfElectron\n};\n\nexport {\n  electron ,\n  ifElectron ,\n  currentWindow ,\n  openInBrowser ,\n  toggleMaximize ,\n  macOSDoubleClick ,\n  isWin ,\n  isMac ,\n  isElectron ,\n  IfElectron ,\n  \n}\n/* match Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Dialog from \"@reach/dialog\";\n\nvar $$FileReader = { };\n\nvar VisuallyHidden = { };\n\nfunction Externals$Dialog(Props) {\n  var isOpen = Props.isOpen;\n  var onDismiss = Props.onDismiss;\n  var ariaLabel = Props.ariaLabel;\n  var children = Props.children;\n  var styleOpt = Props.style;\n  var style = styleOpt !== undefined ? Caml_option.valFromOption(styleOpt) : ({ });\n  return React.createElement(Dialog.Dialog, {\n              isOpen: isOpen,\n              onDismiss: onDismiss,\n              style: style,\n              \"aria-label\": ariaLabel,\n              children: children\n            });\n}\n\nvar Dialog$1 = {\n  make: Externals$Dialog\n};\n\nvar Tabs = { };\n\nvar TabList = { };\n\nvar Tab = { };\n\nvar TabPanels = { };\n\nvar TabPanel = { };\n\nvar ReachTabs = {\n  Tabs: Tabs,\n  TabList: TabList,\n  Tab: Tab,\n  TabPanels: TabPanels,\n  TabPanel: TabPanel\n};\n\nexport {\n  $$FileReader ,\n  VisuallyHidden ,\n  Dialog$1 as Dialog,\n  ReachTabs ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar global_title = \"Coronate\";\n\nfunction formatTitle(title) {\n  if (title === \"\") {\n    return global_title;\n  } else {\n    return Utils$Coronate.$$String.concat(/* :: */[\n                title,\n                /* :: */[\n                  global_title,\n                  /* [] */0\n                ]\n              ], \" - \");\n  }\n}\n\nfunction windowReducer(state, action) {\n  switch (action.tag | 0) {\n    case /* SetBlur */0 :\n        return {\n                isBlur: action[0],\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetDialog */1 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: action[0],\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetFullScreen */2 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: action[0],\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetMaximized */3 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: action[0],\n                isSidebarOpen: state.isSidebarOpen,\n                title: state.title\n              };\n    case /* SetSidebar */4 :\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: action[0],\n                title: state.title\n              };\n    case /* SetTitle */5 :\n        var title = action[0];\n        document.title = formatTitle(title);\n        return {\n                isBlur: state.isBlur,\n                isDialogOpen: state.isDialogOpen,\n                isFullScreen: state.isFullScreen,\n                isMaximized: state.isMaximized,\n                isSidebarOpen: state.isSidebarOpen,\n                title: title\n              };\n    \n  }\n}\n\nfunction Window$About(Props) {\n  var match = process.env.REACT_APP_VERSION;\n  return React.createElement(\"article\", {\n              style: {\n                display: \"flex\",\n                width: \"100%\",\n                justifyContent: \"space-between\"\n              }\n            }, React.createElement(\"div\", {\n                  style: {\n                    textAlign: \"center\",\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"img\", {\n                      alt: \"\",\n                      height: \"196\",\n                      src: Utils$Coronate.WebpackAssets.logo,\n                      width: \"196\"\n                    })), React.createElement(\"div\", {\n                  style: {\n                    flex: \"0 0 48%\"\n                  }\n                }, React.createElement(\"h1\", {\n                      className: \"title\",\n                      style: {\n                        textAlign: \"left\"\n                      }\n                    }, \"Coronate\"), match !== undefined ? React.createElement(\"p\", undefined, \"Version \" + match) : null, React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat(/* :: */[\n                          \"Copyright \",\n                          /* :: */[\n                            Utils$Coronate.Entities.copy,\n                            /* :: */[\n                              \" 2020 John\",\n                              /* :: */[\n                                Utils$Coronate.Entities.nbsp,\n                                /* :: */[\n                                  \"Jackson\",\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ], \"\")), React.createElement(\"p\", undefined, \"Coronate is free software.\"), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                          href: Utils$Coronate.github_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"Source code is available\"), React.createElement(\"br\", undefined), \" under the \", React.createElement(\"a\", {\n                          href: Utils$Coronate.license_url,\n                          onClick: Electron$Coronate.openInBrowser\n                        }, \"AGPL v3.0 license\"), \".\")));\n}\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.height(/* `calc */[\n            -1044768619,\n            /* tuple */[\n              /* add */4846113,\n              /* `percent */[\n                -119887163,\n                100.0\n              ],\n              /* `px */[\n                25096,\n                8\n              ]\n            ]\n          ]),\n      /* :: */[\n        Css.margin(/* `px */[\n              25096,\n              -4\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar button = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.fontSize(/* `px */[\n              25096,\n              11\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* :: */[\n            Css.width(/* `px */[\n                  25096,\n                  46\n                ]),\n            /* :: */[\n              Css.height(/* `percent */[\n                    -119887163,\n                    100.0\n                  ]),\n              /* :: */[\n                Css.borderRadius(/* zero */-789508312),\n                /* :: */[\n                  Css.backgroundColor(/* transparent */582626130),\n                  /* :: */[\n                    Css.width(/* `px */[\n                          25096,\n                          46\n                        ]),\n                    /* :: */[\n                      Css.minWidth(/* `px */[\n                            25096,\n                            46\n                          ]),\n                      /* :: */[\n                        Css.focus(/* :: */[\n                              Css.borderStyle(/* none */-922086728),\n                              /* :: */[\n                                Css.boxShadow(/* none */-922086728),\n                                /* :: */[\n                                  Css.outlineStyle(/* none */-922086728),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]),\n                        /* :: */[\n                          Css.selector(\" svg\", /* :: */[\n                                Css.display(/* inline */423610969),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar svg = Curry._1(Css.style, /* :: */[\n      Css.display(/* inline */423610969),\n      /* :: */[\n        Css.unsafe(\"shapeRendering\", \"crispEdges\"),\n        /* [] */0\n      ]\n    ]);\n\nvar close = Curry._1(Css.style, /* :: */[\n      Css.hover(/* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.red_50),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nfunction Window$MSWindowsControls(Props) {\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var electron = Props.electron;\n  var $$window = electron.remote.getCurrentWindow();\n  return React.createElement(\"div\", {\n              className: container\n            }, React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          \"button-ghost1\",\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.minimize();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Minimize.make, {\n                      className: svg\n                    })), isFullScreen ? React.createElement(\"button\", {\n                    className: button,\n                    onClick: (function (param) {\n                        $$window.setFullScreen(false);\n                        return /* () */0;\n                      })\n                  }, React.createElement(ReactFeather.Minimize2, {\n                        className: svg\n                      })) : (\n                isMaximized ? React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.unmaximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Restore.make, {\n                            className: svg\n                          })) : React.createElement(\"button\", {\n                        className: button,\n                        onClick: (function (param) {\n                            $$window.maximize();\n                            return /* () */0;\n                          })\n                      }, React.createElement(Icons$Coronate.Maximize.make, {\n                            className: svg\n                          }))\n              ), React.createElement(\"button\", {\n                  className: Cn.make(/* :: */[\n                        button,\n                        /* :: */[\n                          close,\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      $$window.close();\n                      return /* () */0;\n                    })\n                }, React.createElement(Icons$Coronate.Close.make, {\n                      className: svg\n                    })));\n}\n\nvar button$1 = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* [] */0\n    ]);\n\nvar isElectronMac = Electron$Coronate.isMac && Electron$Coronate.isElectron;\n\nvar toolbarClasses = Cn.make(/* :: */[\n      button$1,\n      /* :: */[\n        Cn.ifTrue(\"macos-button-toolbar\", isElectronMac),\n        /* :: */[\n          Cn.ifTrue(\"button-ghost\", !isElectronMac),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction Window$TitleBar(Props) {\n  var isBlur = Props.isBlur;\n  var isFullScreen = Props.isFullScreen;\n  var isMaximized = Props.isMaximized;\n  var isSidebarOpen = Props.isSidebarOpen;\n  var title = Props.title;\n  var dispatch = Props.dispatch;\n  return React.createElement(\"header\", {\n              className: Cn.make(/* :: */[\n                    \"app__header\",\n                    /* :: */[\n                      \"double-click-control\",\n                      /* :: */[\n                        Cn.ifTrue(\"traffic-light-padding\", isElectronMac && !isFullScreen),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              onDoubleClick: Electron$Coronate.macOSDoubleClick\n            }, React.createElement(\"div\", undefined, React.createElement(Electron$Coronate.IfElectron.make, {\n                      children: (function (param) {\n                          return React.createElement(\"span\", {\n                                      style: {\n                                        display: \"inline-flex\",\n                                        marginRight: \"8px\",\n                                        marginLeft: \"4px\",\n                                        alignItems: \"center\"\n                                      }\n                                    }, React.createElement(\"img\", {\n                                          alt: \"\",\n                                          height: \"16\",\n                                          src: Utils$Coronate.WebpackAssets.logo,\n                                          width: \"16\"\n                                        }));\n                        }),\n                      os: /* Windows */0\n                    }), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetSidebar */Block.__(4, [!isSidebarOpen]));\n                        })\n                    }, React.createElement(ReactFeather.Sidebar, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"Toggle sidebar\"\n                        })), React.createElement(\"button\", {\n                      className: toolbarClasses,\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [true]));\n                        })\n                    }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(VisuallyHidden.default, {\n                          children: \"About Coronate\"\n                        }))), React.createElement(\"div\", {\n                  className: Cn.make(/* :: */[\n                        \"body-20\",\n                        /* :: */[\n                          \"double-click-control\",\n                          /* :: */[\n                            Cn.ifTrue(\"disabled\", isBlur),\n                            /* [] */0\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: \"0\",\n                    marginRight: \"auto\",\n                    marginLeft: \"auto\",\n                    position: \"absolute\",\n                    right: \"0\",\n                    textAlign: \"center\",\n                    width: \"50%\"\n                  }\n                }, formatTitle(title)), React.createElement(Electron$Coronate.IfElectron.make, {\n                  children: (function (electron) {\n                      return React.createElement(Window$MSWindowsControls, {\n                                  isFullScreen: isFullScreen,\n                                  isMaximized: isMaximized,\n                                  electron: electron\n                                });\n                    }),\n                  os: /* Windows */0\n                }));\n}\n\nfunction $$Window(Props) {\n  var children = Props.children;\n  var className = Props.className;\n  var match = React.useReducer(windowReducer, {\n        isBlur: false,\n        isDialogOpen: false,\n        isFullScreen: false,\n        isMaximized: false,\n        isSidebarOpen: true,\n        title: \"\"\n      });\n  var state = match[0];\n  var isSidebarOpen = state.isSidebarOpen;\n  var isBlur = state.isBlur;\n  var dispatch = match[1];\n  React.useEffect((function () {\n          return Electron$Coronate.ifElectron((function (electron) {\n                        var win = electron.remote.getCurrentWindow();\n                        var unregisterListeners = function (param) {\n                          win.removeAllListeners(\"enter-full-screen\");\n                          win.removeAllListeners(\"leave-full-screen\");\n                          win.removeAllListeners(\"blur\");\n                          win.removeAllListeners(\"focus\");\n                          win.removeAllListeners(\"maximize\");\n                          win.removeAllListeners(\"unmaximize\");\n                          return /* () */0;\n                        };\n                        unregisterListeners(/* () */0);\n                        win.on(\"enter-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [true]));\n                              }));\n                        win.on(\"leave-full-screen\", (function (param) {\n                                return Curry._1(dispatch, /* SetFullScreen */Block.__(2, [false]));\n                              }));\n                        win.on(\"maximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [true]));\n                              }));\n                        win.on(\"unmaximize\", (function (param) {\n                                return Curry._1(dispatch, /* SetMaximized */Block.__(3, [false]));\n                              }));\n                        win.on(\"blur\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [true]));\n                              }));\n                        win.on(\"focus\", (function (param) {\n                                return Curry._1(dispatch, /* SetBlur */Block.__(0, [false]));\n                              }));\n                        Curry._1(dispatch, /* SetBlur */Block.__(0, [!win.isFocused()]));\n                        Curry._1(dispatch, /* SetFullScreen */Block.__(2, [win.isFullScreen()]));\n                        Curry._1(dispatch, /* SetMaximized */Block.__(3, [win.isMaximized()]));\n                        return unregisterListeners;\n                      }));\n        }), ([]));\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Cn.ifTrue(\"open-sidebar\", isSidebarOpen),\n                      /* :: */[\n                        Cn.ifTrue(\"closed-sidebar\", !isSidebarOpen),\n                        /* :: */[\n                          Cn.ifTrue(\"window-blur\", isBlur),\n                          /* :: */[\n                            Cn.ifTrue(\"isWindows\", Electron$Coronate.isWin),\n                            /* :: */[\n                              Cn.ifTrue(\"isMacOS\", Electron$Coronate.isMac),\n                              /* :: */[\n                                Cn.ifTrue(\"isElectron\", Electron$Coronate.isElectron),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(Window$TitleBar, {\n                  isBlur: isBlur,\n                  isFullScreen: state.isFullScreen,\n                  isMaximized: state.isMaximized,\n                  isSidebarOpen: isSidebarOpen,\n                  title: state.title,\n                  dispatch: dispatch\n                }), Curry._1(children, dispatch), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: state.isDialogOpen,\n                  onDismiss: (function (param) {\n                      return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                    }),\n                  ariaLabel: \"About Coronate\",\n                  children: null,\n                  style: {\n                    backgroundColor: \"var(--grey-20)\"\n                  }\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* SetDialog */Block.__(1, [false]));\n                        })\n                    }, \"Close\"), React.createElement(Window$About, { })));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction Window$DefaultSidebar(Props) {\n  return React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                  style: {\n                    margin: \"0\"\n                  }\n                }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TournamentList */1,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Award, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Tournaments\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* PlayerList */2,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Options */4,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Options\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* TimeCalculator */3,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.Clock, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Time calculator\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                          children: null,\n                          to_: /* Index */0,\n                          onDragStart: noDraggy\n                        }, React.createElement(ReactFeather.HelpCircle, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, Utils$Coronate.Entities.nbsp + \"Info\")))));\n}\n\nfunction sidebarCallback(param) {\n  return React.createElement(Window$DefaultSidebar, { });\n}\n\nfunction Window$Body(Props) {\n  var children = Props.children;\n  var footerFunc = Props.footerFunc;\n  var sidebarFuncOpt = Props.sidebarFunc;\n  var sidebarFunc = sidebarFuncOpt !== undefined ? sidebarFuncOpt : sidebarCallback;\n  return React.createElement(\"div\", {\n              className: Cn.make(/* :: */[\n                    \"winBody\",\n                    /* :: */[\n                      Cn.ifSome(\"winBody-hasFooter\", footerFunc),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: \"win__sidebar\"\n                }, Curry._1(sidebarFunc, /* () */0)), React.createElement(\"div\", {\n                  className: \"win__content\"\n                }, children), footerFunc !== undefined ? React.createElement(\"footer\", {\n                    className: Cn.make(/* :: */[\n                          \"win__footer\",\n                          /* [] */0\n                        ])\n                  }, Curry._1(footerFunc, /* () */0)) : null);\n}\n\nvar Body = {\n  make: Window$Body\n};\n\nvar make = $$Window;\n\nexport {\n  Body ,\n  make ,\n  \n}\n/* container Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Int from \"bs-platform/lib/es6/belt_Int.js\";\nimport * as Belt_Float from \"bs-platform/lib/es6/belt_Float.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Icons$Coronate from \"./Icons.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Electron$Coronate from \"./Electron.bs.js\";\n\nvar container = Curry._1(Css.style, /* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* :: */[\n          Css.alignContent(/* center */98248149),\n          /* :: */[\n            Css.height(/* `percent */[\n                  -119887163,\n                  100.0\n                ]),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* :: */[\n                Css.backgroundColor(Utils$Coronate.PhotonColors.grey_10),\n                /* [] */0\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar hint = Curry._1(Css.style, /* :: */[\n      Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n      /* :: */[\n        Css.height(/* `px */[\n              25096,\n              64\n            ]),\n        /* :: */[\n          Css.overflow(/* visible */589592690),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar hintLi = Curry._1(Css.style, /* :: */[\n      Css.margin2(/* `px */[\n            25096,\n            8\n          ], /* zero */-789508312),\n      /* [] */0\n    ]);\n\nvar footer = Curry._1(Css.style, /* :: */[\n      Css.backgroundColor(Utils$Coronate.PhotonColors.ink_80),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_20),\n        /* :: */[\n          Css.padding2(/* zero */-789508312, /* `px */[\n                25096,\n                16\n              ]),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.justifyContent(/* spaceBetween */516682146),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar footerLink = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.teal_50),\n      /* :: */[\n        Css.hover(/* :: */[\n              Css.color(Utils$Coronate.PhotonColors.teal_60),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar title = Curry._1(Css.style, /* :: */[\n      Css.color(Utils$Coronate.PhotonColors.grey_90),\n      /* :: */[\n        Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n        /* :: */[\n          Css.display(/* flex */-1010954439),\n          /* :: */[\n            Css.alignItems(/* center */98248149),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleIcon = Curry._1(Css.style, /* :: */[\n      Css.flexShrink(1.0),\n      /* :: */[\n        Css.marginRight(/* `px */[\n              25096,\n              8\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar titleText = Curry._1(Css.style, /* :: */[\n      Css.flexGrow(1.0),\n      /* [] */0\n    ]);\n\nvar subtitle = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* right */-379319332),\n      /* :: */[\n        Css.margin(/* zero */-789508312),\n        /* [] */0\n      ]\n    ]);\n\nfunction Pages$Splash(Props) {\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: container\n                  }, React.createElement(\"aside\", {\n                        className: hint\n                      }, React.createElement(\"ol\", undefined, React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(\"button\", {\n                                    className: \"button-primary\",\n                                    onClick: (function (param) {\n                                        return Db$Coronate.loadDemoDB(/* () */0);\n                                      })\n                                  }, \"Click here to load the demo data\"), \" (optional)\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, React.createElement(ReactFeather.ArrowLeft, { }), \" Select a menu item.\"), React.createElement(\"li\", {\n                                className: hintLi\n                              }, \"Start creating your tournaments!\")), React.createElement(Utils$Coronate.$$Notification.make, {\n                            children: null,\n                            kind: /* Warning */1\n                          }, \"If you experience glitches or crashes,\", React.createElement(\"br\", undefined), \"clear your browser cache and try again.\")), React.createElement(\"div\", {\n                        className: title\n                      }, React.createElement(\"div\", {\n                            className: titleIcon\n                          }, React.createElement(\"img\", {\n                                alt: \"\",\n                                height: \"96\",\n                                src: Utils$Coronate.WebpackAssets.logo,\n                                width: \"96\"\n                              })), React.createElement(\"div\", {\n                            className: titleText\n                          }, React.createElement(\"h1\", {\n                                className: \"title\",\n                                style: {\n                                  fontSize: \"40px\"\n                                }\n                              }, \"Coronate\"), React.createElement(\"p\", {\n                                className: Cn.make(/* :: */[\n                                      subtitle,\n                                      /* :: */[\n                                        \"caption-30\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, \"Tournament manager\"))), React.createElement(\"footer\", {\n                        className: Cn.make(/* :: */[\n                              footer,\n                              /* :: */[\n                                \"body-20\",\n                                /* [] */0\n                              ]\n                            ])\n                      }, React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"left\"\n                            }\n                          }, React.createElement(\"p\", undefined, \"Copyright \" + (Utils$Coronate.Entities.copy + \" 2020 John Jackson.\")), React.createElement(\"p\", undefined, \"Coronate is free software.\", React.createElement(\"br\", undefined), React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.github_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Source code is available\"), \" under the \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.license_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"AGPL v3.0 license\"), \".\")), React.createElement(\"div\", {\n                            style: {\n                              textAlign: \"right\"\n                            }\n                          }, React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: Utils$Coronate.issues_url,\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Suggestions and bug reports are welcome.\")), React.createElement(\"p\", undefined, \"Built with \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"Reason\"), \" & \", React.createElement(\"a\", {\n                                    className: footerLink,\n                                    href: \"https://reasonml.github.io/reason-react/\",\n                                    onClick: Electron$Coronate.openInBrowser\n                                  }, \"ReasonReact\"), \". \", React.createElement(\"span\", {\n                                    style: {\n                                      fontSize: \"16px\"\n                                    }\n                                  }, React.createElement(Icons$Coronate.Reason.make, { }), \" \", React.createElement(Icons$Coronate.React.make, { }))))))\n            });\n}\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction fixNumber(num) {\n  if (num < 0.0 || num === Pervasives.infinity || num === Pervasives.neg_infinity) {\n    return 0.0;\n  } else {\n    return num;\n  }\n}\n\nfunction updateInt(dispatch, minimum, $$event) {\n  $$event.preventDefault();\n  var value = Belt_Option.getWithDefault(Belt_Int.fromString($$event.currentTarget.value), minimum);\n  var safeValue = value < minimum ? minimum : value;\n  return Curry._1(dispatch, (function (param) {\n                return safeValue;\n              }));\n}\n\nfunction Pages$TimeCalculator(Props) {\n  var match = React.useState((function () {\n          return 2;\n        }));\n  var setPlayers = match[1];\n  var players = match[0];\n  var match$1 = React.useState((function () {\n          return 5;\n        }));\n  var setBreakTime = match$1[1];\n  var breakTime = match$1[0];\n  var match$2 = React.useState((function () {\n          return 4.0;\n        }));\n  var setTotalTime = match$2[1];\n  var totalTime = match$2[0];\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h1\", undefined, \"Time calculator\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"Estimate the time requirements for planning your Swiss-style tournament.\"), React.createElement(\"form\", undefined, React.createElement(\"table\", {\n                            style: {\n                              margin: \"0\"\n                            }\n                          }, React.createElement(\"tbody\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"playerCount\"\n                                          }, \"Player count \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"playerCount\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            type: \"number\",\n                                            value: players.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setPlayers, 0, param);\n                                              })\n                                          }))), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", undefined, \"Round count\")), React.createElement(\"td\", undefined, fixNumber(Math.ceil(log2(players))).toString())), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"breakTime\"\n                                          }, \"Breaks between rounds \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"breakTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 5.0,\n                                            type: \"number\",\n                                            value: breakTime.toString(),\n                                            onChange: (function (param) {\n                                                return updateInt(setBreakTime, 0, param);\n                                              })\n                                          }), \" minutes\")), React.createElement(\"tr\", undefined, React.createElement(\"td\", undefined, React.createElement(\"label\", {\n                                            htmlFor: \"totalTime\"\n                                          }, \"Total time available \")), React.createElement(\"td\", undefined, React.createElement(\"input\", {\n                                            id: \"totalTime\",\n                                            style: {\n                                              width: \"40px\"\n                                            },\n                                            min: 0,\n                                            step: 0.5,\n                                            type: \"number\",\n                                            value: totalTime.toString(),\n                                            onChange: (function (param) {\n                                                var dispatch = setTotalTime;\n                                                var minimum = 0.5;\n                                                var $$event = param;\n                                                $$event.preventDefault();\n                                                var value = Belt_Option.getWithDefault(Belt_Float.fromString($$event.currentTarget.value), minimum);\n                                                var safeValue = value < minimum ? minimum : value;\n                                                return Curry._1(dispatch, (function (param) {\n                                                              return safeValue;\n                                                            }));\n                                              })\n                                          }), \" hours\"))))), React.createElement(\"p\", {\n                        className: \"title-20\"\n                      }, \"Maximum time control: \"), React.createElement(\"p\", undefined, React.createElement(\"span\", {\n                            className: \"title-20\"\n                          }, fixNumber(Math.ceil((totalTime * 60.0 / Math.ceil(log2(players)) - breakTime) / 2.0)).toString(), \" minutes\"), React.createElement(\"span\", {\n                            className: \"caption-30\"\n                          }, \" = ((\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, totalTime.toString()), \"  60  log(\", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, players.toString()), \")) - \", React.createElement(\"strong\", {\n                                className: \"monospace\"\n                              }, breakTime.toString()), \")  2\")))\n            });\n}\n\nfunction Pages$NotFound(Props) {\n  return React.createElement(\"p\", {\n              className: \"content-area\"\n            }, \"Page not found.\");\n}\n\nvar NotFound = {\n  make: Pages$NotFound\n};\n\nvar Splash = {\n  make: Pages$Splash\n};\n\nvar TimeCalculator = {\n  make: Pages$TimeCalculator\n};\n\nexport {\n  Splash ,\n  TimeCalculator ,\n  NotFound ,\n  \n}\n/* container Not a pure module */\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\n\nvar config_avoidPairs = Data_Config$Coronate.AvoidPairs.fromStringArray([\n      /* tuple */[\n        \"TVs_Frank____________\",\n        \"TVs_Son_of_TVs_Frank_\"\n      ],\n      /* tuple */[\n        \"Pearl_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Dr_Clayton_Forrester_\"\n      ],\n      /* tuple */[\n        \"Kinga_Forrester______\",\n        \"Pearl_Forrester______\"\n      ]\n    ]);\n\nvar config_lastBackup = new Date(\"1970-01-01T00:00:00.000Z\");\n\nvar config = {\n  avoidPairs: config_avoidPairs,\n  byeValue: /* Full */0,\n  lastBackup: config_lastBackup\n};\n\nvar players = [\n  /* tuple */[\n    \"Cambot_______________\",\n    {\n      firstName: \"Cambot\",\n      id: \"Cambot_______________\",\n      lastName: \"\",\n      matchCount: 25,\n      rating: 1500,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Crow_T_Robot_________\",\n    {\n      firstName: \"Crow T\",\n      id: \"Crow_T_Robot_________\",\n      lastName: \"Robot\",\n      matchCount: 5,\n      rating: 1700,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Dr_Clayton_Forrester_\",\n    {\n      firstName: \"Clayton\",\n      id: \"Dr_Clayton_Forrester_\",\n      lastName: \"Forrester\",\n      matchCount: 40,\n      rating: 2100,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Grandy_McMaster______\",\n    {\n      firstName: \"Grandy\",\n      id: \"Grandy_McMaster______\",\n      lastName: \"McMaster\",\n      matchCount: 100,\n      rating: 2600,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Gypsy________________\",\n    {\n      firstName: \"Gypsy\",\n      id: \"Gypsy________________\",\n      lastName: \"\",\n      matchCount: 15,\n      rating: 1600,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Joel_Robinson________\",\n    {\n      firstName: \"Joel\",\n      id: \"Joel_Robinson________\",\n      lastName: \"Robinson\",\n      matchCount: 70,\n      rating: 2400,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Jonah_Heston_________\",\n    {\n      firstName: \"Jonah\",\n      id: \"Jonah_Heston_________\",\n      lastName: \"Heston\",\n      matchCount: 50,\n      rating: 2200,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Kinga_Forrester______\",\n    {\n      firstName: \"Kinga\",\n      id: \"Kinga_Forrester______\",\n      lastName: \"Forrester\",\n      matchCount: 20,\n      rating: 1900,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Larry_Erhardt________\",\n    {\n      firstName: \"Larry\",\n      id: \"Larry_Erhardt________\",\n      lastName: \"Erhardt\",\n      matchCount: 45,\n      rating: 1300,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Mike_Nelson__________\",\n    {\n      firstName: \"Mike\",\n      id: \"Mike_Nelson__________\",\n      lastName: \"Nelson\",\n      matchCount: 60,\n      rating: 2300,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Newbie_McNewberson___\",\n    {\n      firstName: \"Newbie\",\n      id: \"Newbie_McNewberson___\",\n      lastName: \"McNewberson\",\n      matchCount: 0,\n      rating: 800,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Observer_Brain_Guy___\",\n    {\n      firstName: \"Brain\",\n      id: \"Observer_Brain_Guy___\",\n      lastName: \"Guy\",\n      matchCount: 55,\n      rating: 1200,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Pearl_Forrester______\",\n    {\n      firstName: \"Pearl\",\n      id: \"Pearl_Forrester______\",\n      lastName: \"Forrester\",\n      matchCount: 30,\n      rating: 2000,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Professor_Bobo_______\",\n    {\n      firstName: \"Bobo\",\n      id: \"Professor_Bobo_______\",\n      lastName: \"Professor\",\n      matchCount: 75,\n      rating: 1000,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"TVs_Frank____________\",\n    {\n      firstName: \"TV's\",\n      id: \"TVs_Frank____________\",\n      lastName: \"Frank\",\n      matchCount: 35,\n      rating: 1400,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"TVs_Son_of_TVs_Frank_\",\n    {\n      firstName: \"TV's\",\n      id: \"TVs_Son_of_TVs_Frank_\",\n      lastName: \"Max\",\n      matchCount: 65,\n      rating: 1100,\n      type_: /* Person */0\n    }\n  ],\n  /* tuple */[\n    \"Tom_Servo____________\",\n    {\n      firstName: \"Tom\",\n      id: \"Tom_Servo____________\",\n      lastName: \"Servo\",\n      matchCount: 10,\n      rating: 1800,\n      type_: /* Person */0\n    }\n  ]\n];\n\nvar tournaments = [\n  /* tuple */[\n    \"Bye_Round_Tourney____\",\n    {\n      id: \"Bye_Round_Tourney____\",\n      name: \"Bye Round Tourney\",\n      date: new Date(\"2019-06-12T23:49:47.103Z\"),\n      playerIds: /* :: */[\n        \"Joel_Robinson________\",\n        /* :: */[\n          \"Crow_T_Robot_________\",\n          /* :: */[\n            \"Tom_Servo____________\",\n            /* :: */[\n              \"Gypsy________________\",\n              /* :: */[\n                \"Cambot_______________\",\n                /* :: */[\n                  \"Newbie_McNewberson___\",\n                  /* :: */[\n                    \"Grandy_McMaster______\",\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: Data_Rounds$Coronate.empty\n    }\n  ],\n  /* tuple */[\n    \"Bye_Round_Tourney_2__\",\n    {\n      id: \"Bye_Round_Tourney_2__\",\n      name: \"Bye Round Tourney 2\",\n      date: new Date(\"2019-06-12T23:49:47.103Z\"),\n      playerIds: /* :: */[\n        \"Joel_Robinson________\",\n        /* :: */[\n          \"Crow_T_Robot_________\",\n          /* :: */[\n            \"Tom_Servo____________\",\n            /* :: */[\n              \"Gypsy________________\",\n              /* :: */[\n                \"Cambot_______________\",\n                /* :: */[\n                  \"Newbie_McNewberson___\",\n                  /* :: */[\n                    \"Grandy_McMaster______\",\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [[\n          {\n            id: \"xTXxZHB0sTt__xIAg45fm\",\n            whiteId: \"Grandy_McMaster______\",\n            blackId: \"Crow_T_Robot_________\",\n            whiteNewRating: 2592,\n            blackNewRating: 1833,\n            whiteOrigRating: 2600,\n            blackOrigRating: 1700,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"zQcf9RWXK7iuU6ibPzrhU\",\n            whiteId: \"Joel_Robinson________\",\n            blackId: \"Gypsy________________\",\n            whiteNewRating: 2400,\n            blackNewRating: 1600,\n            whiteOrigRating: 2400,\n            blackOrigRating: 1600,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"Vw_X0c7O4vshrYEO-oSzR\",\n            whiteId: \"Tom_Servo____________\",\n            blackId: \"Cambot_______________\",\n            whiteNewRating: 1738,\n            blackNewRating: 1526,\n            whiteOrigRating: 1800,\n            blackOrigRating: 1500,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"iSDujOVkOTrcLv_KJmd7s\",\n            whiteId: \"Newbie_McNewberson___\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 800,\n            blackNewRating: 0,\n            whiteOrigRating: 800,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ]]\n    }\n  ],\n  /* tuple */[\n    \"Bye_Tourney_3________\",\n    {\n      id: \"Bye_Tourney_3________\",\n      name: \"Bye Tourney 3\",\n      date: new Date(\"2019-06-17T23:00:29.603Z\"),\n      playerIds: /* :: */[\n        \"Kinga_Forrester______\",\n        /* :: */[\n          \"Newbie_McNewberson___\",\n          /* :: */[\n            \"Jonah_Heston_________\",\n            /* [] */0\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [\n        [\n          {\n            id: \"KkFr4B7FDqiHRWmACgApf\",\n            whiteId: \"Kinga_Forrester______\",\n            blackId: \"Jonah_Heston_________\",\n            whiteNewRating: 1894,\n            blackNewRating: 2202,\n            whiteOrigRating: 1900,\n            blackOrigRating: 2200,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"R_BTsGSziwgyvFZM3yc5u\",\n            whiteId: \"Newbie_McNewberson___\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 793,\n            blackNewRating: 0,\n            whiteOrigRating: 793,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ],\n        [\n          {\n            id: \"rcyCfpZU6olav5kdVac44\",\n            whiteId: \"Jonah_Heston_________\",\n            blackId: \"Newbie_McNewberson___\",\n            whiteNewRating: 2187,\n            blackNewRating: 953,\n            whiteOrigRating: 2202,\n            blackOrigRating: 793,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"Nc0Om5fEuwSuzFls9wmME\",\n            whiteId: \"Kinga_Forrester______\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 1894,\n            blackNewRating: 0,\n            whiteOrigRating: 1894,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ],\n        [\n          {\n            id: \"uawjKwbiA38RP8pA--tlw\",\n            whiteId: \"Newbie_McNewberson___\",\n            blackId: \"Kinga_Forrester______\",\n            whiteNewRating: 952,\n            blackNewRating: 1894,\n            whiteOrigRating: 953,\n            blackOrigRating: 1894,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"-kwIDxjPhWVRbqxtRZ26_\",\n            whiteId: \"Jonah_Heston_________\",\n            blackId: \"________DUMMY________\",\n            whiteNewRating: 2187,\n            blackNewRating: 0,\n            whiteOrigRating: 2187,\n            blackOrigRating: 0,\n            result: /* WhiteWon */0\n          }\n        ]\n      ]\n    }\n  ],\n  /* tuple */[\n    \"Simple_Pairing_______\",\n    {\n      id: \"Simple_Pairing_______\",\n      name: \"Simple Pairing\",\n      date: new Date(\"2019-06-14T11:40:34.407Z\"),\n      playerIds: /* :: */[\n        \"Newbie_McNewberson___\",\n        /* :: */[\n          \"Grandy_McMaster______\",\n          /* :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Dr_Clayton_Forrester_\",\n              /* :: */[\n                \"TVs_Frank____________\",\n                /* :: */[\n                  \"Crow_T_Robot_________\",\n                  /* :: */[\n                    \"Tom_Servo____________\",\n                    /* :: */[\n                      \"Gypsy________________\",\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [\n        [\n          {\n            id: \"KdLva8hWqYHdaU9KnFTe2\",\n            whiteId: \"Crow_T_Robot_________\",\n            blackId: \"Grandy_McMaster______\",\n            whiteNewRating: 1699,\n            blackNewRating: 2600,\n            whiteOrigRating: 1700,\n            blackOrigRating: 2600,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"WDPFsNF1yADs4qofFwCY0\",\n            whiteId: \"Gypsy________________\",\n            blackId: \"Joel_Robinson________\",\n            whiteNewRating: 1650,\n            blackNewRating: 2389,\n            whiteOrigRating: 1600,\n            blackOrigRating: 2400,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"R5sXfTOJw5vrJ4IytAjSi\",\n            whiteId: \"TVs_Frank____________\",\n            blackId: \"Dr_Clayton_Forrester_\",\n            whiteNewRating: 1400,\n            blackNewRating: 2100,\n            whiteOrigRating: 1400,\n            blackOrigRating: 2100,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"2YOsn_JJFnaUMhRBAc9KY\",\n            whiteId: \"Newbie_McNewberson___\",\n            blackId: \"Tom_Servo____________\",\n            whiteNewRating: 1597,\n            blackNewRating: 1728,\n            whiteOrigRating: 800,\n            blackOrigRating: 1800,\n            result: /* WhiteWon */0\n          }\n        ],\n        Data_Rounds$Coronate.Round.empty\n      ]\n    }\n  ],\n  /* tuple */[\n    \"Pairing_With_Draws___\",\n    {\n      id: \"Pairing_With_Draws___\",\n      name: \"Pairing with draws\",\n      date: new Date(\"2019-06-14T14:18:06.686Z\"),\n      playerIds: /* :: */[\n        \"Newbie_McNewberson___\",\n        /* :: */[\n          \"Grandy_McMaster______\",\n          /* :: */[\n            \"Joel_Robinson________\",\n            /* :: */[\n              \"Dr_Clayton_Forrester_\",\n              /* :: */[\n                \"TVs_Frank____________\",\n                /* :: */[\n                  \"Crow_T_Robot_________\",\n                  /* :: */[\n                    \"Tom_Servo____________\",\n                    /* :: */[\n                      \"Gypsy________________\",\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ],\n      byeQueue: [],\n      tieBreaks: [\n        /* Median */0,\n        /* Solkoff */1,\n        /* Cumulative */2,\n        /* CumulativeOfOpposition */3\n      ],\n      roundList: [\n        [\n          {\n            id: \"ryWXwvFGwBKQqGBbMYeps\",\n            whiteId: \"Crow_T_Robot_________\",\n            blackId: \"Grandy_McMaster______\",\n            whiteNewRating: 1699,\n            blackNewRating: 2600,\n            whiteOrigRating: 1700,\n            blackOrigRating: 2600,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"2KKVbi0AfNxfJAJobTgP5\",\n            whiteId: \"Gypsy________________\",\n            blackId: \"Joel_Robinson________\",\n            whiteNewRating: 1650,\n            blackNewRating: 2389,\n            whiteOrigRating: 1600,\n            blackOrigRating: 2400,\n            result: /* WhiteWon */0\n          },\n          {\n            id: \"zdlBHBAqgV2qabn2oBa2a\",\n            whiteId: \"TVs_Frank____________\",\n            blackId: \"Dr_Clayton_Forrester_\",\n            whiteNewRating: 1400,\n            blackNewRating: 2100,\n            whiteOrigRating: 1400,\n            blackOrigRating: 2100,\n            result: /* BlackWon */1\n          },\n          {\n            id: \"8fGxU3tLpd8GibuSQr9-Y\",\n            whiteId: \"Newbie_McNewberson___\",\n            blackId: \"Tom_Servo____________\",\n            whiteNewRating: 1197,\n            blackNewRating: 1764,\n            whiteOrigRating: 800,\n            blackOrigRating: 1800,\n            result: /* Draw */2\n          }\n        ],\n        Data_Rounds$Coronate.Round.empty\n      ]\n    }\n  ]\n];\n\nexport {\n  config ,\n  players ,\n  tournaments ,\n  \n}\n/* config Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Json from \"@glennsl/bs-json/src/Json.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Js_dict from \"bs-platform/lib/es6/js_dict.js\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as Json_decode from \"@glennsl/bs-json/src/Json_decode.bs.js\";\nimport * as Json_encode from \"@glennsl/bs-json/src/Json_encode.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as DemoData$Coronate from \"./DemoData.bs.js\";\nimport * as TestData$Coronate from \"./TestData.bs.js\";\nimport * as Caml_js_exceptions from \"bs-platform/lib/es6/caml_js_exceptions.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as Data_Tournament$Coronate from \"./Data/Data_Tournament.bs.js\";\n\nfunction getDateForFile(param) {\n  var date = new Date();\n  return Utils$Coronate.$$String.concat(/* :: */[\n              date.getFullYear().toString(),\n              /* :: */[\n                Numeral.default(date.getMonth() + 1.0).format(\"00\"),\n                /* :: */[\n                  Numeral.default(date.getDate()).format(\"00\"),\n                  /* [] */0\n                ]\n              ]\n            ], \"-\");\n}\n\nfunction decodeOptions(json) {\n  var dict = Json_decode.field(\"players\", (function (param) {\n          return Json_decode.dict(Data_Player$Coronate.decode, param);\n        }), json);\n  var dict$1 = Json_decode.field(\"tournaments\", (function (param) {\n          return Json_decode.dict(Data_Tournament$Coronate.decode, param);\n        }), json);\n  return {\n          config: Json_decode.field(\"config\", Data_Config$Coronate.decode, json),\n          players: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict)),\n          tournaments: Data_Id$Coronate.$$Map.fromStringArray(Js_dict.entries(dict$1))\n        };\n}\n\nfunction encodeOptions(data) {\n  var map = Belt_Map.map(data.players, Data_Player$Coronate.encode);\n  var map$1 = Belt_Map.map(data.tournaments, Data_Tournament$Coronate.encode);\n  return Json_encode.object_(/* :: */[\n              /* tuple */[\n                \"config\",\n                Data_Config$Coronate.encode(data.config)\n              ],\n              /* :: */[\n                /* tuple */[\n                  \"players\",\n                  Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map))\n                ],\n                /* :: */[\n                  /* tuple */[\n                    \"tournaments\",\n                    Js_dict.fromArray(Data_Id$Coronate.$$Map.toStringArray(map$1))\n                  ],\n                  /* [] */0\n                ]\n              ]\n            ]);\n}\n\nfunction PageOptions$LastBackupDate(Props) {\n  var date = Props.date;\n  if (date.getTime() === 0.0) {\n    return \"Never\";\n  } else {\n    return React.createElement(Utils$Coronate.DateTimeFormat.make, {\n                date: date\n              });\n  }\n}\n\nfunction PageOptions(Props) {\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var tourneysDispatch = match.dispatch;\n  var tournaments = match.items;\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match$1.dispatch;\n  var players = match$1.items;\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setText = match$2[1];\n  var text = match$2[0];\n  var match$3 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$3[1];\n  var config = match$3[0];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Options\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  var exportData = React.useMemo((function () {\n          return {\n                  config: config,\n                  players: players,\n                  tournaments: tournaments\n                };\n        }), /* tuple */[\n        config,\n        tournaments,\n        players\n      ]);\n  var exportDataURI = encodeURIComponent(Json.stringify(encodeOptions(exportData)));\n  React.useEffect((function () {\n          var encoded = encodeOptions(exportData);\n          var json = JSON.stringify(encoded, null, 4);\n          Curry._1(setText, (function (param) {\n                  return json;\n                }));\n          return ;\n        }), /* tuple */[\n        exportData,\n        setText\n      ]);\n  var loadData = function (tournaments, players, config) {\n    Curry._1(tourneysDispatch, /* SetAll */Block.__(2, [tournaments]));\n    Curry._1(configDispatch, /* SetState */Block.__(5, [config]));\n    Curry._1(playersDispatch, /* SetAll */Block.__(2, [players]));\n    return Utils$Coronate.alert(\"Data loaded.\");\n  };\n  var handleText = function ($$event) {\n    $$event.preventDefault();\n    var match = Json.parse(text);\n    if (match !== undefined) {\n      var val;\n      try {\n        val = decodeOptions(Caml_option.valFromOption(match));\n      }\n      catch (raw_exn){\n        var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n        if (exn[0] === Json_decode.DecodeError) {\n          return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n        } else {\n          throw exn;\n        }\n      }\n      return loadData(val.tournaments, val.players, val.config);\n    } else {\n      return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n    }\n  };\n  var handleFile = function ($$event) {\n    $$event.preventDefault();\n    var reader = new FileReader();\n    var onload = function (ev) {\n      var data = ev.target.result;\n      var match = Json.parse(data);\n      if (match !== undefined) {\n        var val;\n        try {\n          val = decodeOptions(Caml_option.valFromOption(match));\n        }\n        catch (raw_exn){\n          var exn = Caml_js_exceptions.internalToOCamlException(raw_exn);\n          if (exn[0] === Json_decode.DecodeError) {\n            return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n          } else {\n            throw exn;\n          }\n        }\n        return loadData(val.tournaments, val.players, val.config);\n      } else {\n        return Utils$Coronate.alert(\"That data is invalid! A more helpful error message could not be written yet.\");\n      }\n    };\n    reader.onload = onload;\n    reader.readAsText(Belt_Array.getExn($$event.currentTarget.files, 0));\n    $$event.currentTarget.value = \"\";\n    return /* () */0;\n  };\n  var reloadDemoData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(Data_Id$Coronate.$$Map.fromStringArray(DemoData$Coronate.tournaments), Data_Id$Coronate.$$Map.fromStringArray(DemoData$Coronate.players), DemoData$Coronate.config);\n  };\n  var loadTestData = function ($$event) {\n    $$event.preventDefault();\n    return loadData(Data_Id$Coronate.$$Map.fromStringArray(TestData$Coronate.tournaments), Data_Id$Coronate.$$Map.fromStringArray(TestData$Coronate.players), TestData$Coronate.config);\n  };\n  var handleTextChange = function ($$event) {\n    var newText = $$event.currentTarget.value;\n    return Curry._1(setText, (function (param) {\n                  return newText;\n                }));\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"h2\", undefined, \"Bye  settings\"), React.createElement(\"form\", undefined, React.createElement(\"p\", {\n                            className: \"caption-30\"\n                          }, \"Select the default score for a bye round.\"), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \"1 \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Full */0,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Full */0]));\n                                  })\n                              })), React.createElement(\"label\", {\n                            className: \"monospace body-30\"\n                          }, \" \", React.createElement(\"input\", {\n                                checked: config.byeValue === /* Half */1,\n                                type: \"radio\",\n                                onChange: (function (param) {\n                                    return Curry._1(configDispatch, /* SetByeValue */Block.__(4, [/* Half */1]));\n                                  })\n                              }))), React.createElement(\"h2\", undefined, \"Manage data\"), React.createElement(\"p\", {\n                        className: \"caption-20\"\n                      }, \"Last export: \", React.createElement(PageOptions$LastBackupDate, {\n                            date: config.lastBackup\n                          })), React.createElement(\"p\", undefined, React.createElement(\"a\", {\n                            download: \"coronate-\" + (getDateForFile(/* () */0) + \".json\"),\n                            href: \"data:application/json,\" + exportDataURI,\n                            onClick: (function (param) {\n                                return Curry._1(configDispatch, /* SetLastBackup */Block.__(6, [new Date()]));\n                              })\n                          }, React.createElement(ReactFeather.Download, { }), \" Export all data\")), React.createElement(\"label\", {\n                        htmlFor: \"file\"\n                      }, \"Load data file:\"), React.createElement(\"input\", {\n                        id: \"file\",\n                        name: \"file\",\n                        type: \"file\",\n                        onChange: handleFile\n                      }), React.createElement(\"h2\", undefined, \"Danger zone\"), React.createElement(\"p\", {\n                        className: \"caption-30\"\n                      }, \"I hope you know what you're doing...\"), React.createElement(\"button\", {\n                        onClick: reloadDemoData\n                      }, \"Reset demo data (this erases everything else)\"), \" \", process.env.NODE_ENV !== \"production\" ? React.createElement(\"button\", {\n                          onClick: loadTestData\n                        }, \"Load testing data\") : null, React.createElement(\"h3\", undefined, \"Advanced: manually edit data\"), React.createElement(\"form\", {\n                        onSubmit: handleText\n                      }, React.createElement(\"textarea\", {\n                            className: \"json\",\n                            spellCheck: false,\n                            cols: 50,\n                            name: \"playerdata\",\n                            rows: 25,\n                            value: text,\n                            onChange: handleTextChange\n                          }), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                                type: \"submit\",\n                                value: \"Load\"\n                              }))))\n            });\n}\n\nvar make = PageOptions;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Scoring$Coronate from \"./Scoring.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Config$Coronate from \"./Data/Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data/Data_Player.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar sortName = /* GetString */Block.__(0, [(function (x) {\n        return x.firstName;\n      })]);\n\nvar sortRating = /* GetInt */Block.__(1, [(function (x) {\n        return x.rating;\n      })]);\n\nvar sortMatchCount = /* GetInt */Block.__(1, [(function (x) {\n        return x.matchCount;\n      })]);\n\nfunction defaultFirstName(param) {\n  return \"\";\n}\n\nfunction defaultLastName(param) {\n  return \"\";\n}\n\nfunction defaultRating(param) {\n  return 1200;\n}\n\nfunction PagePlayers$NewPlayerForm(Props) {\n  var dispatch = Props.dispatch;\n  var addPlayerCallback = Props.addPlayerCallback;\n  var match = React.useState((function () {\n          return \"\";\n        }));\n  var setFirstName = match[1];\n  var firstName = match[0];\n  var match$1 = React.useState((function () {\n          return \"\";\n        }));\n  var setLastName = match$1[1];\n  var lastName = match$1[0];\n  var match$2 = React.useState((function () {\n          return 1200;\n        }));\n  var setRating = match$2[1];\n  var rating = match$2[0];\n  var handleSubmit = function ($$event) {\n    $$event.preventDefault();\n    Curry._1(setFirstName, defaultFirstName);\n    Curry._1(setLastName, defaultLastName);\n    Curry._1(setRating, defaultRating);\n    var id = Data_Id$Coronate.random(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            {\n              firstName: firstName,\n              id: id,\n              lastName: lastName,\n              matchCount: 0,\n              rating: rating,\n              type_: /* Person */0\n            }\n          ]));\n    if (addPlayerCallback !== undefined) {\n      return Curry._1(addPlayerCallback, id);\n    } else {\n      return /* () */0;\n    }\n  };\n  var updateField = function ($$event) {\n    $$event.preventDefault();\n    var name = $$event.currentTarget.name;\n    var value = $$event.currentTarget.value;\n    switch (name) {\n      case \"firstName\" :\n          return Curry._1(setFirstName, (function (param) {\n                        return value;\n                      }));\n      case \"lastName\" :\n          return Curry._1(setLastName, (function (param) {\n                        return value;\n                      }));\n      case \"rating\" :\n          return Curry._1(setRating, (function (param) {\n                        return Caml_format.caml_int_of_string(value);\n                      }));\n      default:\n        return /* () */0;\n    }\n  };\n  return React.createElement(\"form\", {\n              onSubmit: handleSubmit\n            }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Register a new player\"), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          name: \"firstName\",\n                          required: true,\n                          type: \"text\",\n                          value: firstName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          name: \"lastName\",\n                          required: true,\n                          type: \"text\",\n                          value: lastName,\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          name: \"rating\",\n                          required: true,\n                          type: \"number\",\n                          value: String(rating),\n                          onChange: updateField\n                        })), React.createElement(\"p\", undefined, React.createElement(\"input\", {\n                          type: \"submit\",\n                          value: \"Add\"\n                        }))));\n}\n\nvar NewPlayerForm = {\n  make: PagePlayers$NewPlayerForm\n};\n\nfunction PagePlayers$PlayerList(Props) {\n  var sorted = Props.sorted;\n  var sortDispatch = Props.sortDispatch;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var configDispatch = Props.configDispatch;\n  var windowDispatch = Props.windowDispatch;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Players\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar toolbar__left\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.UserPlus, { }), \" Add a new player\")), React.createElement(\"table\", {\n                  style: {\n                    margin: \"auto\"\n                  }\n                }, React.createElement(\"caption\", undefined, \"Player roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Name\",\n                                  sortColumn: sortName,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Rating\",\n                                  sortColumn: sortRating,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                  children: \"Matches\",\n                                  sortColumn: sortMatchCount,\n                                  data: sorted,\n                                  dispatch: sortDispatch\n                                })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                  children: \"Controls\"\n                                })))), React.createElement(\"tbody\", {\n                      className: \"content\"\n                    }, Belt_Array.map(sorted.table, (function (p) {\n                            return React.createElement(\"tr\", {\n                                        key: p.id,\n                                        className: \"buttons-on-hover\"\n                                      }, React.createElement(\"td\", {\n                                            className: \"table__player\"\n                                          }, React.createElement(Router$Coronate.HashLink.make, {\n                                                children: Utils$Coronate.$$String.concat(/* :: */[\n                                                      p.firstName,\n                                                      /* :: */[\n                                                        p.lastName,\n                                                        /* [] */0\n                                                      ]\n                                                    ], \" \"),\n                                                to_: /* Player */Block.__(1, [p.id])\n                                              })), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.rating)), React.createElement(\"td\", {\n                                            className: \"table__number\"\n                                          }, String(p.matchCount)), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                className: \"danger button-ghost\",\n                                                onClick: (function ($$event) {\n                                                    var $$event$1 = $$event;\n                                                    var id = p.id;\n                                                    $$event$1.preventDefault();\n                                                    var playerOpt = Belt_Map.get(players, id);\n                                                    if (playerOpt !== undefined) {\n                                                      var player = playerOpt;\n                                                      var message = Utils$Coronate.$$String.concat(/* :: */[\n                                                            \"Are you sure you want to delete \",\n                                                            /* :: */[\n                                                              player.firstName,\n                                                              /* :: */[\n                                                                \" \",\n                                                                /* :: */[\n                                                                  player.lastName,\n                                                                  /* :: */[\n                                                                    \"?\",\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]\n                                                          ], \"\");\n                                                      if (window.confirm(message)) {\n                                                        Curry._1(playersDispatch, /* Del */Block.__(0, [id]));\n                                                        return Curry._1(configDispatch, /* DelAvoidSingle */Block.__(2, [id]));\n                                                      } else {\n                                                        return 0;\n                                                      }\n                                                    } else {\n                                                      return /* () */0;\n                                                    }\n                                                  })\n                                              }, React.createElement(ReactFeather.Trash2, { }), React.createElement(VisuallyHidden.default, {\n                                                    children: Utils$Coronate.$$String.concat(/* :: */[\n                                                          \"Delete\",\n                                                          /* :: */[\n                                                            p.firstName,\n                                                            /* :: */[\n                                                              p.lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ], \" \")\n                                                  }))));\n                          })))), React.createElement(Externals$Coronate.Dialog.make, {\n                  isOpen: match[0],\n                  onDismiss: (function (param) {\n                      return Curry._1(setIsDialogOpen, (function (param) {\n                                    return false;\n                                  }));\n                    }),\n                  ariaLabel: \"New player form\",\n                  children: null\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setIsDialogOpen, (function (param) {\n                                        return false;\n                                      }));\n                        })\n                    }, \"Close\"), React.createElement(PagePlayers$NewPlayerForm, {\n                      dispatch: playersDispatch\n                    })));\n}\n\nfunction PagePlayers$Profile(Props) {\n  var player = Props.player;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var config = Props.config;\n  var configDispatch = Props.configDispatch;\n  var windowDispatch = Props.windowDispatch;\n  var playerId = player.id;\n  var playerName = Utils$Coronate.$$String.concat(/* :: */[\n        player.firstName,\n        /* :: */[\n          player.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Profile for \" + playerName]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        windowDispatch,\n        playerName\n      ]);\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(config.avoidPairs);\n  var match = Belt_Map.get(avoidMap, playerId);\n  var singAvoidList = match !== undefined ? match : /* [] */0;\n  var unavoided = Belt_List.keep(Belt_List.fromArray(Belt_Map.keysToArray(players)), (function (id) {\n          if (Belt_List.has(singAvoidList, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }))) {\n            return false;\n          } else {\n            return id !== playerId;\n          }\n        }));\n  var match$1 = React.useState((function () {\n          if (unavoided) {\n            return Caml_option.some(unavoided[0]);\n          }\n          \n        }));\n  var setSelectedAvoider = match$1[1];\n  var selectedAvoider = match$1[0];\n  var avoidAdd = function ($$event) {\n    $$event.preventDefault();\n    if (selectedAvoider !== undefined) {\n      var selectedAvoider$1 = Caml_option.valFromOption(selectedAvoider);\n      Curry._1(configDispatch, /* AddAvoidPair */Block.__(0, [/* tuple */[\n                playerId,\n                selectedAvoider$1\n              ]]));\n      var newSelected;\n      if (unavoided) {\n        var match = unavoided[1];\n        var id = unavoided[0];\n        newSelected = id !== selectedAvoider$1 ? Caml_option.some(id) : (\n            match ? Caml_option.some(match[0]) : undefined\n          );\n      } else {\n        newSelected = undefined;\n      }\n      return Curry._1(setSelectedAvoider, (function (param) {\n                    return newSelected;\n                  }));\n    } else {\n      return /* () */0;\n    }\n  };\n  var handleChange = function ($$event) {\n    $$event.preventDefault();\n    var target = $$event.currentTarget;\n    var firstName = target.firstName.value;\n    var lastName = target.lastName.value;\n    var matchCount = Caml_format.caml_int_of_string(target.matchCount.value);\n    var rating = Caml_format.caml_int_of_string(target.rating.value);\n    return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                  playerId,\n                  {\n                    firstName: firstName,\n                    id: playerId,\n                    lastName: lastName,\n                    matchCount: matchCount,\n                    rating: rating,\n                    type_: player.type_\n                  }\n                ]));\n  };\n  var handleAvoidChange = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  var handleAvoidBlur = function ($$event) {\n    var id = $$event.currentTarget.value;\n    return Curry._1(setSelectedAvoider, (function (param) {\n                  return id;\n                }));\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\",\n              style: {\n                margin: \"auto\",\n                width: \"650px\"\n              }\n            }, React.createElement(Router$Coronate.HashLink.make, {\n                  children: null,\n                  to_: /* PlayerList */2\n                }, React.createElement(ReactFeather.ChevronLeft, { }), \" Back\"), React.createElement(\"h2\", undefined, \"Profile for \" + playerName), React.createElement(\"form\", {\n                  onChange: handleChange,\n                  onSubmit: handleChange\n                }, React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"firstName\"\n                        }, \"First name\"), React.createElement(\"input\", {\n                          defaultValue: player.firstName,\n                          name: \"firstName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"lastName\"\n                        }, \"Last name\"), React.createElement(\"input\", {\n                          defaultValue: player.lastName,\n                          name: \"lastName\",\n                          type: \"text\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"matchCount\"\n                        }, \"Matches played\"), React.createElement(\"input\", {\n                          defaultValue: String(player.matchCount),\n                          name: \"matchCount\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"rating\"\n                        }, \"Rating\"), React.createElement(\"input\", {\n                          defaultValue: String(player.rating),\n                          name: \"rating\",\n                          type: \"number\"\n                        })), React.createElement(\"p\", undefined, React.createElement(\"label\", {\n                          htmlFor: \"Kfactor\"\n                        }, \"K factor\"), React.createElement(\"input\", {\n                          disabled: true,\n                          name: \"kfactor\",\n                          readOnly: true,\n                          type: \"number\",\n                          value: String(Curry._1(Scoring$Coronate.Ratings.EloRank.getKFactor, player.matchCount))\n                        }))), React.createElement(\"h3\", undefined, \"Players to avoid\"), React.createElement(\"ul\", undefined, Utils$Coronate.List.toReactArray(singAvoidList, (function (pId) {\n                        return React.createElement(\"li\", {\n                                    key: pId\n                                  }, Data_Player$Coronate.getPlayerMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getPlayerMaybe(players, pId).lastName, React.createElement(\"button\", {\n                                        \"aria-label\": Utils$Coronate.$$String.concat(/* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ], \" \"),\n                                        className: \"danger button-ghost\",\n                                        title: Utils$Coronate.$$String.concat(/* :: */[\n                                              \"Remove\",\n                                              /* :: */[\n                                                Data_Player$Coronate.getPlayerMaybe(players, pId).firstName,\n                                                /* :: */[\n                                                  Data_Player$Coronate.getPlayerMaybe(players, pId).lastName,\n                                                  /* :: */[\n                                                    \"from avoid list.\",\n                                                    /* [] */0\n                                                  ]\n                                                ]\n                                              ]\n                                            ], \" \"),\n                                        onClick: (function (param) {\n                                            return Curry._1(configDispatch, /* DelAvoidPair */Block.__(1, [/* tuple */[\n                                                            playerId,\n                                                            pId\n                                                          ]]));\n                                          })\n                                      }, React.createElement(ReactFeather.Trash2, { })));\n                      })), singAvoidList ? null : React.createElement(\"li\", undefined, \"None\")), React.createElement(\"form\", {\n                  onSubmit: avoidAdd\n                }, React.createElement(\"label\", {\n                      htmlFor: \"avoid-select\"\n                    }, \"Select a new player to avoid.\"), selectedAvoider !== undefined ? React.createElement(React.Fragment, undefined, React.createElement(\"select\", {\n                            id: \"avoid-select\",\n                            value: Caml_option.valFromOption(selectedAvoider),\n                            onBlur: handleAvoidBlur,\n                            onChange: handleAvoidChange\n                          }, Utils$Coronate.List.toReactArray(unavoided, (function (pId) {\n                                  return React.createElement(\"option\", {\n                                              key: pId,\n                                              value: pId\n                                            }, Data_Player$Coronate.getPlayerMaybe(players, pId).firstName, \" \", Data_Player$Coronate.getPlayerMaybe(players, pId).lastName);\n                                }))), \" \", React.createElement(\"input\", {\n                            className: \"button-micro\",\n                            type: \"submit\",\n                            value: \"Add\"\n                          })) : \"No players are available to avoid.\"));\n}\n\nfunction PagePlayers(Props) {\n  var id = Props.id;\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllPlayers(/* () */0);\n  var playersDispatch = match.dispatch;\n  var players = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(players), sortName, false);\n  var sortDispatch = match$1[1];\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_Map.valuesToArray(players)]));\n          return ;\n        }), /* tuple */[\n        players,\n        sortDispatch\n      ]);\n  var match$2 = Db$Coronate.useConfig(/* () */0);\n  var configDispatch = match$2[1];\n  var tmp;\n  if (id !== undefined) {\n    var match$3 = Belt_Map.get(players, Caml_option.valFromOption(id));\n    tmp = match$3 !== undefined ? React.createElement(PagePlayers$Profile, {\n            player: match$3,\n            players: players,\n            playersDispatch: playersDispatch,\n            config: match$2[0],\n            configDispatch: configDispatch,\n            windowDispatch: windowDispatch\n          }) : React.createElement(\"div\", undefined, \"Loading...\");\n  } else {\n    tmp = React.createElement(PagePlayers$PlayerList, {\n          sorted: match$1[0],\n          sortDispatch: sortDispatch,\n          players: players,\n          playersDispatch: playersDispatch,\n          configDispatch: configDispatch,\n          windowDispatch: windowDispatch\n        });\n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: tmp\n            });\n}\n\nvar make = PagePlayers;\n\nexport {\n  NewPlayerForm ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Match$Blossom from \"re-blossom/src/Match.bs.js\";\nimport * as Belt_SortArray from \"bs-platform/lib/es6/belt_SortArray.js\";\nimport * as Caml_primitive from \"bs-platform/lib/es6/caml_primitive.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\n\nfunction halfPosition(param) {\n  return 8.0 / param;\n}\n\nfunction sameHalfPriority(param) {\n  return 0.0;\n}\n\nvar maxPriority = Utils$Coronate.List.sumF(/* :: */[\n      halfPosition(1.0),\n      /* :: */[\n        4.0,\n        /* :: */[\n          16.0 / 1.0,\n          /* :: */[\n            32.0,\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nfunction calcPairIdeal(player1, player2) {\n  if (player1.id === player2.id) {\n    return 0.0;\n  } else {\n    var metBefore = Belt_List.has(player1.opponents, player2.id, (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var mustAvoid = Belt_List.has(player1.avoidIds, player2.id, (function (prim, prim$1) {\n            return prim === prim$1;\n          }));\n    var match = player1.colors;\n    var match$1 = player2.colors;\n    var isDiffDueColor = match && match$1 ? match[0] !== match$1[0] : true;\n    var scoreDiff = Math.abs(player1.score - player2.score) + 1.0;\n    var halfDiff = Pervasives.abs(player1.halfPos - player2.halfPos | 0) + 1 | 0;\n    var isDiffHalf = player1.isUpperHalf !== player2.isUpperHalf && player1.score === player2.score;\n    return Utils$Coronate.List.sumF(/* :: */[\n                isDiffDueColor ? 4.0 : 0.0,\n                /* :: */[\n                  16.0 / scoreDiff,\n                  /* :: */[\n                    (\n                        isDiffHalf ? halfPosition : sameHalfPriority\n                      )(halfDiff),\n                    /* :: */[\n                      !metBefore && !mustAvoid ? 32.0 : 0.0,\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]);\n  }\n}\n\nfunction descendingRating(param, param$1) {\n  return Utils$Coronate.descend(Caml_primitive.caml_int_compare, (function (x) {\n                return x.rating;\n              }), param, param$1);\n}\n\nfunction splitInHalf(arr) {\n  var midpoint = arr.length / 2 | 0;\n  return /* tuple */[\n          Belt_Array.slice(arr, 0, midpoint),\n          Belt_Array.sliceToEnd(arr, midpoint)\n        ];\n}\n\nfunction setUpperHalves(data) {\n  var dataList = Belt_Map.valuesToArray(data);\n  return Belt_Map.map(data, (function (playerData) {\n                var match = splitInHalf(Belt_SortArray.stableSortBy(Belt_Array.keep(dataList, (function (param) {\n                                return param.score === playerData.score;\n                              })), descendingRating));\n                var getIndex = function (__x) {\n                  return Belt_Array.getIndexBy(__x, (function (x) {\n                                return x === playerData;\n                              }));\n                };\n                var match$1 = getIndex(match[0]);\n                var match$2 = getIndex(match[1]);\n                var match$3 = match$1 !== undefined ? /* tuple */[\n                    match$1,\n                    true\n                  ] : (\n                    match$2 !== undefined ? /* tuple */[\n                        match$2,\n                        false\n                      ] : /* tuple */[\n                        0,\n                        false\n                      ]\n                  );\n                return {\n                        id: playerData.id,\n                        avoidIds: playerData.avoidIds,\n                        colorScores: playerData.colorScores,\n                        colors: playerData.colors,\n                        halfPos: match$3[0],\n                        isUpperHalf: match$3[1],\n                        opponents: playerData.opponents,\n                        rating: playerData.rating,\n                        score: playerData.score\n                      };\n              }));\n}\n\nfunction sortByScoreThenRating(data1, data2) {\n  var x = Caml_primitive.caml_float_compare(data1.score, data2.score);\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(data1.rating, data2.rating);\n  }\n}\n\nfunction setByePlayer(byeQueue, dummyId, data) {\n  var hasNotHadBye = function (p) {\n    return !Belt_List.has(p.opponents, dummyId, (function (prim, prim$1) {\n                  return prim === prim$1;\n                }));\n  };\n  if (Belt_Map.size(data) % 2 === 0) {\n    return /* tuple */[\n            data,\n            undefined\n          ];\n  } else {\n    var dataList = Belt_List.sort(Belt_List.keep(Belt_List.fromArray(Belt_Map.valuesToArray(data)), hasNotHadBye), sortByScoreThenRating);\n    var playerIdsWithoutByes = Belt_List.map(dataList, (function (p) {\n            return p.id;\n          }));\n    var hasntHadByeFn = function (id) {\n      return Belt_List.has(playerIdsWithoutByes, id, (function (prim, prim$1) {\n                    return prim === prim$1;\n                  }));\n    };\n    var nextByeSignups = Belt_List.keep(Belt_List.fromArray(byeQueue), hasntHadByeFn);\n    var dataForNextBye;\n    if (nextByeSignups) {\n      var match = Belt_Map.get(data, nextByeSignups[0]);\n      dataForNextBye = match !== undefined ? match : Belt_List.getExn(dataList, 0);\n    } else {\n      dataForNextBye = dataList ? dataList[0] : Belt_List.getExn(Belt_List.sort(Belt_List.fromArray(Belt_Map.valuesToArray(data)), sortByScoreThenRating), 0);\n    }\n    var dataWithoutBye = Belt_Map.remove(data, dataForNextBye.id);\n    return /* tuple */[\n            dataWithoutBye,\n            dataForNextBye\n          ];\n  }\n}\n\nfunction assignColorsForPair(param) {\n  var player2 = param[1];\n  var player1 = param[0];\n  if (Utils$Coronate.List.sumF(player1.colorScores) < Utils$Coronate.List.sumF(player2.colorScores)) {\n    return /* tuple */[\n            player2.id,\n            player1.id\n          ];\n  } else {\n    return /* tuple */[\n            player1.id,\n            player2.id\n          ];\n  }\n}\n\nfunction netScore(param) {\n  return param[0].score + param[1].score;\n}\n\nfunction netRating(param) {\n  return param[0].rating + param[1].rating | 0;\n}\n\nfunction sortByNetScoreThenRating(pair1, pair2) {\n  var x = Caml_primitive.caml_float_compare(netScore(pair2), netScore(pair1));\n  if (x !== 0) {\n    return x;\n  } else {\n    return Caml_primitive.caml_int_compare(netRating(pair2), netRating(pair1));\n  }\n}\n\nfunction pairEq(param, param$1) {\n  var d = param$1[1];\n  var c = param$1[0];\n  var b = param[1];\n  var a = param[0];\n  if (a === c && b === d) {\n    return true;\n  } else if (b === c) {\n    return a === d;\n  } else {\n    return false;\n  }\n}\n\nfunction pairPlayers(pairData) {\n  return Belt_List.map(Belt_List.sort(Belt_List.keepMap(Match$Blossom.reduce(Match$Blossom.$$String.make(undefined, Belt_Map.reduce(pairData, /* [] */0, (function (acc, p1Id, p1) {\n                                    return Belt_Map.reduce(pairData, acc, (function (acc2, p2Id, p2) {\n                                                  return /* :: */[\n                                                          /* tuple */[\n                                                            p1Id,\n                                                            p2Id,\n                                                            calcPairIdeal(p1, p2)\n                                                          ],\n                                                          acc2\n                                                        ];\n                                                }));\n                                  }))), /* [] */0, (function (acc, p1, p2) {\n                            if (Belt_List.has(acc, /* tuple */[\n                                    p1,\n                                    p2\n                                  ], pairEq)) {\n                              return acc;\n                            } else {\n                              return /* :: */[\n                                      /* tuple */[\n                                        p1,\n                                        p2\n                                      ],\n                                      acc\n                                    ];\n                            }\n                          })), (function (param) {\n                        var match = Belt_Map.get(pairData, param[0]);\n                        var match$1 = Belt_Map.get(pairData, param[1]);\n                        if (match !== undefined && match$1 !== undefined) {\n                          return /* tuple */[\n                                  match,\n                                  match$1\n                                ];\n                        }\n                        \n                      })), sortByNetScoreThenRating), assignColorsForPair);\n}\n\nexport {\n  maxPriority ,\n  calcPairIdeal ,\n  setUpperHalves ,\n  setByePlayer ,\n  pairPlayers ,\n  \n}\n/* maxPriority Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"./Data_Id.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Match$Coronate from \"./Data_Match.bs.js\";\nimport * as Data_Config$Coronate from \"./Data_Config.bs.js\";\nimport * as Data_Player$Coronate from \"./Data_Player.bs.js\";\n\nfunction makeScoreData(existingData, playerId, origRating, newRating, result, oppId, color) {\n  var match = Belt_Map.get(existingData, playerId);\n  var oldData = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(origRating, playerId);\n  var newResultsNoByes = Data_Player$Coronate.isDummyId(oppId) ? oldData.resultsNoByes : /* :: */[\n      result,\n      oldData.resultsNoByes\n    ];\n  var oldOppResults = oldData.opponentResults;\n  var match$1 = Belt_Map.get(oldOppResults, oppId);\n  var oppResult = match$1 !== undefined ? match$1 + result : result;\n  return {\n          colorScores: /* :: */[\n            Scoring$Coronate.Color.toScore(color),\n            oldData.colorScores\n          ],\n          colors: /* :: */[\n            color,\n            oldData.colors\n          ],\n          id: oldData.id,\n          isDummy: Data_Player$Coronate.isDummyId(playerId),\n          opponentResults: Belt_Map.set(oldOppResults, oppId, oppResult),\n          ratings: /* :: */[\n            newRating,\n            oldData.ratings\n          ],\n          firstRating: oldData.firstRating,\n          results: /* :: */[\n            result,\n            oldData.results\n          ],\n          resultsNoByes: newResultsNoByes\n        };\n}\n\nfunction matches2ScoreData(matchList) {\n  return Belt_Array.reduce(matchList, Data_Id$Coronate.$$Map.make(/* () */0), (function (acc, match_) {\n                var match = match_.result;\n                if (match >= 3) {\n                  return acc;\n                } else {\n                  var whiteData = makeScoreData(acc, match_.whiteId, match_.whiteOrigRating, match_.whiteNewRating, Data_Match$Coronate.Result.toFloat(match_.result, /* White */0), match_.blackId, /* White */0);\n                  var blackData = makeScoreData(acc, match_.blackId, match_.blackOrigRating, match_.blackNewRating, Data_Match$Coronate.Result.toFloat(match_.result, /* Black */1), match_.whiteId, /* Black */1);\n                  return Belt_Map.set(Belt_Map.set(acc, match_.whiteId, whiteData), match_.blackId, blackData);\n                }\n              }));\n}\n\nfunction createPairingData(scoreData, playerData, avoidPairs) {\n  var avoidMap = Data_Config$Coronate.AvoidPairs.toMap(avoidPairs);\n  return Belt_Map.reduce(playerData, Data_Id$Coronate.$$Map.make(/* () */0), (function (acc, key, data) {\n                var match = Belt_Map.get(scoreData, key);\n                var playerStats = match !== undefined ? match : Scoring$Coronate.createBlankScoreData(undefined, key);\n                var match$1 = Belt_Map.get(avoidMap, key);\n                var newAvoidIds = match$1 !== undefined ? match$1 : /* [] */0;\n                var newData_id = data.id;\n                var newData_colorScores = playerStats.colorScores;\n                var newData_colors = playerStats.colors;\n                var newData_opponents = Belt_List.fromArray(Belt_Map.keysToArray(playerStats.opponentResults));\n                var newData_rating = data.rating;\n                var newData_score = Utils$Coronate.List.sumF(playerStats.results);\n                var newData = {\n                  id: newData_id,\n                  avoidIds: newAvoidIds,\n                  colorScores: newData_colorScores,\n                  colors: newData_colors,\n                  halfPos: 0,\n                  isUpperHalf: false,\n                  opponents: newData_opponents,\n                  rating: newData_rating,\n                  score: newData_score\n                };\n                return Belt_Map.set(acc, key, newData);\n              }));\n}\n\nexport {\n  makeScoreData ,\n  matches2ScoreData ,\n  createPairingData ,\n  \n}\n/* Utils-Coronate Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PagePlayers$Coronate from \"../PagePlayers.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction PageTourneyPlayers$Selecting(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var players = Props.players;\n  var playersDispatch = Props.playersDispatch;\n  var playerIds = tourney.playerIds;\n  var togglePlayer = function ($$event) {\n    var id = $$event.target.value;\n    if ($$event.target.checked) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: /* :: */[\n                    id,\n                    playerIds\n                  ],\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: Belt_List.keep(playerIds, (function (pId) {\n                          return pId !== id;\n                        })),\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: Belt_List.fromArray(Belt_Map.keysToArray(players)),\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select all\"), React.createElement(\"button\", {\n                      className: \"button-micro\",\n                      onClick: (function (param) {\n                          return Curry._1(setTourney, {\n                                      id: tourney.id,\n                                      name: tourney.name,\n                                      date: tourney.date,\n                                      playerIds: /* [] */0,\n                                      byeQueue: tourney.byeQueue,\n                                      tieBreaks: tourney.tieBreaks,\n                                      roundList: tourney.roundList\n                                    });\n                        })\n                    }, \"Select none\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Select players\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"First name\"), React.createElement(\"th\", undefined, \"Last name\"), React.createElement(\"th\", undefined, \"Select\"))), React.createElement(\"tbody\", undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (param) {\n                            var lastName = param.lastName;\n                            var id = param.id;\n                            var firstName = param.firstName;\n                            return React.createElement(\"tr\", {\n                                        key: id\n                                      }, React.createElement(\"td\", undefined, firstName), React.createElement(\"td\", undefined, lastName), React.createElement(\"td\", undefined, React.createElement(VisuallyHidden.default, {\n                                                children: React.createElement(\"label\", {\n                                                      htmlFor: \"select-\" + id\n                                                    }, Utils$Coronate.$$String.concat(/* :: */[\n                                                          \"Select\",\n                                                          /* :: */[\n                                                            firstName,\n                                                            /* :: */[\n                                                              lastName,\n                                                              /* [] */0\n                                                            ]\n                                                          ]\n                                                        ], \" \"))\n                                              }), React.createElement(\"input\", {\n                                                id: \"select-\" + id,\n                                                checked: Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                                        return prim === prim$1;\n                                                      })),\n                                                type: \"checkbox\",\n                                                value: id,\n                                                onChange: togglePlayer\n                                              })));\n                          })))), React.createElement(PagePlayers$Coronate.NewPlayerForm.make, {\n                  dispatch: playersDispatch,\n                  addPlayerCallback: (function (id) {\n                      return Curry._1(setTourney, {\n                                  id: tourney.id,\n                                  name: tourney.name,\n                                  date: tourney.date,\n                                  playerIds: /* :: */[\n                                    id,\n                                    playerIds\n                                  ],\n                                  byeQueue: tourney.byeQueue,\n                                  tieBreaks: tourney.tieBreaks,\n                                  roundList: tourney.roundList\n                                });\n                    })\n                }));\n}\n\nvar Selecting = {\n  make: PageTourneyPlayers$Selecting\n};\n\nfunction hasHadBye(matches, playerId) {\n  return matches.filter((function (match_) {\n                    return [\n                              match_.whiteId,\n                              match_.blackId\n                            ].includes(playerId);\n                  })).reduce((function (acc, match_) {\n                  return acc.concat([\n                              match_.whiteId,\n                              match_.blackId\n                            ]);\n                }), []).includes(Data_Player$Coronate.dummy_id);\n}\n\nfunction PageTourneyPlayers$PlayerList(Props) {\n  var players = Props.players;\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var byeQueue = Props.byeQueue;\n  return React.createElement(React.Fragment, undefined, Belt_Array.map(Belt_Map.valuesToArray(players), (function (p) {\n                    return React.createElement(\"tr\", {\n                                key: p.id,\n                                className: Cn.make(/* :: */[\n                                      Data_Player$Coronate.Type.toString(p.type_),\n                                      /* :: */[\n                                        \"player\",\n                                        /* [] */0\n                                      ]\n                                    ])\n                              }, React.createElement(\"td\", undefined, p.firstName), React.createElement(\"td\", undefined, p.lastName), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                        className: \"button-micro\",\n                                        disabled: byeQueue.includes(p.id),\n                                        onClick: (function (param) {\n                                            return Curry._1(setTourney, {\n                                                        id: tourney.id,\n                                                        name: tourney.name,\n                                                        date: tourney.date,\n                                                        playerIds: tourney.playerIds,\n                                                        byeQueue: Belt_Array.concat(byeQueue, [p.id]),\n                                                        tieBreaks: tourney.tieBreaks,\n                                                        roundList: tourney.roundList\n                                                      });\n                                          })\n                                      }, \"Bye signup\")));\n                  })));\n}\n\nfunction PageTourneyPlayers(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var byeQueue = tourney.byeQueue;\n  var playerIds = tourney.playerIds;\n  var setTourney = tournament.setTourney;\n  var activePlayers = tournament.activePlayers;\n  var match = React.useState((function () {\n          if (playerIds) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n  var setIsSelecting = match[1];\n  var matches = Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0);\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return true;\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Edit, { }), \" Edit player roster\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Current roster\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                        colSpan: 2\n                                      }, \"Name\"), React.createElement(\"th\", undefined, \"Options\"))), React.createElement(\"tbody\", {\n                                className: \"content\"\n                              }, React.createElement(PageTourneyPlayers$PlayerList, {\n                                    players: activePlayers,\n                                    tourney: tourney,\n                                    setTourney: setTourney,\n                                    byeQueue: byeQueue\n                                  }))),\n                      style: {\n                        flexShrink: \"0\"\n                      }\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: null\n                    }, React.createElement(\"h3\", undefined, \"Bye queue\"), byeQueue.length === 0 ? React.createElement(\"p\", undefined, \"No players have signed up for a bye round.\") : null, React.createElement(\"ol\", undefined, Belt_Array.map(byeQueue, (function (pId) {\n                                return React.createElement(\"li\", {\n                                            key: pId,\n                                            className: Cn.make(/* :: */[\n                                                  \"buttons-on-hover\",\n                                                  /* :: */[\n                                                    Cn.ifTrue(\"disabled\", hasHadBye(matches, pId)),\n                                                    /* [] */0\n                                                  ]\n                                                ])\n                                          }, Utils$Coronate.$$String.concat(/* :: */[\n                                                Belt_Map.getExn(activePlayers, pId).firstName,\n                                                /* :: */[\n                                                  Belt_Map.getExn(activePlayers, pId).lastName,\n                                                  /* [] */0\n                                                ]\n                                              ], \" \"), \" \", React.createElement(\"button\", {\n                                                className: \"button-micro\",\n                                                onClick: (function (param) {\n                                                    return Curry._1(setTourney, {\n                                                                id: tourney.id,\n                                                                name: tourney.name,\n                                                                date: tourney.date,\n                                                                playerIds: tourney.playerIds,\n                                                                byeQueue: byeQueue.filter((function (id) {\n                                                                        return pId !== id;\n                                                                      })),\n                                                                tieBreaks: tourney.tieBreaks,\n                                                                roundList: tourney.roundList\n                                                              });\n                                                  })\n                                              }, \"Remove\"));\n                              })))), React.createElement(Externals$Coronate.Dialog.make, {\n                      isOpen: match[0],\n                      onDismiss: (function (param) {\n                          return Curry._1(setIsSelecting, (function (param) {\n                                        return false;\n                                      }));\n                        }),\n                      ariaLabel: \"Select players\",\n                      children: null\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro button-primary\",\n                          onClick: (function (param) {\n                              return Curry._1(setIsSelecting, (function (param) {\n                                            return false;\n                                          }));\n                            })\n                        }, \"Done\"), React.createElement(PageTourneyPlayers$Selecting, {\n                          tourney: tourney,\n                          setTourney: setTourney,\n                          players: tournament.players,\n                          playersDispatch: tournament.playersDispatch\n                        }))));\n}\n\nvar make = PageTourneyPlayers;\n\nexport {\n  Selecting ,\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Pairing$Coronate from \"../Pairing.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\n\nfunction autoPair(pairData, byeValue, playerMap, byeQueue) {\n  var filteredData = Belt_Map.keep(pairData, (function (id, param) {\n          return Belt_Map.has(playerMap, id);\n        }));\n  var match = Pairing$Coronate.setByePlayer(byeQueue, Data_Player$Coronate.dummy_id, filteredData);\n  var byePlayerData = match[1];\n  var pairs = Pairing$Coronate.pairPlayers(match[0]);\n  var pairsWithBye = byePlayerData !== undefined ? Belt_List.reverse(Belt_List.add(Belt_List.reverse(pairs), /* tuple */[\n              byePlayerData.id,\n              Data_Player$Coronate.dummy_id\n            ])) : pairs;\n  return Belt_List.map(pairsWithBye, (function (param) {\n                var blackId = param[1];\n                var whiteId = param[0];\n                return Data_Match$Coronate.scoreByeMatch({\n                            id: Data_Id$Coronate.random(/* () */0),\n                            whiteId: whiteId,\n                            blackId: blackId,\n                            whiteNewRating: Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId).rating,\n                            blackNewRating: Data_Player$Coronate.getPlayerMaybe(playerMap, blackId).rating,\n                            whiteOrigRating: Data_Player$Coronate.getPlayerMaybe(playerMap, whiteId).rating,\n                            blackOrigRating: Data_Player$Coronate.getPlayerMaybe(playerMap, blackId).rating,\n                            result: /* NotSet */3\n                          }, byeValue);\n              }));\n}\n\nvar sortByName = /* GetString */Block.__(0, [(function (x) {\n        return x.player.firstName;\n      })]);\n\nvar sortByIdeal = /* GetFloat */Block.__(2, [(function (x) {\n        return x.ideal;\n      })]);\n\nfunction PairPicker$SelectList(Props) {\n  var pairData = Props.pairData;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var unmatched = Props.unmatched;\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var initialTable = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n          return {\n                  player: player,\n                  ideal: 0.0\n                };\n        }));\n  var match = Hooks$Coronate.useSortedTable(initialTable, sortByName, false);\n  var sortedDispatch = match[1];\n  var sorted = match[0];\n  var isNullSelected = p1 === undefined || p2 === undefined;\n  var isOnePlayerSelected = p1 !== p2 && isNullSelected;\n  var isPlayerSelectable = function (id) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      if (stagedPlayers[1] !== undefined) {\n        return false;\n      } else {\n        return Caml_option.valFromOption(match) !== id;\n      }\n    } else {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        return Caml_option.valFromOption(match$1) !== id;\n      } else {\n        return true;\n      }\n    }\n  };\n  React.useEffect((function (param) {\n          var calcIdealOrNot = function (player) {\n            var match = stagedPlayers[0];\n            var selectedId;\n            if (match !== undefined) {\n              selectedId = stagedPlayers[1] !== undefined ? undefined : Caml_option.some(Caml_option.valFromOption(match));\n            } else {\n              var match$1 = stagedPlayers[1];\n              selectedId = match$1 !== undefined ? Caml_option.some(Caml_option.valFromOption(match$1)) : undefined;\n            }\n            if (selectedId !== undefined) {\n              var match$2 = Belt_Map.get(pairData, Caml_option.valFromOption(selectedId));\n              if (match$2 !== undefined) {\n                if (player !== undefined) {\n                  return Pairing$Coronate.calcPairIdeal(match$2, player) / Pairing$Coronate.maxPriority;\n                } else {\n                  return 0.0;\n                }\n              } else {\n                return 0.0;\n              }\n            } else {\n              return 0.0;\n            }\n          };\n          var table = Belt_Array.map(Belt_Map.valuesToArray(unmatched), (function (player) {\n                  return {\n                          player: player,\n                          ideal: calcIdealOrNot(Belt_Map.get(pairData, player.id))\n                        };\n                }));\n          Curry._1(sortedDispatch, /* SetTable */Block.__(2, [table]));\n          return ;\n        }), /* tuple */[\n        unmatched,\n        pairData,\n        sortedDispatch,\n        stagedPlayers\n      ]);\n  if (Belt_Map.size(unmatched) === 0) {\n    return null;\n  } else {\n    return React.createElement(\"table\", {\n                className: \"content\"\n              }, React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                children: \"Controls\"\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Name\",\n                                sortColumn: sortByName,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                children: \"Ideal\",\n                                sortColumn: sortByIdeal,\n                                data: sorted,\n                                dispatch: sortedDispatch\n                              })))), React.createElement(\"tbody\", undefined, Belt_Array.map(sorted.table, (function (param) {\n                          var player = param.player;\n                          return React.createElement(\"tr\", {\n                                      key: player.id\n                                    }, React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                              className: \"button-ghost\",\n                                              disabled: !isPlayerSelectable(player.id),\n                                              onClick: (function (param) {\n                                                  var id = player.id;\n                                                  var match = stagedPlayers[0];\n                                                  if (match !== undefined) {\n                                                    if (stagedPlayers[1] !== undefined) {\n                                                      return /* () */0;\n                                                    } else {\n                                                      var p1 = Caml_option.valFromOption(match);\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            Caml_option.some(p1),\n                                                                            Caml_option.some(id)\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  } else {\n                                                    var match$1 = stagedPlayers[1];\n                                                    if (match$1 !== undefined) {\n                                                      var p2 = Caml_option.valFromOption(match$1);\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            Caml_option.some(id),\n                                                                            Caml_option.some(p2)\n                                                                          ];\n                                                                  }));\n                                                    } else {\n                                                      return Curry._1(setStagedPlayers, (function (param) {\n                                                                    return /* tuple */[\n                                                                            Caml_option.some(id),\n                                                                            undefined\n                                                                          ];\n                                                                  }));\n                                                    }\n                                                  }\n                                                })\n                                            }, React.createElement(ReactFeather.UserPlus, { }), React.createElement(VisuallyHidden.default, {\n                                                  children: Utils$Coronate.$$String.concat(/* :: */[\n                                                        \"Add\",\n                                                        /* :: */[\n                                                          player.firstName,\n                                                          /* :: */[\n                                                            player.lastName,\n                                                            /* [] */0\n                                                          ]\n                                                        ]\n                                                      ], \" \")\n                                                }))), React.createElement(\"td\", undefined, player.firstName + (\" \" + player.lastName)), React.createElement(\"td\", undefined, isOnePlayerSelected ? Numeral.default(param.ideal).format(\"%\") : \"-\"));\n                        }))));\n  }\n}\n\nfunction PairPicker$Stage(Props) {\n  var getPlayer = Props.getPlayer;\n  var pairData = Props.pairData;\n  var roundId = Props.roundId;\n  var stagedPlayers = Props.stagedPlayers;\n  var setStagedPlayers = Props.setStagedPlayers;\n  var setTourney = Props.setTourney;\n  var byeValue = Props.byeValue;\n  var tourney = Props.tourney;\n  var round = Props.round;\n  var roundList = tourney.roundList;\n  var black = stagedPlayers[1];\n  var white = stagedPlayers[0];\n  var noneAreSelected = stagedPlayers[0] !== undefined ? false : stagedPlayers[1] === undefined;\n  var twoAreSelected = stagedPlayers[0] !== undefined ? stagedPlayers[1] !== undefined : false;\n  var whiteName;\n  if (white !== undefined) {\n    var player = Caml_option.valFromOption(white);\n    whiteName = Curry._1(getPlayer, player).firstName + (\" \" + Curry._1(getPlayer, player).lastName);\n  } else {\n    whiteName = \"\";\n  }\n  var blackName;\n  if (black !== undefined) {\n    var player$1 = Caml_option.valFromOption(black);\n    blackName = Curry._1(getPlayer, player$1).firstName + (\" \" + Curry._1(getPlayer, player$1).lastName);\n  } else {\n    blackName = \"\";\n  }\n  var unstage = function (color) {\n    if (color) {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            undefined\n                          ];\n                  }));\n    } else {\n      return Curry._1(setStagedPlayers, (function (param) {\n                    return /* tuple */[\n                            undefined,\n                            param[1]\n                          ];\n                  }));\n    }\n  };\n  var match_ = function (param) {\n    var match = stagedPlayers[0];\n    if (match !== undefined) {\n      var match$1 = stagedPlayers[1];\n      if (match$1 !== undefined) {\n        var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round, [Data_Match$Coronate.manualPair(/* tuple */[\n                    Curry._1(getPlayer, Caml_option.valFromOption(match)),\n                    Curry._1(getPlayer, Caml_option.valFromOption(match$1))\n                  ], byeValue)]);\n        var match$2 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n        if (match$2 !== undefined) {\n          Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: tourney.date,\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: tourney.tieBreaks,\n                roundList: Caml_option.valFromOption(match$2)\n              });\n        }\n        return Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              undefined\n                            ];\n                    }));\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match = stagedPlayers[0];\n  var matchIdeal;\n  if (match !== undefined) {\n    var match$1 = stagedPlayers[1];\n    if (match$1 !== undefined) {\n      var match$2 = Belt_Map.get(pairData, Caml_option.valFromOption(match));\n      var match$3 = Belt_Map.get(pairData, Caml_option.valFromOption(match$1));\n      if (match$2 !== undefined && match$3 !== undefined) {\n        var ideal = Pairing$Coronate.calcPairIdeal(match$2, match$3);\n        matchIdeal = Numeral.default(ideal / Pairing$Coronate.maxPriority).format(\"%\");\n      } else {\n        matchIdeal = \"\";\n      }\n    } else {\n      matchIdeal = \"\";\n    }\n  } else {\n    matchIdeal = \"\";\n  }\n  return React.createElement(\"div\", undefined, React.createElement(\"h2\", undefined, \"Selected for matching:\"), React.createElement(\"div\", {\n                  className: \"content\"\n                }, React.createElement(\"p\", undefined, \"White: \", white !== undefined ? React.createElement(React.Fragment, undefined, whiteName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + whiteName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* White */0);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Black: \", black !== undefined ? React.createElement(React.Fragment, undefined, blackName + \" \", React.createElement(\"button\", {\n                                \"aria-label\": \"remove \" + blackName,\n                                className: \"button-micro\",\n                                onClick: (function (param) {\n                                    return unstage(/* Black */1);\n                                  })\n                              }, React.createElement(ReactFeather.UserMinus, { }), \" Remove\")) : null), React.createElement(\"p\", undefined, \"Match ideal: \" + matchIdeal)), React.createElement(\"div\", {\n                  className: \"toolbar\"\n                }, React.createElement(\"button\", {\n                      disabled: noneAreSelected,\n                      onClick: (function (param) {\n                          return Curry._1(setStagedPlayers, (function (param) {\n                                        return /* tuple */[\n                                                param[1],\n                                                param[0]\n                                              ];\n                                      }));\n                        })\n                    }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                      className: \"button-primary\",\n                      disabled: !twoAreSelected,\n                      onClick: match_\n                    }, React.createElement(ReactFeather.Check, { }), \" Match selected\")));\n}\n\nfunction PairPicker$PlayerInfo(Props) {\n  var player = Props.player;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var avoidPairs = Props.avoidPairs;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, Caml_option.some(avoidPairs), getPlayer, players, origRating, newRating, /* () */0);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"p\", undefined, \"Score: \", match.score.toString()), React.createElement(\"p\", {\n                  id: \"rating-\" + player$1.id\n                }, \"Rating: \", match.rating), React.createElement(\"p\", undefined, \"Color balance: \" + match.colorBalance), React.createElement(\"p\", undefined, \"Has had a bye round: \" + (\n                  match.hasBye ? \"Yes\" : \"No\"\n                )), React.createElement(\"p\", undefined, \"Opponent history:\"), React.createElement(\"ol\", undefined, match.opponentResults), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PairPicker(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var unmatched = Props.unmatched;\n  var unmatchedCount = Props.unmatchedCount;\n  var unmatchedWithDummy = Props.unmatchedWithDummy;\n  var match = React.useState((function () {\n          return /* tuple */[\n                  undefined,\n                  undefined\n                ];\n        }));\n  var stagedPlayers = match[0];\n  var p2 = stagedPlayers[1];\n  var p1 = stagedPlayers[0];\n  var setStagedPlayers = match[1];\n  var match$1 = Db$Coronate.useConfig(/* () */0);\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var byeQueue = tourney.byeQueue;\n  var setTourney = tournament.setTourney;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var activePlayers = tournament.activePlayers;\n  var match$2 = match$1[0];\n  var byeValue = match$2.byeValue;\n  var avoidPairs = match$2.avoidPairs;\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match$3[1];\n  var pairData = React.useMemo((function () {\n          return Pairing$Coronate.setUpperHalves(Data_Converters$Coronate.createPairingData(scoreData, activePlayers, avoidPairs));\n        }), /* tuple */[\n        activePlayers,\n        avoidPairs,\n        scoreData\n      ]);\n  React.useEffect((function (param) {\n          if (p1 !== undefined) {\n            var match = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p1));\n            if (match === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              undefined,\n                              param[1]\n                            ];\n                    }));\n            }\n            \n          }\n          if (p2 !== undefined) {\n            var match$1 = Belt_Map.get(unmatchedWithDummy, Caml_option.valFromOption(p2));\n            if (match$1 === undefined) {\n              Curry._1(setStagedPlayers, (function (param) {\n                      return /* tuple */[\n                              param[0],\n                              undefined\n                            ];\n                    }));\n            }\n            \n          }\n          return ;\n        }), /* tuple */[\n        unmatchedWithDummy,\n        p1,\n        p2,\n        setStagedPlayers\n      ]);\n  if (round !== undefined) {\n    var round$1 = Caml_option.valFromOption(round);\n    return React.createElement(\"div\", {\n                className: \"content-area\",\n                style: {\n                  width: \"720px\"\n                }\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-primary\",\n                        disabled: unmatchedCount === 0,\n                        onClick: (function (param) {\n                            var round$2 = round$1;\n                            var newRound = Curry._2(Data_Rounds$Coronate.Round.addMatches, round$2, Belt_List.toArray(autoPair(pairData, byeValue, unmatched, byeQueue)));\n                            var match = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                            if (match !== undefined) {\n                              return Curry._1(setTourney, {\n                                          id: tourney.id,\n                                          name: tourney.name,\n                                          date: tourney.date,\n                                          playerIds: tourney.playerIds,\n                                          byeQueue: tourney.byeQueue,\n                                          tieBreaks: tourney.tieBreaks,\n                                          roundList: Caml_option.valFromOption(match)\n                                        });\n                            } else {\n                              return /* () */0;\n                            }\n                          })\n                      }, \"Auto-pair unmatched players\"), \" \", React.createElement(\"button\", {\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return true;\n                                        }));\n                          })\n                      }, \"Add or remove players from the roster.\")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                    children: null\n                  }, React.createElement(Utils$Coronate.Panel.make, {\n                        children: React.createElement(PairPicker$SelectList, {\n                              pairData: pairData,\n                              stagedPlayers: stagedPlayers,\n                              setStagedPlayers: setStagedPlayers,\n                              unmatched: unmatchedWithDummy\n                            })\n                      }), React.createElement(Utils$Coronate.Panel.make, {\n                        children: null,\n                        style: {\n                          flexGrow: \"1\"\n                        }\n                      }, React.createElement(PairPicker$Stage, {\n                            getPlayer: getPlayer,\n                            pairData: pairData,\n                            roundId: roundId,\n                            stagedPlayers: stagedPlayers,\n                            setStagedPlayers: setStagedPlayers,\n                            setTourney: setTourney,\n                            byeValue: byeValue,\n                            tourney: tourney,\n                            round: round$1\n                          }), React.createElement(Utils$Coronate.PanelContainer.make, {\n                            children: Belt_Array.map([\n                                  p1,\n                                  p2\n                                ], (function (id) {\n                                    if (id !== undefined) {\n                                      var playerId = Caml_option.valFromOption(id);\n                                      return React.createElement(Utils$Coronate.Panel.make, {\n                                                  children: React.createElement(PairPicker$PlayerInfo, {\n                                                        player: Curry._1(getPlayer, playerId),\n                                                        scoreData: scoreData,\n                                                        players: players,\n                                                        avoidPairs: avoidPairs,\n                                                        origRating: Curry._1(getPlayer, playerId).rating,\n                                                        newRating: undefined,\n                                                        getPlayer: getPlayer\n                                                      }),\n                                                  key: playerId\n                                                });\n                                    } else {\n                                      return null;\n                                    }\n                                  }))\n                          }))), React.createElement(Externals$Coronate.Dialog.make, {\n                    isOpen: match$3[0],\n                    onDismiss: (function (param) {\n                        return Curry._1(setIsModalOpen, (function (param) {\n                                      return false;\n                                    }));\n                      }),\n                    ariaLabel: \"Select players\",\n                    children: null\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        onClick: (function (param) {\n                            return Curry._1(setIsModalOpen, (function (param) {\n                                          return false;\n                                        }));\n                          })\n                      }, \"Done\"), React.createElement(PageTourneyPlayers$Coronate.Selecting.make, {\n                        tourney: tourney,\n                        setTourney: setTourney,\n                        players: players,\n                        playersDispatch: tournament.playersDispatch\n                      })));\n  } else {\n    return React.createElement(\"div\", undefined, \"No round available.\");\n  }\n}\n\nvar make = PairPicker;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as $$Promise from \"reason-promise/src/js/promise.js\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Pervasives from \"bs-platform/lib/es6/pervasives.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Db$Coronate from \"../Db.bs.js\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Map$LocalForage from \"@johnridesabike/bs-localforage/src/Map.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as Data_Id$Coronate from \"../Data/Data_Id.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nfunction log2(num) {\n  return Math.log(num) / Math.log(2.0);\n}\n\nfunction calcNumOfRounds(playerCount) {\n  var roundCount = Math.ceil(log2(playerCount));\n  if (roundCount !== Pervasives.neg_infinity) {\n    return roundCount | 0;\n  } else {\n    return 0;\n  }\n}\n\nvar emptyTourney_id = Data_Id$Coronate.random(/* () */0);\n\nvar emptyTourney_date = new Date(0.0);\n\nvar emptyTourney_byeQueue = [];\n\nvar emptyTourney_tieBreaks = [/* Median */0];\n\nvar emptyTourney = {\n  id: emptyTourney_id,\n  name: \"\",\n  date: emptyTourney_date,\n  playerIds: /* [] */0,\n  byeQueue: emptyTourney_byeQueue,\n  tieBreaks: emptyTourney_tieBreaks,\n  roundList: Data_Rounds$Coronate.empty\n};\n\nfunction tournamentReducer(param, action) {\n  return action;\n}\n\nfunction LoadTournament(Props) {\n  var children = Props.children;\n  var tourneyId = Props.tourneyId;\n  var windowDispatch = Props.windowDispatch;\n  var match = React.useReducer(tournamentReducer, emptyTourney);\n  var tourney = match[0];\n  var roundList = tourney.roundList;\n  var playerIds = tourney.playerIds;\n  var name = tourney.name;\n  var setTourney = match[1];\n  var match$1 = Db$Coronate.useAllPlayers(/* () */0);\n  var arePlayersLoaded = match$1.loaded;\n  var players = match$1.items;\n  var match$2 = React.useState((function () {\n          return /* NotLoaded */0;\n        }));\n  var setTourneyLoaded = match$2[1];\n  var tourneyLoaded = match$2[0];\n  Hooks$Coronate.useLoadingCursorUntil(tourneyLoaded !== 0 && arePlayersLoaded);\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [name]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), /* tuple */[\n        name,\n        windowDispatch\n      ]);\n  React.useEffect((function () {\n          var didCancel = {\n            contents: false\n          };\n          $$Promise.getError($$Promise.tapOk($$Promise.Js.toResult($$Promise.Js.fromBsPromise(Map$LocalForage.getItem(Db$Coronate.tournaments, tourneyId))), (function (value) {\n                      if (didCancel.contents) {\n                        return /* () */0;\n                      } else if (value !== undefined) {\n                        Curry._1(setTourney, value);\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Loaded */1;\n                                    }));\n                      } else {\n                        return Curry._1(setTourneyLoaded, (function (param) {\n                                      return /* Error */2;\n                                    }));\n                      }\n                    })), (function (param) {\n                  if (didCancel.contents) {\n                    return 0;\n                  } else {\n                    return Curry._1(setTourneyLoaded, (function (param) {\n                                  return /* Error */2;\n                                }));\n                  }\n                }));\n          return (function (param) {\n                    didCancel.contents = true;\n                    return /* () */0;\n                  });\n        }), [tourneyId]);\n  React.useEffect((function (param) {\n          if (tourneyLoaded === 1) {\n            Map$LocalForage.setItem(Db$Coronate.tournaments, tourneyId, tourney);\n          }\n          return ;\n        }), /* tuple */[\n        tourneyLoaded,\n        tourneyId,\n        tourney\n      ]);\n  switch (tourneyLoaded) {\n    case /* NotLoaded */0 :\n        break;\n    case /* Loaded */1 :\n        if (arePlayersLoaded) {\n          var activePlayers = Belt_Map.keep(players, (function (id, param) {\n                  return Belt_List.has(playerIds, id, (function (prim, prim$1) {\n                                return prim === prim$1;\n                              }));\n                }));\n          var roundCount = calcNumOfRounds(Belt_Map.size(activePlayers));\n          var isItOver = Data_Rounds$Coronate.size(roundList) >= roundCount;\n          var isNewRoundReady = Data_Rounds$Coronate.size(roundList) === 0 ? true : Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, Data_Rounds$Coronate.size(roundList) - 1 | 0);\n          return Curry._1(children, {\n                      activePlayers: activePlayers,\n                      getPlayer: (function (param) {\n                          return Data_Player$Coronate.getPlayerMaybe(players, param);\n                        }),\n                      isItOver: isItOver,\n                      isNewRoundReady: isNewRoundReady,\n                      players: players,\n                      playersDispatch: match$1.dispatch,\n                      roundCount: roundCount,\n                      tourney: tourney,\n                      setTourney: setTourney\n                    });\n        }\n        break;\n    case /* Error */2 :\n        debugger;\n        return React.createElement(Window$Coronate.Body.make, {\n                    children: \"Error: tournament couldn't be loaded.\"\n                  });\n    \n  }\n  return React.createElement(Window$Coronate.Body.make, {\n              children: \"Loading...\"\n            });\n}\n\nfunction useRoundData(roundId, tournament) {\n  var roundList = tournament.tourney.roundList;\n  var activePlayers = tournament.activePlayers;\n  var scoreData = React.useMemo((function () {\n          return Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(roundList, undefined, /* () */0));\n        }), [roundList]);\n  var round = Data_Rounds$Coronate.get(roundList, roundId);\n  var isThisTheLastRound = roundId === Data_Rounds$Coronate.getLastKey(roundList);\n  var unmatched;\n  if (round !== undefined && isThisTheLastRound) {\n    var matched = Data_Rounds$Coronate.Round.getMatched(Caml_option.valFromOption(round));\n    unmatched = Belt_Map.removeMany(activePlayers, matched);\n  } else {\n    unmatched = Data_Id$Coronate.$$Map.make(/* () */0);\n  }\n  var unmatchedCount = Belt_Map.size(unmatched);\n  var unmatchedWithDummy = unmatchedCount % 2 !== 0 ? Belt_Map.set(unmatched, Data_Player$Coronate.dummy_id, Curry._1(tournament.getPlayer, Data_Player$Coronate.dummy_id)) : unmatched;\n  var activePlayersCount = Belt_Map.size(activePlayers);\n  return {\n          activePlayersCount: activePlayersCount,\n          scoreData: scoreData,\n          unmatched: unmatched,\n          unmatchedCount: unmatchedCount,\n          unmatchedWithDummy: unmatchedWithDummy\n        };\n}\n\nvar make = LoadTournament;\n\nexport {\n  make ,\n  useRoundData ,\n  \n}\n/* emptyTourney Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"../Hooks.bs.js\";\nimport * as Pages$Coronate from \"../Pages.bs.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Externals$Coronate from \"../Externals.bs.js\";\nimport * as Data_Match$Coronate from \"../Data/Data_Match.bs.js\";\nimport * as PairPicker$Coronate from \"./PairPicker.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\n\nvar winnerSelect = Curry._1(Css.style, /* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.fontSize(/* `em */[\n              22632,\n              1.0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar table = Curry._1(Css.style, /* :: */[\n      Css.width(/* `percent */[\n            -119887163,\n            100.0\n          ]),\n      /* :: */[\n        Css.selector(\" tr:not(:last-of-type)\", /* :: */[\n              Css.borderBottomStyle(/* solid */12956715),\n              /* :: */[\n                Css.borderWidth(/* `px */[\n                      25096,\n                      1\n                    ]),\n                /* :: */[\n                  Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n                  /* [] */0\n                ]\n              ]\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar td = Curry._1(Css.style, /* :: */[\n      Css.padding2(/* `px */[\n            25096,\n            8\n          ], /* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nvar rowId = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            20\n          ]),\n      /* :: */[\n        Css.padding(/* `px */[\n              25096,\n              4\n            ]),\n        /* :: */[\n          Css.textAlign(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar controls = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            72\n          ]),\n      /* [] */0\n    ]);\n\nvar matchResult = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            140\n          ]),\n      /* [] */0\n    ]);\n\nvar playerResult = Curry._1(Css.style, /* :: */[\n      Css.width(/* `px */[\n            25096,\n            32\n          ]),\n      /* :: */[\n        Css.textAlign(/* center */98248149),\n        /* [] */0\n      ]\n    ]);\n\nfunction PageRound$PlayerMatchInfo(Props) {\n  var player = Props.player;\n  var origRating = Props.origRating;\n  var newRating = Props.newRating;\n  var getPlayer = Props.getPlayer;\n  var scoreData = Props.scoreData;\n  var players = Props.players;\n  var match = Hooks$Coronate.useScoreInfo(player, scoreData, undefined, getPlayer, players, origRating, newRating, /* () */0);\n  var player$1 = match.player;\n  var fullName = player$1.firstName + (\" \" + player$1.lastName);\n  return React.createElement(\"dl\", {\n              className: \"player-card\"\n            }, React.createElement(\"h3\", undefined, fullName), React.createElement(\"dt\", undefined, \"Score\"), React.createElement(\"dd\", undefined, match.score.toString()), React.createElement(\"dt\", undefined, \"Rating\"), React.createElement(Utils$Coronate.TestId.make, {\n                  children: React.createElement(\"dd\", {\n                        \"aria-label\": \"Rating for \" + fullName\n                      }, match.rating),\n                  testId: \"rating-\" + player$1.id\n                }), React.createElement(\"dt\", undefined, \"Color balance\"), React.createElement(\"dd\", undefined, match.colorBalance), React.createElement(\"dt\", undefined, \"Has had a bye round\"), React.createElement(\"dd\", undefined, match.hasBye ? \"Yes\" : \"No\"), React.createElement(\"dt\", undefined, \"Opponent history\"), React.createElement(\"dd\", undefined, React.createElement(\"ol\", undefined, match.opponentResults)), React.createElement(\"p\", undefined, \"Players to avoid:\"), match.avoidListHtml);\n}\n\nfunction PageRound$MatchRow(Props) {\n  var isCompactOpt = Props.isCompact;\n  var pos = Props.pos;\n  var m = Props.m;\n  var roundId = Props.roundId;\n  var selectedMatchOpt = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var scoreData = Props.scoreData;\n  var tournament = Props.tournament;\n  var classNameOpt = Props.className;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var selectedMatch = selectedMatchOpt !== undefined ? Caml_option.valFromOption(selectedMatchOpt) : undefined;\n  var className = classNameOpt !== undefined ? classNameOpt : \"\";\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var getPlayer = tournament.getPlayer;\n  var match = React.useState((function () {\n          return false;\n        }));\n  var setIsModalOpen = match[1];\n  var whitePlayer = Curry._1(getPlayer, m.whiteId);\n  var blackPlayer = Curry._1(getPlayer, m.blackId);\n  var isDummyRound = m.whiteId === Data_Player$Coronate.dummy_id || m.blackId === Data_Player$Coronate.dummy_id;\n  var whiteName = Utils$Coronate.$$String.concat(/* :: */[\n        whitePlayer.firstName,\n        /* :: */[\n          whitePlayer.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  var blackName = Utils$Coronate.$$String.concat(/* :: */[\n        blackPlayer.firstName,\n        /* :: */[\n          blackPlayer.lastName,\n          /* [] */0\n        ]\n      ], \" \");\n  var resultDisplay = function (playerColor) {\n    var won = React.createElement(ReactFeather.Award, {\n          className: Curry._1(Css.style, /* :: */[\n                Css.color(Utils$Coronate.PhotonColors.yellow_70),\n                /* [] */0\n              ])\n        });\n    var lost = React.createElement(VisuallyHidden.default, {\n          children: \"Lost\"\n        });\n    var match = m.result;\n    switch (match) {\n      case /* WhiteWon */0 :\n          if (playerColor) {\n            return lost;\n          } else {\n            return won;\n          }\n      case /* BlackWon */1 :\n          if (playerColor) {\n            return won;\n          } else {\n            return lost;\n          }\n      case /* Draw */2 :\n          return React.createElement(\"span\", {\n                      \"aria-label\": \"Draw\",\n                      role: \"img\",\n                      style: {\n                        filter: \"grayscale(70%)\"\n                      }\n                    }, \"\");\n      case /* NotSet */3 :\n          return React.createElement(VisuallyHidden.default, {\n                      children: \"Not set\"\n                    });\n      \n    }\n  };\n  var setMatchResult = function (jsResultCode) {\n    var newResult = Data_Match$Coronate.Result.fromString(jsResultCode);\n    if (m.result !== newResult) {\n      var white = Belt_Map.getExn(players, m.whiteId);\n      var black = Belt_Map.getExn(players, m.blackId);\n      var match = newResult >= 3 ? /* tuple */[\n          m.whiteOrigRating,\n          m.blackOrigRating\n        ] : Scoring$Coronate.Ratings.calcNewRatings(m.whiteOrigRating, m.blackOrigRating, white.matchCount, black.matchCount, newResult);\n      var blackNewRating = match[1];\n      var whiteNewRating = match[0];\n      var white_firstName = white.firstName;\n      var white_id = white.id;\n      var white_lastName = white.lastName;\n      var white_matchCount = white.matchCount;\n      var white_type_ = white.type_;\n      var white$1 = {\n        firstName: white_firstName,\n        id: white_id,\n        lastName: white_lastName,\n        matchCount: white_matchCount,\n        rating: whiteNewRating,\n        type_: white_type_\n      };\n      var black_firstName = black.firstName;\n      var black_id = black.id;\n      var black_lastName = black.lastName;\n      var black_matchCount = black.matchCount;\n      var black_type_ = black.type_;\n      var black$1 = {\n        firstName: black_firstName,\n        id: black_id,\n        lastName: black_lastName,\n        matchCount: black_matchCount,\n        rating: blackNewRating,\n        type_: black_type_\n      };\n      var match$1 = m.result;\n      if (match$1 >= 3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                {\n                  firstName: white_firstName,\n                  id: white_id,\n                  lastName: white_lastName,\n                  matchCount: white_matchCount + 1 | 0,\n                  rating: whiteNewRating,\n                  type_: white_type_\n                }\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                {\n                  firstName: black_firstName,\n                  id: black_id,\n                  lastName: black_lastName,\n                  matchCount: black_matchCount + 1 | 0,\n                  rating: blackNewRating,\n                  type_: black_type_\n                }\n              ]));\n      } else if (newResult === /* NotSet */3) {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                {\n                  firstName: white_firstName,\n                  id: white_id,\n                  lastName: white_lastName,\n                  matchCount: white_matchCount - 1 | 0,\n                  rating: whiteNewRating,\n                  type_: white_type_\n                }\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                {\n                  firstName: black_firstName,\n                  id: black_id,\n                  lastName: black_lastName,\n                  matchCount: black_matchCount - 1 | 0,\n                  rating: blackNewRating,\n                  type_: black_type_\n                }\n              ]));\n      } else {\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                white_id,\n                white$1\n              ]));\n        Curry._1(playersDispatch, /* Set */Block.__(1, [\n                black_id,\n                black$1\n              ]));\n      }\n      var newMatch_id = m.id;\n      var newMatch_whiteId = m.whiteId;\n      var newMatch_blackId = m.blackId;\n      var newMatch_whiteOrigRating = m.whiteOrigRating;\n      var newMatch_blackOrigRating = m.blackOrigRating;\n      var newMatch = {\n        id: newMatch_id,\n        whiteId: newMatch_whiteId,\n        blackId: newMatch_blackId,\n        whiteNewRating: whiteNewRating,\n        blackNewRating: blackNewRating,\n        whiteOrigRating: newMatch_whiteOrigRating,\n        blackOrigRating: newMatch_blackOrigRating,\n        result: newResult\n      };\n      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n              return Curry._1(setTourney, {\n                          id: tourney.id,\n                          name: tourney.name,\n                          date: tourney.date,\n                          playerIds: tourney.playerIds,\n                          byeQueue: tourney.byeQueue,\n                          tieBreaks: tourney.tieBreaks,\n                          roundList: roundList\n                        });\n            }));\n      return /* () */0;\n    } else {\n      return 0;\n    }\n  };\n  var setMatchResultBlur = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var setMatchResultChange = function ($$event) {\n    return setMatchResult($$event.target.value);\n  };\n  var tmp;\n  if (isCompact || setSelectedMatch === undefined) {\n    tmp = null;\n  } else {\n    var setSelectedMatch$1 = setSelectedMatch;\n    var tmp$1;\n    if (scoreData !== undefined) {\n      var scoreData$1 = Caml_option.valFromOption(scoreData);\n      tmp$1 = React.createElement(Externals$Coronate.Dialog.make, {\n            isOpen: match[0],\n            onDismiss: (function (param) {\n                return Curry._1(setIsModalOpen, (function (param) {\n                              return false;\n                            }));\n              }),\n            ariaLabel: \"Match information\",\n            children: null\n          }, React.createElement(\"button\", {\n                className: \"button-micro button-primary\",\n                onClick: (function (param) {\n                    return Curry._1(setIsModalOpen, (function (param) {\n                                  return false;\n                                }));\n                  })\n              }, \"close\"), React.createElement(\"p\", undefined, tourney.name), React.createElement(\"p\", undefined, Utils$Coronate.$$String.concat(/* :: */[\n                    \"Round\",\n                    /* :: */[\n                      (roundId + 1 | 0).toString(),\n                      /* :: */[\n                        \"match\",\n                        /* :: */[\n                          (pos + 1 | 0).toString(),\n                          /* [] */0\n                        ]\n                      ]\n                    ]\n                  ], \" \")), React.createElement(Utils$Coronate.PanelContainer.make, {\n                children: null\n              }, React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.whiteId),\n                          origRating: m.whiteOrigRating,\n                          newRating: m.whiteNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  }), React.createElement(Utils$Coronate.Panel.make, {\n                    children: React.createElement(PageRound$PlayerMatchInfo, {\n                          player: Curry._1(getPlayer, m.blackId),\n                          origRating: m.blackOrigRating,\n                          newRating: m.blackNewRating,\n                          getPlayer: getPlayer,\n                          scoreData: scoreData$1,\n                          players: players\n                        })\n                  })));\n    } else {\n      tmp$1 = null;\n    }\n    tmp = React.createElement(\"td\", {\n          className: Cn.make(/* :: */[\n                controls,\n                /* :: */[\n                  \"data__input\",\n                  /* [] */0\n                ]\n              ])\n        }, Belt_Option.mapWithDefault(selectedMatch, true, (function (id) {\n                return id !== m.id;\n              })) ? React.createElement(\"button\", {\n                className: \"button-ghost\",\n                title: \"Edit match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return Caml_option.some(m.id);\n                                }));\n                  })\n              }, React.createElement(ReactFeather.Circle, { }), React.createElement(VisuallyHidden.default, {\n                    children: Utils$Coronate.$$String.concat(/* :: */[\n                          \"Edit match for\",\n                          /* :: */[\n                            whiteName,\n                            /* :: */[\n                              \"versus\",\n                              /* :: */[\n                                blackName,\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ], \" \")\n                  })) : React.createElement(\"button\", {\n                className: \"button-ghost button-pressed\",\n                title: \"End editing match\",\n                onClick: (function (param) {\n                    return Curry._1(setSelectedMatch$1, (function (param) {\n                                  return ;\n                                }));\n                  })\n              }, React.createElement(ReactFeather.CheckCircle, { })), React.createElement(\"button\", {\n              className: \"button-ghost\",\n              title: \"Open match information.\",\n              onClick: (function (param) {\n                  return Curry._1(setIsModalOpen, (function (param) {\n                                return true;\n                              }));\n                })\n            }, React.createElement(ReactFeather.Info, { }), React.createElement(VisuallyHidden.default, {\n                  children: Utils$Coronate.$$String.concat(/* :: */[\n                        \"View information for match:\",\n                        /* :: */[\n                          whiteName,\n                          /* :: */[\n                            \"versus\",\n                            /* :: */[\n                              blackName,\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ], \" \")\n                })), tmp$1);\n  }\n  return React.createElement(\"tr\", {\n              className: Cn.make(/* :: */[\n                    className,\n                    /* :: */[\n                      Belt_Option.mapWithDefault(selectedMatch, \"\", (function (id) {\n                              if (m.id === id) {\n                                return \"selected\";\n                              } else {\n                                return \"buttons-on-hover\";\n                              }\n                            })),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"th\", {\n                  className: Cn.make(/* :: */[\n                        rowId,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ]),\n                  scope: \"row\"\n                }, String(pos + 1 | 0)), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* White */0)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(whitePlayer.type_),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-white\")\n                }, whiteName), React.createElement(\"td\", {\n                  className: playerResult\n                }, resultDisplay(/* Black */1)), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        \"table__player row__player\",\n                        /* :: */[\n                          Data_Player$Coronate.Type.toString(blackPlayer.type_),\n                          /* [] */0\n                        ]\n                      ]),\n                  id: \"match-\" + (String(pos) + \"-black\")\n                }, blackName), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        matchResult,\n                        /* :: */[\n                          \"data__input row__controls\",\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"select\", {\n                      className: winnerSelect,\n                      disabled: isDummyRound,\n                      value: Data_Match$Coronate.Result.toString(m.result),\n                      onBlur: setMatchResultBlur,\n                      onChange: setMatchResultChange\n                    }, React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* NotSet */3)\n                        }, \"Select winner\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* WhiteWon */0)\n                        }, \"White won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* BlackWon */1)\n                        }, \"Black won\"), React.createElement(\"option\", {\n                          value: Data_Match$Coronate.Result.toString(/* Draw */2)\n                        }, \"Draw\"))), tmp);\n}\n\nfunction PageRound$RoundTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var roundId = Props.roundId;\n  var matches = Props.matches;\n  var selectedMatchOpt = Props.selectedMatch;\n  var setSelectedMatch = Props.setSelectedMatch;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var selectedMatch = selectedMatchOpt !== undefined ? Caml_option.valFromOption(selectedMatchOpt) : undefined;\n  return React.createElement(\"table\", {\n              className: table\n            }, matches.length === 0 ? null : React.createElement(React.Fragment, undefined, React.createElement(\"caption\", {\n                        className: isCompact ? \"title-30\" : \"title-40\"\n                      }, \"Round \", (roundId + 1 | 0).toString()), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", {\n                                className: rowId,\n                                scope: \"col\"\n                              }, \"#\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"White result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"White\"), React.createElement(\"th\", {\n                                scope: \"col\"\n                              }, React.createElement(VisuallyHidden.default, {\n                                    children: \"Black result\"\n                                  })), React.createElement(\"th\", {\n                                className: \"row__player\",\n                                scope: \"col\"\n                              }, \"Black\"), React.createElement(\"th\", {\n                                className: \"row__result\",\n                                scope: \"col\"\n                              }, \"Match result\"), isCompact ? null : React.createElement(\"th\", {\n                                  className: \"row__controls\",\n                                  scope: \"col\"\n                                }, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    }))))), React.createElement(\"tbody\", {\n                  className: \"content\"\n                }, Belt_Array.mapWithIndex(matches, (function (pos, m) {\n                        return React.createElement(PageRound$MatchRow, {\n                                    isCompact: isCompact,\n                                    pos: pos,\n                                    m: m,\n                                    roundId: roundId,\n                                    selectedMatch: selectedMatch,\n                                    setSelectedMatch: setSelectedMatch,\n                                    scoreData: scoreData,\n                                    tournament: tournament,\n                                    className: td,\n                                    key: m.id\n                                  });\n                      }))));\n}\n\nvar RoundTable = {\n  make: PageRound$RoundTable\n};\n\nfunction PageRound$Round(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var scoreData = Props.scoreData;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedMatch = match[1];\n  var selectedMatch = match[0];\n  var moveMatch = function (matchId, direction, round) {\n    var match = Data_Rounds$Coronate.Round.moveMatch(round, matchId, direction);\n    if (match !== undefined) {\n      var match$1 = Data_Rounds$Coronate.set(roundList, roundId, Caml_option.valFromOption(match));\n      if (match$1 !== undefined) {\n        return Curry._1(setTourney, {\n                    id: tourney.id,\n                    name: tourney.name,\n                    date: tourney.date,\n                    playerIds: tourney.playerIds,\n                    byeQueue: tourney.byeQueue,\n                    tieBreaks: tourney.tieBreaks,\n                    roundList: Caml_option.valFromOption(match$1)\n                  });\n      } else {\n        return /* () */0;\n      }\n    } else {\n      return /* () */0;\n    }\n  };\n  var match$1 = Data_Rounds$Coronate.get(tourney.roundList, roundId);\n  if (match$1 !== undefined) {\n    var matches = Caml_option.valFromOption(match$1);\n    return React.createElement(\"div\", {\n                className: \"content-area\"\n              }, React.createElement(\"div\", {\n                    className: \"toolbar\"\n                  }, React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var match_ = match;\n                                      if (match_.result !== /* NotSet */3) {\n                                        Belt_List.forEach(/* :: */[\n                                              /* tuple */[\n                                                match_.whiteId,\n                                                match_.whiteOrigRating\n                                              ],\n                                              /* :: */[\n                                                /* tuple */[\n                                                  match_.blackId,\n                                                  match_.blackOrigRating\n                                                ],\n                                                /* [] */0\n                                              ]\n                                            ], (function (param) {\n                                                var match = Belt_Map.get(players, param[0]);\n                                                if (match !== undefined) {\n                                                  var player = match;\n                                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                                player.id,\n                                                                {\n                                                                  firstName: player.firstName,\n                                                                  id: player.id,\n                                                                  lastName: player.lastName,\n                                                                  matchCount: player.matchCount - 1 | 0,\n                                                                  rating: param[1],\n                                                                  type_: player.type_\n                                                                }\n                                                              ]));\n                                                } else {\n                                                  return /* () */0;\n                                                }\n                                              }));\n                                      }\n                                      \n                                    }\n                                    var newRound = Data_Rounds$Coronate.Round.removeMatchById(round, matchId);\n                                    var match$1 = Data_Rounds$Coronate.set(roundList, roundId, newRound);\n                                    if (match$1 !== undefined) {\n                                      Curry._1(setTourney, {\n                                            id: tourney.id,\n                                            name: tourney.name,\n                                            date: tourney.date,\n                                            playerIds: tourney.playerIds,\n                                            byeQueue: tourney.byeQueue,\n                                            tieBreaks: tourney.tieBreaks,\n                                            roundList: Caml_option.valFromOption(match$1)\n                                          });\n                                    }\n                                    return Curry._1(setSelectedMatch, (function (param) {\n                                                  return ;\n                                                }));\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Trash2, { }), \" Unmatch\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    var matchId = __x;\n                                    var round = matches;\n                                    var match = Data_Rounds$Coronate.Round.getMatchById(round, matchId);\n                                    if (match !== undefined) {\n                                      var newMatch = Data_Match$Coronate.swapColors(match);\n                                      Belt_Option.map(Data_Rounds$Coronate.setMatch(roundList, roundId, newMatch), (function (roundList) {\n                                              return Curry._1(setTourney, {\n                                                          id: tourney.id,\n                                                          name: tourney.name,\n                                                          date: tourney.date,\n                                                          playerIds: tourney.playerIds,\n                                                          byeQueue: tourney.byeQueue,\n                                                          tieBreaks: tourney.tieBreaks,\n                                                          roundList: roundList\n                                                        });\n                                            }));\n                                      return /* () */0;\n                                    } else {\n                                      return /* () */0;\n                                    }\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.Repeat, { }), \" Swap colors\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, -1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), \" \", React.createElement(\"button\", {\n                        className: \"button-micro\",\n                        disabled: selectedMatch === undefined,\n                        onClick: (function (param) {\n                            Belt_Option.map(selectedMatch, (function (__x) {\n                                    return moveMatch(__x, 1, matches);\n                                  }));\n                            return /* () */0;\n                          })\n                      }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\")), Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"No players matched yet.\") : null, React.createElement(PageRound$RoundTable, {\n                    roundId: roundId,\n                    matches: matches,\n                    selectedMatch: selectedMatch,\n                    setSelectedMatch: setSelectedMatch,\n                    tournament: tournament,\n                    scoreData: scoreData\n                  }));\n  } else {\n    return React.createElement(Pages$Coronate.NotFound.make, { });\n  }\n}\n\nfunction PageRound(Props) {\n  var roundId = Props.roundId;\n  var tournament = Props.tournament;\n  var match = LoadTournament$Coronate.useRoundData(roundId, tournament);\n  var unmatchedCount = match.unmatchedCount;\n  var scoreData = match.scoreData;\n  var activePlayersCount = match.activePlayersCount;\n  var initialTab = unmatchedCount === activePlayersCount ? 1 : 0;\n  var match$1 = React.useState((function () {\n          return initialTab;\n        }));\n  var setOpenTab = match$1[1];\n  React.useEffect((function (param) {\n          if (unmatchedCount === activePlayersCount) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 1;\n                  }));\n          }\n          if (unmatchedCount === 0) {\n            Curry._1(setOpenTab, (function (param) {\n                    return 0;\n                  }));\n          }\n          return ;\n        }), /* tuple */[\n        unmatchedCount,\n        activePlayersCount,\n        setOpenTab\n      ]);\n  return React.createElement(Tabs.Tabs, {\n              index: match$1[0],\n              onChange: (function (index) {\n                  return Curry._1(setOpenTab, (function (param) {\n                                return index;\n                              }));\n                }),\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === activePlayersCount,\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Matches\"), React.createElement(Tabs.Tab, {\n                      disabled: unmatchedCount === 0,\n                      children: null\n                    }, React.createElement(ReactFeather.Users, { }), Utils$Coronate.$$String.concat(/* :: */[\n                          \" Unmatched players (\",\n                          /* :: */[\n                            unmatchedCount.toString(),\n                            /* :: */[\n                              \")\",\n                              /* [] */0\n                            ]\n                          ]\n                        ], \"\"))), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageRound$Round, {\n                            roundId: roundId,\n                            tournament: tournament,\n                            scoreData: scoreData\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(\"div\", undefined, unmatchedCount !== 0 ? React.createElement(PairPicker$Coronate.make, {\n                                  roundId: roundId,\n                                  tournament: tournament,\n                                  scoreData: scoreData,\n                                  unmatched: match.unmatched,\n                                  unmatchedCount: unmatchedCount,\n                                  unmatchedWithDummy: match.unmatchedWithDummy\n                                }) : null)\n                    })));\n}\n\nvar make = PageRound;\n\nexport {\n  RoundTable ,\n  make ,\n  \n}\n/* winnerSelect Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Option from \"bs-platform/lib/es6/belt_Option.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as Webapi__Dom__Element from \"bs-webapi/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nfunction makeDateInput(date) {\n  var year = date.getFullYear().toString();\n  var rawMonth = date.getMonth();\n  var rawDate = date.getDate();\n  var month = rawMonth < 9.0 ? \"0\" + (rawMonth + 1.0).toString() : (rawMonth + 1.0).toString();\n  var day = rawDate < 10.0 ? \"0\" + rawDate.toString() : rawDate.toString();\n  return Utils$Coronate.$$String.concat(/* :: */[\n              year,\n              /* :: */[\n                month,\n                /* :: */[\n                  day,\n                  /* [] */0\n                ]\n              ]\n            ], \"-\");\n}\n\nfunction PageTourneySetup(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var date = tourney.date;\n  var name = tourney.name;\n  var setTourney = tournament.setTourney;\n  var match = React.useState((function () {\n          return /* NotEditing */2;\n        }));\n  var setEditing = match[1];\n  var editing = match[0];\n  var nameInput = React.useRef(null);\n  var dateInput = React.useRef(null);\n  var focusRef = function (myref) {\n    Belt_Option.map(Belt_Option.flatMap(Caml_option.nullable_to_opt(myref.current), Webapi__Dom__Element.asHtmlElement), (function (prim) {\n            prim.focus();\n            return /* () */0;\n          }));\n    return /* () */0;\n  };\n  React.useEffect((function () {\n          switch (editing) {\n            case /* Name */0 :\n                focusRef(nameInput);\n                break;\n            case /* Date */1 :\n                focusRef(dateInput);\n                break;\n            case /* NotEditing */2 :\n                break;\n            \n          }\n          return ;\n        }), [editing]);\n  var changeToOne = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Full */0)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to 1.\");\n  };\n  var changeToOneHalf = function (param) {\n    Curry._1(setTourney, {\n          id: tourney.id,\n          name: tourney.name,\n          date: tourney.date,\n          playerIds: tourney.playerIds,\n          byeQueue: tourney.byeQueue,\n          tieBreaks: tourney.tieBreaks,\n          roundList: Data_Rounds$Coronate.updateByeScores(roundList, /* Half */1)\n        });\n    return Utils$Coronate.alert(\"Bye scores updated to .\");\n  };\n  var updateDate = function ($$event) {\n    var rawDate = $$event.currentTarget.value;\n    var match = Utils$Coronate.$$String.split(rawDate, \"-\");\n    var match$1;\n    if (match.length !== 3) {\n      match$1 = /* tuple */[\n        \"2000\",\n        \"01\",\n        \"01\"\n      ];\n    } else {\n      var year = match[0];\n      var month = match[1];\n      var day = match[2];\n      match$1 = /* tuple */[\n        year,\n        month,\n        day\n      ];\n    }\n    var year$1 = Number(match$1[0]);\n    var month$1 = Number(match$1[1]) - 1.0;\n    var date = Number(match$1[2]);\n    return Curry._1(setTourney, {\n                id: tourney.id,\n                name: tourney.name,\n                date: new Date(year$1, month$1, date),\n                playerIds: tourney.playerIds,\n                byeQueue: tourney.byeQueue,\n                tieBreaks: tourney.tieBreaks,\n                roundList: tourney.roundList\n              });\n  };\n  return React.createElement(\"div\", {\n              className: \"content-area\"\n            }, editing !== 0 ? React.createElement(\"h1\", {\n                    style: {\n                      textAlign: \"left\"\n                    }\n                  }, React.createElement(\"span\", {\n                        className: \"inputPlaceholder\"\n                      }, name), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Name */0;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit name\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"display-20\",\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: nameInput,\n                        className: \"display-20\",\n                        style: {\n                          textAlign: \"left\"\n                        },\n                        type: \"text\",\n                        value: name,\n                        onChange: (function ($$event) {\n                            return Curry._1(setTourney, {\n                                        id: tourney.id,\n                                        name: $$event.currentTarget.value,\n                                        date: tourney.date,\n                                        playerIds: tourney.playerIds,\n                                        byeQueue: tourney.byeQueue,\n                                        tieBreaks: tourney.tieBreaks,\n                                        roundList: tourney.roundList\n                                      });\n                          })\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), editing !== 1 ? React.createElement(\"p\", {\n                    className: \"caption-30\"\n                  }, React.createElement(Utils$Coronate.DateFormat.make, {\n                        date: date\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* Date */1;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Edit, { }), React.createElement(VisuallyHidden.default, {\n                            children: \"Edit date\"\n                          }))) : React.createElement(\"form\", {\n                    className: \"caption-30\",\n                    onSubmit: (function (param) {\n                        return Curry._1(setEditing, (function (param) {\n                                      return /* NotEditing */2;\n                                    }));\n                      })\n                  }, React.createElement(\"input\", {\n                        ref: dateInput,\n                        className: \"caption-30\",\n                        type: \"date\",\n                        value: makeDateInput(date),\n                        onChange: updateDate\n                      }), \" \", React.createElement(\"button\", {\n                        className: \"button-ghost\",\n                        onClick: (function (param) {\n                            return Curry._1(setEditing, (function (param) {\n                                          return /* NotEditing */2;\n                                        }));\n                          })\n                      }, React.createElement(ReactFeather.Check, { }))), React.createElement(\"h2\", undefined, \"Change bye scores\"), React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOne\n                }, \"Change byes to 1\"), \" \", React.createElement(\"button\", {\n                  \"aria-describedby\": \"score-desc\",\n                  onClick: changeToOneHalf\n                }, \"Change byes to \"), React.createElement(\"p\", {\n                  className: \"caption-30\",\n                  id: \"score-desc\"\n                }, \"This will update all bye matches which have been previously\\n          scored in this tournament. To change the default bye value in\\n          future matches, go to the \", React.createElement(Router$Coronate.HashLink.make, {\n                      children: \"app options\",\n                      to_: /* Options */4\n                    }), \".\"));\n}\n\nvar make = PageTourneySetup;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Css from \"bs-css-emotion/src/Css.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Numeral from \"numeral\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tabs from \"@reach/tabs\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Scoring$Coronate from \"../Scoring.bs.js\";\nimport * as Data_Player$Coronate from \"../Data/Data_Player.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\nimport * as Data_Converters$Coronate from \"../Data/Data_Converters.bs.js\";\n\nvar table = Curry._1(Css.style, /* :: */[\n      Css.borderCollapse(/* collapse */-996847251),\n      /* :: */[\n        Css.unsafe(\"width\", \"min-content\"),\n        /* [] */0\n      ]\n    ]);\n\nvar topHeader = Curry._1(Css.style, /* :: */[\n      Css.verticalAlign(/* bottom */-445061397),\n      /* [] */0\n    ]);\n\nvar compact = Curry._1(Css.style, /* [] */0);\n\nvar row = Curry._1(Css.style, /* :: */[\n      Css.selector(\":nth-of-type(even)\", /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]),\n      /* :: */[\n        Css.selector(\":nth-of-type(odd)\", /* :: */[\n              Css.backgroundColor(Utils$Coronate.PhotonColors.grey_20),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nvar rowTd = Curry._1(Css.style, /* :: */[\n      Css.borderWidth(/* `px */[\n            25096,\n            1\n          ]),\n      /* :: */[\n        Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n        /* :: */[\n          Css.borderStyle(/* solid */12956715),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar rowTh = Curry._1(Css.style, /* :: */[\n      Css.borderBottomStyle(/* solid */12956715),\n      /* :: */[\n        Css.borderWidth(/* `px */[\n              25096,\n              1\n            ]),\n        /* :: */[\n          Css.borderColor(Utils$Coronate.PhotonColors.grey_40),\n          /* :: */[\n            Css.backgroundColor(Utils$Coronate.PhotonColors.white_100),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar playerName = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* left */-944764921),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar rank = Curry._1(Css.style, /* :: */[\n      Css.textAlign(/* center */98248149),\n      /* :: */[\n        Css.color(Utils$Coronate.PhotonColors.grey_90),\n        /* [] */0\n      ]\n    ]);\n\nvar number = Curry._1(Css.style, /* :: */[\n      Css.padding(/* `px */[\n            25096,\n            4\n          ]),\n      /* [] */0\n    ]);\n\nfunction PageTourneyScores$ScoreTable(Props) {\n  var isCompactOpt = Props.isCompact;\n  var tourney = Props.tourney;\n  var getPlayer = Props.getPlayer;\n  var title = Props.title;\n  var isCompact = isCompactOpt !== undefined ? isCompactOpt : false;\n  var tieBreaks = tourney.tieBreaks;\n  var tieBreakNames = Belt_Array.map(tieBreaks, Scoring$Coronate.TieBreak.toPrettyString);\n  var standingTree = Scoring$Coronate.createStandingTree(Belt_List.keep(Scoring$Coronate.createStandingList(Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0)), tieBreaks), (function (standing) {\n              return !Data_Player$Coronate.isDummyId(standing.id);\n            })));\n  return React.createElement(\"table\", {\n              className: Cn.make(/* :: */[\n                    table,\n                    /* :: */[\n                      Cn.ifTrue(compact, isCompact),\n                      /* [] */0\n                    ]\n                  ])\n            }, React.createElement(\"caption\", {\n                  className: Cn.make(/* :: */[\n                        Cn.ifTrue(\"title-30\", isCompact),\n                        /* :: */[\n                          Cn.ifTrue(\"title-40\", !isCompact),\n                          /* [] */0\n                        ]\n                      ])\n                }, title), React.createElement(\"thead\", undefined, React.createElement(\"tr\", {\n                      className: topHeader\n                    }, React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Rank\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Name\"), React.createElement(\"th\", {\n                          className: \"title-10\",\n                          scope: \"col\"\n                        }, \"Score\"), isCompact ? null : Belt_Array.mapWithIndex(tieBreakNames, (function (i, name) {\n                              return React.createElement(\"th\", {\n                                          key: String(i),\n                                          className: \"title-10\",\n                                          scope: \"col\"\n                                        }, name);\n                            })))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayReverseWithIndex(standingTree, (function (rank$1, standingsFlat) {\n                        return Utils$Coronate.List.toReactArrayReverseWithIndex(standingsFlat, (function (i, standing) {\n                                      return React.createElement(\"tr\", {\n                                                  key: standing.id,\n                                                  className: row\n                                                }, i === 0 ? React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              \"table__number\",\n                                                              /* :: */[\n                                                                number,\n                                                                /* :: */[\n                                                                  rank,\n                                                                  /* :: */[\n                                                                    rowTh,\n                                                                    /* [] */0\n                                                                  ]\n                                                                ]\n                                                              ]\n                                                            ]),\n                                                        rowSpan: Belt_List.size(standingsFlat),\n                                                        scope: \"row\"\n                                                      }, String(rank$1 + 1 | 0)) : null, isCompact ? React.createElement(\"td\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ])\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName) : React.createElement(\"th\", {\n                                                        className: Cn.make(/* :: */[\n                                                              rowTh,\n                                                              /* :: */[\n                                                                playerName,\n                                                                /* [] */0\n                                                              ]\n                                                            ]),\n                                                        scope: \"row\"\n                                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), React.createElement(\"td\", {\n                                                      className: Cn.make(/* :: */[\n                                                            number,\n                                                            /* :: */[\n                                                              rowTd,\n                                                              /* :: */[\n                                                                \"table__number\",\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ])\n                                                    }, Numeral.default(standing.score).format(\"1/2\")), isCompact ? null : Utils$Coronate.List.toReactArray(standing.tieBreaks, (function (param) {\n                                                          return React.createElement(\"td\", {\n                                                                      key: Scoring$Coronate.TieBreak.toString(param[0]),\n                                                                      className: Cn.make(/* :: */[\n                                                                            rowTd,\n                                                                            /* :: */[\n                                                                              \"table__number\",\n                                                                              /* [] */0\n                                                                            ]\n                                                                          ])\n                                                                    }, Numeral.default(param[1]).format(\"1/2\"));\n                                                        })));\n                                    }));\n                      }))));\n}\n\nvar ScoreTable = {\n  make: PageTourneyScores$ScoreTable\n};\n\nfunction PageTourneyScores$SelectTieBreaks(Props) {\n  var tourney = Props.tourney;\n  var setTourney = Props.setTourney;\n  var tieBreaks = tourney.tieBreaks;\n  var match = React.useState((function () {\n          return ;\n        }));\n  var setSelectedTb = match[1];\n  var selectedTb = match[0];\n  var defaultId = function (x) {\n    if (x !== undefined) {\n      return x;\n    } else if (selectedTb !== undefined) {\n      return selectedTb;\n    } else {\n      return /* Median */0;\n    }\n  };\n  var toggleTb = function (id) {\n    if (tieBreaks.includes(defaultId(id))) {\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks.filter((function (tbId) {\n                    return defaultId(id) !== tbId;\n                  })),\n            roundList: tourney.roundList\n          });\n      return Curry._1(setSelectedTb, (function (param) {\n                    return ;\n                  }));\n    } else {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks.concat([defaultId(id)]),\n                  roundList: tourney.roundList\n                });\n    }\n  };\n  var moveTb = function (direction) {\n    if (selectedTb !== undefined) {\n      var index = tieBreaks.indexOf(selectedTb);\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: Utils$Coronate.$$Array.swap(tourney.tieBreaks, index, index + direction | 0),\n                  roundList: tourney.roundList\n                });\n    } else {\n      return /* () */0;\n    }\n  };\n  return React.createElement(Utils$Coronate.PanelContainer.make, {\n              children: null,\n              className: \"content-area\"\n            }, React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return toggleTb(undefined);\n                            })\n                        }, \"Toggle\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(-1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowUp, { }), \" Move up\"), React.createElement(\"button\", {\n                          className: \"button-micro\",\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return moveTb(1);\n                            })\n                        }, React.createElement(ReactFeather.ArrowDown, { }), \" Move down\"), React.createElement(\"button\", {\n                          className: Cn.make(/* :: */[\n                                \"button-micro\",\n                                /* :: */[\n                                  Cn.ifSome(\"button-primary\", selectedTb),\n                                  /* [] */0\n                                ]\n                              ]),\n                          disabled: selectedTb === undefined,\n                          onClick: (function (param) {\n                              return Curry._1(setSelectedTb, (function (param) {\n                                            return ;\n                                          }));\n                            })\n                        }, \"Done\")), React.createElement(\"table\", undefined, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Selected tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map(tieBreaks, (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Scoring$Coronate.TieBreak.toString(tieBreak),\n                                            className: Cn.make(/* :: */[\n                                                  Cn.ifTrue(\"selected\", selectedTb === tieBreak),\n                                                  /* [] */0\n                                                ])\n                                          }, React.createElement(\"td\", undefined, Scoring$Coronate.TieBreak.toPrettyString(tieBreak)), React.createElement(\"td\", {\n                                                style: {\n                                                  width: \"48px\"\n                                                }\n                                              }, React.createElement(\"button\", {\n                                                    className: \"button-micro\",\n                                                    disabled: selectedTb !== undefined && selectedTb !== tieBreak,\n                                                    onClick: (function (param) {\n                                                        if (selectedTb !== undefined) {\n                                                          if (selectedTb === tieBreak) {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return ;\n                                                                        }));\n                                                          } else {\n                                                            return Curry._1(setSelectedTb, (function (param) {\n                                                                          return tieBreak;\n                                                                        }));\n                                                          }\n                                                        } else {\n                                                          return Curry._1(setSelectedTb, (function (param) {\n                                                                        return tieBreak;\n                                                                      }));\n                                                        }\n                                                      })\n                                                  }, selectedTb !== undefined && selectedTb === tieBreak ? \"Done\" : \"Edit\")));\n                              }))))), React.createElement(Utils$Coronate.Panel.make, {\n                  children: null\n                }, React.createElement(\"div\", {\n                      className: \"toolbar\"\n                    }, Utils$Coronate.Entities.nbsp), React.createElement(\"table\", {\n                      style: {\n                        marginTop: \"16px\"\n                      }\n                    }, React.createElement(\"caption\", {\n                          className: \"title-30\"\n                        }, \"Available tiebreak methods\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"Name\"), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                      children: \"Controls\"\n                                    })))), React.createElement(\"tbody\", {\n                          className: \"content\"\n                        }, Belt_Array.map([\n                              /* Median */0,\n                              /* Solkoff */1,\n                              /* Cumulative */2,\n                              /* CumulativeOfOpposition */3,\n                              /* MostBlack */4\n                            ], (function (tieBreak) {\n                                return React.createElement(\"tr\", {\n                                            key: Scoring$Coronate.TieBreak.toString(tieBreak)\n                                          }, React.createElement(\"td\", undefined, React.createElement(\"span\", {\n                                                    className: tieBreaks.includes(tieBreak) ? \"disabled\" : \"enabled\"\n                                                  }, Scoring$Coronate.TieBreak.toPrettyString(tieBreak))), React.createElement(\"td\", undefined, tieBreaks.includes(tieBreak) ? null : React.createElement(\"button\", {\n                                                      className: \"button-micro\",\n                                                      onClick: (function (param) {\n                                                          return toggleTb(tieBreak);\n                                                        })\n                                                    }, \"Add\")));\n                              }))))));\n}\n\nfunction PageTourneyScores(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  return React.createElement(Tabs.Tabs, {\n              children: null\n            }, React.createElement(Tabs.TabList, {\n                  children: null\n                }, React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.List, { }), \" Scores\"), React.createElement(Tabs.Tab, {\n                      children: null\n                    }, React.createElement(ReactFeather.Settings, { }), \" Edit tiebreak rules\")), React.createElement(Tabs.TabPanels, {\n                  children: null\n                }, React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$ScoreTable, {\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Score detail\"\n                          })\n                    }), React.createElement(Tabs.TabPanel, {\n                      children: React.createElement(PageTourneyScores$SelectTieBreaks, {\n                            tourney: tourney,\n                            setTourney: tournament.setTourney\n                          })\n                    })));\n}\n\nfunction getXScore(scoreData, player1Id, player2Id) {\n  if (player1Id === player2Id) {\n    return React.createElement(ReactFeather.X, {\n                className: \"disabled\"\n              });\n  } else {\n    var match = Belt_Map.get(scoreData, player1Id);\n    if (match !== undefined) {\n      var match$1 = Belt_Map.get(match.opponentResults, player2Id);\n      if (match$1 !== undefined) {\n        return Numeral.default(match$1).format(\"1/2\");\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n}\n\nfunction getRatingChangeTds(scoreData, playerId) {\n  var firstRating = Belt_Map.getExn(scoreData, playerId).firstRating;\n  var match = Belt_Map.getExn(scoreData, playerId).ratings;\n  var lastRating = match ? match[0] : firstRating;\n  var change = Numeral.default(lastRating - firstRating | 0).format(\"+0\");\n  return React.createElement(React.Fragment, undefined, React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number\",\n                          /* [] */0\n                        ]\n                      ])\n                }, lastRating.toString()), React.createElement(\"td\", {\n                  className: Cn.make(/* :: */[\n                        rowTd,\n                        /* :: */[\n                          \"table__number body-10\",\n                          /* [] */0\n                        ]\n                      ])\n                }, change));\n}\n\nfunction PageTourneyScores$Crosstable(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var getPlayer = tournament.getPlayer;\n  var scoreData = Data_Converters$Coronate.matches2ScoreData(Data_Rounds$Coronate.rounds2Matches(tourney.roundList, undefined, /* () */0));\n  var standings = Scoring$Coronate.createStandingList(scoreData, tourney.tieBreaks);\n  return React.createElement(\"table\", {\n              className: table\n            }, React.createElement(\"caption\", undefined, \"Crosstable\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, \"#\"), React.createElement(\"th\", undefined, \"Name\"), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (rank, param) {\n                            return React.createElement(\"th\", {\n                                        key: String(rank)\n                                      }, String(rank + 1 | 0));\n                          })), React.createElement(\"th\", undefined, \"Score\"), React.createElement(\"th\", {\n                          colSpan: 2\n                        }, \"Rating\"))), React.createElement(\"tbody\", undefined, Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index, standing) {\n                        return React.createElement(\"tr\", {\n                                    key: String(index),\n                                    className: row\n                                  }, React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                rank,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"col\"\n                                      }, String(index + 1 | 0)), React.createElement(\"th\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTh,\n                                              /* :: */[\n                                                playerName,\n                                                /* [] */0\n                                              ]\n                                            ]),\n                                        scope: \"row\"\n                                      }, Curry._1(getPlayer, standing.id).firstName, Utils$Coronate.Entities.nbsp, Curry._1(getPlayer, standing.id).lastName), Utils$Coronate.List.toReactArrayWithIndex(standings, (function (index2, opponent) {\n                                          return React.createElement(\"td\", {\n                                                      key: String(index2),\n                                                      className: Cn.make(/* :: */[\n                                                            rowTd,\n                                                            /* :: */[\n                                                              \"table__number\",\n                                                              /* [] */0\n                                                            ]\n                                                          ])\n                                                    }, getXScore(scoreData, standing.id, opponent.id));\n                                        })), React.createElement(\"td\", {\n                                        className: Cn.make(/* :: */[\n                                              rowTd,\n                                              /* :: */[\n                                                \"table__number\",\n                                                /* [] */0\n                                              ]\n                                            ])\n                                      }, Numeral.default(standing.score).format(\"1/2\")), getRatingChangeTds(scoreData, standing.id));\n                      }))));\n}\n\nvar make = PageTourneyScores;\n\nvar Crosstable = {\n  make: PageTourneyScores$Crosstable\n};\n\nexport {\n  make ,\n  ScoreTable ,\n  Crosstable ,\n  \n}\n/* table Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\n\nfunction PageTournamentStatus(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var lastRoundId = Data_Rounds$Coronate.getLastKey(tourney.roundList);\n  var lastRound = Data_Rounds$Coronate.get(tourney.roundList, lastRoundId);\n  var tmp;\n  if (lastRound !== undefined) {\n    var matches = Caml_option.valFromOption(lastRound);\n    tmp = Data_Rounds$Coronate.Round.size(matches) === 0 ? React.createElement(\"p\", undefined, \"Matched players in the current round will be shown here.\") : React.createElement(PageRound$Coronate.RoundTable.make, {\n            isCompact: true,\n            roundId: lastRoundId,\n            matches: matches,\n            tournament: tournament\n          });\n  } else {\n    tmp = React.createElement(\"p\", undefined, \"No rounds played yet.\");\n  }\n  return React.createElement(React.Fragment, undefined, React.createElement(\"h2\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, \"Tournament status\"), React.createElement(Utils$Coronate.PanelContainer.make, {\n                  children: null,\n                  style: {\n                    justifyContent: \"center\"\n                  }\n                }, React.createElement(Utils$Coronate.Panel.make, {\n                      children: tmp\n                    }), React.createElement(Utils$Coronate.Panel.make, {\n                      children: React.createElement(PageTourneyScores$Coronate.ScoreTable.make, {\n                            isCompact: true,\n                            tourney: tourney,\n                            getPlayer: tournament.getPlayer,\n                            title: \"Rankings\"\n                          })\n                    })));\n}\n\nvar make = PageTournamentStatus;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Cn from \"re-classnames/src/Cn.bs.js\";\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_option from \"bs-platform/lib/es6/caml_option.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Utils$Coronate from \"../Utils.bs.js\";\nimport * as Router$Coronate from \"../Router.bs.js\";\nimport * as Window$Coronate from \"../Window.bs.js\";\nimport * as ReasonReactRouter from \"reason-react/src/ReasonReactRouter.js\";\nimport * as PageRound$Coronate from \"./PageRound.bs.js\";\nimport * as Data_Rounds$Coronate from \"../Data/Data_Rounds.bs.js\";\nimport * as LoadTournament$Coronate from \"./LoadTournament.bs.js\";\nimport * as PageTourneySetup$Coronate from \"./PageTourneySetup.bs.js\";\nimport * as PageTourneyScores$Coronate from \"./PageTourneyScores.bs.js\";\nimport * as PageTourneyPlayers$Coronate from \"./PageTourneyPlayers.bs.js\";\nimport * as PageTournamentStatus$Coronate from \"./PageTournamentStatus.bs.js\";\n\nfunction PageTourney$Footer(Props) {\n  var tournament = Props.tournament;\n  var match = tournament.isNewRoundReady ? (\n      tournament.isItOver ? /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" All rounds have completed.\",\n          /* Warning */1\n        ] : /* tuple */[\n          Utils$Coronate.Entities.nbsp + \" Ready to begin a new round.\",\n          /* Success */0\n        ]\n    ) : /* tuple */[\n      Utils$Coronate.Entities.nbsp + \"Round in progress.\",\n      /* Generic */3\n    ];\n  var tooltipText = match[0];\n  return React.createElement(React.Fragment, undefined, React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Rounds: \", Data_Rounds$Coronate.size(tournament.tourney.roundList).toString(), React.createElement(\"small\", undefined, \" out of \"), tournament.roundCount.toString()), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(Utils$Coronate.$$Notification.make, {\n                  children: tooltipText,\n                  kind: match[1],\n                  tooltip: tooltipText,\n                  className: \"win__footer-block\",\n                  style: {\n                    backgroundColor: \"transparent\",\n                    color: \"initial\",\n                    display: \"inline-flex\",\n                    margin: \"0\",\n                    minHeight: \"initial\"\n                  }\n                }), React.createElement(\"hr\", {\n                  className: \"win__footer-divider\"\n                }), React.createElement(\"label\", {\n                  className: \"win__footer-block\",\n                  style: {\n                    display: \"inline-block\"\n                  }\n                }, \"Registered players: \", Belt_Map.size(tournament.activePlayers).toString()));\n}\n\nfunction noDraggy(e) {\n  e.preventDefault();\n  return /* () */0;\n}\n\nfunction PageTourney$Sidebar(Props) {\n  var tournament = Props.tournament;\n  var tourney = tournament.tourney;\n  var roundList = tourney.roundList;\n  var setTourney = tournament.setTourney;\n  var playersDispatch = tournament.playersDispatch;\n  var players = tournament.players;\n  var isItOver = tournament.isItOver;\n  var activePlayers = tournament.activePlayers;\n  var newRound = function ($$event) {\n    $$event.preventDefault();\n    var confirmed = isItOver && !window.confirm(\"All rounds have completed. Are you sure you want to begin a new one?\") ? false : true;\n    if (confirmed) {\n      return Curry._1(setTourney, {\n                  id: tourney.id,\n                  name: tourney.name,\n                  date: tourney.date,\n                  playerIds: tourney.playerIds,\n                  byeQueue: tourney.byeQueue,\n                  tieBreaks: tourney.tieBreaks,\n                  roundList: Data_Rounds$Coronate.addRound(roundList)\n                });\n    } else {\n      return 0;\n    }\n  };\n  var delLastRound = function ($$event) {\n    $$event.preventDefault();\n    if (window.confirm(\"Are you sure you want to delete the last round?\")) {\n      ReasonReactRouter.push(\"#/tourneys/\" + tourney.id);\n      var lastRoundId = Data_Rounds$Coronate.getLastKey(roundList);\n      var match = Data_Rounds$Coronate.get(roundList, lastRoundId);\n      if (match !== undefined) {\n        Belt_Array.forEach(Caml_option.valFromOption(match), (function (match_) {\n                if (match_.result >= 3) {\n                  return /* () */0;\n                } else {\n                  return Belt_List.forEach(/* :: */[\n                              /* tuple */[\n                                match_.whiteId,\n                                match_.whiteOrigRating\n                              ],\n                              /* :: */[\n                                /* tuple */[\n                                  match_.blackId,\n                                  match_.blackOrigRating\n                                ],\n                                /* [] */0\n                              ]\n                            ], (function (param) {\n                                var match = Belt_Map.get(players, param[0]);\n                                if (match !== undefined) {\n                                  var player = match;\n                                  var matchCount = player.matchCount - 1 | 0;\n                                  return Curry._1(playersDispatch, /* Set */Block.__(1, [\n                                                player.id,\n                                                {\n                                                  firstName: player.firstName,\n                                                  id: player.id,\n                                                  lastName: player.lastName,\n                                                  matchCount: matchCount,\n                                                  rating: param[1],\n                                                  type_: player.type_\n                                                }\n                                              ]));\n                                } else {\n                                  return /* () */0;\n                                }\n                              }));\n                }\n              }));\n      }\n      Curry._1(setTourney, {\n            id: tourney.id,\n            name: tourney.name,\n            date: tourney.date,\n            playerIds: tourney.playerIds,\n            byeQueue: tourney.byeQueue,\n            tieBreaks: tourney.tieBreaks,\n            roundList: Data_Rounds$Coronate.delLastRound(roundList)\n          });\n      if (Data_Rounds$Coronate.size(roundList) === 0) {\n        return Curry._1(setTourney, {\n                    id: tourney.id,\n                    name: tourney.name,\n                    date: tourney.date,\n                    playerIds: tourney.playerIds,\n                    byeQueue: tourney.byeQueue,\n                    tieBreaks: tourney.tieBreaks,\n                    roundList: Data_Rounds$Coronate.addRound(roundList)\n                  });\n      } else {\n        return 0;\n      }\n    } else {\n      return 0;\n    }\n  };\n  return React.createElement(\"div\", undefined, React.createElement(\"nav\", undefined, React.createElement(\"ul\", {\n                      style: {\n                        marginTop: \"0\"\n                      }\n                    }, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* TournamentList */1,\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.ChevronLeft, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Back\")))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Setup */3\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Settings, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Setup\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Players */0\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Users, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Players\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Status */4\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Activity, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Status\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Crosstable */2\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.Layers, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Crosstable\"))), React.createElement(\"li\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                              children: null,\n                              to_: /* Tournament */Block.__(0, [\n                                  tourney.id,\n                                  /* Scores */1\n                                ]),\n                              onDragStart: noDraggy\n                            }, React.createElement(ReactFeather.List, { }), React.createElement(\"span\", {\n                                  className: \"sidebar__hide-on-close\"\n                                }, \" Score detail\")))), React.createElement(\"hr\", undefined), React.createElement(\"h5\", {\n                      className: \"sidebar__hide-on-close sidebar__header\"\n                    }, \"Rounds\"), React.createElement(\"ul\", {\n                      className: \"center-on-close\"\n                    }, Belt_Array.mapWithIndex(roundList, (function (id, param) {\n                            return React.createElement(\"li\", {\n                                        key: id.toString()\n                                      }, React.createElement(Router$Coronate.HashLink.make, {\n                                            children: null,\n                                            to_: /* Tournament */Block.__(0, [\n                                                tourney.id,\n                                                /* Round */[id]\n                                              ]),\n                                            onDragStart: noDraggy\n                                          }, (id + 1 | 0).toString(), Data_Rounds$Coronate.isRoundComplete(roundList, activePlayers, id) ? React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Complete \", React.createElement(ReactFeather.Check, { })) : React.createElement(\"span\", {\n                                                  className: Cn.make(/* :: */[\n                                                        \"sidebar__hide-on-close\",\n                                                        /* :: */[\n                                                          \"caption-20\",\n                                                          /* [] */0\n                                                        ]\n                                                      ])\n                                                }, \" Not complete \", React.createElement(ReactFeather.AlertTriangle, { }))));\n                          })))), React.createElement(\"hr\", undefined), React.createElement(\"ul\", undefined, React.createElement(\"li\", undefined, React.createElement(\"button\", {\n                          className: \"sidebar-button\",\n                          style: {\n                            width: \"100%\"\n                          },\n                          disabled: !tournament.isNewRoundReady,\n                          onClick: newRound\n                        }, React.createElement(ReactFeather.Plus, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" New round\"))), React.createElement(\"li\", {\n                      style: {\n                        textAlign: \"center\"\n                      }\n                    }, React.createElement(\"button\", {\n                          className: \"button-micro sidebar-button\",\n                          style: {\n                            marginTop: \"8px\"\n                          },\n                          disabled: Data_Rounds$Coronate.size(roundList) === 0,\n                          onClick: delLastRound\n                        }, React.createElement(ReactFeather.Trash2, { }), React.createElement(\"span\", {\n                              className: \"sidebar__hide-on-close\"\n                            }, \" Remove last round\")))));\n}\n\nfunction PageTourney(Props) {\n  var tourneyId = Props.tourneyId;\n  var subPage = Props.subPage;\n  var windowDispatch = Props.windowDispatch;\n  return React.createElement(LoadTournament$Coronate.make, {\n              children: (function (tournament) {\n                  var tmp;\n                  if (typeof subPage === \"number\") {\n                    switch (subPage) {\n                      case /* Players */0 :\n                          tmp = React.createElement(PageTourneyPlayers$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Scores */1 :\n                          tmp = React.createElement(PageTourneyScores$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Crosstable */2 :\n                          tmp = React.createElement(PageTourneyScores$Coronate.Crosstable.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Setup */3 :\n                          tmp = React.createElement(PageTourneySetup$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      case /* Status */4 :\n                          tmp = React.createElement(PageTournamentStatus$Coronate.make, {\n                                tournament: tournament\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = React.createElement(PageRound$Coronate.make, {\n                          roundId: subPage[0],\n                          tournament: tournament\n                        });\n                  }\n                  return React.createElement(Window$Coronate.Body.make, {\n                              children: tmp,\n                              footerFunc: (function (param) {\n                                  var tournament$1 = tournament;\n                                  return React.createElement(PageTourney$Footer, {\n                                              tournament: tournament$1\n                                            });\n                                }),\n                              sidebarFunc: (function (param) {\n                                  var tournament$1 = tournament;\n                                  return React.createElement(PageTourney$Sidebar, {\n                                              tournament: tournament$1\n                                            });\n                                })\n                            });\n                }),\n              tourneyId: tourneyId,\n              windowDispatch: windowDispatch\n            });\n}\n\nvar make = PageTourney;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as Block from \"bs-platform/lib/es6/block.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Map from \"bs-platform/lib/es6/belt_Map.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Db$Coronate from \"./Db.bs.js\";\nimport * as ReactFeather from \"react-feather\";\nimport * as Hooks$Coronate from \"./Hooks.bs.js\";\nimport * as Utils$Coronate from \"./Utils.bs.js\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as Data_Id$Coronate from \"./Data/Data_Id.bs.js\";\nimport * as Externals$Coronate from \"./Externals.bs.js\";\nimport * as Data_Rounds$Coronate from \"./Data/Data_Rounds.bs.js\";\nimport * as VisuallyHidden from \"@reach/visually-hidden\";\n\nvar dateSort = /* GetDate */Block.__(3, [(function (x) {\n        return x.date;\n      })]);\n\nvar nameSort = /* GetString */Block.__(0, [(function (x) {\n        return x.name;\n      })]);\n\nfunction PageTournamentList(Props) {\n  var windowDispatch = Props.windowDispatch;\n  var match = Db$Coronate.useAllTournaments(/* () */0);\n  var dispatch = match.dispatch;\n  var tourneys = match.items;\n  var match$1 = Hooks$Coronate.useSortedTable(Belt_Map.valuesToArray(tourneys), dateSort, true);\n  var sortDispatch = match$1[1];\n  var sorted = match$1[0];\n  var match$2 = React.useState((function () {\n          return \"\";\n        }));\n  var setNewTourneyName = match$2[1];\n  var newTourneyName = match$2[0];\n  var match$3 = React.useState((function () {\n          return false;\n        }));\n  var setIsDialogOpen = match$3[1];\n  React.useEffect((function () {\n          Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"Tournament list\"]));\n          return (function (param) {\n                    return Curry._1(windowDispatch, /* SetTitle */Block.__(5, [\"\"]));\n                  });\n        }), [windowDispatch]);\n  React.useEffect((function () {\n          Curry._1(sortDispatch, /* SetTable */Block.__(2, [Belt_Map.valuesToArray(tourneys)]));\n          return ;\n        }), /* tuple */[\n        tourneys,\n        sortDispatch\n      ]);\n  var updateNewName = function ($$event) {\n    return Curry._1(setNewTourneyName, $$event.currentTarget.value);\n  };\n  var makeTournament = function ($$event) {\n    $$event.preventDefault();\n    var id = Data_Id$Coronate.random(/* () */0);\n    Curry._1(dispatch, /* Set */Block.__(1, [\n            id,\n            {\n              id: id,\n              name: newTourneyName,\n              date: new Date(),\n              playerIds: /* [] */0,\n              byeQueue: [],\n              tieBreaks: [\n                /* Median */0,\n                /* Solkoff */1,\n                /* Cumulative */2,\n                /* CumulativeOfOpposition */3\n              ],\n              roundList: Data_Rounds$Coronate.empty\n            }\n          ]));\n    Curry._1(setNewTourneyName, (function (param) {\n            return \"\";\n          }));\n    return Curry._1(setIsDialogOpen, (function (param) {\n                  return false;\n                }));\n  };\n  return React.createElement(Window$Coronate.Body.make, {\n              children: React.createElement(\"div\", {\n                    className: \"content-area\"\n                  }, React.createElement(\"div\", {\n                        className: \"toolbar toolbar__left\"\n                      }, React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return true;\n                                            }));\n                              })\n                          }, React.createElement(ReactFeather.Plus, { }), \" Add tournament\")), Belt_Map.isEmpty(tourneys) ? React.createElement(\"p\", undefined, \"No tournaments are added yet.\") : React.createElement(\"table\", undefined, React.createElement(\"caption\", undefined, \"Tournament list\"), React.createElement(\"thead\", undefined, React.createElement(\"tr\", undefined, React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Name\",\n                                          sortColumn: nameSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(Hooks$Coronate.SortButton.make, {\n                                          children: \"Date\",\n                                          sortColumn: dateSort,\n                                          data: sorted,\n                                          dispatch: sortDispatch\n                                        })), React.createElement(\"th\", undefined, React.createElement(VisuallyHidden.default, {\n                                          children: \"Controls\"\n                                        })))), React.createElement(\"tbody\", {\n                              className: \"content\"\n                            }, Belt_Array.map(sorted.table, (function (t) {\n                                    return React.createElement(\"tr\", {\n                                                key: t.id,\n                                                className: \"buttons-on-hover\"\n                                              }, React.createElement(\"td\", undefined, React.createElement(Router$Coronate.HashLink.make, {\n                                                        children: t.name,\n                                                        to_: /* Tournament */Block.__(0, [\n                                                            t.id,\n                                                            /* Players */0\n                                                          ])\n                                                      })), React.createElement(\"td\", undefined, React.createElement(Utils$Coronate.DateFormat.make, {\n                                                        date: t.date\n                                                      })), React.createElement(\"td\", undefined, React.createElement(\"button\", {\n                                                        \"aria-label\": \"Delete \" + t.name,\n                                                        className: \"danger button-ghost\",\n                                                        title: \"Delete \" + t.name,\n                                                        onClick: (function (param) {\n                                                            var id = t.id;\n                                                            var name = t.name;\n                                                            var message = \"Are you sure you want to delete \" + (String(name) + \"?\");\n                                                            if (window.confirm(message)) {\n                                                              return Curry._1(dispatch, /* Del */Block.__(0, [id]));\n                                                            } else {\n                                                              return 0;\n                                                            }\n                                                          })\n                                                      }, React.createElement(ReactFeather.Trash2, { }))));\n                                  })))), React.createElement(Externals$Coronate.Dialog.make, {\n                        isOpen: match$3[0],\n                        onDismiss: (function (param) {\n                            return Curry._1(setIsDialogOpen, (function (param) {\n                                          return false;\n                                        }));\n                          }),\n                        ariaLabel: \"Create new tournament\",\n                        children: null\n                      }, React.createElement(\"button\", {\n                            className: \"button-micro\",\n                            onClick: (function (param) {\n                                return Curry._1(setIsDialogOpen, (function (param) {\n                                              return false;\n                                            }));\n                              })\n                          }, \"Close\"), React.createElement(\"form\", {\n                            onSubmit: makeTournament\n                          }, React.createElement(\"fieldset\", undefined, React.createElement(\"legend\", undefined, \"Make a new tournament\"), React.createElement(\"label\", {\n                                    htmlFor: \"tourney-name\"\n                                  }, \"Name:\"), React.createElement(\"input\", {\n                                    id: \"tourney-name\",\n                                    name: \"tourney-name\",\n                                    placeholder: \"tournament name\",\n                                    required: true,\n                                    type: \"text\",\n                                    value: newTourneyName,\n                                    onChange: updateNewName\n                                  }), \" \", React.createElement(\"input\", {\n                                    className: \"button-primary\",\n                                    type: \"submit\",\n                                    value: \"Create\"\n                                  })))))\n            });\n}\n\nvar make = PageTournamentList;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n\nimport * as React from \"react\";\nimport * as ReactDOMRe from \"reason-react/src/ReactDOMRe.js\";\nimport * as Pages$Coronate from \"./Pages.bs.js\";\nimport * as ServiceWorker from \"./serviceWorker\";\nimport * as Router$Coronate from \"./Router.bs.js\";\nimport * as Window$Coronate from \"./Window.bs.js\";\nimport * as PageOptions$Coronate from \"./PageOptions.bs.js\";\nimport * as PagePlayers$Coronate from \"./PagePlayers.bs.js\";\nimport * as PageTourney$Coronate from \"./PageTournament/PageTourney.bs.js\";\nimport * as PageTournamentList$Coronate from \"./PageTournamentList.bs.js\";\n\nimport \"./styles\"\n;\n\nfunction Index$App(Props) {\n  var url = Router$Coronate.useHashUrl(/* () */0);\n  return React.createElement(Window$Coronate.make, {\n              children: (function (windowDispatch) {\n                  var tmp;\n                  if (typeof url === \"number\") {\n                    switch (url) {\n                      case /* Index */0 :\n                          tmp = React.createElement(Pages$Coronate.Splash.make, { });\n                          break;\n                      case /* TournamentList */1 :\n                          tmp = React.createElement(PageTournamentList$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* PlayerList */2 :\n                          tmp = React.createElement(PagePlayers$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* TimeCalculator */3 :\n                          tmp = React.createElement(Pages$Coronate.TimeCalculator.make, { });\n                          break;\n                      case /* Options */4 :\n                          tmp = React.createElement(PageOptions$Coronate.make, {\n                                windowDispatch: windowDispatch\n                              });\n                          break;\n                      case /* NotFound */5 :\n                          tmp = React.createElement(Window$Coronate.Body.make, {\n                                children: React.createElement(Pages$Coronate.NotFound.make, { })\n                              });\n                          break;\n                      \n                    }\n                  } else {\n                    tmp = url.tag ? React.createElement(PagePlayers$Coronate.make, {\n                            id: url[0],\n                            windowDispatch: windowDispatch\n                          }) : React.createElement(PageTourney$Coronate.make, {\n                            tourneyId: url[0],\n                            subPage: url[1],\n                            windowDispatch: windowDispatch\n                          });\n                  }\n                  return React.createElement(\"main\", {\n                              className: \"app__main\"\n                            }, tmp);\n                }),\n              className: \"app\"\n            });\n}\n\nvar App = {\n  make: Index$App\n};\n\nReactDOMRe.renderToElementWithId(React.createElement(Index$App, { }), \"root\");\n\nfunction unregister(prim) {\n  ServiceWorker.unregister();\n  return /* () */0;\n}\n\nvar ServiceWorker$1 = {\n  unregister: unregister\n};\n\nServiceWorker.unregister();\n\nexport {\n  App ,\n  ServiceWorker$1 as ServiceWorker,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}